(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1235],{79688:function(Ke,St,K){/*!
 *  dc 1.0.16
 *  http://dc-js.github.io/dc.js/
 *  Copyright 2012-2021 Nick Zhu & the dc.js Developers
 *  https://github.com/dc-js/dc.js/blob/master/AUTHORS
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */(function(H,Xt){Xt(St,K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(42230),K(76929),K(42230))})(this,function(H,Xt,it,me,mt,Dt,lt,Et,te,qt,re,Ft,fe,ye,se,Yt,Jt,zt,It,Pt,j){"use strict";Pt=Pt&&Object.prototype.hasOwnProperty.call(Pt,"default")?Pt.default:Pt;const tt="1.0.16";class Tt extends Error{}const $t={CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10};class dt{constructor(){this.enableDebugLog=!1,this._alreadyWarned={}}warn(s){return console&&(console.warn?console.warn(s):console.log&&console.log(s)),this}warnOnce(s){return this._alreadyWarned[s]||(this._alreadyWarned[s]=!0,Q.warn(s)),this}debug(s){return this.enableDebugLog&&console&&(console.debug?console.debug(s):console.log&&console.log(s)),this}}const Q=new dt;class yt{constructor(){this._defaultColors=yt._schemeCategory20c,this.dateFormat=Xt.timeFormat("%m/%d/%Y"),this._renderlet=null,this.disableTransitions=!1}defaultColors(s){return arguments.length?(this._defaultColors=s,this):(this._defaultColors===yt._schemeCategory20c&&Q.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),this._defaultColors)}}yt._schemeCategory20c=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];const I=new yt,G={eventHandler:k=>function(d,b){console.warn("No d3.js compatbility event handler registered, defaulting to v6 behavior."),k.call(this,b,d)},nester:({key:k,sortKeys:s,sortValues:d,entries:b})=>{throw new Error("No d3.js compatbility nester registered, load v5 or v6 compability layer.")},pointer:()=>{throw new Error("No d3.js compatbility pointer registered, load v5 or v6 compability layer.")}};class _t{constructor(){this._chartMap={}}_initializeChartGroup(s){return s||(s=$t.DEFAULT_CHART_GROUP),this._chartMap[s]||(this._chartMap[s]=[]),s}has(s){for(const d in this._chartMap)if(this._chartMap[d].indexOf(s)>=0)return!0;return!1}register(s,d){const b=this._chartMap;d=this._initializeChartGroup(d),b[d].push(s)}deregister(s,d){d=this._initializeChartGroup(d);for(let b=0;b<this._chartMap[d].length;b++)if(this._chartMap[d][b].anchorName()===s.anchorName()){this._chartMap[d].splice(b,1);break}}clear(s){s?delete this._chartMap[s]:this._chartMap={}}list(s){return s=this._initializeChartGroup(s),this._chartMap[s]}}const Ct=new _t,B=function(k,s){Ct.register(k,s)},nt=function(k,s){Ct.deregister(k,s)},ut=function(k){return Ct.has(k)},Z=function(k){Ct.clear(k)},Rt=function(k){const s=Ct.list(k);for(let d=0;d<s.length;++d)s[d].filterAll()},ie=function(k){const s=Ct.list(k);for(let d=0;d<s.length;++d)s[d].focus&&s[d].focus()},U=function(k){const s=Ct.list(k);for(let d=0;d<s.length;++d)s[d].render();I._renderlet!==null&&I._renderlet(k)},V=function(k){const s=Ct.list(k);for(let d=0;d<s.length;++d)s[d].redraw();I._renderlet!==null&&I._renderlet(k)},M=function(k,s,d,b){if(I.disableTransitions||s<=0)return k;let T=k.transition(b);return(s>=0||s!==void 0)&&(T=T.duration(s)),(d>=0||d!==void 0)&&(T=T.delay(d)),T},E=function(k,s,d,b){return k?function(T){return M(T,s,d,b)}:function(T){return T}},$=function(k,s){if(k.empty()||!k.duration)s.call(k);else{let d=0;k.each(()=>{++d}).on("end",()=>{--d||s.call(k)})}},J=function(k){return arguments.length?(I._renderlet=k,null):I._renderlet},At=function(k){return k instanceof Object&&k.__dcFlag__&&!0},ct={current:null};ct.trigger=function(k,s){if(!s){k();return}ct.current=k,setTimeout(()=>{k===ct.current&&k()},s)};const wt={};wt.RangedFilter=function(k,s){const d=new Array(k,s);return d.isFiltered=function(b){return b>=this[0]&&b<this[1]},d.filterType="RangedFilter",d},wt.TwoDimensionalFilter=function(k){if(k===null)return null;const s=k;return s.isFiltered=function(d){return d.length&&d.length===s.length&&d[0]===s[0]&&d[1]===s[1]},s.filterType="TwoDimensionalFilter",s},wt.RangedTwoDimensionalFilter=function(k){if(k===null)return null;const s=k;let d;return s[0]instanceof Array?d=[[Math.min(k[0][0],k[1][0]),Math.min(k[0][1],k[1][1])],[Math.max(k[0][0],k[1][0]),Math.max(k[0][1],k[1][1])]]:d=[[k[0],-Infinity],[k[1],Infinity]],s.isFiltered=function(b){let T,Y;return b instanceof Array?(T=b[0],Y=b[1]):(T=b,Y=d[0][1]),T>=d[0][0]&&T<d[1][0]&&Y>=d[0][1]&&Y<d[1][1]},s.filterType="RangedTwoDimensionalFilter",s},wt.HierarchyFilter=function(k){if(k===null)return null;const s=k.slice(0);return s.isFiltered=function(d){if(!(s.length&&d&&d.length&&d.length>=s.length))return!1;for(let b=0;b<s.length;b++)if(d[b]!==s[b])return!1;return!0},s};class Gt extends Error{}const Ht=function(k,s){return s?function(d,b){return s.call(d,d[k],b)}:function(d){return d[k]}},Ot={};Ot.printSingleValue=function(k){let s=`${k}`;return k instanceof Date?s=I.dateFormat(k):typeof k=="string"?s=k:Ot.isFloat(k)?s=Ot.printSingleValue.fformat(k):Ot.isInteger(k)&&(s=Math.round(k)),s},Ot.printSingleValue.fformat=me.format(".2f"),Ot._toTimeFunc=function(k){return{second:it.timeSecond,minute:it.timeMinute,hour:it.timeHour,day:it.timeDay,week:it.timeWeek,month:it.timeMonth,year:it.timeYear}[k]},Ot.add=function(k,s,d){if(typeof s=="string"&&(s=s.replace("%","")),k instanceof Date)return typeof s=="string"&&(s=+s),d==="millis"?new Date(k.getTime()+s):(d=d||it.timeDay,typeof d!="function"&&(d=Ot._toTimeFunc(d)),d.offset(k,s));if(typeof s=="string"){const b=+s/100;return k>0?k*(1+b):k*(1-b)}else return k+s},Ot.subtract=function(k,s,d){if(typeof s=="string"&&(s=s.replace("%","")),k instanceof Date)return typeof s=="string"&&(s=+s),d==="millis"?new Date(k.getTime()-s):(d=d||it.timeDay,typeof d!="function"&&(d=Ot._toTimeFunc(d)),d.offset(k,-s));if(typeof s=="string"){const b=+s/100;return k<0?k*(1+b):k*(1-b)}else return k-s},Ot.isNumber=function(k){return k===+k},Ot.isFloat=function(k){return k===+k&&k!==(k|0)},Ot.isInteger=function(k){return k===+k&&k===(k|0)},Ot.isNegligible=function(k){return!Ot.isNumber(k)||k<$t.NEGLIGIBLE_NUMBER&&k>-$t.NEGLIGIBLE_NUMBER},Ot.clamp=function(k,s,d){return k<s?s:k>d?d:k},Ot.constant=function(k){return function(){return k}};let Qe=0;Ot.uniqueId=function(){return++Qe},Ot.nameToId=function(k){return k.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},Ot.appendOrSelect=function(k,s,d){d=d||s;let b=k.select(s);return b.empty()&&(b=k.append(d)),b},Ot.safeNumber=function(k){return Ot.isNumber(+k)?+k:0},Ot.arraysEqual=function(k,s){return!k&&!s?!0:!k||!s?!1:k.length===s.length&&k.every((d,b)=>d.valueOf()===s[b].valueOf())},Ot.allChildren=function(k){let s=[];if(s.push(k.path),console.log("currentNode",k),k.children)for(let d=0;d<k.children.length;d++)s=s.concat(Ot.allChildren(k.children[d]));return s},Ot.toHierarchy=function(k,s){const d={key:"root",children:[]};for(let b=0;b<k.length;b++){const T=k[b],Y=T.key,q=s(T);let Vt=d;for(let le=0;le<Y.length;le++){const Ge=Y.slice(0,le+1),en=Vt.children,_n=Y[le];let We;le+1<Y.length?(We=sn(en,_n),We===void 0&&(We={key:_n,children:[],path:Ge},en.push(We)),Vt=We):(We={key:_n,value:q,data:T,path:Ge},en.push(We))}}return d};function sn(k,s){for(let d=0;d<k.length;d++)if(k[d].key===s)return k[d]}Ot.getAncestors=function(k){const s=[];let d=k;for(;d.parent;)s.unshift(d.name),d=d.parent;return s},Ot.arraysIdentical=function(k,s){let d=k.length;if(d!==s.length)return!1;for(;d--;)if(k[d]!==s[d])return!1;return!0};const He={};He.filters=function(k){let s="";for(let d=0;d<k.length;++d)d>0&&(s+=", "),s+=He.filter(k[d]);return s},He.filter=function(k){let s="";return typeof k!="undefined"&&k!==null&&(k instanceof Array?k.length>=2?s=`[${k.map(d=>Ot.printSingleValue(d)).join(" -> ")}]`:k.length>=1&&(s=Ot.printSingleValue(k[0])):s=Ot.printSingleValue(k)),s};const rn={};rn.integers=function(k,s){return Math.abs(s-k)},rn.ordinal=function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},rn.fp={},rn.fp.precision=function(k){const s=function(d,b){const T=Math.abs((b-d)/s.resolution);return Ot.isNegligible(T-Math.floor(T))?Math.floor(T):Math.ceil(T)};return s.resolution=k,s};const xn=(k,s)=>(s.length===0?k.filter(null):s.length===1&&!s[0].isFiltered?k.filterExact(s[0]):s.length===1&&s[0].filterType==="RangedFilter"?k.filterRange(s[0]):k.filterFunction(d=>{for(let b=0;b<s.length;b++){const T=s[b];if(T.isFiltered){if(T.isFiltered(d))return!0}else if(T<=d&&T>=d)return!0}return!1}),s),En=(k,s)=>s===null||typeof s=="undefined"?k.length>0:k.some(d=>s<=d&&s>=d),Re=(k,s)=>{for(let d=0;d<k.length;d++)if(k[d]<=s&&k[d]>=s){k.splice(d,1);break}return k},zn=(k,s)=>(k.push(s),k),wn=k=>[];class pn{constructor(){this.__dcFlag__=Ot.uniqueId(),this._svgDescription=null,this._keyboardAccessible=!1,this._dimension=void 0,this._group=void 0,this._anchor=void 0,this._root=void 0,this._svg=void 0,this._isChild=void 0,this._minWidth=200,this._defaultWidthCalc=s=>{const d=s&&s.getBoundingClientRect&&s.getBoundingClientRect().width;return d&&d>this._minWidth?d:this._minWidth},this._widthCalc=this._defaultWidthCalc,this._minHeight=200,this._defaultHeightCalc=s=>{const d=s&&s.getBoundingClientRect&&s.getBoundingClientRect().height;return d&&d>this._minHeight?d:this._minHeight},this._heightCalc=this._defaultHeightCalc,this._width=void 0,this._height=void 0,this._useViewBoxResizing=!1,this._keyAccessor=Ht("key"),this._valueAccessor=Ht("value"),this._label=Ht("key"),this._ordering=Ht("key"),this._renderLabel=!1,this._title=s=>`${this.keyAccessor()(s)}: ${this.valueAccessor()(s)}`,this._renderTitle=!0,this._controlsUseVisibility=!1,this._transitionDuration=750,this._transitionDelay=0,this._filterPrinter=He.filters,this._mandatoryAttributesList=["dimension","group"],this._chartGroup=$t.DEFAULT_CHART_GROUP,this._listeners=Dt.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),this._legend=void 0,this._commitHandler=void 0,this._defaultData=s=>s.all(),this._data=this._defaultData,this._filters=[],this._filterHandler=xn,this._hasFilterHandler=En,this._removeFilterHandler=Re,this._addFilterHandler=zn,this._resetFilterHandler=wn}height(s){return arguments.length?(this._heightCalc=s?typeof s=="function"?s:Ot.constant(s):this._defaultHeightCalc,this._height=void 0,this):((!Ot.isNumber(this._height)||this._height!==this._heightCalc(this._root.node()))&&(this._height=this._heightCalc(this._root.node())),this._height)}width(s){return arguments.length?(this._widthCalc=s?typeof s=="function"?s:Ot.constant(s):this._defaultWidthCalc,this._width=void 0,this):((!Ot.isNumber(this._width)||this._width!==this._widthCalc(this._root.node()))&&(this._width=this._widthCalc(this._root.node())),this._width)}minWidth(s){return arguments.length?(this._minWidth=s,this):this._minWidth}minHeight(s){return arguments.length?(this._minHeight=s,this):this._minHeight}useViewBoxResizing(s){return arguments.length?(this._useViewBoxResizing=s,this):this._useViewBoxResizing}dimension(s){return arguments.length?(this._dimension=s,this.expireCache(),this):this._dimension}data(s){return arguments.length?(this._data=typeof s=="function"?s:Ot.constant(s),this.expireCache(),this):this._data(this._group)}group(s,d){return arguments.length?(this._group=s,this._groupName=d,this.expireCache(),this):this._group}ordering(s){return arguments.length?(this._ordering=s,this.expireCache(),this):this._ordering}_computeOrderedGroups(s){return Array.from(s).sort((d,b)=>lt.ascending(this._ordering(d),this._ordering(b)))}filterAll(){return this.filter(null)}select(s){return this._root.select(s)}selectAll(s){return this._root?this._root.selectAll(s):null}anchor(s,d){if(!arguments.length)return this._anchor;if(At(s))this._anchor=s.anchor(),this._anchor.children&&(this._anchor=`#${s.anchorName()}`),this._root=s.root(),this._isChild=!0;else if(s)s.select&&s.classed?this._anchor=s.node():this._anchor=s,this._root=mt.select(this._anchor),this._root.classed($t.CHART_CLASS,!0),B(this,d),this._isChild=!1;else throw new Tt("parent must be defined");return this._chartGroup=d,this}anchorName(){const s=this.anchor();return s&&s.id?s.id:s&&s.replace?s.replace("#",""):`dc-chart${this.chartID()}`}root(s){return arguments.length?(this._root=s,this):this._root}svg(s){return arguments.length?(this._svg=s,this):this._svg}resetSvg(){return this.select("svg").remove(),this.generateSvg()}sizeSvg(){this._svg&&(this._useViewBoxResizing?this._svg.attr("viewBox")||this._svg.attr("viewBox",`0 0 ${this.width()} ${this.height()}`):this._svg.attr("width",this.width()).attr("height",this.height()))}generateSvg(){return this._svg=this.root().append("svg"),(this._svgDescription||this._keyboardAccessible)&&(this._svg.append("desc").attr("id",`desc-id-${this.__dcFlag__}`).html(`${this.svgDescription()}`),this._svg.attr("tabindex","0").attr("role","img").attr("aria-labelledby",`desc-id-${this.__dcFlag__}`)),this.sizeSvg(),this._svg}svgDescription(s){return arguments.length?(this._svgDescription=s,this):this._svgDescription||this.constructor.name}keyboardAccessible(s){return arguments.length?(this._keyboardAccessible=s,this):this._keyboardAccessible}filterPrinter(s){return arguments.length?(this._filterPrinter=s,this):this._filterPrinter}controlsUseVisibility(s){return arguments.length?(this._controlsUseVisibility=s,this):this._controlsUseVisibility}turnOnControls(){if(this._root){const s=this.controlsUseVisibility()?"visibility":"display";this.selectAll(".reset").style(s,null),this.selectAll(".filter").text(this._filterPrinter(this.filters())).style(s,null)}return this}turnOffControls(){if(this._root){const s=this.controlsUseVisibility()?"visibility":"display",d=this.controlsUseVisibility()?"hidden":"none";this.selectAll(".reset").style(s,d),this.selectAll(".filter").style(s,d).text(this.filter())}return this}transitionDuration(s){return arguments.length?(this._transitionDuration=s,this):this._transitionDuration}transitionDelay(s){return arguments.length?(this._transitionDelay=s,this):this._transitionDelay}_mandatoryAttributes(s){return arguments.length?(this._mandatoryAttributesList=s,this):this._mandatoryAttributesList}checkForMandatoryAttributes(s){if(!this[s]||!this[s]())throw new Gt(`Mandatory attribute chart.${s} is missing on chart[#${this.anchorName()}]`)}render(){this._height=this._width=void 0,this._listeners.call("preRender",this,this),this._mandatoryAttributesList&&this._mandatoryAttributesList.forEach(d=>this.checkForMandatoryAttributes(d));const s=this._doRender();return this._legend&&this._legend.render(),this._activateRenderlets("postRender"),s}_makeKeyboardAccessible(s,...d){const b=this._svg.selectAll(".dc-tabbable").attr("tabindex",0);s&&b.on("keydown",G.eventHandler((T,Y)=>{Y.keyCode===13&&typeof T=="object"&&s.call(this,T,...d),Y.keyCode===32&&typeof T=="object"&&(s.call(this,T,...d),Y.preventDefault())}))}_activateRenderlets(s){this._listeners.call("pretransition",this,this),this.transitionDuration()>0&&this._svg?this._svg.transition().duration(this.transitionDuration()).delay(this.transitionDelay()).on("end",()=>{this._listeners.call("renderlet",this,this),s&&this._listeners.call(s,this,this)}):(this._listeners.call("renderlet",this,this),s&&this._listeners.call(s,this,this))}redraw(){this.sizeSvg(),this._listeners.call("preRedraw",this,this);const s=this._doRedraw();return this._legend&&this._legend.render(),this._activateRenderlets("postRedraw"),s}commitHandler(s){return arguments.length?(this._commitHandler=s,this):this._commitHandler}redrawGroup(){return this._commitHandler?this._commitHandler(!1,(s,d)=>{s?console.log(s):V(this.chartGroup())}):V(this.chartGroup()),this}renderGroup(){return this._commitHandler?this._commitHandler(!1,(s,d)=>{s?console.log(s):U(this.chartGroup())}):U(this.chartGroup()),this}_invokeFilteredListener(s){s!==void 0&&this._listeners.call("filtered",this,this,s)}_invokeZoomedListener(){this._listeners.call("zoomed",this,this)}hasFilterHandler(s){return arguments.length?(this._hasFilterHandler=s,this):this._hasFilterHandler}hasFilter(s){return this._hasFilterHandler(this._filters,s)}removeFilterHandler(s){return arguments.length?(this._removeFilterHandler=s,this):this._removeFilterHandler}addFilterHandler(s){return arguments.length?(this._addFilterHandler=s,this):this._addFilterHandler}resetFilterHandler(s){return arguments.length?(this._resetFilterHandler=s,this):this._resetFilterHandler}applyFilters(s){if(this.dimension()&&this.dimension().filter){const d=this._filterHandler(this.dimension(),s);d&&(s=d)}return s}replaceFilter(s){return this._filters=this._resetFilterHandler(this._filters),this.filter(s),this}filter(s){if(!arguments.length)return this._filters.length>0?this._filters[0]:null;let d=this._filters;return s instanceof Array&&s[0]instanceof Array&&!s.isFiltered?s[0].forEach(b=>{this._hasFilterHandler(d,b)?d=this._removeFilterHandler(d,b):d=this._addFilterHandler(d,b)}):s===null?d=this._resetFilterHandler(d):this._hasFilterHandler(d,s)?d=this._removeFilterHandler(d,s):d=this._addFilterHandler(d,s),this._filters=this.applyFilters(d),this._invokeFilteredListener(s),this._root!==null&&this.hasFilter()?this.turnOnControls():this.turnOffControls(),this}filters(){return this._filters}highlightSelected(s){mt.select(s).classed($t.SELECTED_CLASS,!0),mt.select(s).classed($t.DESELECTED_CLASS,!1)}fadeDeselected(s){mt.select(s).classed($t.SELECTED_CLASS,!1),mt.select(s).classed($t.DESELECTED_CLASS,!0)}resetHighlight(s){mt.select(s).classed($t.SELECTED_CLASS,!1),mt.select(s).classed($t.DESELECTED_CLASS,!1)}onClick(s){const d=this.keyAccessor()(s);ct.trigger(()=>{this.filter(d),this.redrawGroup()})}filterHandler(s){return arguments.length?(this._filterHandler=s,this):this._filterHandler}_doRender(){return this}_doRedraw(){return this}legendables(){return[]}legendHighlight(){}legendReset(){}legendToggle(){}isLegendableHidden(){return!1}keyAccessor(s){return arguments.length?(this._keyAccessor=s,this):this._keyAccessor}valueAccessor(s){return arguments.length?(this._valueAccessor=s,this):this._valueAccessor}label(s,d){return arguments.length?(this._label=s,(d===void 0||d)&&(this._renderLabel=!0),this):this._label}renderLabel(s){return arguments.length?(this._renderLabel=s,this):this._renderLabel}title(s){return arguments.length?(this._title=s,this):this._title}renderTitle(s){return arguments.length?(this._renderTitle=s,this):this._renderTitle}chartGroup(s){return arguments.length?(this._isChild||nt(this,this._chartGroup),this._chartGroup=s,this._isChild||B(this,this._chartGroup),this):this._chartGroup}expireCache(){return this}legend(s){return arguments.length?(this._legend=s,this._legend.parent(this),this):this._legend}chartID(){return this.__dcFlag__}options(s){const d=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(const b in s)typeof this[b]=="function"?s[b]instanceof Array&&d.indexOf(b)!==-1?this[b].apply(this,s[b]):this[b].call(this,s[b]):Q.debug(`Not a valid option setter name: ${b}`);return this}on(s,d){return this._listeners.on(s,d),this}renderlet(s){return Q.warnOnce('chart.renderlet has been deprecated. Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),this.on(`renderlet.${Ot.uniqueId()}`,s),this}}const Gn=()=>new pn,Rn=k=>class extends k{constructor(){super();this._colors=Et.scaleOrdinal(I.defaultColors()),this._colorAccessor=s=>this.keyAccessor()(s),this._colorCalculator=void 0;{const s=this;s.getColor=function(d,b){return s._colorCalculator?s._colorCalculator.call(this,d,b):s._colors(s._colorAccessor.call(this,d,b))}}}calculateColorDomain(){const s=[lt.min(this.data(),this.colorAccessor()),lt.max(this.data(),this.colorAccessor())];return this._colors.domain(s),this}colors(s){return arguments.length?(s instanceof Array?this._colors=Et.scaleQuantize().range(s):this._colors=typeof s=="function"?s:Ot.constant(s),this):this._colors}ordinalColors(s){return this.colors(Et.scaleOrdinal().range(s))}linearColors(s){return this.colors(Et.scaleLinear().range(s).interpolate(te.interpolateHcl))}colorAccessor(s){return arguments.length?(this._colorAccessor=s,this):this._colorAccessor}colorDomain(s){return arguments.length?(this._colors.domain(s),this):this._colors.domain()}colorCalculator(s){return arguments.length?(this._colorCalculator=s,this):this._colorCalculator||this.getColor}},Un=k=>class extends Rn(k){constructor(){super();this._maxBubbleRelativeSize=.3,this._minRadiusWithLabel=10,this._sortBubbleSize=!1,this._elasticRadius=!1,this._excludeElasticZero=!0,this.BUBBLE_NODE_CLASS="node",this.BUBBLE_CLASS="bubble",this.MIN_RADIUS=10,this.renderLabel(!0),this.data(s=>{const d=s.all();if(this._keyboardAccessible&&d.sort((b,T)=>lt.ascending(this.keyAccessor()(b),this.keyAccessor()(T))),this._sortBubbleSize){const b=this.radiusValueAccessor();d.sort((T,Y)=>lt.descending(b(T),b(Y)))}return d}),this._r=Et.scaleLinear().domain([0,100])}_rValueAccessor(s){return s.r}r(s){return arguments.length?(this._r=s,this):this._r}elasticRadius(s){return arguments.length?(this._elasticRadius=s,this):this._elasticRadius}calculateRadiusDomain(){this._elasticRadius&&this.r().domain([this.rMin(),this.rMax()])}radiusValueAccessor(s){return arguments.length?(this._rValueAccessor=s,this):this._rValueAccessor}rMin(){let s=this.data().map(this.radiusValueAccessor());return this._excludeElasticZero&&(s=s.filter(d=>d>0)),lt.min(s)}rMax(){return lt.max(this.data(),s=>this.radiusValueAccessor()(s))}bubbleR(s){const d=this.radiusValueAccessor()(s);let b=this.r()(d);return(isNaN(b)||d<=0)&&(b=0),b}_labelFunction(s){return this.label()(s)}_shouldLabel(s){return this.bubbleR(s)>this._minRadiusWithLabel}_labelOpacity(s){return this._shouldLabel(s)?1:0}_labelPointerEvent(s){return this._shouldLabel(s)?"all":"none"}_doRenderLabel(s){if(this.renderLabel()){let d=s.select("text");d.empty()&&(d=s.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",G.eventHandler(b=>this.onClick(b)))),d.attr("opacity",0).attr("pointer-events",b=>this._labelPointerEvent(b)).text(b=>this._labelFunction(b)),M(d,this.transitionDuration(),this.transitionDelay()).attr("opacity",b=>this._labelOpacity(b))}}doUpdateLabels(s){if(this.renderLabel()){const d=s.select("text").attr("pointer-events",b=>this._labelPointerEvent(b)).text(b=>this._labelFunction(b));M(d,this.transitionDuration(),this.transitionDelay()).attr("opacity",b=>this._labelOpacity(b))}}_titleFunction(s){return this.title()(s)}_doRenderTitles(s){this.renderTitle()&&s.select("title").empty()&&s.append("title").text(b=>this._titleFunction(b))}doUpdateTitles(s){this.renderTitle()&&s.select("title").text(d=>this._titleFunction(d))}sortBubbleSize(s){return arguments.length?(this._sortBubbleSize=s,this):this._sortBubbleSize}minRadius(s){return arguments.length?(this.MIN_RADIUS=s,this):this.MIN_RADIUS}minRadiusWithLabel(s){return arguments.length?(this._minRadiusWithLabel=s,this):this._minRadiusWithLabel}maxBubbleRelativeSize(s){return arguments.length?(this._maxBubbleRelativeSize=s,this):this._maxBubbleRelativeSize}excludeElasticZero(s){return arguments.length?(this._excludeElasticZero=s,this):this._excludeElasticZero}fadeDeselectedArea(s){if(this.hasFilter()){const d=this;this.selectAll(`g.${d.BUBBLE_NODE_CLASS}`).each(function(b){d.isSelectedNode(b)?d.highlightSelected(this):d.fadeDeselected(this)})}else{const d=this;this.selectAll(`g.${d.BUBBLE_NODE_CLASS}`).each(function(){d.resetHighlight(this)})}}isSelectedNode(s){return this.hasFilter(s.key)}onClick(s){const d=s.key;ct.trigger(()=>{this.filter(d),this.redrawGroup()})}},Hn=k=>class extends k{constructor(){super();this._cap=Infinity,this._takeFront=!0,this._othersLabel="Others",this._othersGrouper=(s,d)=>{const b=lt.sum(d,this.valueAccessor()),T=d.map(this.keyAccessor());return b>0?s.concat([{others:T,key:this.othersLabel(),value:b}]):s},this.ordering(s=>-s.value),this.data(s=>{if(this._cap===Infinity)return this._computeOrderedGroups(s.all());{let d=s.all(),b;if(d=this._computeOrderedGroups(d),this._cap)if(this._takeFront)b=d.slice(this._cap),d=d.slice(0,this._cap);else{const T=Math.max(0,d.length-this._cap);b=d.slice(0,T),d=d.slice(T)}return this._othersGrouper?this._othersGrouper(d,b):d}})}cappedKeyAccessor(s,d){return s.others?s.key:this.keyAccessor()(s,d)}cappedValueAccessor(s,d){return s.others?s.value:this.valueAccessor()(s,d)}cap(s){return arguments.length?(this._cap=s,this):this._cap}takeFront(s){return arguments.length?(this._takeFront=s,this):this._takeFront}othersLabel(s){return arguments.length?(this._othersLabel=s,this):this._othersLabel}othersGrouper(s){return arguments.length?(this._othersGrouper=s,this):this._othersGrouper}onClick(s){s.others&&this.filter([s.others]),super.onClick(s)}};class ir extends pn{constructor(){super();this._margin={top:10,right:50,bottom:30,left:30}}margins(s){return arguments.length?(this._margin=s,this):this._margin}effectiveWidth(){return this.width()-this.margins().left-this.margins().right}effectiveHeight(){return this.height()-this.margins().top-this.margins().bottom}}const jn="grid-line",pr="horizontal",Rr="vertical",_r="y-axis-label",ra="x-axis-label",jr="custom-brush-handle",oi=12;class vr extends Rn(ir){constructor(){super();this.colors(Et.scaleOrdinal(qt.schemeCategory10)),this._mandatoryAttributes().push("x"),this._parent=void 0,this._g=void 0,this._chartBodyG=void 0,this._x=void 0,this._origX=void 0,this._xOriginalDomain=void 0,this._xAxis=null,this._xUnits=rn.integers,this._xAxisPadding=0,this._xAxisPaddingUnit=it.timeDay,this._xElasticity=!1,this._xAxisLabel=void 0,this._xAxisLabelPadding=0,this._lastXDomain=void 0,this._y=void 0,this._yAxis=null,this._yAxisPadding=0,this._yElasticity=!1,this._yAxisLabel=void 0,this._yAxisLabelPadding=0,this._brush=fe.brushX(),this._gBrush=void 0,this._brushOn=!0,this._parentBrushOn=!1,this._round=void 0,this._ignoreBrushEvents=!1,this._renderHorizontalGridLine=!1,this._renderVerticalGridLine=!1,this._resizing=!1,this._unitCount=void 0,this._zoomScale=[1,Infinity],this._zoomOutRestrict=!0,this._zoom=Ft.zoom().on("zoom",G.eventHandler((s,d)=>this._onZoom(d))),this._nullZoom=Ft.zoom().on("zoom",null),this._hasBeenMouseZoomable=!1,this._ignoreZoomEvents=!1,this._rangeChart=void 0,this._focusChart=void 0,this._mouseZoomable=!1,this._clipPadding=0,this._fOuterRangeBandPadding=.5,this._fRangeBandPadding=0,this._useRightYAxis=!1,this._useTopXAxis=!1}rescale(){return this._unitCount=void 0,this._resizing=!0,this}resizing(s){return arguments.length?(this._resizing=s,this):this._resizing}rangeChart(s){return arguments.length?(this._rangeChart=s,this._rangeChart.focusChart(this),this):this._rangeChart}zoomScale(s){return arguments.length?(this._zoomScale=s,this):this._zoomScale}zoomOutRestrict(s){return arguments.length?(this._zoomOutRestrict=s,this):this._zoomOutRestrict}_generateG(s){s===void 0?this._parent=this.svg():this._parent=s;const d=window.location.href.split("#")[0];return this._g=this._parent.append("g"),this._chartBodyG=this._g.append("g").attr("class","chart-body").attr("transform",`translate(${this.margins().left}, ${this.margins().top})`).attr("clip-path",`url(${d}#${this._getClipPathId()})`),this._g}g(s){return arguments.length?(this._g=s,this):this._g}mouseZoomable(s){return arguments.length?(this._mouseZoomable=s,this):this._mouseZoomable}chartBodyG(s){return arguments.length?(this._chartBodyG=s,this):this._chartBodyG}x(s){return arguments.length?(this._x=s,this._xOriginalDomain=this._x.domain(),this.rescale(),this):this._x}xOriginalDomain(){return this._xOriginalDomain}xUnits(s){return arguments.length?(this._xUnits=s,this):this._xUnits}xAxis(s){return arguments.length?(this._xAxis=s,this):(this._xAxis||(this._xAxis=this._createXAxis()),this._xAxis)}elasticX(s){return arguments.length?(this._xElasticity=s,this):this._xElasticity}xAxisPadding(s){return arguments.length?(this._xAxisPadding=s,this):this._xAxisPadding}xAxisPaddingUnit(s){return arguments.length?(this._xAxisPaddingUnit=s,this):this._xAxisPaddingUnit}xUnitCount(){return this._unitCount===void 0&&(this.isOrdinal()?this._unitCount=this.x().domain().length:(this._unitCount=this.xUnits()(this.x().domain()[0],this.x().domain()[1]),this._unitCount instanceof Array&&(this._unitCount=this._unitCount.length))),this._unitCount}useRightYAxis(s){return arguments.length?(this._useRightYAxis!==s&&this._yAxis&&Q.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),this._useRightYAxis=s,this):this._useRightYAxis}useTopXAxis(s){return arguments.length?(this._useTopXAxis!==s&&this._xAxis&&Q.warn("Value of useTopXAxis has been altered, after xAxis was created. You might get unexpected yAxis behavior. Make calls to useTopXAxis sooner in your chart creation process."),this._useTopXAxis=s,this):this._useTopXAxis}isOrdinal(){return this.xUnits()===rn.ordinal}_useOuterPadding(){return!0}_ordinalXDomain(){return this._computeOrderedGroups(this.data()).map(this.keyAccessor())}_createXAxis(){return this._useTopXAxis?re.axisTop():re.axisBottom()}_prepareXAxis(s,d){this.isOrdinal()?(this._x.bandwidth||(Q.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),this._x=Et.scaleBand().domain(this._x.domain())),(this.elasticX()||this._x.domain().length===0)&&this._x.domain(this._ordinalXDomain())):this.elasticX()&&this._x.domain([this.xAxisMin(),this.xAxisMax()]);const b=this._x.domain();(d||!Ot.arraysEqual(this._lastXDomain,b))&&this.rescale(),this._lastXDomain=b,this.isOrdinal()?this._x.range([0,this.xAxisLength()]).paddingInner(this._fRangeBandPadding).paddingOuter(this._useOuterPadding()?this._fOuterRangeBandPadding:0):this._x.range([0,this.xAxisLength()]),this._xAxis||(this._xAxis=this._createXAxis()),this._xAxis=this._xAxis.scale(this.x()),this._renderVerticalGridLines(s)}renderXAxis(s){let d=s.select("g.x");d.empty()&&(d=s.append("g").attr("class","axis x").attr("transform",`translate(${this.margins().left},${this._xAxisY()})`));let b=s.select(`text.${ra}`);const T=this._useTopXAxis?this._xAxisLabelPadding:this.height()-this._xAxisLabelPadding;b.empty()&&this.xAxisLabel()&&(b=s.append("text").attr("class",ra).attr("transform",`translate(${this.margins().left+this.xAxisLength()/2},${T})`).attr("text-anchor","middle")),this.xAxisLabel()&&b.text()!==this.xAxisLabel()&&b.text(this.xAxisLabel()),M(d,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.margins().left},${this._xAxisY()})`).call(this._xAxis),M(b,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.margins().left+this.xAxisLength()/2},${T})`)}_renderVerticalGridLines(s){let d=s.select(`g.${Rr}`);if(this._renderVerticalGridLine){d.empty()&&(d=s.insert("g",":first-child").attr("class",`${jn} ${Rr}`).attr("transform",`translate(${this.margins().left},${this.margins().top})`));const b=this._xAxis.tickValues()?this._xAxis.tickValues():typeof this._x.ticks=="function"?this._x.ticks.apply(this._x,this._xAxis.tickArguments()):this._x.domain(),T=d.selectAll("line").data(b),Y=T.enter().append("line").attr("x1",q=>this._x(q)).attr("y1",this._xAxisY()-this.margins().top).attr("x2",q=>this._x(q)).attr("y2",0).attr("opacity",0);M(Y,this.transitionDuration(),this.transitionDelay()).attr("opacity",.5),M(T,this.transitionDuration(),this.transitionDelay()).attr("x1",q=>this._x(q)).attr("y1",this._xAxisY()-this.margins().top).attr("x2",q=>this._x(q)).attr("y2",0),T.exit().remove()}else d.selectAll("line").remove()}_xAxisY(){return this._useTopXAxis?this.margins().top:this.height()-this.margins().bottom}xAxisLength(){return this.effectiveWidth()}xAxisLabel(s,d){return arguments.length?(this._xAxisLabel=s,this.margins().bottom-=this._xAxisLabelPadding,this._xAxisLabelPadding=d===void 0?oi:d,this.margins().bottom+=this._xAxisLabelPadding,this):this._xAxisLabel}_createYAxis(){return this._useRightYAxis?re.axisRight():re.axisLeft()}_prepareYAxis(s){if(this._y===void 0||this.elasticY()){this._y===void 0&&(this._y=Et.scaleLinear());const d=this.yAxisMin()||0,b=this.yAxisMax()||0;this._y.domain([d,b]).rangeRound([this.yAxisHeight(),0])}this._y.range([this.yAxisHeight(),0]),this._yAxis||(this._yAxis=this._createYAxis()),this._yAxis.scale(this._y),this._renderHorizontalGridLinesForAxis(s,this._y,this._yAxis)}renderYAxisLabel(s,d,b,T){T=T||this._yAxisLabelPadding;let Y=this.g().select(`text.${_r}.${s}-label`);const q=this.margins().top+this.yAxisHeight()/2;Y.empty()&&d&&(Y=this.g().append("text").attr("transform",`translate(${T},${q}),rotate(${b})`).attr("class",`${_r} ${s}-label`).attr("text-anchor","middle").text(d)),d&&Y.text()!==d&&Y.text(d),M(Y,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${T},${q}),rotate(${b})`)}renderYAxisAt(s,d,b){let T=this.g().select(`g.${s}`);T.empty()&&(T=this.g().append("g").attr("class",`axis ${s}`).attr("transform",`translate(${b},${this.margins().top})`)),M(T,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${b},${this.margins().top})`).call(d)}renderYAxis(){const s=this._useRightYAxis?this.width()-this.margins().right:this._yAxisX();this.renderYAxisAt("y",this._yAxis,s);const d=this._useRightYAxis?this.width()-this._yAxisLabelPadding:this._yAxisLabelPadding,b=this._useRightYAxis?90:-90;this.renderYAxisLabel("y",this.yAxisLabel(),b,d)}_renderHorizontalGridLinesForAxis(s,d,b){let T=s.select(`g.${pr}`);if(this._renderHorizontalGridLine){const Y=b.tickValues()?b.tickValues():d.ticks?d.ticks.apply(d,b.tickArguments()):d.domain();T.empty()&&(T=s.insert("g",":first-child").attr("class",`${jn} ${pr}`).attr("transform",`translate(${this.margins().left},${this.margins().top})`));const q=T.selectAll("line").data(Y),Vt=q.enter().append("line").attr("x1",1).attr("y1",le=>d(le)).attr("x2",this.xAxisLength()).attr("y2",le=>d(le)).attr("opacity",0);M(Vt,this.transitionDuration(),this.transitionDelay()).attr("opacity",.5),M(q,this.transitionDuration(),this.transitionDelay()).attr("x1",1).attr("y1",le=>d(le)).attr("x2",this.xAxisLength()).attr("y2",le=>d(le)),q.exit().remove()}else T.selectAll("line").remove()}_yAxisX(){return this.useRightYAxis()?this.width()-this.margins().right:this.margins().left}yAxisLabel(s,d){return arguments.length?(this._yAxisLabel=s,this.margins().left-=this._yAxisLabelPadding,this._yAxisLabelPadding=d===void 0?oi:d,this.margins().left+=this._yAxisLabelPadding,this):this._yAxisLabel}y(s){return arguments.length?(this._y=s,this.rescale(),this):this._y}yAxis(s){return arguments.length?(this._yAxis=s,this):(this._yAxis||(this._yAxis=this._createYAxis()),this._yAxis)}elasticY(s){return arguments.length?(this._yElasticity=s,this):this._yElasticity}renderHorizontalGridLines(s){return arguments.length?(this._renderHorizontalGridLine=s,this):this._renderHorizontalGridLine}renderVerticalGridLines(s){return arguments.length?(this._renderVerticalGridLine=s,this):this._renderVerticalGridLine}xAxisMin(){const s=lt.min(this.data(),d=>this.keyAccessor()(d));return Ot.subtract(s,this._xAxisPadding,this._xAxisPaddingUnit)}xAxisMax(){const s=lt.max(this.data(),d=>this.keyAccessor()(d));return Ot.add(s,this._xAxisPadding,this._xAxisPaddingUnit)}yAxisMin(){const s=lt.min(this.data(),d=>this.valueAccessor()(d));return Ot.subtract(s,this._yAxisPadding)}yAxisMax(){const s=lt.max(this.data(),d=>this.valueAccessor()(d));return Ot.add(s,this._yAxisPadding)}yAxisPadding(s){return arguments.length?(this._yAxisPadding=s,this):this._yAxisPadding}yAxisHeight(){return this.effectiveHeight()}round(s){return arguments.length?(this._round=s,this):this._round}_rangeBandPadding(s){return arguments.length?(this._fRangeBandPadding=s,this):this._fRangeBandPadding}_outerRangeBandPadding(s){return arguments.length?(this._fOuterRangeBandPadding=s,this):this._fOuterRangeBandPadding}filter(s){return arguments.length?(super.filter(s),this.redrawBrush(s,!1),this):super.filter()}brush(s){return arguments.length?(this._brush=s,this):this._brush}renderBrush(s,d){this._brushOn&&(this._brush.on("start brush end",G.eventHandler((b,T)=>this._brushing(T))),this._gBrush=s.append("g").attr("class","brush").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this.setBrushExtents(),this.createBrushHandlePaths(this._gBrush,d),this.redrawBrush(this.filter(),d))}createBrushHandlePaths(s){let d=s.selectAll(`path.${jr}`).data([{type:"w"},{type:"e"}]);d=d.enter().append("path").attr("class",jr).merge(d),d.attr("d",b=>this.resizeHandlePath(b))}extendBrush(s){return s&&this.round()&&(s[0]=this.round()(s[0]),s[1]=this.round()(s[1])),s}brushIsEmpty(s){return!s||s[1]<=s[0]}_brushing(s){if(this._ignoreBrushEvents)return;let d=s.selection;d&&(d=d.map(this.x().invert)),d=this.extendBrush(d),this.redrawBrush(d,!1);const b=this.brushIsEmpty(d)?null:wt.RangedFilter(d[0],d[1]);ct.trigger(()=>{this.applyBrushSelection(b)},$t.EVENT_DELAY)}applyBrushSelection(s){this.replaceFilter(s),this.redrawGroup()}_withoutBrushEvents(s){const d=this._ignoreBrushEvents;this._ignoreBrushEvents=!0;try{s()}finally{this._ignoreBrushEvents=d}}setBrushExtents(s){this._withoutBrushEvents(()=>{this._brush.extent([[0,0],[this.effectiveWidth(),this.effectiveHeight()]])}),this._gBrush.call(this._brush)}redrawBrush(s,d){if(this._brushOn&&this._gBrush)if(this._resizing&&this.setBrushExtents(d),!s)this._withoutBrushEvents(()=>{this._gBrush.call(this._brush.move,null)}),this._gBrush.selectAll(`path.${jr}`).attr("display","none");else{const b=[this._x(s[0]),this._x(s[1])],T=E(d,this.transitionDuration(),this.transitionDelay())(this._gBrush);this._withoutBrushEvents(()=>{T.call(this._brush.move,b)}),T.selectAll(`path.${jr}`).attr("display",null).attr("transform",(Y,q)=>`translate(${this._x(s[q])}, 0)`).attr("d",Y=>this.resizeHandlePath(Y))}this.fadeDeselectedArea(s)}fadeDeselectedArea(s){}resizeHandlePath(s){s=s.type;const d=+(s==="e"),b=d?1:-1,T=this.effectiveHeight()/3;return`M${.5*b},${T}A6,6 0 0 ${d} ${6.5*b},${T+6}V${2*T-6}A6,6 0 0 ${d} ${.5*b},${2*T}ZM${2.5*b},${T+8}V${2*T-8}M${4.5*b},${T+8}V${2*T-8}`}_getClipPathId(){return`${this.anchorName().replace(/[ .#=\[\]"]/g,"-")}-clip`}clipPadding(s){return arguments.length?(this._clipPadding=s,this):this._clipPadding}_generateClipPath(){const s=Ot.appendOrSelect(this._parent,"defs"),d=this._getClipPathId(),b=Ot.appendOrSelect(s,`#${d}`,"clipPath").attr("id",d),T=this._clipPadding*2;Ot.appendOrSelect(b,"rect").attr("width",this.xAxisLength()+T).attr("height",this.yAxisHeight()+T).attr("transform",`translate(-${this._clipPadding}, -${this._clipPadding})`)}_preprocessData(){}_doRender(){return this.resetSvg(),this._preprocessData(),this._generateG(),this._generateClipPath(),this._drawChart(!0),this._configureMouseZoom(),this}_doRedraw(){return this._preprocessData(),this._drawChart(!1),this._generateClipPath(),this}_drawChart(s){this.isOrdinal()&&(this._brushOn=!1),this._prepareXAxis(this.g(),s),this._prepareYAxis(this.g()),this.plotData(),(this.elasticX()||this._resizing||s)&&this.renderXAxis(this.g()),(this.elasticY()||this._resizing||s)&&this.renderYAxis(this.g()),s?this.renderBrush(this.g(),!1):this.redrawBrush(this.filter(),this._resizing),this.fadeDeselectedArea(this.filter()),this.resizing(!1)}_configureMouseZoom(){this._origX=this._x.copy(),this._mouseZoomable?this._enableMouseZoom():this._hasBeenMouseZoomable&&this._disableMouseZoom()}_enableMouseZoom(){this._hasBeenMouseZoomable=!0;const s=[[0,0],[this.effectiveWidth(),this.effectiveHeight()]];if(this._zoom.scaleExtent(this._zoomScale).extent(s).duration(this.transitionDuration()),this._zoomOutRestrict){const d=Math.max(this._zoomScale[0],1);this._zoom.translateExtent(s).scaleExtent([d,this._zoomScale[1]])}this.root().call(this._zoom),this._updateD3zoomTransform()}_disableMouseZoom(){this.root().call(this._nullZoom)}_zoomHandler(s,d){let b;this._hasRangeSelected(s)?(this.x().domain(s),b=wt.RangedFilter(s[0],s[1])):(this.x().domain(this._xOriginalDomain),b=null),this.replaceFilter(b),this.rescale(),this.redraw(),d||(this._rangeChart&&!Ot.arraysEqual(this.filter(),this._rangeChart.filter())&&ct.trigger(()=>{this._rangeChart.replaceFilter(b),this._rangeChart.redraw()}),this._invokeZoomedListener(),ct.trigger(()=>{this.redrawGroup()},$t.EVENT_DELAY))}_domainToZoomTransform(s,d,b){const T=(d[1]-d[0])/(s[1]-s[0]),Y=-1*b(s[0]);return Ft.zoomIdentity.scale(T).translate(Y,0)}_updateD3zoomTransform(){this._zoom&&this._withoutZoomEvents(()=>{this._zoom.transform(this.root(),this._domainToZoomTransform(this.x().domain(),this._xOriginalDomain,this._origX))})}_withoutZoomEvents(s){const d=this._ignoreZoomEvents;this._ignoreZoomEvents=!0;try{s()}finally{this._ignoreZoomEvents=d}}_onZoom(s){if(this._ignoreZoomEvents)return;const d=s.transform.rescaleX(this._origX).domain();this.focus(d,!1)}_checkExtents(s,d){return!s||s.length!==2||!d||d.length!==2?s:((s[0]>d[1]||s[1]<d[0])&&console.warn("Could not intersect extents, will reset"),[s[0]>d[0]?s[0]:d[0],s[1]<d[1]?s[1]:d[1]])}focus(s,d){this._zoomOutRestrict&&(s=this._checkExtents(s,this._xOriginalDomain),this._rangeChart&&(s=this._checkExtents(s,this._rangeChart.x().domain()))),this._zoomHandler(s,d),this._updateD3zoomTransform()}refocused(){return!Ot.arraysEqual(this.x().domain(),this._xOriginalDomain)}focusChart(s){return arguments.length?(this._focusChart=s,this.on("filtered.dcjs-range-chart",d=>{d.filter()?Ot.arraysEqual(d.filter(),this._focusChart.filter())||ct.trigger(()=>{this._focusChart.focus(d.filter(),!0)}):ct.trigger(()=>{this._focusChart.x().domain(this._focusChart.xOriginalDomain(),!0)})}),this):this._focusChart}brushOn(s){return arguments.length?(this._brushOn=s,this):this._brushOn}parentBrushOn(s){return arguments.length?(this._parentBrushOn=s,this):this._parentBrushOn}gBrush(){return this._gBrush}_hasRangeSelected(s){return s instanceof Array&&s.length>1}}const Ts=function(){let k=1,s=1,d=0;const b=0;let T=null,Y=Number,q=Ri,Vt=Sa,le=null,Ge=!1;const en=3;let _n=.3,We=.8,Jn=!1,je=!0,Nn=!1;function Je(on){on.each(function(Wn,Fs){Wn=Wn.map(Y).sort(lt.ascending);const Qr=mt.select(this),la=Wn.length;let Hs,go;if(la===0)return;const po=Wn.quartiles=Vt(Wn),ci=q&&q.call(this,Wn,Fs),ji=ci&&ci.map(tn=>Wn[tn]),Ei=ci?lt.range(0,ci[0]).concat(lt.range(ci[1]+1,la)):lt.range(la);je?(Hs=Wn[0],go=Wn[la-1]):(Hs=Wn[ci[0]],go=Wn[ci[1]]);const Ji=lt.range(ci[0],ci[1]+1),mn=Et.scaleLinear().domain(T&&T.call(this,Wn,Fs)||[Hs,go]).range([s,0]),$r=this.__chart__||Et.scaleLinear().domain([0,Infinity]).range(mn.range());this.__chart__=mn;const Bs=Qr.selectAll("line.center").data(ji?[ji]:[]);Bs.enter().insert("line","rect").attr("class","center").attr("x1",k/2).attr("y1",tn=>$r(tn[0])).attr("x2",k/2).attr("y2",tn=>$r(tn[1])).style("opacity",1e-6).transition().duration(d).delay(b).style("opacity",1).attr("y1",tn=>mn(tn[0])).attr("y2",tn=>mn(tn[1])),Bs.transition().duration(d).delay(b).style("opacity",1).attr("x1",k/2).attr("x2",k/2).attr("y1",tn=>mn(tn[0])).attr("y2",tn=>mn(tn[1])),Bs.exit().transition().duration(d).delay(b).style("opacity",1e-6).attr("y1",tn=>mn(tn[0])).attr("y2",tn=>mn(tn[1])).remove();const _o=Qr.selectAll("rect.box").data([po]);_o.enter().append("rect").attr("class","box").attr("x",0).attr("y",tn=>$r(tn[2])).attr("width",k).attr("height",tn=>$r(tn[0])-$r(tn[2])).style("fill-opacity",Ge?.1:1).transition().duration(d).delay(b).attr("y",tn=>mn(tn[2])).attr("height",tn=>mn(tn[0])-mn(tn[2])),_o.transition().duration(d).delay(b).attr("width",k).attr("y",tn=>mn(tn[2])).attr("height",tn=>mn(tn[0])-mn(tn[2]));const pu=Qr.selectAll("line.median").data([po[1]]);pu.enter().append("line").attr("class","median").attr("x1",0).attr("y1",$r).attr("x2",k).attr("y2",$r).transition().duration(d).delay(b).attr("y1",mn).attr("y2",mn),pu.transition().duration(d).delay(b).attr("x1",0).attr("x2",k).attr("y1",mn).attr("y2",mn);const Ai=Qr.selectAll("line.whisker").data(ji||[]);if(Ai.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",$r).attr("x2",k).attr("y2",$r).style("opacity",1e-6).transition().duration(d).delay(b).attr("y1",mn).attr("y2",mn).style("opacity",1),Ai.transition().duration(d).delay(b).attr("x1",0).attr("x2",k).attr("y1",mn).attr("y2",mn).style("opacity",1),Ai.exit().transition().duration(d).delay(b).attr("y1",mn).attr("y2",mn).style("opacity",1e-6).remove(),je){const tn=Nn?"outlierBold":"outlier",Qn=Nn?3:5,xl=Nn?function(){return Math.floor(Math.random()*(k*We)+1+(k-k*We)/2)}:function(){return k/2},fi=Qr.selectAll(`circle.${tn}`).data(Ei,Number);fi.enter().insert("circle","text").attr("class",tn).attr("r",Qn).attr("cx",xl).attr("cy",Na=>$r(Wn[Na])).style("opacity",1e-6).transition().duration(d).delay(b).attr("cy",Na=>mn(Wn[Na])).style("opacity",.6),Jn&&(fi.selectAll("title").remove(),fi.append("title").text(Na=>Wn[Na])),fi.transition().duration(d).delay(b).attr("cx",xl).attr("cy",Na=>mn(Wn[Na])).style("opacity",.6),fi.exit().transition().duration(d).delay(b).attr("cy",0).style("opacity",1e-6).remove()}if(Ge){const tn=Qr.selectAll("circle.data").data(Ji);tn.enter().insert("circle","text").attr("class","data").attr("r",en).attr("cx",()=>Math.floor(Math.random()*(k*We)+1+(k-k*We)/2)).attr("cy",Qn=>$r(Wn[Qn])).style("opacity",1e-6).transition().duration(d).delay(b).attr("cy",Qn=>mn(Wn[Qn])).style("opacity",_n),Jn&&(tn.selectAll("title").remove(),tn.append("title").text(Qn=>Wn[Qn])),tn.transition().duration(d).delay(b).attr("cx",()=>Math.floor(Math.random()*(k*We)+1+(k-k*We)/2)).attr("cy",Qn=>mn(Wn[Qn])).style("opacity",_n),tn.exit().transition().duration(d).delay(b).attr("cy",0).style("opacity",1e-6).remove()}const ti=le||mn.tickFormat(8),_u=Qr.selectAll("text.box").data(po);_u.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",(tn,Qn)=>Qn&1?6:-6).attr("x",(tn,Qn)=>Qn&1?k:0).attr("y",$r).attr("text-anchor",(tn,Qn)=>Qn&1?"start":"end").text(ti).transition().duration(d).delay(b).attr("y",mn),_u.transition().duration(d).delay(b).text(ti).attr("x",(tn,Qn)=>Qn&1?k:0).attr("y",mn);const bl=Qr.selectAll("text.whisker").data(ji||[]);bl.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",k).attr("y",$r).text(ti).style("opacity",1e-6).transition().duration(d).delay(b).attr("y",mn).style("opacity",1),bl.transition().duration(d).delay(b).text(ti).attr("x",k).attr("y",mn).style("opacity",1),bl.exit().transition().duration(d).delay(b).attr("y",mn).style("opacity",1e-6).remove(),delete Wn.quartiles}),ye.timerFlush()}return Je.width=function(on){return arguments.length?(k=on,Je):k},Je.height=function(on){return arguments.length?(s=on,Je):s},Je.tickFormat=function(on){return arguments.length?(le=on,Je):le},Je.showOutliers=function(on){return arguments.length?(je=on,Je):je},Je.boldOutlier=function(on){return arguments.length?(Nn=on,Je):Nn},Je.renderDataPoints=function(on){return arguments.length?(Ge=on,Je):Ge},Je.renderTitle=function(on){return arguments.length?(Jn=on,Je):Jn},Je.dataOpacity=function(on){return arguments.length?(_n=on,Je):_n},Je.dataWidthPortion=function(on){return arguments.length?(We=on,Je):We},Je.duration=function(on){return arguments.length?(d=on,Je):d},Je.domain=function(on){return arguments.length?(T=on===null||typeof on=="function"?on:Ot.constant(on),Je):T},Je.value=function(on){return arguments.length?(Y=on,Je):Y},Je.whiskers=function(on){return arguments.length?(q=on,Je):q},Je.quartiles=function(on){return arguments.length?(Vt=on,Je):Vt},Je};function Ri(k){return[0,k.length-1]}function Sa(k){return[lt.quantile(k,.25),lt.quantile(k,.5),lt.quantile(k,.75)]}class ia extends vr{constructor(){super();this._stackLayout=se.stack(),this._stack=[],this._titles={},this._hidableStacks=!1,this._evadeDomainFilter=!1,this.data(()=>{const s=this._stack.filter(this._visibility);if(!s.length)return[];s.forEach((Y,q)=>this._prepareValues(Y,q));const d=s[0].values.map((Y,q)=>{const Vt={x:Y.x};return s.forEach(le=>{Vt[le.name]=le.values[q].y}),Vt}),b=s.map(Y=>Y.name);return this.stackLayout().keys(b)(d).forEach((Y,q)=>{Y.forEach((Vt,le)=>{s[q].values[le].y0=Vt[0],s[q].values[le].y1=Vt[1]})}),s}),this.colorAccessor(function(s){return this.layer||this.name||s.name||s.layer})}_prepareValues(s,d){const b=s.accessor||this.valueAccessor();s.name=String(s.name||d);const T=s.group.all().map((Y,q)=>({x:this.keyAccessor()(Y,q),y:s.hidden?null:b(Y,q),data:Y,layer:s.name,hidden:s.hidden}));s.domainValues=T.filter(Y=>this._domainFilter()(Y)),s.values=this.evadeDomainFilter()?T:s.domainValues}_domainFilter(){if(!this.x())return Ot.constant(!0);const s=this.x().domain();return this.isOrdinal()?()=>!0:this.elasticX()?()=>!0:d=>d.x>=s[0]&&d.x<=s[s.length-1]}stack(s,d,b){if(!arguments.length)return this._stack;arguments.length<=2&&(b=d);const T={group:s};return typeof d=="string"&&(T.name=d),typeof b=="function"&&(T.accessor=b),this._stack.push(T),this}group(s,d,b){return arguments.length?(this._stack=[],this._titles={},this.stack(s,d),b&&this.valueAccessor(b),super.group(s,d)):super.group()}hidableStacks(s){return arguments.length?(this._hidableStacks=s,this):this._hidableStacks}_findLayerByName(s){const d=this._stack.map(Ht("name")).indexOf(s);return this._stack[d]}hideStack(s){const d=this._findLayerByName(s);return d&&(d.hidden=!0),this}showStack(s){const d=this._findLayerByName(s);return d&&(d.hidden=!1),this}getValueAccessorByIndex(s){return this._stack[s].accessor||this.valueAccessor()}yAxisMin(){const s=lt.min(this._flattenStack(),d=>d.y<0?d.y+d.y0:d.y0);return Ot.subtract(s,this.yAxisPadding())}yAxisMax(){const s=lt.max(this._flattenStack(),d=>d.y>0?d.y+d.y0:d.y0);return Ot.add(s,this.yAxisPadding())}_flattenStack(){const s=this.data().map(d=>d.domainValues);return[].concat(...s)}xAxisMin(){const s=lt.min(this._flattenStack(),Ht("x"));return Ot.subtract(s,this.xAxisPadding(),this.xAxisPaddingUnit())}xAxisMax(){const s=lt.max(this._flattenStack(),Ht("x"));return Ot.add(s,this.xAxisPadding(),this.xAxisPaddingUnit())}title(s,d){return s?typeof s=="function"?super.title(s):s===this._groupName&&typeof d=="function"?super.title(d):typeof d!="function"?this._titles[s]||super.title():(this._titles[s]=d,this):super.title()}stackLayout(s){return arguments.length?(this._stackLayout=s,this):this._stackLayout}evadeDomainFilter(s){return arguments.length?(this._evadeDomainFilter=s,this):this._evadeDomainFilter}_visibility(s){return!s.hidden}_ordinalXDomain(){const s=this._flattenStack().map(Ht("data"));return this._computeOrderedGroups(s).map(this.keyAccessor())}legendables(){return this._stack.map((s,d)=>({chart:this,name:s.name,hidden:s.hidden||!1,color:this.getColor.call(s,s.values,d)}))}isLegendableHidden(s){const d=this._findLayerByName(s.name);return d?d.hidden:!1}legendToggle(s){this._hidableStacks&&(this.isLegendableHidden(s)?this.showStack(s.name):this.hideStack(s.name),this.renderGroup())}}const aa=1,Os=2,sa=3;class Ka extends ia{constructor(s,d){super();this._gap=Os,this._centerBar=!1,this._alwaysUseRounding=!1,this._barWidth=void 0,this.label(b=>Ot.printSingleValue(b.y0+b.y),!1),this.anchor(s,d)}outerPadding(s){return arguments.length?this._outerRangeBandPadding(s):this._outerRangeBandPadding()}rescale(){return super.rescale(),this._barWidth=void 0,this}render(){return this.round()&&this._centerBar&&!this._alwaysUseRounding&&Q.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),super.render()}plotData(){let s=this.chartBodyG().selectAll("g.stack").data(this.data());this._calculateBarWidth(),s=s.enter().append("g").attr("class",(b,T)=>`stack _${T}`).merge(s);const d=s.size()-1;{const b=this;s.each(function(T,Y){const q=mt.select(this);b._renderBars(q,Y,T),b.renderLabel()&&d===Y&&b._renderLabels(q,Y,T)})}}_barHeight(s){return Ot.safeNumber(Math.abs(this.y()(s.y+s.y0)-this.y()(s.y0)))}_labelXPos(s){let d=this.x()(s.x);return this._centerBar||(d+=this._barWidth/2),this.isOrdinal()&&this._gap!==void 0&&(d+=this._gap/2),Ot.safeNumber(d)}_labelYPos(s){let d=this.y()(s.y+s.y0);return s.y<0&&(d-=this._barHeight(s)),Ot.safeNumber(d-sa)}_renderLabels(s,d,b){const T=s.selectAll("text.barLabel").data(b.values,Ht("x")),Y=T.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",q=>this._labelXPos(q)).attr("y",q=>this._labelYPos(q)).merge(T);this.isOrdinal()&&(Y.on("click",G.eventHandler(q=>this.onClick(q))),Y.attr("cursor","pointer")),M(Y,this.transitionDuration(),this.transitionDelay()).attr("x",q=>this._labelXPos(q)).attr("y",q=>this._labelYPos(q)).text(q=>this.label()(q)),M(T.exit(),this.transitionDuration(),this.transitionDelay()).attr("height",0).remove()}_barXPos(s){let d=this.x()(s.x);return this._centerBar&&(d-=this._barWidth/2),this.isOrdinal()&&this._gap!==void 0&&(d+=this._gap/2),Ot.safeNumber(d)}_renderBars(s,d,b){const T=s.selectAll("rect.bar").data(b.values,Ht("x")),Y=T.enter().append("rect").attr("class","bar").classed("dc-tabbable",this._keyboardAccessible).attr("fill",Ht("data",this.getColor)).attr("x",Vt=>this._barXPos(Vt)).attr("y",this.yAxisHeight()).attr("height",0),q=Y.merge(T);this.renderTitle()&&Y.append("title").text(Ht("data",this.title(b.name))),this.isOrdinal()&&q.on("click",G.eventHandler(Vt=>this.onClick(Vt))),this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick),M(q,this.transitionDuration(),this.transitionDelay()).attr("x",Vt=>this._barXPos(Vt)).attr("y",Vt=>{let le=this.y()(Vt.y+Vt.y0);return Vt.y<0&&(le-=this._barHeight(Vt)),Ot.safeNumber(le)}).attr("width",this._barWidth).attr("height",Vt=>this._barHeight(Vt)).attr("fill",Ht("data",this.getColor)).select("title").text(Ht("data",this.title(b.name))),M(T.exit(),this.transitionDuration(),this.transitionDelay()).attr("x",Vt=>this.x()(Vt.x)).attr("width",this._barWidth*.9).remove()}_calculateBarWidth(){if(this._barWidth===void 0){const s=this.xUnitCount();this.isOrdinal()&&this._gap===void 0?this._barWidth=Math.floor(this.x().bandwidth()):this._gap?this._barWidth=Math.floor((this.xAxisLength()-(s-1)*this._gap)/s):this._barWidth=Math.floor(this.xAxisLength()/(1+this.barPadding())/s),(this._barWidth===Infinity||isNaN(this._barWidth)||this._barWidth<aa)&&(this._barWidth=aa)}}fadeDeselectedArea(s){const d=this.chartBodyG().selectAll("rect.bar");if(this.isOrdinal())this.hasFilter()?(d.classed($t.SELECTED_CLASS,b=>this.hasFilter(b.x)),d.classed($t.DESELECTED_CLASS,b=>!this.hasFilter(b.x))):(d.classed($t.SELECTED_CLASS,!1),d.classed($t.DESELECTED_CLASS,!1));else if(this.brushOn()||this.parentBrushOn())if(this.brushIsEmpty(s))d.classed($t.DESELECTED_CLASS,!1);else{const b=s[0],T=s[1];d.classed($t.DESELECTED_CLASS,Y=>Y.x<b||Y.x>=T)}}centerBar(s){return arguments.length?(this._centerBar=s,this):this._centerBar}onClick(s){super.onClick(s.data)}barPadding(s){return arguments.length?(this._rangeBandPadding(s),this._gap=void 0,this):this._rangeBandPadding()}_useOuterPadding(){return this._gap===void 0}gap(s){return arguments.length?(this._gap=s,this):this._gap}extendBrush(s){return s&&this.round()&&(!this._centerBar||this._alwaysUseRounding)&&(s[0]=this.round()(s[0]),s[1]=this.round()(s[1])),s}alwaysUseRounding(s){return arguments.length?(this._alwaysUseRounding=s,this):this._alwaysUseRounding}legendHighlight(s){const d=(b,T)=>function(){const q=mt.select(this).attr("fill")===b;return T?!q:q};this.isLegendableHidden(s)||this.g().selectAll("rect.bar").classed("highlight",d(s.color)).classed("fadeout",d(s.color,!0))}legendReset(){this.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)}xAxisMax(){let s=super.xAxisMax();return"resolution"in this.xUnits()&&(s+=this.xUnits().resolution),s}}const Ca=(k,s)=>new Ka(k,s);function Ma(k){return s=>{const d=s.quartiles[0],b=s.quartiles[2],T=(b-d)*k;let Y=-1,q=s.length;do++Y;while(s[Y]<d-T);do--q;while(s[q]>b+T);return[Y,q]}}class $i extends vr{constructor(s,d){super();this._whiskerIqrFactor=1.5,this._whiskersIqr=Ma,this._whiskers=this._whiskersIqr(this._whiskerIqrFactor),this._box=Ts(),this._tickFormat=null,this._renderDataPoints=!1,this._dataOpacity=.3,this._dataWidthPortion=.8,this._showOutliers=!0,this._boldOutlier=!1,this._yRangePadding=8,this._boxWidth=(b,T)=>this.isOrdinal()?this.x().bandwidth():b/(1+this.boxPadding())/T,this.x(Et.scaleBand()),this.xUnits(rn.ordinal),this.data(b=>b.all().map(T=>(T.map=Y=>Y.call(T,T),T)).filter(T=>this.valueAccessor()(T).length!==0)),this.boxPadding(.8),this.outerPadding(.5),this.anchor(s,d)}boxPadding(s){return arguments.length?this._rangeBandPadding(s):this._rangeBandPadding()}outerPadding(s){return arguments.length?this._outerRangeBandPadding(s):this._outerRangeBandPadding()}boxWidth(s){return arguments.length?(this._boxWidth=typeof s=="function"?s:Ot.constant(s),this):this._boxWidth}_boxTransform(s,d){return`translate(${this.x()(this.keyAccessor()(s,d))}, 0)`}_preprocessData(){this.elasticX()&&this.x().domain([])}plotData(){this._calculatedBoxWidth=this._boxWidth(this.effectiveWidth(),this.xUnitCount()),this._box.whiskers(this._whiskers).width(this._calculatedBoxWidth).height(this.effectiveHeight()).value(this.valueAccessor()).domain(this.y().domain()).duration(this.transitionDuration()).tickFormat(this._tickFormat).renderDataPoints(this._renderDataPoints).dataOpacity(this._dataOpacity).dataWidthPortion(this._dataWidthPortion).renderTitle(this.renderTitle()).showOutliers(this._showOutliers).boldOutlier(this._boldOutlier);const s=this.chartBodyG().selectAll("g.box").data(this.data(),this.keyAccessor()),d=this._renderBoxes(s);this._updateBoxes(d),this._removeBoxes(s),this.fadeDeselectedArea(this.filter())}_renderBoxes(s){const d=s.enter().append("g");return d.attr("class","box").classed("dc-tabbable",this._keyboardAccessible).attr("transform",(b,T)=>this._boxTransform(b,T)).call(this._box).on("click",G.eventHandler(b=>{this.filter(this.keyAccessor()(b)),this.redrawGroup()})).selectAll("circle").classed("dc-tabbable",this._keyboardAccessible),this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick),d.merge(s)}_updateBoxes(s){const d=this;M(s,this.transitionDuration(),this.transitionDelay()).attr("transform",(b,T)=>this._boxTransform(b,T)).call(this._box).each(function(b){const T=d.getColor(b,0);mt.select(this).select("rect.box").attr("fill",T),mt.select(this).selectAll("circle.data").attr("fill",T)})}_removeBoxes(s){s.exit().remove().call(this._box)}_minDataValue(){return lt.min(this.data(),s=>lt.min(this.valueAccessor()(s)))}_maxDataValue(){return lt.max(this.data(),s=>lt.max(this.valueAccessor()(s)))}_yAxisRangeRatio(){return(this._maxDataValue()-this._minDataValue())/this.effectiveHeight()}onClick(s){this.filter(this.keyAccessor()(s)),this.redrawGroup()}fadeDeselectedArea(s){const d=this;if(this.hasFilter())if(this.isOrdinal())this.g().selectAll("g.box").each(function(b){d.isSelectedNode(b)?d.highlightSelected(this):d.fadeDeselected(this)});else{if(!(this.brushOn()||this.parentBrushOn()))return;const b=s[0],T=s[1];this.g().selectAll("g.box").each(function(Y){const q=d.keyAccessor()(Y);q<b||q>=T?d.fadeDeselected(this):d.highlightSelected(this)})}else this.g().selectAll("g.box").each(function(){d.resetHighlight(this)})}isSelectedNode(s){return this.hasFilter(this.keyAccessor()(s))}yAxisMin(){const s=this._yRangePadding*this._yAxisRangeRatio();return Ot.subtract(this._minDataValue()-s,this.yAxisPadding())}yAxisMax(){const s=this._yRangePadding*this._yAxisRangeRatio();return Ot.add(this._maxDataValue()+s,this.yAxisPadding())}tickFormat(s){return arguments.length?(this._tickFormat=s,this):this._tickFormat}yRangePadding(s){return arguments.length?(this._yRangePadding=s,this):this._yRangePadding}renderDataPoints(s){return arguments.length?(this._renderDataPoints=s,this):this._renderDataPoints}dataOpacity(s){return arguments.length?(this._dataOpacity=s,this):this._dataOpacity}dataWidthPortion(s){return arguments.length?(this._dataWidthPortion=s,this):this._dataWidthPortion}showOutliers(s){return arguments.length?(this._showOutliers=s,this):this._showOutliers}boldOutlier(s){return arguments.length?(this._boldOutlier=s,this):this._boldOutlier}}const ja=(k,s)=>new $i(k,s);class Ta extends Un(vr){constructor(s,d){super();this.transitionDuration(750),this.transitionDelay(0),this.anchor(s,d)}_bubbleLocator(s){return`translate(${this._bubbleX(s)},${this._bubbleY(s)})`}plotData(){this.calculateRadiusDomain(),this.r().range([this.MIN_RADIUS,this.xAxisLength()*this.maxBubbleRelativeSize()]);const s=this.data();let d=this.chartBodyG().selectAll(`g.${this.BUBBLE_NODE_CLASS}`).data(s,b=>b.key);(this.sortBubbleSize()||this.keyboardAccessible())&&d.order(),this._removeNodes(d),d=this._renderNodes(d),this._updateNodes(d),this.fadeDeselectedArea(this.filter())}_renderNodes(s){const d=s.enter().append("g");return d.attr("class",this.BUBBLE_NODE_CLASS).attr("transform",b=>this._bubbleLocator(b)).append("circle").attr("class",(b,T)=>`${this.BUBBLE_CLASS} _${T}`).on("click",G.eventHandler(b=>this.onClick(b))).classed("dc-tabbable",this._keyboardAccessible).attr("fill",this.getColor).attr("r",0),s=d.merge(s),M(s,this.transitionDuration(),this.transitionDelay()).select(`circle.${this.BUBBLE_CLASS}`).attr("r",b=>this.bubbleR(b)).attr("opacity",b=>this.bubbleR(b)>0?1:0),this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick),this._doRenderLabel(d),this._doRenderTitles(d),s}_updateNodes(s){M(s,this.transitionDuration(),this.transitionDelay()).attr("transform",d=>this._bubbleLocator(d)).select(`circle.${this.BUBBLE_CLASS}`).attr("fill",this.getColor).attr("r",d=>this.bubbleR(d)).attr("opacity",d=>this.bubbleR(d)>0?1:0),this.doUpdateLabels(s),this.doUpdateTitles(s)}_removeNodes(s){s.exit().remove()}_bubbleX(s){let d=this.x()(this.keyAccessor()(s));return(isNaN(d)||!isFinite(d))&&(d=0),d}_bubbleY(s){let d=this.y()(this.valueAccessor()(s));return(isNaN(d)||!isFinite(d))&&(d=0),d}renderBrush(){}redrawBrush(s,d){this.fadeDeselectedArea(s)}}const Ko=(k,s)=>new Ta(k,s),Rs="bubble-overlay",jo="node",Gi="bubble";class Es extends Un(pn){constructor(s,d){super();this._g=void 0,this._points=[],this._keyboardAccessible=!1,this.transitionDuration(750),this.transitionDelay(0),this.radiusValueAccessor(b=>b.value),this.anchor(s,d)}point(s,d,b){return this._points.push({name:s,x:d,y:b}),this}_doRender(){return this._g=this._initOverlayG(),this.r().range([this.MIN_RADIUS,this.width()*this.maxBubbleRelativeSize()]),this._initializeBubbles(),this.fadeDeselectedArea(this.filter()),this}_initOverlayG(){return this._g=this.select(`g.${Rs}`),this._g.empty()&&(this._g=this.svg().append("g").attr("class",Rs)),this._g}_initializeBubbles(){const s=this._mapData();this.calculateRadiusDomain(),this._points.forEach(d=>{const b=this._getNodeG(d,s);let T=b.select(`circle.${Gi}`);T.empty()&&(T=b.append("circle").attr("class",Gi).classed("dc-tabbable",this._keyboardAccessible).attr("r",0).attr("fill",this.getColor).on("click",G.eventHandler(Y=>this.onClick(Y)))),this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick),M(T,this.transitionDuration(),this.transitionDelay()).attr("r",Y=>this.bubbleR(Y)),this._doRenderLabel(b),this._doRenderTitles(b)})}_mapData(){const s={};return this.data().forEach(d=>{s[this.keyAccessor()(d)]=d}),s}_getNodeG(s,d){const b=`${jo} ${Ot.nameToId(s.name)}`;let T=this._g.select(`g.${Ot.nameToId(s.name)}`);return T.empty()&&(T=this._g.append("g").attr("class",b).attr("transform",`translate(${s.x},${s.y})`)),T.datum(d[s.name]),T}_doRedraw(){return this._updateBubbles(),this.fadeDeselectedArea(this.filter()),this}_updateBubbles(){const s=this._mapData();this.calculateRadiusDomain(),this._points.forEach(d=>{const b=this._getNodeG(d,s),T=b.select(`circle.${Gi}`);M(T,this.transitionDuration(),this.transitionDelay()).attr("r",Y=>this.bubbleR(Y)).attr("fill",this.getColor),this.doUpdateLabels(b),this.doUpdateTitles(b)})}debug(s){if(s){let d=this.select(`g.${$t.DEBUG_GROUP_CLASS}`);d.empty()&&(d=this.svg().append("g").attr("class",$t.DEBUG_GROUP_CLASS));const b=d.append("text").attr("x",10).attr("y",20);d.append("rect").attr("width",this.width()).attr("height",this.height()).on("mousemove",G.eventHandler((T,Y)=>{const q=G.pointer(Y,d.node()),Vt=`${q[0]}, ${q[1]}`;b.text(Vt)}))}else this.selectAll(".debug").remove();return this}}const oa=(k,s)=>new Es(k,s),ll="dc-cbox-group",Ds="dc-cbox-item";class Ps extends pn{constructor(s,d){super();this._cbox=void 0,this._promptText="Select all",this._multiple=!1,this._inputType="radio",this._promptValue=null,this._uniqueId=Ot.uniqueId(),this.data(b=>b.all().filter(this._filterDisplayed)),this._filterDisplayed=b=>this.valueAccessor()(b)>0,this._order=(b,T)=>this.keyAccessor()(b)>this.keyAccessor()(T)?1:this.keyAccessor()(b)<this.keyAccessor()(T)?-1:0,this.anchor(s,d)}_doRender(){return this._doRedraw()}_doRedraw(){return this.select("ul").remove(),this._cbox=this.root().append("ul").classed(ll,!0),this._renderOptions(),this.hasFilter()&&this._multiple?this._cbox.selectAll("input").property("checked",s=>s&&this.filters().indexOf(String(this.keyAccessor()(s)))>=0||!1):this.hasFilter()&&this._cbox.selectAll("input").property("checked",s=>s?this.keyAccessor()(s)===this.filter():!1),this}_renderOptions(){let s=this._cbox.selectAll(`li.${Ds}`).data(this.data(),b=>this.keyAccessor()(b));s.exit().remove(),s=s.enter().append("li").classed(Ds,!0).merge(s),s.append("input").attr("type",this._inputType).attr("value",b=>this.keyAccessor()(b)).attr("name",`domain_${this._uniqueId}`).attr("id",(b,T)=>`input_${this._uniqueId}_${T}`),s.append("label").attr("for",(b,T)=>`input_${this._uniqueId}_${T}`).text(this.title());const d=this;if(this._multiple)this._cbox.append("li").append("input").attr("type","reset").text(this._promptText).on("click",G.eventHandler(function(b,T){return d._onChange(b,T,this)}));else{const b=this._cbox.append("li");b.append("input").attr("type",this._inputType).attr("value",this._promptValue).attr("name",`domain_${this._uniqueId}`).attr("id",(T,Y)=>`input_${this._uniqueId}_all`).property("checked",!0),b.append("label").attr("for",(T,Y)=>`input_${this._uniqueId}_all`).text(this._promptText)}return this._cbox.selectAll(`li.${Ds}`).sort(this._order),this._cbox.on("change",G.eventHandler(function(b,T){return d._onChange(b,T,this)})),s}_onChange(s,d,b){let T;const Y=mt.select(d.target);let q;Y.datum()?(q=mt.select(b).selectAll("input").filter(function(Vt){if(Vt)return this.checked}),T=q.nodes().map(Vt=>Vt.value),!this._multiple&&T.length===1&&(T=T[0])):T=this._promptValue||null,this.onChange(T)}onChange(s){s&&this._multiple?this.replaceFilter([s]):s?this.replaceFilter(s):this.filterAll(),ct.trigger(()=>{this.redrawGroup()})}order(s){return arguments.length?(this._order=s,this):this._order}promptText(s){return arguments.length?(this._promptText=s,this):this._promptText}filterDisplayed(s){return arguments.length?(this._filterDisplayed=s,this):this._filterDisplayed}multiple(s){return arguments.length?(this._multiple=s,this._multiple?this._inputType="checkbox":this._inputType="radio",this):this._multiple}promptValue(s){return arguments.length?(this._promptValue=s,this):this._promptValue}}const Jo=(k,s)=>new Ps(k,s),cl="sub",ui=12;class Jr extends vr{constructor(s,d){super();this._children=[],this._childOptions={},this._shareColors=!1,this._shareTitle=!0,this._alignYAxes=!1,this._rightYAxis=re.axisRight(),this._rightYAxisLabel=0,this._rightYAxisLabelPadding=ui,this._rightY=void 0,this._rightAxisGridLines=!1,this._mandatoryAttributes([]),this.transitionDuration(500),this.transitionDelay(0),this.on("filtered.dcjs-composite-chart",b=>{for(let T=0;T<this._children.length;++T)this._children[T].replaceFilter(this.filter())}),this.anchor(s,d)}_generateG(){const s=super._generateG();for(let d=0;d<this._children.length;++d){const b=this._children[d];this._generateChildG(b,d),b.dimension()||b.dimension(this.dimension()),b.group()||b.group(this.group()),b.chartGroup(this.chartGroup()),b.svg(this.svg()),b.xUnits(this.xUnits()),b.transitionDuration(this.transitionDuration(),this.transitionDelay()),b.parentBrushOn(this.brushOn()),b.brushOn(!1),b.renderTitle(this.renderTitle()),b.elasticX(this.elasticX())}return s}rescale(){return super.rescale(),this._children.forEach(s=>{s.rescale()}),this}resizing(s){return arguments.length?(super.resizing(s),this._children.forEach(d=>{d.resizing(s)}),this):super.resizing()}_prepareYAxis(){const s=this._leftYAxisChildren().length!==0,d=this._rightYAxisChildren().length!==0,b=this._calculateYAxisRanges(s,d);s&&this._prepareLeftYAxis(b),d&&this._prepareRightYAxis(b),this._leftYAxisChildren().length>0&&!this._rightAxisGridLines?this._renderHorizontalGridLinesForAxis(this.g(),this.y(),this.yAxis()):this._rightYAxisChildren().length>0&&this._renderHorizontalGridLinesForAxis(this.g(),this._rightY,this._rightYAxis)}renderYAxis(){this._leftYAxisChildren().length!==0&&(this.renderYAxisAt("y",this.yAxis(),this.margins().left),this.renderYAxisLabel("y",this.yAxisLabel(),-90)),this._rightYAxisChildren().length!==0&&(this.renderYAxisAt("yr",this.rightYAxis(),this.width()-this.margins().right),this.renderYAxisLabel("yr",this.rightYAxisLabel(),90,this.width()-this._rightYAxisLabelPadding))}_calculateYAxisRanges(s,d){let b,T,Y,q,Vt;return s&&(b=this._yAxisMin(),T=this._yAxisMax()),d&&(Y=this._rightYAxisMin(),q=this._rightYAxisMax()),this.alignYAxes()&&s&&d&&(Vt=this._alignYAxisRanges(b,T,Y,q)),Vt||{lyAxisMin:b,lyAxisMax:T,ryAxisMin:Y,ryAxisMax:q}}_alignYAxisRanges(s,d,b,T){const Y=(T-b)/(d-s);return{lyAxisMin:Math.min(s,b/Y),lyAxisMax:Math.max(d,T/Y),ryAxisMin:Math.min(b,s*Y),ryAxisMax:Math.max(T,d*Y)}}_prepareRightYAxis(s){const d=this.rightY()===void 0||this.elasticY(),b=d||this.resizing();this.rightY()===void 0&&this.rightY(Et.scaleLinear()),d&&this.rightY().domain([s.ryAxisMin,s.ryAxisMax]),b&&this.rightY().rangeRound([this.yAxisHeight(),0]),this.rightY().range([this.yAxisHeight(),0]),this.rightYAxis(this.rightYAxis().scale(this.rightY()))}_prepareLeftYAxis(s){const d=this.y()===void 0||this.elasticY(),b=d||this.resizing();this.y()===void 0&&this.y(Et.scaleLinear()),d&&this.y().domain([s.lyAxisMin,s.lyAxisMax]),b&&this.y().rangeRound([this.yAxisHeight(),0]),this.y().range([this.yAxisHeight(),0]),this.yAxis(this.yAxis().scale(this.y()))}_generateChildG(s,d){s._generateG(this.g()),s.g().attr("class",`${cl} _${d}`)}plotData(){for(let s=0;s<this._children.length;++s){const d=this._children[s];d.g()||this._generateChildG(d,s),this._shareColors&&d.colors(this.colors()),d.x(this.x()),d.xAxis(this.xAxis()),d.useRightYAxis()?(d.y(this.rightY()),d.yAxis(this.rightYAxis())):(d.y(this.y()),d.yAxis(this.yAxis())),d.plotData(),d._activateRenderlets()}}useRightAxisGridLines(s){return arguments?(this._rightAxisGridLines=s,this):this._rightAxisGridLines}childOptions(s){return arguments.length?(this._childOptions=s,this._children.forEach(d=>{d.options(this._childOptions)}),this):this._childOptions}fadeDeselectedArea(s){if(this.brushOn())for(let d=0;d<this._children.length;++d)this._children[d].fadeDeselectedArea(s)}rightYAxisLabel(s,d){return arguments.length?(this._rightYAxisLabel=s,this.margins().right-=this._rightYAxisLabelPadding,this._rightYAxisLabelPadding=d===void 0?ui:d,this.margins().right+=this._rightYAxisLabelPadding,this):this._rightYAxisLabel}compose(s){return this._children=s,this._children.forEach(d=>{d.height(this.height()),d.width(this.width()),d.margins(this.margins()),this._shareTitle&&d.title(this.title()),d.options(this._childOptions)}),this.rescale(),this}_setChildrenProperty(s,d){this._children.forEach(b=>{b[s](d)})}height(s){return arguments.length?(super.height(s),this._setChildrenProperty("height",s),this):super.height()}width(s){return arguments.length?(super.width(s),this._setChildrenProperty("width",s),this):super.width()}margins(s){return arguments.length?(super.margins(s),this._setChildrenProperty("margins",s),this):super.margins()}children(){return this._children}shareColors(s){return arguments.length?(this._shareColors=s,this):this._shareColors}shareTitle(s){return arguments.length?(this._shareTitle=s,this):this._shareTitle}rightY(s){return arguments.length?(this._rightY=s,this.rescale(),this):this._rightY}alignYAxes(s){return arguments.length?(this._alignYAxes=s,this.rescale(),this):this._alignYAxes}_leftYAxisChildren(){return this._children.filter(s=>!s.useRightYAxis())}_rightYAxisChildren(){return this._children.filter(s=>s.useRightYAxis())}_getYAxisMin(s){return s.map(d=>d.yAxisMin())}_yAxisMin(){return lt.min(this._getYAxisMin(this._leftYAxisChildren()))}_rightYAxisMin(){return lt.min(this._getYAxisMin(this._rightYAxisChildren()))}_getYAxisMax(s){return s.map(d=>d.yAxisMax())}_yAxisMax(){return Ot.add(lt.max(this._getYAxisMax(this._leftYAxisChildren())),this.yAxisPadding())}_rightYAxisMax(){return Ot.add(lt.max(this._getYAxisMax(this._rightYAxisChildren())),this.yAxisPadding())}_getAllXAxisMinFromChildCharts(){return this._children.map(s=>s.xAxisMin())}xAxisMin(){return Ot.subtract(lt.min(this._getAllXAxisMinFromChildCharts()),this.xAxisPadding(),this.xAxisPaddingUnit())}_getAllXAxisMaxFromChildCharts(){return this._children.map(s=>s.xAxisMax())}xAxisMax(){return Ot.add(lt.max(this._getAllXAxisMaxFromChildCharts()),this.xAxisPadding(),this.xAxisPaddingUnit())}legendables(){return this._children.reduce((s,d)=>(this._shareColors&&d.colors(this.colors()),s.push.apply(s,d.legendables()),s),[])}legendHighlight(s){for(let d=0;d<this._children.length;++d)this._children[d].legendHighlight(s)}legendReset(s){for(let d=0;d<this._children.length;++d)this._children[d].legendReset(s)}legendToggle(){console.log("composite should not be getting legendToggle itself")}rightYAxis(s){return arguments.length?(this._rightYAxis=s,this):this._rightYAxis}yAxisMin(){throw new Error("Not supported for this chart type")}yAxisMax(){throw new Error("Not supported for this chart type")}}const fl=(k,s)=>new Jr(k,s);class so extends pn{constructor(s,d){super();this._formatNumber=me.format(",d"),this._crossfilter=null,this._groupAll=null,this._html={some:"",all:""},this._mandatoryAttributes(["crossfilter","groupAll"]),this.anchor(s,d)}html(s){return arguments.length?(s.all&&(this._html.all=s.all),s.some&&(this._html.some=s.some),this):this._html}formatNumber(s){return arguments.length?(this._formatNumber=s,this):this._formatNumber}_doRender(){const s=this.crossfilter().size(),d=this.groupAll().value(),b=this._formatNumber(s),T=this._formatNumber(d);return s===d&&this._html.all!==""?this.root().html(this._html.all.replace("%total-count",b).replace("%filter-count",T)):this._html.some!==""?this.root().html(this._html.some.replace("%total-count",b).replace("%filter-count",T)):(this.selectAll(".total-count").text(b),this.selectAll(".filter-count").text(T)),this}_doRedraw(){return this._doRender()}crossfilter(s){return arguments.length?(this._crossfilter=s,this):this._crossfilter}dimension(s){return Q.warnOnce("consider using dataCount.crossfilter instead of dataCount.dimension for clarity"),arguments.length?this.crossfilter(s):this.crossfilter()}groupAll(s){return arguments.length?(this._groupAll=s,this):this._groupAll}group(s){return Q.warnOnce("consider using dataCount.groupAll instead of dataCount.group for clarity"),arguments.length?this.groupAll(s):this.groupAll()}}const hl=(k,s)=>new so(k,s),Oa="dc-grid-label",Xi="dc-grid-item",dl="dc-grid-section dc-grid-group",ks="dc-grid-top";class Qo extends pn{constructor(s,d){super();this._section=null,this._size=999,this._html=function(b){return`you need to provide an html() handling param:  ${JSON.stringify(b)}`},this._sortBy=function(b){return b},this._order=lt.ascending,this._beginSlice=0,this._endSlice=void 0,this._htmlSection=b=>`<div class='${dl}'><h1 class='${Oa}'>${this.keyAccessor()(b)}</h1></div>`,this._mandatoryAttributes(["dimension","section"]),this.anchor(s,d)}_doRender(){return this.selectAll(`div.${ks}`).remove(),this._renderItems(this._renderSections()),this}_renderSections(){const s=this.root().selectAll(`div.${ks}`).data(this._nestEntries(),b=>this.keyAccessor()(b)),d=s.enter().append("div").attr("class",ks);return this._htmlSection&&d.html(b=>this._htmlSection(b)),s.exit().remove(),d}_nestEntries(){let s=this.dimension().top(this._size);return s=s.sort((d,b)=>this._order(this._sortBy(d),this._sortBy(b))).slice(this._beginSlice,this._endSlice),G.nester({key:this.section(),sortKeys:this._order,entries:s})}_renderItems(s){let d=s.order().selectAll(`div.${Xi}`).data(b=>b.values);return d.exit().remove(),d=d.enter().append("div").attr("class",Xi).html(b=>this._html(b)).merge(d),d}_doRedraw(){return this._doRender()}section(s){return arguments.length?(this._section=s,this):this._section}group(s){return Q.warnOnce("consider using dataGrid.section instead of dataGrid.group for clarity"),arguments.length?this.section(s):this.section()}beginSlice(s){return arguments.length?(this._beginSlice=s,this):this._beginSlice}endSlice(s){return arguments.length?(this._endSlice=s,this):this._endSlice}size(s){return arguments.length?(this._size=s,this):this._size}html(s){return arguments.length?(this._html=s,this):this._html}htmlSection(s){return arguments.length?(this._htmlSection=s,this):this._htmlSection}htmlGroup(s){return Q.warnOnce("consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity"),arguments.length?this.htmlSection(s):this.htmlSection()}sortBy(s){return arguments.length?(this._sortBy=s,this):this._sortBy}order(s){return arguments.length?(this._order=s,this):this._order}}const oo=(k,s)=>new Qo(k,s),uo="dc-table-label",Ra="dc-table-row",tu="dc-table-column",eu="dc-table-section dc-table-group",Vi="dc-table-head";class nu extends pn{constructor(s,d){super();this._size=25,this._columns=[],this._sortBy=b=>b,this._order=lt.ascending,this._beginSlice=0,this._endSlice=void 0,this._showSections=!0,this._section=()=>"",this._mandatoryAttributes(["dimension"]),this.anchor(s,d)}_doRender(){return this.selectAll("tbody").remove(),this._renderRows(this._renderSections()),this}_doColumnValueFormat(s,d){return typeof s=="function"?s(d):typeof s=="string"?d[s]:s.format(d)}_doColumnHeaderFormat(s){return typeof s=="function"?this._doColumnHeaderFnToString(s):typeof s=="string"?this._doColumnHeaderCapitalize(s):String(s.label)}_doColumnHeaderCapitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}_doColumnHeaderFnToString(s){let d=String(s);const b=d.indexOf("return ");if(b>=0){const T=d.lastIndexOf(";");T>=0&&(d=d.substring(b+7,T),d.indexOf("numberFormat")>=0&&(d=d.replace("numberFormat","")))}return d}_renderSections(){let s=!0;if(this._columns.forEach(T=>{s=s&typeof T=="function"}),!s){let T=this.selectAll("thead").data([0]);T.exit().remove(),T=T.enter().append("thead").merge(T);let Y=T.selectAll("tr").data([0]);Y.exit().remove(),Y=Y.enter().append("tr").merge(Y);const q=Y.selectAll("th").data(this._columns);q.exit().remove(),q.enter().append("th").merge(q).attr("class",Vi).html(Vt=>this._doColumnHeaderFormat(Vt))}const d=this.root().selectAll("tbody").data(this._nestEntries(),T=>this.keyAccessor()(T)),b=d.enter().append("tbody");return this._showSections===!0&&b.append("tr").attr("class",eu).append("td").attr("class",uo).attr("colspan",this._columns.length).html(T=>this.keyAccessor()(T)),d.exit().remove(),b}_nestEntries(){let s;return this._order===lt.ascending?s=this.dimension().bottom(this._size):s=this.dimension().top(this._size),s=s.sort((d,b)=>this._order(this._sortBy(d),this._sortBy(b))).slice(this._beginSlice,this._endSlice),G.nester({key:this.section(),sortKeys:this._order,entries:s})}_renderRows(s){const d=s.order().selectAll(`tr.${Ra}`).data(T=>T.values),b=d.enter().append("tr").attr("class",Ra);return this._columns.forEach((T,Y)=>{b.append("td").attr("class",`${tu} _${Y}`).html(q=>this._doColumnValueFormat(T,q))}),d.exit().remove(),d}_doRedraw(){return this._doRender()}section(s){return arguments.length?(this._section=s,this):this._section}group(s){return Q.warnOnce("consider using dataTable.section instead of dataTable.group for clarity"),arguments.length?this.section(s):this.section()}size(s){return arguments.length?(this._size=s,this):this._size}beginSlice(s){return arguments.length?(this._beginSlice=s,this):this._beginSlice}endSlice(s){return arguments.length?(this._endSlice=s,this):this._endSlice}columns(s){return arguments.length?(this._columns=s,this):this._columns}sortBy(s){return arguments.length?(this._sortBy=s,this):this._sortBy}order(s){return arguments.length?(this._order=s,this):this._order}showSections(s){return arguments.length?(this._showSections=s,this):this._showSections}showGroups(s){return Q.warnOnce("consider using dataTable.showSections instead of dataTable.showGroups for clarity"),arguments.length?this.showSections(s):this.showSections()}}const gl=(k,s)=>new nu(k,s);class ru extends Rn(pn){constructor(s,d){super();this.colorAccessor(b=>b||0),this._geoPath=Yt.geoPath(),this._projectionFlag=void 0,this._projection=void 0,this._geoJsons=[],this.anchor(s,d)}_doRender(){this.resetSvg();for(let s=0;s<this._geoJsons.length;++s){let b=this.svg().append("g").attr("class",`layer${s}`).selectAll(`g.${this._geoJson(s).name}`).data(this._geoJson(s).data);b=b.enter().append("g").attr("class",this._geoJson(s).name).merge(b),b.append("path").classed("dc-tabbable",this._keyboardAccessible).attr("fill","white").attr("d",this._getGeoPath()),b.append("title"),this._plotData(s)}this._projectionFlag=!1}_plotData(s){const d=this._generateLayeredData();if(this._isDataLayer(s)){const b=this._renderRegionG(s);this._renderPaths(b,s,d),this._renderTitles(b,s,d)}}_generateLayeredData(){const s={},d=this.data();for(let b=0;b<d.length;++b)s[this.keyAccessor()(d[b])]=this.valueAccessor()(d[b]);return s}_isDataLayer(s){return this._geoJson(s).keyAccessor}_renderRegionG(s){return this.svg().selectAll(this._layerSelector(s)).classed("selected",b=>this._isSelected(s,b)).classed("deselected",b=>this._isDeselected(s,b)).attr("class",b=>{const T=this._geoJson(s).name,Y=Ot.nameToId(this._geoJson(s).keyAccessor(b));let q=`${T} ${Y}`;return this._isSelected(s,b)&&(q+=" selected"),this._isDeselected(s,b)&&(q+=" deselected"),q})}_layerSelector(s){return`g.layer${s} g.${this._geoJson(s).name}`}_isSelected(s,d){return this.hasFilter()&&this.hasFilter(this._getKey(s,d))}_isDeselected(s,d){return this.hasFilter()&&!this.hasFilter(this._getKey(s,d))}_getKey(s,d){return this._geoJson(s).keyAccessor(d)}_geoJson(s){return this._geoJsons[s]}_renderPaths(s,d,b){const T=s.select("path").attr("fill",function(){const Y=mt.select(this).attr("fill");return Y||"none"}).on("click",G.eventHandler(Y=>this.onClick(Y,d)));this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick,d),M(T,this.transitionDuration(),this.transitionDelay()).attr("fill",(Y,q)=>this.getColor(b[this._geoJson(d).keyAccessor(Y)],q))}onClick(s,d){const b=this._geoJson(d).keyAccessor(s);ct.trigger(()=>{this.filter(b),this.redrawGroup()})}_renderTitles(s,d,b){this.renderTitle()&&s.selectAll("title").text(T=>{const Y=this._getKey(d,T),q=b[Y];return this.title()({key:Y,value:q})})}_doRedraw(){for(let s=0;s<this._geoJsons.length;++s)this._plotData(s),this._projectionFlag&&this.svg().selectAll(`g.${this._geoJson(s).name} path`).attr("d",this._getGeoPath());this._projectionFlag=!1}overlayGeoJson(s,d,b){for(let T=0;T<this._geoJsons.length;++T)if(this._geoJsons[T].name===d)return this._geoJsons[T].data=s,this._geoJsons[T].keyAccessor=b,this;return this._geoJsons.push({name:d,data:s,keyAccessor:b}),this}projection(s){return arguments.length?(this._projection=s,this._projectionFlag=!0,this):this._projection}_getGeoPath(){return this._projection===void 0?(Q.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),this._geoPath.projection(Yt.geoAlbersUsa())):this._geoPath.projection(this._projection)}geoJsons(){return this._geoJsons}geoPath(){return this._geoPath}removeGeoJson(s){const d=[];for(let b=0;b<this._geoJsons.length;++b){const T=this._geoJsons[b];T.name!==s&&d.push(T)}return this._geoJsons=d,this}}const pl=(k,s)=>new ru(k,s),iu=6.75;class au extends Rn(ir){constructor(s,d){super();this._chartBody=void 0,this._cols=void 0,this._rows=void 0,this._colOrdering=lt.ascending,this._rowOrdering=lt.ascending,this._colScale=Et.scaleBand(),this._rowScale=Et.scaleBand(),this._xBorderRadius=iu,this._yBorderRadius=iu,this._mandatoryAttributes(["group"]),this.title(this.colorAccessor()),this._colsLabel=b=>b,this._rowsLabel=b=>b,this._xAxisOnClick=b=>{this._filterAxis(0,b)},this._yAxisOnClick=b=>{this._filterAxis(1,b)},this._boxOnClick=b=>{const T=b.key;ct.trigger(()=>{this.filter(wt.TwoDimensionalFilter(T)),this.redrawGroup()})},this.anchor(s,d)}colsLabel(s){return arguments.length?(this._colsLabel=s,this):this._colsLabel}rowsLabel(s){return arguments.length?(this._rowsLabel=s,this):this._rowsLabel}_filterAxis(s,d){const b=this.selectAll(".box-group").filter(Y=>Y.key[s]===d),T=b.filter(Y=>!this.hasFilter(Y.key));ct.trigger(()=>{const q=(T.empty()?b:T).data().map(Vt=>wt.TwoDimensionalFilter(Vt.key));this.filter([q]),this.redrawGroup()})}filter(s){const d=b=>(Q.warnOnce("heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead"),this._filter(wt.TwoDimensionalFilter(b)));return arguments.length?s!==null&&s.filterType!=="TwoDimensionalFilter"&&!(Array.isArray(s)&&Array.isArray(s[0])&&s[0][0].filterType==="TwoDimensionalFilter")?d(s):super.filter(s):super.filter()}rows(s){return arguments.length?(this._rows=s,this):this._rows}rowOrdering(s){return arguments.length?(this._rowOrdering=s,this):this._rowOrdering}cols(s){return arguments.length?(this._cols=s,this):this._cols}colOrdering(s){return arguments.length?(this._colOrdering=s,this):this._colOrdering}_doRender(){return this.resetSvg(),this._chartBody=this.svg().append("g").attr("class","heatmap").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this._doRedraw()}_doRedraw(){const s=this.data();let d=this.rows()||s.map(this.valueAccessor()),b=this.cols()||s.map(this.keyAccessor());this._rowOrdering&&(d=d.sort(this._rowOrdering)),this._colOrdering&&(b=b.sort(this._colOrdering)),d=this._rowScale.domain(d),b=this._colScale.domain(b);const T=d.domain().length,Y=b.domain().length,q=Math.floor(this.effectiveWidth()/Y),Vt=Math.floor(this.effectiveHeight()/T);b.rangeRound([0,this.effectiveWidth()]),d.rangeRound([this.effectiveHeight(),0]);let le=this._chartBody.selectAll("g.box-group").data(this.data(),(je,Nn)=>`${this.keyAccessor()(je,Nn)}\0${this.valueAccessor()(je,Nn)}`);le.exit().remove();const Ge=le.enter().append("g").attr("class","box-group");Ge.append("rect").attr("class","heat-box").classed("dc-tabbable",this._keyboardAccessible).attr("fill","white").attr("x",(je,Nn)=>b(this.keyAccessor()(je,Nn))).attr("y",(je,Nn)=>d(this.valueAccessor()(je,Nn))).on("click",G.eventHandler(this.boxOnClick())),this._keyboardAccessible&&this._makeKeyboardAccessible(this.boxOnClick),le=Ge.merge(le),this.renderTitle()&&(Ge.append("title"),le.select("title").text(this.title())),M(le.select("rect"),this.transitionDuration(),this.transitionDelay()).attr("x",(je,Nn)=>b(this.keyAccessor()(je,Nn))).attr("y",(je,Nn)=>d(this.valueAccessor()(je,Nn))).attr("rx",this._xBorderRadius).attr("ry",this._yBorderRadius).attr("fill",this.getColor).attr("width",q).attr("height",Vt);let en=this._chartBody.select("g.cols");en.empty()&&(en=this._chartBody.append("g").attr("class","cols axis"));let _n=en.selectAll("text").data(b.domain());_n.exit().remove(),_n=_n.enter().append("text").attr("x",je=>b(je)+q/2).style("text-anchor","middle").attr("y",this.effectiveHeight()).attr("dy",12).on("click",G.eventHandler(this.xAxisOnClick())).text(this.colsLabel()).merge(_n),M(_n,this.transitionDuration(),this.transitionDelay()).text(this.colsLabel()).attr("x",je=>b(je)+q/2).attr("y",this.effectiveHeight());let We=this._chartBody.select("g.rows");We.empty()&&(We=this._chartBody.append("g").attr("class","rows axis"));let Jn=We.selectAll("text").data(d.domain());if(Jn.exit().remove(),Jn=Jn.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",je=>d(je)+Vt/2).attr("dy",6).on("click",G.eventHandler(this.yAxisOnClick())).text(this.rowsLabel()).merge(Jn),M(Jn,this.transitionDuration(),this.transitionDelay()).text(this.rowsLabel()).attr("y",je=>d(je)+Vt/2),this.hasFilter()){const je=this;this.selectAll("g.box-group").each(function(Nn){je.isSelectedNode(Nn)?je.highlightSelected(this):je.fadeDeselected(this)})}else{const je=this;this.selectAll("g.box-group").each(function(){je.resetHighlight(this)})}return this}boxOnClick(s){return arguments.length?(this._boxOnClick=s,this):this._boxOnClick}xAxisOnClick(s){return arguments.length?(this._xAxisOnClick=s,this):this._xAxisOnClick}yAxisOnClick(s){return arguments.length?(this._yAxisOnClick=s,this):this._yAxisOnClick}xBorderRadius(s){return arguments.length?(this._xBorderRadius=s,this):this._xBorderRadius}yBorderRadius(s){return arguments.length?(this._yBorderRadius=s,this):this._yBorderRadius}isSelectedNode(s){return this.hasFilter(s.key)}}const Ns=(k,s)=>new au(k,s);class lo{constructor(){this._htmlLegendDivCssClass="dc-html-legend",this._legendItemCssClassHorizontal="dc-legend-item-horizontal",this._legendItemCssClassVertical="dc-legend-item-vertical",this._parent=void 0,this._container=void 0,this._legendText=Ht("name"),this._maxItems=void 0,this._horizontal=!1,this._legendItemClass=void 0,this._highlightSelected=!1,this._keyboardAccessible=!1}parent(s){return arguments.length?(this._parent=s,this):this._parent}render(){this._defaultLegendItemCssClass=this._horizontal?this._legendItemCssClassHorizontal:this._legendItemCssClassVertical,this._container.select(`div.${this._htmlLegendDivCssClass}`).remove();const s=this._container.append("div").attr("class",this._htmlLegendDivCssClass);s.attr("style",`max-width:${this._container.nodes()[0].style.width}`);let d=this._parent.legendables();const b=this._parent.filters();this._maxItems!==void 0&&(d=d.slice(0,this._maxItems));const T=this._legendItemClass?this._legendItemClass:this._defaultLegendItemCssClass,Y=s.selectAll(`div.${T}`).data(d).enter().append("div").classed(T,!0).on("mouseover",G.eventHandler(q=>this._parent.legendHighlight(q))).on("mouseout",G.eventHandler(q=>this._parent.legendReset(q))).on("click",G.eventHandler(q=>this._parent.legendToggle(q)));this._highlightSelected&&Y.classed($t.SELECTED_CLASS,q=>b.indexOf(q.name)!==-1),Y.append("span").attr("class","dc-legend-item-color").style("background-color",Ht("color")),Y.append("span").attr("class","dc-legend-item-label").classed("dc-tabbable",this._keyboardAccessible).attr("title",this._legendText).text(this._legendText),this._keyboardAccessible&&this._makeLegendKeyboardAccessible()}container(s){return arguments.length?(this._container=mt.select(s),this):this._container}legendItemClass(s){return arguments.length?(this._legendItemClass=s,this):this._legendItemClass}highlightSelected(s){return arguments.length?(this._highlightSelected=s,this):this._highlightSelected}horizontal(s){return arguments.length?(this._horizontal=s,this):this._horizontal}legendText(s){return arguments.length?(this._legendText=s,this):this._legendText}maxItems(s){return arguments.length?(this._maxItems=Ot.isNumber(s)?s:void 0,this):this._maxItems}keyboardAccessible(s){return arguments.length?(this._keyboardAccessible=s,this):this._keyboardAccessible}_makeLegendKeyboardAccessible(){this._parent._svgDescription||(this._parent.svg().append("desc").attr("id",`desc-id-${this._parent.__dcFlag__}`).html(`${this._parent.svgDescription()}`),this._parent.svg().attr("tabindex","0").attr("role","img").attr("aria-labelledby",`desc-id-${this._parent.__dcFlag__}`)),this.container().selectAll(".dc-legend-item-label.dc-tabbable").attr("tabindex",0).on("keydown",G.eventHandler((d,b)=>{b.keyCode===13&&typeof d=="object"&&d.chart.legendToggle(d),b.keyCode===32&&typeof d=="object"&&(d.chart.legendToggle(d),b.preventDefault())})).on("focus",G.eventHandler(d=>{this._parent.legendHighlight(d)})).on("blur",G.eventHandler(d=>{this._parent.legendReset(d)}))}}const Ja=()=>new lo,su=2;class Qa{constructor(){this._parent=void 0,this._x=0,this._y=0,this._itemHeight=12,this._gap=5,this._horizontal=!1,this._legendWidth=560,this._itemWidth=70,this._autoItemWidth=!1,this._legendText=Ht("name"),this._maxItems=void 0,this._highlightSelected=!1,this._keyboardAccessible=!1,this._g=void 0}parent(s){return arguments.length?(this._parent=s,this):this._parent}x(s){return arguments.length?(this._x=s,this):this._x}y(s){return arguments.length?(this._y=s,this):this._y}gap(s){return arguments.length?(this._gap=s,this):this._gap}highlightSelected(s){return arguments.length?(this._highlightSelected=s,this):this._highlightSelected}itemHeight(s){return arguments.length?(this._itemHeight=s,this):this._itemHeight}horizontal(s){return arguments.length?(this._horizontal=s,this):this._horizontal}legendWidth(s){return arguments.length?(this._legendWidth=s,this):this._legendWidth}itemWidth(s){return arguments.length?(this._itemWidth=s,this):this._itemWidth}autoItemWidth(s){return arguments.length?(this._autoItemWidth=s,this):this._autoItemWidth}legendText(s){return arguments.length?(this._legendText=s,this):this._legendText}maxItems(s){return arguments.length?(this._maxItems=Ot.isNumber(s)?s:void 0,this):this._maxItems}keyboardAccessible(s){return arguments.length?(this._keyboardAccessible=s,this):this._keyboardAccessible}_legendItemHeight(){return this._gap+this._itemHeight}_makeLegendKeyboardAccessible(){this._parent._svgDescription||(this._parent.svg().append("desc").attr("id",`desc-id-${this._parent.__dcFlag__}`).html(`${this._parent.svgDescription()}`),this._parent.svg().attr("tabindex","0").attr("role","img").attr("aria-labelledby",`desc-id-${this._parent.__dcFlag__}`)),this._parent.svg().selectAll(".dc-legend .dc-tabbable").attr("tabindex",0).on("keydown",G.eventHandler((d,b)=>{b.keyCode===13&&typeof d=="object"&&d.chart.legendToggle(d),b.keyCode===32&&typeof d=="object"&&(d.chart.legendToggle(d),b.preventDefault())})).on("focus",G.eventHandler(d=>{this._parent.legendHighlight(d)})).on("blur",G.eventHandler(d=>{this._parent.legendReset(d)}))}render(){this._parent.svg().select("g.dc-legend").remove(),this._g=this._parent.svg().append("g").attr("class","dc-legend").attr("transform",`translate(${this._x},${this._y})`);let s=this._parent.legendables();const d=this._parent.filters();this._maxItems!==void 0&&(s=s.slice(0,this._maxItems));const b=this._g.selectAll("g.dc-legend-item").data(s).enter().append("g").attr("class","dc-legend-item").on("mouseover",G.eventHandler(q=>{this._parent.legendHighlight(q)})).on("mouseout",G.eventHandler(q=>{this._parent.legendReset(q)})).on("click",G.eventHandler(q=>{q.chart.legendToggle(q)}));this._highlightSelected&&b.classed($t.SELECTED_CLASS,q=>d.indexOf(q.name)!==-1),this._g.selectAll("g.dc-legend-item").classed("fadeout",q=>q.chart.isLegendableHidden(q)),s.some(Ht("dashstyle"))?b.append("line").attr("x1",0).attr("y1",this._itemHeight/2).attr("x2",this._itemHeight).attr("y2",this._itemHeight/2).attr("stroke-width",2).attr("stroke-dasharray",Ht("dashstyle")).attr("stroke",Ht("color")):b.append("rect").attr("width",this._itemHeight).attr("height",this._itemHeight).attr("fill",q=>q?q.color:"blue");{const q=this;b.append("text").text(q._legendText).classed("dc-tabbable",this._keyboardAccessible).attr("x",q._itemHeight+su).attr("y",function(){return q._itemHeight/2+(this.clientHeight?this.clientHeight:13)/2-2}),this._keyboardAccessible&&this._makeLegendKeyboardAccessible()}let T=0,Y=0;{const q=this;b.attr("transform",function(Vt,le){if(q._horizontal){const Ge=q._autoItemWidth===!0?this.getBBox().width+q._gap:q._itemWidth;T+Ge>q._legendWidth&&T>0&&(++Y,T=0);const en=`translate(${T},${Y*q._legendItemHeight()})`;return T+=Ge,en}else return`translate(0,${le*q._legendItemHeight()})`})}}}const _l=()=>new Qa,Ls=5,Ea="dc-tooltip",zs="dot",wi="yRef",Da="xRef",ts=1e-6,ou=3;class es extends ia{constructor(s,d){super();this._renderArea=!1,this._dotRadius=Ls,this._dataPointRadius=null,this._dataPointFillOpacity=ts,this._dataPointStrokeOpacity=ts,this._curve=null,this._interpolate=null,this._tension=null,this._defined=void 0,this._dashStyle=void 0,this._xyTipsOn=!0,this.transitionDuration(500),this.transitionDelay(0),this._rangeBandPadding(1),this.label(b=>Ot.printSingleValue(b.y0+b.y),!1),this.anchor(s,d)}plotData(){const s=this.chartBodyG();let d=s.select("g.stack-list");d.empty()&&(d=s.append("g").attr("class","stack-list"));let b=d.selectAll("g.stack").data(this.data());const T=b.enter().append("g").attr("class",(Y,q)=>`stack _${q}`);b=T.merge(b),this._drawLine(T,b),this._drawArea(T,b),this._drawDots(s,b),this.renderLabel()&&this._drawLabels(b)}curve(s){return arguments.length?(this._curve=s,this):this._curve}interpolate(s){return Q.warnOnce("dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),arguments.length?(this._interpolate=s,this):this._interpolate}tension(s){return Q.warnOnce("dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),arguments.length?(this._tension=s,this):this._tension}defined(s){return arguments.length?(this._defined=s,this):this._defined}dashStyle(s){return arguments.length?(this._dashStyle=s,this):this._dashStyle}renderArea(s){return arguments.length?(this._renderArea=s,this):this._renderArea}_getColor(s,d){return this.getColor.call(s,s.values,d)}_getCurveFactory(){let s=null;return this._curve?this._curve:(typeof this._interpolate=="function"?s=this._interpolate:s={linear:se.curveLinear,"linear-closed":se.curveLinearClosed,step:se.curveStep,"step-before":se.curveStepBefore,"step-after":se.curveStepAfter,basis:se.curveBasis,"basis-open":se.curveBasisOpen,"basis-closed":se.curveBasisClosed,bundle:se.curveBundle,cardinal:se.curveCardinal,"cardinal-open":se.curveCardinalOpen,"cardinal-closed":se.curveCardinalClosed,monotone:se.curveMonotoneX}[this._interpolate],s||(s=se.curveLinear),this._tension!==null&&(typeof s.tension!="function"?Q.warn("tension was specified but the curve/interpolate does not support it."):s=s.tension(this._tension)),s)}_drawLine(s,d){const b=se.line().x(Y=>this.x()(Y.x)).y(Y=>this.y()(Y.y+Y.y0)).curve(this._getCurveFactory());this._defined&&b.defined(this._defined);const T=s.append("path").attr("class","line").attr("stroke",(Y,q)=>this._getColor(Y,q));this._dashStyle&&T.attr("stroke-dasharray",this._dashStyle),M(d.select("path.line"),this.transitionDuration(),this.transitionDelay()).attr("stroke",(Y,q)=>this._getColor(Y,q)).attr("d",Y=>this._safeD(b(Y.values)))}_drawArea(s,d){if(this._renderArea){const b=se.area().x(T=>this.x()(T.x)).y1(T=>this.y()(T.y+T.y0)).y0(T=>this.y()(T.y0)).curve(this._getCurveFactory());this._defined&&b.defined(this._defined),s.append("path").attr("class","area").attr("fill",(T,Y)=>this._getColor(T,Y)).attr("d",T=>this._safeD(b(T.values))),M(d.select("path.area"),this.transitionDuration(),this.transitionDelay()).attr("fill",(T,Y)=>this._getColor(T,Y)).attr("d",T=>this._safeD(b(T.values)))}}_safeD(s){return!s||s.indexOf("NaN")>=0?"M0,0":s}_drawDots(s,d){if(this.xyTipsOn()==="always"||!(this.brushOn()||this.parentBrushOn())&&this.xyTipsOn()){const b=`${Ea}-list`;let T=s.select(`g.${b}`);T.empty()&&(T=s.append("g").attr("class",b)),d.each((Y,q)=>{let Vt=Y.values;this._defined&&(Vt=Vt.filter(this._defined));let le=T.select(`g.${Ea}._${q}`);le.empty()&&(le=T.append("g").attr("class",`${Ea} _${q}`)),this._createRefLines(le);const Ge=le.selectAll(`circle.${zs}`).data(Vt,Ht("x")),en=this,_n=Ge.enter().append("circle").attr("class",zs).classed("dc-tabbable",this._keyboardAccessible).attr("cx",We=>Ot.safeNumber(this.x()(We.x))).attr("cy",We=>Ot.safeNumber(this.y()(We.y+We.y0))).attr("r",this._getDotRadius()).style("fill-opacity",this._dataPointFillOpacity).style("stroke-opacity",this._dataPointStrokeOpacity).attr("fill",this.getColor).attr("stroke",this.getColor).on("mousemove",function(){const We=mt.select(this);en._showDot(We),en._showRefLines(We,le)}).on("mouseout",function(){const We=mt.select(this);en._hideDot(We),en._hideRefLines(le)}).merge(Ge);this._keyboardAccessible&&this._svg.selectAll(".dc-tabbable").attr("tabindex",0).on("focus",function(){const We=mt.select(this);en._showDot(We),en._showRefLines(We,le)}).on("blur",function(){const We=mt.select(this);en._hideDot(We),en._hideRefLines(le)}),_n.call(We=>this._doRenderTitle(We,Y)),M(_n,this.transitionDuration()).attr("cx",We=>Ot.safeNumber(this.x()(We.x))).attr("cy",We=>Ot.safeNumber(this.y()(We.y+We.y0))).attr("fill",this.getColor),Ge.exit().remove()})}}_drawLabels(s){const d=this;s.each(function(b,T){const q=mt.select(this).selectAll("text.lineLabel").data(b.values,Ht("x")),Vt=q.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(q);M(Vt,d.transitionDuration()).attr("x",le=>Ot.safeNumber(d.x()(le.x))).attr("y",le=>{const Ge=d.y()(le.y+le.y0)-ou;return Ot.safeNumber(Ge)}).text(le=>d.label()(le)),M(q.exit(),d.transitionDuration()).attr("height",0).remove()})}_createRefLines(s){(s.select(`path.${wi}`).empty()?s.append("path").attr("class",wi):s.select(`path.${wi}`)).style("display","none").attr("stroke-dasharray","5,5"),(s.select(`path.${Da}`).empty()?s.append("path").attr("class",Da):s.select(`path.${Da}`)).style("display","none").attr("stroke-dasharray","5,5")}_showDot(s){return s.style("fill-opacity",.8),s.style("stroke-opacity",.8),s.attr("r",this._dotRadius),s}_showRefLines(s,d){const b=s.attr("cx"),T=s.attr("cy"),q=`M${this._yAxisX()-this.margins().left} ${T}L${b} ${T}`,Vt=`M${b} ${this.yAxisHeight()}L${b} ${T}`;d.select(`path.${wi}`).style("display","").attr("d",q),d.select(`path.${Da}`).style("display","").attr("d",Vt)}_getDotRadius(){return this._dataPointRadius||this._dotRadius}_hideDot(s){s.style("fill-opacity",this._dataPointFillOpacity).style("stroke-opacity",this._dataPointStrokeOpacity).attr("r",this._getDotRadius())}_hideRefLines(s){s.select(`path.${wi}`).style("display","none"),s.select(`path.${Da}`).style("display","none")}_doRenderTitle(s,d){this.renderTitle()&&(s.select("title").remove(),s.append("title").text(Ht("data",this.title(d.name))))}xyTipsOn(s){return arguments.length?(this._xyTipsOn=s,this):this._xyTipsOn}dotRadius(s){return arguments.length?(this._dotRadius=s,this):this._dotRadius}renderDataPoints(s){if(arguments.length)s?(this._dataPointFillOpacity=s.fillOpacity||.8,this._dataPointStrokeOpacity=s.strokeOpacity||0,this._dataPointRadius=s.radius||2):(this._dataPointFillOpacity=ts,this._dataPointStrokeOpacity=ts,this._dataPointRadius=null);else return{fillOpacity:this._dataPointFillOpacity,strokeOpacity:this._dataPointStrokeOpacity,radius:this._dataPointRadius};return this}_colorFilter(s,d,b){return function(){const T=mt.select(this),Y=T.attr("stroke")===s&&T.attr("stroke-dasharray")===(d instanceof Array?d.join(","):null)||T.attr("fill")===s;return b?!Y:Y}}legendHighlight(s){this.isLegendableHidden(s)||this.g().selectAll("path.line, path.area").classed("highlight",this._colorFilter(s.color,s.dashstyle)).classed("fadeout",this._colorFilter(s.color,s.dashstyle,!0))}legendReset(){this.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)}legendables(){const s=super.legendables();return this._dashStyle?s.map(d=>(d.dashstyle=this._dashStyle,d)):s}}const ua=(k,s)=>new es(k,s),uu="number-display";class ns extends pn{constructor(s,d){super();this._formatNumber=me.format(".2s"),this._html={one:"",some:"",none:""},this._lastValue=void 0,this._ariaLiveRegion=!1,this._mandatoryAttributes(["group"]),this.ordering(b=>b.value),this.data(b=>{const T=b.value?b.value():this._maxBin(b.all());return this.valueAccessor()(T)}),this.transitionDuration(250),this.transitionDelay(0),this.anchor(s,d)}html(s){return arguments.length?(s.none?this._html.none=s.none:s.one?this._html.none=s.one:s.some&&(this._html.none=s.some),s.one?this._html.one=s.one:s.some&&(this._html.one=s.some),s.some?this._html.some=s.some:s.one&&(this._html.some=s.one),this):this._html}value(){return this.data()}_maxBin(s){if(!s.length)return null;const d=this._computeOrderedGroups(s);return d[d.length-1]}_doRender(){const s=this.value();let d=this.selectAll(`.${uu}`);d.empty()&&(d=d.data([0]).enter().append("span").attr("class",uu).classed("dc-tabbable",this._keyboardAccessible).merge(d),this._keyboardAccessible&&d.attr("tabindex","0"),this._ariaLiveRegion&&(this.transitionDuration(0),d.attr("aria-live","polite")));{const b=this;d.transition().duration(b.transitionDuration()).delay(b.transitionDelay()).ease(Jt.easeQuad).tween("text",function(){const T=isFinite(b._lastValue)?b._lastValue:0,Y=te.interpolateNumber(T||0,s);b._lastValue=s;const q=this;return Vt=>{let le=null;const Ge=b.formatNumber()(Y(Vt));s===0&&b._html.none!==""?le=b._html.none:s===1&&b._html.one!==""?le=b._html.one:b._html.some!==""&&(le=b._html.some),q.innerHTML=le?le.replace("%number",Ge):Ge}})}}_doRedraw(){return this._doRender()}formatNumber(s){return arguments.length?(this._formatNumber=s,this):this._formatNumber}ariaLiveRegion(s){return arguments.length?(this._ariaLiveRegion=s,this):this._ariaLiveRegion}}const qi=(k,s)=>new ns(k,s),ml=.5;class lu extends Hn(Rn(pn)){constructor(s,d){super();this._sliceCssClass="pie-slice",this._labelCssClass="pie-label",this._sliceGroupCssClass="pie-slice-group",this._labelGroupCssClass="pie-label-group",this._emptyCssClass="empty-chart",this._emptyTitle="empty",this._radius=void 0,this._givenRadius=void 0,this._innerRadius=0,this._externalRadiusPadding=0,this._g=void 0,this._cx=void 0,this._cy=void 0,this._minAngleForLabel=ml,this._externalLabelRadius=void 0,this._drawPaths=!1,this.colorAccessor(b=>this.cappedKeyAccessor(b)),this.title(b=>`${this.cappedKeyAccessor(b)}: ${this.cappedValueAccessor(b)}`),this.label(b=>this.cappedKeyAccessor(b)),this.renderLabel(!0),this.transitionDuration(350),this.transitionDelay(0),this.anchor(s,d)}slicesCap(s){return this.cap(s)}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.cx()},${this.cy()})`),this._g.append("g").attr("class",this._sliceGroupCssClass),this._g.append("g").attr("class",this._labelGroupCssClass),this._drawChart(),this}_drawChart(){const s=lt.min([this.width(),this.height()])/2;this._radius=this._givenRadius&&this._givenRadius<s?this._givenRadius:s;const d=this._buildArcs(),b=this._pieLayout();let T;if(lt.sum(this.data(),Y=>this.cappedValueAccessor(Y))?(T=b(this.data()),this._g.classed(this._emptyCssClass,!1)):(T=b([{key:this._emptyTitle,value:1,others:[this._emptyTitle]}]),this._g.classed(this._emptyCssClass,!0)),this._g){const Y=this._g.select(`g.${this._sliceGroupCssClass}`).selectAll(`g.${this._sliceCssClass}`).data(T),q=this._g.select(`g.${this._labelGroupCssClass}`).selectAll(`text.${this._labelCssClass}`).data(T);this._removeElements(Y,q),this._createElements(Y,q,d,T),this._updateElements(T,d),this._highlightFilter(),M(this._g,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.cx()},${this.cy()})`)}}_createElements(s,d,b,T){const Y=this._createSliceNodes(s);this._createSlicePath(Y,b),this._createTitles(Y),this._createLabels(d,T,b)}_createSliceNodes(s){return s.enter().append("g").attr("class",(d,b)=>`${this._sliceCssClass} _${b}`).classed("dc-tabbable",this._keyboardAccessible)}_createSlicePath(s,d){const b=s.append("path").attr("fill",(Y,q)=>this._fill(Y,q)).on("click",G.eventHandler(Y=>this._onClick(Y))).attr("d",(Y,q)=>this._safeArc(Y,q,d));this._keyboardAccessible&&this._makeKeyboardAccessible(this._onClick);const T=M(b,this.transitionDuration(),this.transitionDelay());if(T.attrTween){const Y=this;T.attrTween("d",function(q){return Y._tweenPie(q,this)})}}_createTitles(s){this.renderTitle()&&s.append("title").text(d=>this.title()(d.data))}_applyLabelText(s){s.text(d=>{const b=d.data;return(this._sliceHasNoData(b)||this._sliceTooSmall(d))&&!this._isSelectedSlice(d)?"":this.label()(d.data)})}_positionLabels(s,d){this._applyLabelText(s),M(s,this.transitionDuration(),this.transitionDelay()).attr("transform",b=>this._labelPosition(b,d)).attr("text-anchor","middle")}_highlightSlice(s,d){this.select(`g.pie-slice._${s}`).classed("highlight",d)}_createLabels(s,d,b){if(this.renderLabel()){const T=s.enter().append("text").attr("class",(Y,q)=>{let Vt=`${this._sliceCssClass} ${this._labelCssClass} _${q}`;return this._externalLabelRadius&&(Vt+=" external"),Vt}).on("click",G.eventHandler(Y=>this._onClick(Y))).on("mouseover",G.eventHandler(Y=>{this._highlightSlice(Y.index,!0)})).on("mouseout",G.eventHandler(Y=>{this._highlightSlice(Y.index,!1)}));this._positionLabels(T,b),this._externalLabelRadius&&this._drawPaths&&this._updateLabelPaths(d,b)}}_updateLabelPaths(s,d){let b=this._g.selectAll(`polyline.${this._sliceCssClass}`).data(s);b.exit().remove(),b=b.enter().append("polyline").attr("class",(q,Vt)=>`pie-path _${Vt} ${this._sliceCssClass}`).on("click",G.eventHandler(q=>this._onClick(q))).on("mouseover",G.eventHandler(q=>{this._highlightSlice(q.index,!0)})).on("mouseout",G.eventHandler(q=>{this._highlightSlice(q.index,!1)})).merge(b);const T=se.arc().outerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).innerRadius(this._radius-this._externalRadiusPadding),Y=M(b,this.transitionDuration(),this.transitionDelay());Y.attrTween?Y.attrTween("points",function(q){let Vt=this._current||q;Vt={startAngle:Vt.startAngle,endAngle:Vt.endAngle};const le=te.interpolate(Vt,q);return this._current=le(0),Ge=>{const en=le(Ge);return[d.centroid(en),T.centroid(en)]}}):Y.attr("points",q=>[d.centroid(q),T.centroid(q)]),Y.style("visibility",q=>q.endAngle-q.startAngle<1e-4?"hidden":"visible")}_updateElements(s,d){this._updateSlicePaths(s,d),this._updateLabels(s,d),this._updateTitles(s)}_updateSlicePaths(s,d){const b=this._g.selectAll(`g.${this._sliceCssClass}`).data(s).select("path").attr("d",(Y,q)=>this._safeArc(Y,q,d)),T=M(b,this.transitionDuration(),this.transitionDelay());if(T.attrTween){const Y=this;T.attrTween("d",function(q){return Y._tweenPie(q,this)})}T.attr("fill",(Y,q)=>this._fill(Y,q))}_updateLabels(s,d){if(this.renderLabel()){const b=this._g.selectAll(`text.${this._labelCssClass}`).data(s);this._positionLabels(b,d),this._externalLabelRadius&&this._drawPaths&&this._updateLabelPaths(s,d)}}_updateTitles(s){this.renderTitle()&&this._g.selectAll(`g.${this._sliceCssClass}`).data(s).select("title").text(d=>this.title()(d.data))}_removeElements(s,d){s.exit().remove(),d.exit().remove()}_highlightFilter(){const s=this;this.hasFilter()?this.selectAll(`g.${this._sliceCssClass}`).each(function(d){s._isSelectedSlice(d)?s.highlightSelected(this):s.fadeDeselected(this)}):this.selectAll(`g.${this._sliceCssClass}`).each(function(){s.resetHighlight(this)})}externalRadiusPadding(s){return arguments.length?(this._externalRadiusPadding=s,this):this._externalRadiusPadding}innerRadius(s){return arguments.length?(this._innerRadius=s,this):this._innerRadius}radius(s){return arguments.length?(this._givenRadius=s,this):this._givenRadius}cx(s){return arguments.length?(this._cx=s,this):this._cx||this.width()/2}cy(s){return arguments.length?(this._cy=s,this):this._cy||this.height()/2}_buildArcs(){return se.arc().outerRadius(this._radius-this._externalRadiusPadding).innerRadius(this._innerRadius)}_isSelectedSlice(s){return this.hasFilter(this.cappedKeyAccessor(s.data))}_doRedraw(){return this._drawChart(),this}minAngleForLabel(s){return arguments.length?(this._minAngleForLabel=s,this):this._minAngleForLabel}_pieLayout(){return se.pie().sort(null).value(s=>this.cappedValueAccessor(s))}_sliceTooSmall(s){const d=s.endAngle-s.startAngle;return isNaN(d)||d<this._minAngleForLabel}_sliceHasNoData(s){return this.cappedValueAccessor(s)===0}_isOffCanvas(s){return!s||isNaN(s.startAngle)||isNaN(s.endAngle)}_fill(s,d){return this.getColor(s.data,d)}_onClick(s){this._g.attr("class")!==this._emptyCssClass&&this.onClick(s.data)}_safeArc(s,d,b){let T=b(s,d);return T.indexOf("NaN")>=0&&(T="M0,0"),T}emptyTitle(s){return arguments.length===0?this._emptyTitle:(this._emptyTitle=s,this)}externalLabels(s){return arguments.length===0?this._externalLabelRadius:(s?this._externalLabelRadius=s:this._externalLabelRadius=void 0,this)}drawPaths(s){return arguments.length===0?this._drawPaths:(this._drawPaths=s,this)}_labelPosition(s,d){let b;return this._externalLabelRadius?b=se.arc().outerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).innerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).centroid(s):b=d.centroid(s),isNaN(b[0])||isNaN(b[1])?"translate(0,0)":`translate(${b})`}legendables(){return this.data().map((s,d)=>{const b={name:s.key,data:s.value,others:s.others,chart:this};return b.color=this.getColor(s,d),b})}legendHighlight(s){this._highlightSliceFromLegendable(s,!0)}legendReset(s){this._highlightSliceFromLegendable(s,!1)}legendToggle(s){this.onClick({key:s.name,others:s.others})}_highlightSliceFromLegendable(s,d){this.selectAll("g.pie-slice").each(function(b){s.name===b.data.key&&mt.select(this).classed("highlight",d)})}_tweenPie(s,d){s.innerRadius=this._innerRadius;let b=d._current;this._isOffCanvas(b)?b={startAngle:0,endAngle:0}:b={startAngle:b.startAngle,endAngle:b.endAngle};const T=te.interpolate(b,s);return d._current=T(0),Y=>this._safeArc(T(Y),0,this._buildArcs())}}const yl=(k,s)=>new lu(k,s);class cu extends Hn(Rn(ir)){constructor(s,d){super();this._g=void 0,this._labelOffsetX=10,this._labelOffsetY=15,this._hasLabelOffsetY=!1,this._dyOffset="0.35em",this._titleLabelOffsetX=2,this._gap=5,this._fixedBarHeight=!1,this._rowCssClass="row",this._titleRowCssClass="titlerow",this._renderTitleLabel=!1,this._x=void 0,this._elasticX=void 0,this._xAxis=re.axisBottom(),this._rowData=void 0,this.rowsCap=this.cap,this.title(b=>`${this.cappedKeyAccessor(b)}: ${this.cappedValueAccessor(b)}`),this.label(b=>this.cappedKeyAccessor(b)),this.anchor(s,d)}_calculateAxisScale(){if(!this._x||this._elasticX){const s=lt.extent(this._rowData,d=>this.cappedValueAccessor(d));s[0]>0&&(s[0]=0),s[1]<0&&(s[1]=0),this._x=Et.scaleLinear().domain(s).range([0,this.effectiveWidth()])}this._xAxis.scale(this._x)}_drawAxis(){let s=this._g.select("g.axis");this._calculateAxisScale(),s.empty()&&(s=this._g.append("g").attr("class","axis")),s.attr("transform",`translate(0, ${this.effectiveHeight()})`),M(s,this.transitionDuration(),this.transitionDelay()).call(this._xAxis)}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this._drawChart(),this}x(s){return arguments.length?(this._x=s,this):this._x}_drawGridLines(){this._g.selectAll("g.tick").select("line.grid-line").remove(),this._g.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",()=>-this.effectiveHeight())}_drawChart(){this._rowData=this.data(),this._drawAxis(),this._drawGridLines();let s=this._g.selectAll(`g.${this._rowCssClass}`).data(this._rowData);this._removeElements(s),s=this._createElements(s).merge(s),this._updateElements(s)}_createElements(s){const d=s.enter().append("g").attr("class",(b,T)=>`${this._rowCssClass} _${T}`);return d.append("rect").attr("width",0),this._createLabels(d),d}_removeElements(s){s.exit().remove()}_rootValue(){const s=this._x(0);return s===-Infinity||s!==s?this._x(1):s}_updateElements(s){const d=this._rowData.length;let b;this._fixedBarHeight?b=this._fixedBarHeight:b=(this.effectiveHeight()-(d+1)*this._gap)/d,this._hasLabelOffsetY||(this._labelOffsetY=b/2);const T=s.attr("transform",(Y,q)=>`translate(0,${(q+1)*this._gap+q*b})`).select("rect").attr("height",b).attr("fill",this.getColor).on("click",G.eventHandler(Y=>this._onClick(Y))).classed("dc-tabbable",this._keyboardAccessible).classed("deselected",Y=>this.hasFilter()?!this._isSelectedRow(Y):!1).classed("selected",Y=>this.hasFilter()?this._isSelectedRow(Y):!1);this._keyboardAccessible&&this._makeKeyboardAccessible(Y=>this._onClick(Y)),M(T,this.transitionDuration(),this.transitionDelay()).attr("width",Y=>Math.abs(this._rootValue()-this._x(this.cappedValueAccessor(Y)))).attr("transform",Y=>this._translateX(Y)),this._createTitles(s),this._updateLabels(s)}_createTitles(s){this.renderTitle()&&(s.select("title").remove(),s.append("title").text(this.title()))}_createLabels(s){this.renderLabel()&&s.append("text").on("click",G.eventHandler(d=>this._onClick(d))),this.renderTitleLabel()&&s.append("text").attr("class",this._titleRowCssClass).on("click",G.eventHandler(d=>this._onClick(d)))}_updateLabels(s){if(this.renderLabel()){const d=s.select("text").attr("x",this._labelOffsetX).attr("y",this._labelOffsetY).attr("dy",this._dyOffset).on("click",G.eventHandler(b=>this._onClick(b))).attr("class",(b,T)=>`${this._rowCssClass} _${T}`).text(b=>this.label()(b));M(d,this.transitionDuration(),this.transitionDelay()).attr("transform",b=>this._translateX(b))}if(this.renderTitleLabel()){const d=s.select(`.${this._titleRowCssClass}`).attr("x",this.effectiveWidth()-this._titleLabelOffsetX).attr("y",this._labelOffsetY).attr("dy",this._dyOffset).attr("text-anchor","end").on("click",G.eventHandler(b=>this._onClick(b))).attr("class",(b,T)=>`${this._titleRowCssClass} _${T}`).text(b=>this.title()(b));M(d,this.transitionDuration(),this.transitionDelay()).attr("transform",b=>this._translateX(b))}}renderTitleLabel(s){return arguments.length?(this._renderTitleLabel=s,this):this._renderTitleLabel}_onClick(s){this.onClick(s)}_translateX(s){const d=this._x(this.cappedValueAccessor(s)),b=this._rootValue();return`translate(${d>b?b:d},0)`}_doRedraw(){return this._drawChart(),this}xAxis(s){return arguments.length?(this._xAxis=s,this):this._xAxis}fixedBarHeight(s){return arguments.length?(this._fixedBarHeight=s,this):this._fixedBarHeight}gap(s){return arguments.length?(this._gap=s,this):this._gap}elasticX(s){return arguments.length?(this._elasticX=s,this):this._elasticX}labelOffsetX(s){return arguments.length?(this._labelOffsetX=s,this):this._labelOffsetX}labelOffsetY(s){return arguments.length?(this._labelOffsetY=s,this._hasLabelOffsetY=!0,this):this._labelOffsetY}titleLabelOffsetX(s){return arguments.length?(this._titleLabelOffsetX=s,this):this._titleLabelOffsetX}_isSelectedRow(s){return this.hasFilter(this.cappedKeyAccessor(s))}}const fu=(k,s)=>new cu(k,s);class li extends vr{constructor(s,d){super();this._symbol=se.symbol(),this._existenceAccessor=T=>T.value;const b=this.keyAccessor();this.keyAccessor(T=>b(T)[0]),this.valueAccessor(T=>b(T)[1]),this.colorAccessor(()=>this._groupName),this.title(T=>`${this.keyAccessor()(T)},${this.valueAccessor()(T)}: ${this.existenceAccessor()(T)}`),this._highlightedSize=7,this._symbolSize=5,this._excludedSize=3,this._excludedColor=null,this._excludedOpacity=1,this._emptySize=0,this._emptyOpacity=0,this._nonemptyOpacity=1,this._emptyColor=null,this._filtered=[],this._canvas=null,this._context=null,this._useCanvas=!1,this.brush(fe.brush()),this._symbol.size((T,Y)=>this._elementSize(T,Y)),this.anchor(s,d)}_canvasElementSize(s,d){return this._existenceAccessor(s)?d?this._symbolSize/Math.sqrt(Math.PI):this._excludedSize/Math.sqrt(Math.PI):this._emptySize/Math.sqrt(Math.PI)}_elementSize(s,d){return this._existenceAccessor(s)?this._filtered[d]?Math.pow(this._symbolSize,2):Math.pow(this._excludedSize,2):Math.pow(this._emptySize,2)}_locator(s){return`translate(${this.x()(this.keyAccessor()(s))},${this.y()(this.valueAccessor()(s))})`}filter(s){return arguments.length?super.filter(wt.RangedTwoDimensionalFilter(s)):super.filter()}resetSvg(){if(this._useCanvas){super.resetSvg(),this.select("canvas").remove();const s=this.svg();this.root().style("position","relative"),s.style("position","relative");const b=isNaN(parseInt(s.style("left"),10))?0:parseInt(s.style("left"),10),T=isNaN(parseInt(s.style("top"),10))?0:parseInt(s.style("top"),10),Y=this.effectiveWidth(),q=this.effectiveHeight(),Vt=this.margins(),le=window.devicePixelRatio||1;return this._canvas=this.root().append("canvas").attr("x",0).attr("y",0).attr("width",Y*le).attr("height",q*le).style("width",`${Y}px`).style("height",`${q}px`).style("position","absolute").style("top",`${Vt.top+T}px`).style("left",`${Vt.left+b}px`).style("z-index",-1).style("pointer-events","none"),this._context=this._canvas.node().getContext("2d"),this._context.scale(le,le),this._context.rect(0,0,Y,q),this._context.clip(),this._context.imageSmoothingQuality="high",this.svg()}else return super.resetSvg()}_resizeCanvas(){const s=this.effectiveWidth(),d=this.effectiveHeight(),b=window.devicePixelRatio||1;this._canvas.attr("width",s*b).attr("height",d*b).style("width",`${s}px`).style("height",`${d}px`),this._context.scale(b,b)}useCanvas(s){return arguments.length?(this._useCanvas=s,this):this._useCanvas}canvas(s){return arguments.length?(this._canvas=s,this):this._canvas}context(){return this._context}_plotOnCanvas(s){this._resizeCanvas();const d=this.context();d.clearRect(0,0,(d.canvas.width+2)*1,(d.canvas.height+2)*1),this.data().forEach((T,Y)=>{const q=!this.filter()||this.filter().isFiltered([T.key[0],T.key[1]]);let Vt=1;this._existenceAccessor(T)?q?Vt=this._nonemptyOpacity:Vt=this.excludedOpacity():Vt=this._emptyOpacity;let le=null;this._emptyColor&&!this._existenceAccessor(T)?le=this._emptyColor:this.excludedColor()&&!q?le=this.excludedColor():le=this.getColor(T);let Ge=this._canvasElementSize(T,q);if(s){const en=le===s.color;en||(Vt=.1),en&&(Ge=this._highlightedSize/Math.sqrt(Math.PI))}d.save(),d.globalAlpha=Vt,d.beginPath(),d.arc(this.x()(this.keyAccessor()(T)),this.y()(this.valueAccessor()(T)),Ge,0,2*Math.PI,!0),d.fillStyle=le,d.fill(),d.restore()})}_plotOnSVG(){const s=this.data();this._keyboardAccessible&&s.sort((b,T)=>lt.ascending(this.keyAccessor()(b),this.keyAccessor()(T)));let d=this.chartBodyG().selectAll("path.symbol").data(s);M(d.exit(),this.transitionDuration(),this.transitionDelay()).attr("opacity",0).remove(),d=d.enter().append("path").attr("class","symbol").classed("dc-tabbable",this._keyboardAccessible).attr("opacity",0).attr("fill",this.getColor).attr("transform",b=>this._locator(b)).merge(d),this._keyboardAccessible&&(this._makeKeyboardAccessible(),d.order()),d.call(b=>this._renderTitles(b,s)),d.each((b,T)=>{this._filtered[T]=!this.filter()||this.filter().isFiltered([this.keyAccessor()(b),this.valueAccessor()(b)])}),M(d,this.transitionDuration(),this.transitionDelay()).attr("opacity",(b,T)=>this._existenceAccessor(b)?this._filtered[T]?this._nonemptyOpacity:this.excludedOpacity():this._emptyOpacity).attr("fill",(b,T)=>this._emptyColor&&!this._existenceAccessor(b)?this._emptyColor:this.excludedColor()&&!this._filtered[T]?this.excludedColor():this.getColor(b)).attr("transform",b=>this._locator(b)).attr("d",this._symbol)}plotData(){this._useCanvas?this._plotOnCanvas():this._plotOnSVG()}_renderTitles(s,d){this.renderTitle()&&(s.selectAll("title").remove(),s.append("title").text(b=>this.title()(b)))}existenceAccessor(s){return arguments.length?(this._existenceAccessor=s,this):this._existenceAccessor}symbol(s){return arguments.length?(this._symbol.type(s),this):this._symbol.type()}customSymbol(s){return arguments.length?(this._symbol=s,this._symbol.size((d,b)=>this._elementSize(d,b)),this):this._symbol}symbolSize(s){return arguments.length?(this._symbolSize=s,this):this._symbolSize}highlightedSize(s){return arguments.length?(this._highlightedSize=s,this):this._highlightedSize}excludedSize(s){return arguments.length?(this._excludedSize=s,this):this._excludedSize}excludedColor(s){return arguments.length?(this._excludedColor=s,this):this._excludedColor}excludedOpacity(s){return arguments.length?(this._excludedOpacity=s,this):this._excludedOpacity}emptySize(s){return arguments.length?(this._emptySize=s,this):this._emptySize}hiddenSize(s){return arguments.length?this.emptySize(s):this.emptySize()}emptyColor(s){return arguments.length?(this._emptyColor=s,this):this._emptyColor}emptyOpacity(s){return arguments.length?(this._emptyOpacity=s,this):this._emptyOpacity}nonemptyOpacity(s){return arguments.length?(this._nonemptyOpacity=s,this):this._emptyOpacity}legendables(){return[{chart:this,name:this._groupName,color:this.getColor()}]}legendHighlight(s){this._useCanvas?this._plotOnCanvas(s):(this._resizeSymbolsWhere(d=>d.attr("fill")===s.color,this._highlightedSize),this.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return mt.select(this).attr("fill")!==s.color}).classed("fadeout",!0))}legendReset(s){this._useCanvas?this._plotOnCanvas(s):(this._resizeSymbolsWhere(d=>d.attr("fill")===s.color,this._symbolSize),this.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return mt.select(this).attr("fill")!==s.color}).classed("fadeout",!1))}_resizeSymbolsWhere(s,d){const b=this.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return s(mt.select(this))}),T=this._symbol.size();this._symbol.size(Math.pow(d,2)),M(b,this.transitionDuration(),this.transitionDelay()).attr("d",this._symbol),this._symbol.size(T)}createBrushHandlePaths(){}extendBrush(s){return this.round()&&(s[0]=s[0].map(this.round()),s[1]=s[1].map(this.round())),s}brushIsEmpty(s){return!s||s[0][0]>=s[1][0]||s[0][1]>=s[1][1]}_brushing(s){if(this._ignoreBrushEvents)return;let d=s.selection,b=this.brushIsEmpty(d);d&&(d=d.map(Y=>Y.map((q,Vt)=>(Vt===0?this.x():this.y()).invert(q))),d=this.extendBrush(d),b=b&&this.brushIsEmpty(d)),this.redrawBrush(d,!1);const T=b?null:wt.RangedTwoDimensionalFilter(d);ct.trigger(()=>{this.replaceFilter(T),this.redrawGroup()},$t.EVENT_DELAY)}redrawBrush(s,d){if(this._gBrush=this.gBrush(),this.brushOn()&&this._gBrush)if(this.resizing()&&this.setBrushExtents(d),!s)this._withoutBrushEvents(()=>{this._gBrush.call(this.brush().move,s)});else{s=s.map(T=>T.map((Y,q)=>(q===0?this.x():this.y())(Y)));const b=E(d,this.transitionDuration(),this.transitionDelay())(this._gBrush);this._withoutBrushEvents(()=>{b.call(this.brush().move,s)})}this.fadeDeselectedArea(s)}}const hu=(k,s)=>new li(k,s),vl="dc-select-menu",Zi="dc-select-option";class Pa extends pn{constructor(s,d){super();this._select=void 0,this._promptText="Select all",this._multiple=!1,this._promptValue=null,this._numberVisible=null,this.data(b=>b.all().filter(this._filterDisplayed)),this._filterDisplayed=b=>this.valueAccessor()(b)>0,this._order=(b,T)=>this.keyAccessor()(b)>this.keyAccessor()(T)?1:this.keyAccessor()(b)<this.keyAccessor()(T)?-1:0,this.anchor(s,d)}_doRender(){return this.select("select").remove(),this._select=this.root().append("select").classed(vl,!0),this._select.append("option").text(this._promptText).attr("value",""),this._doRedraw(),this}_doRedraw(){return this._setAttributes(),this._renderOptions(),this.hasFilter()&&this._multiple?this._select.selectAll("option").property("selected",s=>typeof s!="undefined"&&this.filters().indexOf(String(this.keyAccessor()(s)))>=0):this.hasFilter()?this._select.property("value",this.filter()):this._select.property("value",""),this}_renderOptions(){const s=this._select.selectAll(`option.${Zi}`).data(this.data(),d=>this.keyAccessor()(d));s.exit().remove(),s.enter().append("option").classed(Zi,!0).attr("value",d=>this.keyAccessor()(d)).merge(s).text(this.title()),this._select.selectAll(`option.${Zi}`).sort(this._order),this._select.on("change",G.eventHandler((d,b)=>this._onChange(d,b)))}_onChange(s,d){let b;const T=d.target;T.selectedOptions?b=Array.prototype.slice.call(T.selectedOptions).map(q=>q.value):b=[].slice.call(d.target.options).filter(q=>q.selected).map(q=>q.value),b.length===1&&b[0]===""?b=this._promptValue||null:!this._multiple&&b.length===1&&(b=b[0]),this.onChange(b)}onChange(s){s&&this._multiple?this.replaceFilter([s]):s?this.replaceFilter(s):this.filterAll(),ct.trigger(()=>{this.redrawGroup()})}_setAttributes(){this._multiple?this._select.attr("multiple",!0):this._select.attr("multiple",null),this._numberVisible!==null?this._select.attr("size",this._numberVisible):this._select.attr("size",null)}order(s){return arguments.length?(this._order=s,this):this._order}promptText(s){return arguments.length?(this._promptText=s,this):this._promptText}filterDisplayed(s){return arguments.length?(this._filterDisplayed=s,this):this._filterDisplayed}multiple(s){return arguments.length?(this._multiple=s,this):this._multiple}promptValue(s){return arguments.length?(this._promptValue=s,this):this._promptValue}numberVisible(s){return arguments.length?(this._numberVisible=s,this):this._numberVisible}size(s){return Q.warnOnce("selectMenu.size is ambiguous - use selectMenu.numberVisible instead"),arguments.length?this.numberVisible(s):this.numberVisible()}}const co=(k,s)=>new Pa(k,s);class rs extends Jr{constructor(s,d){super(s,d);this._keySort=(b,T)=>lt.ascending(this.keyAccessor()(b),this.keyAccessor()(T)),this._charts={},this._chartFunction=ua,this._chartGroup=d,this._seriesAccessor=void 0,this._seriesSort=lt.ascending,this._valueSort=this._keySort,this._mandatoryAttributes().push("seriesAccessor","chart"),this.shareColors(!0)}_compose(s){super.compose(s)}compose(s){throw new Error("Not supported for this chart type")}_preprocessData(){const s=[];let d;const T=G.nester({key:this._seriesAccessor,sortKeys:this._seriesSort,sortValues:this._valueSort,entries:this.data()}).map((Y,q)=>{const Vt=this._charts[Y.key]||this._chartFunction(this,this._chartGroup,Y.key,q);return this._charts[Y.key]||(d=!0),this._charts[Y.key]=Vt,s.push(Y.key),Vt.dimension(this.dimension()).group({all:typeof Y.values=="function"?Y.values:Ot.constant(Y.values)},Y.key).keyAccessor(this.keyAccessor()).valueAccessor(this.valueAccessor()).brushOn(!1)});Object.keys(this._charts).filter(Y=>s.indexOf(Y)===-1).forEach(Y=>{this._clearChart(Y),d=!0}),this._compose(T),d&&this.legend()&&this.legend().render()}_clearChart(s){this._charts[s].g()&&this._charts[s].g().remove(),delete this._charts[s]}_resetChildren(){Object.keys(this._charts).map(this._clearChart.bind(this)),this._charts={}}chart(s){return arguments.length?(this._chartFunction=s,this._resetChildren(),this):this._chartFunction}seriesAccessor(s){return arguments.length?(this._seriesAccessor=s,this._resetChildren(),this):this._seriesAccessor}seriesSort(s){return arguments.length?(this._seriesSort=s,this._resetChildren(),this):this._seriesSort}valueSort(s){return arguments.length?(this._valueSort=s,this._resetChildren(),this):this._valueSort}}const du=(k,s)=>new rs(k,s),Is=.5;class Wr extends Rn(pn){constructor(s,d){super();this._sliceCssClass="pie-slice",this._emptyCssClass="empty-chart",this._emptyTitle="empty",this._radius=void 0,this._givenRadius=void 0,this._innerRadius=0,this._ringSizes=null,this._g=void 0,this._cx=void 0,this._cy=void 0,this._minAngleForLabel=Is,this._externalLabelRadius=void 0,this.colorAccessor(b=>this.keyAccessor()(b)),this.ordering(Ht("key")),this.title(b=>`${this.keyAccessor()(b)}: ${this._extendedValueAccessor(b)}`),this.label(b=>this.keyAccessor()(b)),this.renderLabel(!0),this.transitionDuration(350),this.anchor(s,d)}_extendedValueAccessor(s){return s.path?s.value:this.valueAccessor()(s)}_scaleRadius(s,d){if(s===0)return this._innerRadius;{const b=lt.sum(this.ringSizes().relativeRingSizes.slice(0,s)),T=s*(1/this.ringSizes().relativeRingSizes.length)/b,Y=(d-this.ringSizes().rootOffset)/(1-this.ringSizes().rootOffset)*(this._radius-this._innerRadius);return this._innerRadius+Y/T}}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.cx()},${this.cy()})`),this._drawChart(),this}_drawChart(){const s=lt.min([this.width(),this.height()])/2;this._radius=this._givenRadius&&this._givenRadius<s?this._givenRadius:s;const d=this._buildArcs();let b,T;if(lt.sum(this.data(),this.valueAccessor())?(T=Ot.toHierarchy(this.data(),this.valueAccessor()),b=this._partitionNodes(T),b.nodes.shift(),this._g.classed(this._emptyCssClass,!1)):(T=Ot.toHierarchy([],Y=>Y.value),b=this._partitionNodes(T),this._g.classed(this._emptyCssClass,!0)),this.ringSizes().rootOffset=b.rootOffset,this.ringSizes().relativeRingSizes=b.relativeRingSizes,this._g){const Y=this._g.selectAll(`g.${this._sliceCssClass}`).data(b.nodes);this._createElements(Y,d,b.nodes),this._updateElements(b.nodes,d),this._removeElements(Y),this._highlightFilter(),M(this._g,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.cx()},${this.cy()})`)}}_createElements(s,d,b){const T=this._createSliceNodes(s);this._createSlicePath(T,d),this._createTitles(T),this._createLabels(b,d)}_createSliceNodes(s){return s.enter().append("g").attr("class",(d,b)=>`${this._sliceCssClass} _${b} ${this._sliceCssClass}-level-${d.depth}`)}_createSlicePath(s,d){const b=s.append("path").attr("fill",(Y,q)=>this._fill(Y,q)).on("click",G.eventHandler(Y=>this.onClick(Y))).classed("dc-tabbable",this._keyboardAccessible).attr("d",Y=>this._safeArc(d,Y));this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick);const T=M(b,this.transitionDuration());if(T.attrTween){const Y=this;T.attrTween("d",function(q){return Y._tweenSlice(q,this)})}}_createTitles(s){this.renderTitle()&&s.append("title").text(d=>this.title()(d))}_positionLabels(s,d){M(s,this.transitionDuration()).attr("transform",b=>this._labelPosition(b,d)).attr("text-anchor","middle").text(b=>this._sliceHasNoData(b)||this._sliceTooSmall(b)?"":this.label()(b))}_createLabels(s,d){if(this.renderLabel()){const b=this._g.selectAll(`text.${this._sliceCssClass}`).data(s);b.exit().remove();const T=b.enter().append("text").attr("class",(Y,q)=>{let Vt=`${this._sliceCssClass} _${q}`;return this._externalLabelRadius&&(Vt+=" external"),Vt}).on("click",G.eventHandler(Y=>this.onClick(Y)));this._positionLabels(T,d)}}_updateElements(s,d){this._updateSlicePaths(s,d),this._updateLabels(s,d),this._updateTitles(s)}_updateSlicePaths(s,d){const b=this._g.selectAll(`g.${this._sliceCssClass}`).data(s).select("path").attr("d",(Y,q)=>this._safeArc(d,Y)),T=M(b,this.transitionDuration());if(T.attrTween){const Y=this;T.attrTween("d",function(q){return Y._tweenSlice(q,this)})}T.attr("fill",(Y,q)=>this._fill(Y,q))}_updateLabels(s,d){if(this.renderLabel()){const b=this._g.selectAll(`text.${this._sliceCssClass}`).data(s);this._positionLabels(b,d)}}_updateTitles(s){this.renderTitle()&&this._g.selectAll(`g.${this._sliceCssClass}`).data(s).select("title").text(d=>this.title()(d))}_removeElements(s){s.exit().remove()}_highlightFilter(){const s=this;s.hasFilter()?s.selectAll(`g.${s._sliceCssClass}`).each(function(d){s._isSelectedSlice(d)?s.highlightSelected(this):s.fadeDeselected(this)}):s.selectAll(`g.${s._sliceCssClass}`).each(function(d){s.resetHighlight(this)})}innerRadius(s){return arguments.length?(this._innerRadius=s,this):this._innerRadius}radius(s){return arguments.length?(this._givenRadius=s,this):this._givenRadius}cx(s){return arguments.length?(this._cx=s,this):this._cx||this.width()/2}cy(s){return arguments.length?(this._cy=s,this):this._cy||this.height()/2}minAngleForLabel(s){return arguments.length?(this._minAngleForLabel=s,this):this._minAngleForLabel}emptyTitle(s){return arguments.length===0?this._emptyTitle:(this._emptyTitle=s,this)}externalLabels(s){return arguments.length===0?this._externalLabelRadius:(s?this._externalLabelRadius=s:this._externalLabelRadius=void 0,this)}defaultRingSizes(){return{partitionDy:()=>this._radius*this._radius,scaleInnerRadius:s=>s.data.path&&s.data.path.length===1?this._innerRadius:Math.sqrt(s.y0),scaleOuterRadius:s=>Math.sqrt(s.y1),relativeRingSizesFunction:()=>[]}}equalRingSizes(){return this.relativeRingSizes(s=>{const d=[];for(let b=0;b<s;b++)d.push(1/s);return d})}relativeRingSizes(s){function d(b,T){if(!Array.isArray(b))throw new Tt("relativeRingSizes function must return an array");const Y=lt.sum(b);if(Math.abs(Y-1)>$t.NEGLIGIBLE_NUMBER)throw new Tt(`relativeRingSizes : portions must add up to 1, but sum was ${Y}`);if(b.length!==T)throw new Tt(`relativeRingSizes : number of values must match number of rings (${T}) but was ${b.length}`)}return{partitionDy:()=>1,scaleInnerRadius:b=>this._scaleRadius(b.data.path.length-1,b.y0),scaleOuterRadius:b=>this._scaleRadius(b.data.path.length,b.y1),relativeRingSizesFunction:b=>{const T=s(b);return d(T,b),T}}}ringSizes(s){return arguments.length?(this._ringSizes=s,this):(this._ringSizes||(this._ringSizes=this.defaultRingSizes()),this._ringSizes)}_buildArcs(){return se.arc().startAngle(s=>s.x0).endAngle(s=>s.x1).innerRadius(s=>this.ringSizes().scaleInnerRadius(s)).outerRadius(s=>this.ringSizes().scaleOuterRadius(s))}_isSelectedSlice(s){return this._isPathFiltered(s.path)}_isPathFiltered(s){for(let d=0;d<this.filters().length;d++)if(this.filters()[d].isFiltered(s))return!0;return!1}_filtersForPath(s){const d=wt.HierarchyFilter(s),b=[];for(let T=0;T<this.filters().length;T++){const Y=this.filters()[T];(Y.isFiltered(s)||d.isFiltered(Y))&&b.push(Y)}return b}_doRedraw(){return this._drawChart(),this}_partitionNodes(s){const d=function(Vt){return{key:Vt.data.key,value:Vt.value}},b=zt.hierarchy(s).sum(Vt=>Vt.children?0:this._extendedValueAccessor(Vt)).sort((Vt,le)=>lt.ascending(this.ordering()(d(Vt)),this.ordering()(d(le))));zt.partition().size([2*Math.PI,this.ringSizes().partitionDy()])(b);const Y=b.descendants().map(Vt=>(Vt.key=Vt.data.key,Vt.path=Vt.data.path,Vt)),q=this.ringSizes().relativeRingSizesFunction(b.height);return{nodes:Y,rootOffset:b.y1,relativeRingSizes:q}}_sliceTooSmall(s){const d=s.x1-s.x0;return isNaN(d)||d<this._minAngleForLabel}_sliceHasNoData(s){return this._extendedValueAccessor(s)===0}_isOffCanvas(s){return!s||isNaN(s.x0)||isNaN(s.y0)}_fill(s,d){return this.getColor(s.data,d)}onClick(s){if(this._g.attr("class")===this._emptyCssClass)return;const d=s.path||s.key,b=wt.HierarchyFilter(d),T=this._filtersForPath(d);let Y=!1;for(let q=T.length-1;q>=0;q--){const Vt=T[q];Ot.arraysIdentical(Vt,d)&&(Y=!0),this.filter(T[q])}ct.trigger(()=>{Y||this.filter(b),this.redrawGroup()})}_safeArc(s,d){let b=s(d);return b.indexOf("NaN")>=0&&(b="M0,0"),b}_labelPosition(s,d){let b;return this._externalLabelRadius?b=se.arc().outerRadius(this._radius+this._externalLabelRadius).innerRadius(this._radius+this._externalLabelRadius).centroid(s):b=d.centroid(s),isNaN(b[0])||isNaN(b[1])?"translate(0,0)":`translate(${b})`}legendables(){return this.data().map((s,d)=>{const b={name:s.key,data:s.value,others:s.others,chart:this};return b.color=this.getColor(s,d),b})}legendHighlight(s){this._highlightSliceFromLegendable(s,!0)}legendReset(s){this._highlightSliceFromLegendable(s,!1)}legendToggle(s){this.onClick({key:s.name,others:s.others})}_highlightSliceFromLegendable(s,d){this.selectAll("g.pie-slice").each(function(b){s.name===b.key&&mt.select(this).classed("highlight",d)})}_tweenSlice(s,d){let b=d._current;this._isOffCanvas(b)&&(b={x0:0,x1:0,y0:0,y1:0});const T={x0:s.x0,x1:s.x1,y0:s.y0,y1:s.y1},Y=te.interpolate(b,T);return d._current=Y(0),q=>this._safeArc(this._buildArcs(),Object.assign({},s,Y(q)))}}const Ki=(k,s)=>new Wr(k,s),gu="dc-text-filter-input";class ka extends pn{constructor(s,d){super();this._normalize=b=>b.toLowerCase(),this._filterFunctionFactory=b=>(b=this._normalize(b),T=>this._normalize(T).indexOf(b)!==-1),this._placeHolder="search",this.group(()=>{throw"the group function on textFilterWidget should never be called, please report the issue"}),this.anchor(s,d)}_doRender(){this.select("input").remove(),this._input=this.root().append("input").classed(gu,!0);const s=this;return this._input.on("input",function(){s.dimension().filterFunction(s._filterFunctionFactory(this.value)),ct.trigger(()=>{s.redrawGroup()},$t.EVENT_DELAY)}),this._doRedraw(),this}_doRedraw(){return this.root().selectAll("input").attr("placeholder",this._placeHolder),this}normalize(s){return arguments.length?(this._normalize=s,this):this._normalize}placeHolder(s){return arguments.length?(this._placeHolder=s,this):this._placeHolder}filterFunctionFactory(s){return arguments.length?(this._filterFunctionFactory=s,this):this._filterFunctionFactory}}const fo=(k,s)=>new ka(k,s),ho=function(k,s){const d=Gn();let b=null,T=null,Y=5,q="Impact",Vt=5,le=0,Ge=0;const en=It.scaleOrdinal(It.schemeCategory10);d._doRender=function(){return d.on("postRender",()=>{d.apply()}),We(),d._doRedraw()};function _n(){d.select("svg").remove(),T=It.select(d.anchor()).append("svg").attr("height",d.height()).attr("width",d.width()).attr("cursor","pointer")}function We(){_n();const Nn=d._computeOrderedGroups(d.data()).filter(Je=>d.valueAccessor()(Je)!==0).map((Je,on)=>{const Wn=d.valueAccessor()(Je),Fs=d.keyAccessor()(Je),Qr=d.title()(Je);return{text:Je.key,size:Jn(Je),value:Wn,key:Fs,title:Qr,fill:en(on),x:Je.x,y:Je.y}});b=Pt().size([d.width(),d.height()]),b.words(Nn).padding(d.padding()).rotate(()=>~~(Math.random()*2)*90).font(d.font()).fontSize(Je=>Je.size).on("word",({size:Je,x:on,y:Wn,rotate:Fs,text:Qr,fill:la})=>{T.append("text").attr("font-size",Je).attr("text-anchor","middle").attr("transform",`translate(${on},${Wn}) rotate(${Fs})`).text(Qr).style("fill",la).on("mouseover",Hs).on("mouseout",go).on("click",po);function Hs(ci,ji){It.select(this).classed("word-hovered",!0).transition(`mouseover-${Qr}`).duration(300).ease(It.easeLinear).attr("font-size",Je+2).attr("font-weight","bold")}function go(ci,ji){It.select(this).classed("word-hovered",!1).interrupt(`mouseover-${Qr}`).attr("font-size",Je)}function po(ci,ji){const Ei=It.select(this),Ji=Ei.text()?function(mn){return new RegExp(Ei.text(),"i").test(mn)}:null;console.log(`Select: ${Ei.text()}`),d._dimension.filter(Ji),d.redrawGroup(),Ei.classed("word-selected",!Ei.classed("word-selected"))}}),b.start()}d._doRedraw=function(){d.on("postRedraw",()=>{d.apply()}),We()},d.apply=function(){It.select(d.anchor()).select("svg").attr("viewBox",`${d.minX()} ${d.minY()} ${d.width()} ${d.height()}`)};function Jn(je){let Nn=0;return je.value<=0?Nn=0:Nn=Math.log(je.value)*d.relativeSize(),Nn}return d.minX=function(je){return arguments.length?(le=je,d):le},d.minY=function(je){return arguments.length?(Ge=je,d):Ge},d.padding=function(je){return arguments.length?(Y=je,d):Y},d.font=function(je){return arguments.length?(q=je,d):q},d.relativeSize=function(je){return arguments.length?(Vt=je,d):Vt},d.anchor(k,s)},X=(k,s)=>new ho(k,s);+It.version[0]<6&&Object.assign(G,{eventHandler:k=>function(d,b){k.call(this,d,mt.event)},callHandler:function(s,d,b,T){s.call(d,T)},nester:({key:k,sortKeys:s,sortValues:d,entries:b})=>{const T=j.nest().key(k);return s&&T.sortKeys(s),d&&T.sortValues(d),T.entries(b)},pointer:(k,s)=>mt.mouse(s)}),+It.version[0]>5&&Object.assign(G,{eventHandler:k=>function(d,b){k.call(this,b,d)},callHandler:function(s,d,b,T){s.call(d,b,T)},nester:({key:k,sortKeys:s,sortValues:d,entries:b})=>{d&&(b=[...b].sort(d));let T=lt.groups(b,k);return s&&(T=T.sort(s)),T.map(Y=>({key:`${Y[0]}`,values:Y[1]}))},pointer:mt.pointer}),H.BadArgumentException=Tt,H.BarChart=Ka,H.BaseMixin=pn,H.BoxPlot=$i,H.BubbleChart=Ta,H.BubbleMixin=Un,H.BubbleOverlay=Es,H.CapMixin=Hn,H.CboxMenu=Ps,H.ColorMixin=Rn,H.CompositeChart=Jr,H.Config=yt,H.CoordinateGridMixin=vr,H.DataCount=so,H.DataGrid=Qo,H.DataTable=nu,H.GeoChoroplethChart=ru,H.HeatMap=au,H.HtmlLegend=lo,H.InvalidStateException=Gt,H.Legend=Qa,H.LineChart=es,H.Logger=dt,H.MarginMixin=ir,H.NumberDisplay=ns,H.PieChart=lu,H.RowChart=cu,H.ScatterPlot=li,H.SelectMenu=Pa,H.SeriesChart=rs,H.StackMixin=ia,H.SunburstChart=Wr,H.TextFilterWidget=ka,H.afterTransition=$,H.barChart=Ca,H.baseMixin=Gn,H.boxPlot=ja,H.bubbleChart=Ko,H.bubbleOverlay=oa,H.cboxMenu=Jo,H.chartRegistry=Ct,H.compositeChart=fl,H.config=I,H.constants=$t,H.d3Box=Ts,H.d3compat=G,H.dataCount=hl,H.dataGrid=oo,H.dataTable=gl,H.deregisterAllCharts=Z,H.deregisterChart=nt,H.events=ct,H.filterAll=Rt,H.filters=wt,H.geoChoroplethChart=pl,H.hasChart=ut,H.heatMap=Ns,H.htmlLegend=Ja,H.instanceOfChart=At,H.legend=_l,H.lineChart=ua,H.logger=Q,H.numberDisplay=qi,H.optionalTransition=E,H.pieChart=yl,H.pluck=Ht,H.printers=He,H.redrawAll=V,H.refocusAll=ie,H.registerChart=B,H.renderAll=U,H.renderlet=J,H.rowChart=fu,H.scatterPlot=hu,H.selectMenu=co,H.seriesChart=du,H.sunburstChart=Ki,H.textFilterWidget=fo,H.transition=M,H.units=rn,H.utils=Ot,H.version=tt,H.wordcloudChart=X,Object.defineProperty(H,"__esModule",{value:!0})})},42230:function(Ke,St,K){"use strict";K.r(St),K.d(St,{Adder:function(){return wt},Delaunay:function(){return qp},FormatSpecifier:function(){return Kl},InternMap:function(){return Qe},InternSet:function(){return sn},Voronoi:function(){return Gp},active:function(){return Lv},arc:function(){return XC},area:function(){return FA},areaRadial:function(){return UA},ascending:function(){return Jt},autoType:function(){return Jp},axisBottom:function(){return lu},axisLeft:function(){return yl},axisRight:function(){return ml},axisTop:function(){return qi},bin:function(){return Ka},bisect:function(){return Ct},bisectCenter:function(){return _t},bisectLeft:function(){return G},bisectRight:function(){return I},bisector:function(){return zt},blob:function(){return K1},brush:function(){return Uv},brushSelection:function(){return yp},brushX:function(){return Bv},brushY:function(){return Yv},buffer:function(){return J1},chord:function(){return Wv},chordDirected:function(){return Gv},chordTranspose:function(){return $v},cluster:function(){return fx},color:function(){return Ws},contourDensity:function(){return Bp},contours:function(){return Fp},count:function(){return B},create:function(){return NC},creator:function(){return Cl},cross:function(){return U},csv:function(){return eb},csvFormat:function(){return b1},csvFormatBody:function(){return x1},csvFormatRow:function(){return w1},csvFormatRows:function(){return L2},csvFormatValue:function(){return A1},csvParse:function(){return jp},csvParseRows:function(){return v1},cubehelix:function(){return Ni},cumsum:function(){return V},curveBasis:function(){return h3},curveBasisClosed:function(){return d3},curveBasisOpen:function(){return g3},curveBumpX:function(){return p3},curveBumpY:function(){return _3},curveBundle:function(){return m3},curveCardinal:function(){return y3},curveCardinalClosed:function(){return v3},curveCardinalOpen:function(){return b3},curveCatmullRom:function(){return x3},curveCatmullRomClosed:function(){return w3},curveCatmullRomOpen:function(){return A3},curveLinear:function(){return Hy},curveLinearClosed:function(){return S3},curveMonotoneX:function(){return C3},curveMonotoneY:function(){return M3},curveNatural:function(){return T3},curveStep:function(){return O3},curveStepAfter:function(){return E3},curveStepBefore:function(){return R3},descending:function(){return M},deviation:function(){return $},difference:function(){return pl},disjoint:function(){return iu},dispatch:function(){return Pa},drag:function(){return _1},dragDisable:function(){return qh},dragEnable:function(){return Zh},dsv:function(){return tb},dsvFormat:function(){return Mf},easeBack:function(){return u_},easeBackIn:function(){return o_},easeBackInOut:function(){return u_},easeBackOut:function(){return Rf},easeBounce:function(){return Vl},easeBounceIn:function(){return X1},easeBounceInOut:function(){return V1},easeBounceOut:function(){return Vl},easeCircle:function(){return s_},easeCircleIn:function(){return z1},easeCircleInOut:function(){return s_},easeCircleOut:function(){return I1},easeCubic:function(){return cp},easeCubicIn:function(){return T2},easeCubicInOut:function(){return cp},easeCubicOut:function(){return O2},easeElastic:function(){return l_},easeElasticIn:function(){return q1},easeElasticInOut:function(){return Z1},easeElasticOut:function(){return l_},easeExp:function(){return a_},easeExpIn:function(){return Tf},easeExpInOut:function(){return a_},easeExpOut:function(){return L1},easeLinear:function(){return E1},easePoly:function(){return n_},easePolyIn:function(){return D1},easePolyInOut:function(){return n_},easePolyOut:function(){return P1},easeQuad:function(){return e_},easeQuadIn:function(){return Qp},easeQuadInOut:function(){return e_},easeQuadOut:function(){return t_},easeSin:function(){return Ud},easeSinIn:function(){return k1},easeSinInOut:function(){return Ud},easeSinOut:function(){return N1},every:function(){return tu},extent:function(){return J},fcumsum:function(){return Ht},filter:function(){return Vi},forceCenter:function(){return ab.Z},forceCollide:function(){return sb.Z},forceLink:function(){return ob.Z},forceManyBody:function(){return ub.Z},forceRadial:function(){return lb},forceSimulation:function(){return cb.Z},forceX:function(){return fb.Z},forceY:function(){return hb.Z},format:function(){return Nf},formatDefaultLocale:function(){return w_},formatLocale:function(){return x_},formatPrefix:function(){return Vd},formatSpecifier:function(){return Zl},fsum:function(){return Gt},geoAlbers:function(){return Fo},geoAlbersUsa:function(){return yc},geoArea:function(){return Wf},geoAzimuthalEqualArea:function(){return mh},geoAzimuthalEqualAreaRaw:function(){return Ho},geoAzimuthalEquidistant:function(){return yh},geoAzimuthalEquidistantRaw:function(){return ys},geoBounds:function(){return wb},geoCentroid:function(){return Tb},geoCircle:function(){return Ob},geoClipAntimeridian:function(){return cg},geoClipCircle:function(){return nh},geoClipExtent:function(){return Lb},geoClipRectangle:function(){return ic},geoConicConformal:function(){return wm},geoConicConformalRaw:function(){return vc},geoConicEqualArea:function(){return _h},geoConicEqualAreaRaw:function(){return Mg},geoConicEquidistant:function(){return ox},geoConicEquidistantRaw:function(){return Sm},geoContains:function(){return Ub},geoDistance:function(){return sc},geoEqualEarth:function(){return xh},geoEqualEarthRaw:function(){return Sc},geoEquirectangular:function(){return Am},geoEquirectangularRaw:function(){return bc},geoGnomonic:function(){return Og},geoGnomonicRaw:function(){return wh},geoGraticule:function(){return em},geoGraticule10:function(){return Wb},geoIdentity:function(){return Ah},geoInterpolate:function(){return $b},geoLength:function(){return V_},geoMercator:function(){return xm},geoMercatorRaw:function(){return vs},geoNaturalEarth1:function(){return Rg},geoNaturalEarth1Raw:function(){return Zu},geoOrthographic:function(){return va},geoOrthographicRaw:function(){return na},geoPath:function(){return ex},geoProjection:function(){return ya},geoProjectionMutator:function(){return Vu},geoRotation:function(){return U_},geoStereographic:function(){return ux},geoStereographicRaw:function(){return Eg},geoStream:function(){return ea},geoTransform:function(){return nx},geoTransverseMercator:function(){return no},geoTransverseMercatorRaw:function(){return Dg},gray:function(){return n1},greatest:function(){return hl},greatestIndex:function(){return Oa},group:function(){return zn},groupSort:function(){return Rr},groups:function(){return wn},hcl:function(){return $l},hierarchy:function(){return Lg},histogram:function(){return Ka},hsl:function(){return $c},html:function(){return rb},image:function(){return h_},index:function(){return Rn},indexes:function(){return Un},interpolate:function(){return $s},interpolateArray:function(){return yv},interpolateBasis:function(){return F0},interpolateBasisClosed:function(){return H0},interpolateBlues:function(){return pC},interpolateBrBG:function(){return qS},interpolateBuGn:function(){return rC},interpolateBuPu:function(){return iC},interpolateCividis:function(){return xC},interpolateCool:function(){return SC},interpolateCubehelix:function(){return Km},interpolateCubehelixDefault:function(){return wC},interpolateCubehelixLong:function(){return Ph},interpolateDate:function(){return X0},interpolateDiscrete:function(){return Hx},interpolateGnBu:function(){return aC},interpolateGreens:function(){return _C},interpolateGreys:function(){return mC},interpolateHcl:function(){return Vx},interpolateHclLong:function(){return qx},interpolateHsl:function(){return $x},interpolateHslLong:function(){return Gx},interpolateHue:function(){return Bx},interpolateInferno:function(){return PC},interpolateLab:function(){return Xx},interpolateMagma:function(){return DC},interpolateNumber:function(){return Qi},interpolateNumberArray:function(){return Qh},interpolateObject:function(){return V0},interpolateOrRd:function(){return sC},interpolateOranges:function(){return bC},interpolatePRGn:function(){return ZS},interpolatePiYG:function(){return KS},interpolatePlasma:function(){return kC},interpolatePuBu:function(){return uC},interpolatePuBuGn:function(){return oC},interpolatePuOr:function(){return jS},interpolatePuRd:function(){return lC},interpolatePurples:function(){return yC},interpolateRainbow:function(){return CC},interpolateRdBu:function(){return JS},interpolateRdGy:function(){return QS},interpolateRdPu:function(){return cC},interpolateRdYlBu:function(){return tC},interpolateRdYlGn:function(){return eC},interpolateReds:function(){return vC},interpolateRgb:function(){return Ol},interpolateRgbBasis:function(){return W0},interpolateRgbBasisClosed:function(){return mv},interpolateRound:function(){return Dh},interpolateSinebow:function(){return OC},interpolateSpectral:function(){return nC},interpolateString:function(){return fa},interpolateTransformCss:function(){return Ha},interpolateTransformSvg:function(){return Gs},interpolateTurbo:function(){return RC},interpolateViridis:function(){return EC},interpolateWarm:function(){return AC},interpolateYlGn:function(){return hC},interpolateYlGnBu:function(){return fC},interpolateYlOrBr:function(){return dC},interpolateYlOrRd:function(){return gC},interpolateZoom:function(){return Xm},interrupt:function(){return us},intersection:function(){return Ns},interval:function(){return q3},isoFormat:function(){return $3},isoParse:function(){return V3},json:function(){return d_},lab:function(){return gf},lch:function(){return Ru},least:function(){return fl},leastIndex:function(){return so},line:function(){return Jw},lineRadial:function(){return YA},linkHorizontal:function(){return n3},linkRadial:function(){return i3},linkVertical:function(){return r3},local:function(){return NA},map:function(){return nu},matcher:function(){return fo},max:function(){return Ca},maxIndex:function(){return Gi},mean:function(){return Es},median:function(){return oa},merge:function(){return Ps},min:function(){return Ma},minIndex:function(){return Jo},namespace:function(){return Ji},namespaces:function(){return Ei},nice:function(){return Os},now:function(){return wr},pack:function(){return Hm},packEnclose:function(){return Rc},packSiblings:function(){return wx},pairs:function(){return cl},partition:function(){return Hg},path:function(){return Vs},permute:function(){return jn},pie:function(){return KC},piecewise:function(){return jm},pointRadial:function(){return d0},pointer:function(){return br},pointers:function(){return zC},polygonArea:function(){return Kx},polygonCentroid:function(){return jx},polygonContains:function(){return ew},polygonHull:function(){return tw},polygonLength:function(){return nw},precisionFixed:function(){return A_},precisionPrefix:function(){return qd},precisionRound:function(){return S_},quadtree:function(){return ey},quantile:function(){return Ta},quantileSorted:function(){return Ko},quantize:function(){return Zx},quickselect:function(){return $i},radialArea:function(){return UA},radialLine:function(){return YA},randomBates:function(){return pw},randomBernoulli:function(){return ry},randomBeta:function(){return ay},randomBinomial:function(){return sy},randomCauchy:function(){return Qu},randomExponential:function(){return _w},randomGamma:function(){return Gg},randomGeometric:function(){return iy},randomInt:function(){return B2},randomIrwinHall:function(){return ny},randomLcg:function(){return oy},randomLogNormal:function(){return gw},randomLogistic:function(){return yw},randomNormal:function(){return fr},randomPareto:function(){return $g},randomPoisson:function(){return vw},randomUniform:function(){return dw},randomWeibull:function(){return mw},range:function(){return Jr},reduce:function(){return gl},reverse:function(){return ru},rgb:function(){return bu},ribbon:function(){return Qv},ribbonArrow:function(){return t1},rollup:function(){return pn},rollups:function(){return Gn},scaleBand:function(){return kh},scaleDiverging:function(){return iA},scaleDivergingLog:function(){return aA},scaleDivergingPow:function(){return Vw},scaleDivergingSqrt:function(){return IS},scaleDivergingSymlog:function(){return sA},scaleIdentity:function(){return fy},scaleImplicit:function(){return Vg},scaleLinear:function(){return cy},scaleLog:function(){return Rw},scaleOrdinal:function(){return qg},scalePoint:function(){return ww},scalePow:function(){return my},scaleQuantile:function(){return yy},scaleQuantize:function(){return zw},scaleRadial:function(){return Qg},scaleSequential:function(){return tA},scaleSequentialLog:function(){return eA},scaleSequentialPow:function(){return Xw},scaleSequentialQuantile:function(){return rA},scaleSequentialSqrt:function(){return zS},scaleSequentialSymlog:function(){return nA},scaleSqrt:function(){return V2},scaleSymlog:function(){return Pw},scaleThreshold:function(){return vy},scaleTime:function(){return NS},scaleUtc:function(){return LS},scan:function(){return Xi},schemeAccent:function(){return HS},schemeBlues:function(){return OA},schemeBrBG:function(){return oA},schemeBuGn:function(){return _A},schemeBuPu:function(){return mA},schemeCategory10:function(){return FS},schemeDark2:function(){return BS},schemeGnBu:function(){return yA},schemeGreens:function(){return RA},schemeGreys:function(){return EA},schemeOrRd:function(){return vA},schemeOranges:function(){return kA},schemePRGn:function(){return uA},schemePaired:function(){return YS},schemePastel1:function(){return US},schemePastel2:function(){return WS},schemePiYG:function(){return lA},schemePuBu:function(){return xA},schemePuBuGn:function(){return bA},schemePuOr:function(){return cA},schemePuRd:function(){return wA},schemePurples:function(){return DA},schemeRdBu:function(){return fA},schemeRdGy:function(){return hA},schemeRdPu:function(){return AA},schemeRdYlBu:function(){return dA},schemeRdYlGn:function(){return gA},schemeReds:function(){return PA},schemeSet1:function(){return $S},schemeSet2:function(){return GS},schemeSet3:function(){return XS},schemeSpectral:function(){return pA},schemeTableau10:function(){return VS},schemeYlGn:function(){return CA},schemeYlGnBu:function(){return SA},schemeYlOrBr:function(){return MA},schemeYlOrRd:function(){return TA},select:function(){return Xr},selectAll:function(){return IC},selection:function(){return yu},selector:function(){return rs},selectorAll:function(){return Ki},shuffle:function(){return dl},shuffler:function(){return ks},some:function(){return eu},sort:function(){return pr},stack:function(){return k3},stackOffsetDiverging:function(){return L3},stackOffsetExpand:function(){return N3},stackOffsetNone:function(){return Bh},stackOffsetSilhouette:function(){return z3},stackOffsetWiggle:function(){return I3},stackOrderAppearance:function(){return hS},stackOrderAscending:function(){return dS},stackOrderDescending:function(){return H3},stackOrderInsideOut:function(){return B3},stackOrderNone:function(){return Yh},stackOrderReverse:function(){return Y3},stratify:function(){return Ox},style:function(){return fi},subset:function(){return Ja},sum:function(){return Qo},superset:function(){return lo},svg:function(){return ib},symbol:function(){return f3},symbolCircle:function(){return e2},symbolCross:function(){return WA},symbolDiamond:function(){return GA},symbolSquare:function(){return qA},symbolStar:function(){return VA},symbolTriangle:function(){return ZA},symbolWye:function(){return KA},symbols:function(){return c3},text:function(){return ds},thresholdFreedmanDiaconis:function(){return Rs},thresholdScott:function(){return jo},thresholdSturges:function(){return sa},tickFormat:function(){return Jg},tickIncrement:function(){return ia},tickStep:function(){return aa},ticks:function(){return Sa},timeDay:function(){return n},timeDays:function(){return i},timeFormat:function(){return Ww},timeFormatDefaultLocale:function(){return Q2},timeFormatLocale:function(){return My},timeFriday:function(){return C},timeFridays:function(){return Ie},timeHour:function(){return i0},timeHours:function(){return Hw},timeInterval:function(){return Ar},timeMillisecond:function(){return r0},timeMilliseconds:function(){return by},timeMinute:function(){return Lh},timeMinutes:function(){return Fw},timeMonday:function(){return p},timeMondays:function(){return et},timeMonth:function(){return Se},timeMonths:function(){return Lt},timeParse:function(){return J2},timeSaturday:function(){return R},timeSaturdays:function(){return ne},timeSecond:function(){return Xa},timeSeconds:function(){return wy},timeSunday:function(){return c},timeSundays:function(){return P},timeThursday:function(){return A},timeThursdays:function(){return we},timeTickInterval:function(){return Cy},timeTicks:function(){return Aa},timeTuesday:function(){return y},timeTuesdays:function(){return at},timeWednesday:function(){return v},timeWednesdays:function(){return vt},timeWeek:function(){return c},timeWeeks:function(){return P},timeYear:function(){return xe},timeYears:function(){return _e},timeout:function(){return Kc},timer:function(){return kl},timerFlush:function(){return Nl},transition:function(){return up},transpose:function(){return oo},tree:function(){return Nx},treemap:function(){return Lx},treemapBinary:function(){return zx},treemapDice:function(){return $o},treemapResquarify:function(){return Fx},treemapSlice:function(){return Eh},treemapSliceDice:function(){return Ix},treemapSquarify:function(){return $m},tsv:function(){return nb},tsvFormat:function(){return C1},tsvFormatBody:function(){return Bd},tsvFormatRow:function(){return T1},tsvFormatRows:function(){return M1},tsvFormatValue:function(){return O1},tsvParse:function(){return Hd},tsvParseRows:function(){return S1},union:function(){return su},utcDay:function(){return bt},utcDays:function(){return pe},utcFormat:function(){return Ey},utcFriday:function(){return Ue},utcFridays:function(){return Me},utcHour:function(){return Xe},utcHours:function(){return an},utcMillisecond:function(){return r0},utcMilliseconds:function(){return by},utcMinute:function(){return Ye},utcMinutes:function(){return Le},utcMonday:function(){return ze},utcMondays:function(){return Ln},utcMonth:function(){return ue},utcMonths:function(){return er},utcParse:function(){return $w},utcSaturday:function(){return Vn},utcSaturdays:function(){return nn},utcSecond:function(){return Xa},utcSeconds:function(){return wy},utcSunday:function(){return Kt},utcSundays:function(){return On},utcThursday:function(){return Fe},utcThursdays:function(){return tr},utcTickInterval:function(){return Cs},utcTicks:function(){return nr},utcTuesday:function(){return ve},utcTuesdays:function(){return Bn},utcWednesday:function(){return Ee},utcWednesdays:function(){return Cn},utcWeek:function(){return Kt},utcWeeks:function(){return On},utcYear:function(){return sr},utcYears:function(){return zr},variance:function(){return E},version:function(){return Xt},window:function(){return _u},xml:function(){return g_},zip:function(){return Ra},zoom:function(){return e5},zoomIdentity:function(){return Xy},zoomTransform:function(){return _S}});var H="d3",Xt="6.7.0",it="Data-Driven Documents",me=null,mt="https://d3js.org",Dt="BSD-3-Clause",lt={name:"Mike Bostock",url:"https://bost.ocks.org/mike"},Et="dist/d3.node.js",te="dist/d3.min.js",qt="dist/d3.min.js",re="index.js",Ft={type:"git",url:"https://github.com/d3/d3.git"},fe=null,ye={pretest:"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c",test:"tape 'test/**/*-test.js'",prepublishOnly:"yarn test",postpublish:'git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v${npm_package_version%%.*}.js && cp ../d3/dist/d3.min.js d3.v${npm_package_version%%.*}.min.js && git add d3.v${npm_package_version%%.*}.js d3.v${npm_package_version%%.*}.min.js && git commit -m "d3 ${npm_package_version}" && git push && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js'},se={json2module:"0.0",rimraf:"3",rollup:"2","rollup-plugin-ascii":"0.0","rollup-plugin-node-resolve":"5","rollup-plugin-terser":"7",tape:"4","tape-await":"0.1"},Yt={"d3-array":"2","d3-axis":"2","d3-brush":"2","d3-chord":"2","d3-color":"2","d3-contour":"2","d3-delaunay":"5","d3-dispatch":"2","d3-drag":"2","d3-dsv":"2","d3-ease":"2","d3-fetch":"2","d3-force":"2","d3-format":"2","d3-geo":"2","d3-hierarchy":"2","d3-interpolate":"2","d3-path":"2","d3-polygon":"2","d3-quadtree":"2","d3-random":"2","d3-scale":"3","d3-scale-chromatic":"2","d3-selection":"2","d3-shape":"2","d3-time":"2","d3-time-format":"3","d3-timer":"2","d3-transition":"2","d3-zoom":"2"};function Jt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function zt(t){var e=t,r=t;t.length===1&&(e=function(h,g){return t(h)-g},r=It(t));function a(f,h,g,_){for(g==null&&(g=0),_==null&&(_=f.length);g<_;){var m=g+_>>>1;r(f[m],h)<0?g=m+1:_=m}return g}function o(f,h,g,_){for(g==null&&(g=0),_==null&&(_=f.length);g<_;){var m=g+_>>>1;r(f[m],h)>0?_=m:g=m+1}return g}function l(f,h,g,_){g==null&&(g=0),_==null&&(_=f.length);var m=a(f,h,g,_-1);return m>g&&e(f[m-1],h)>-e(f[m],h)?m-1:m}return{left:a,center:l,right:o}}function It(t){return function(e,r){return Jt(t(e),r)}}var Pt=K(64254);function j(t,e){var r;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=(0,Pt.Z)(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(_){throw _},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,f=!1,h;return{s:function(){r=t[Symbol.iterator]()},n:function(){var _=r.next();return l=_.done,_},e:function(_){f=!0,h=_},f:function(){try{!l&&r.return!=null&&r.return()}finally{if(f)throw h}}}}var tt=K(94043),Tt=K.n(tt),$t=Tt().mark(Q);function dt(t){return t===null?NaN:+t}function Q(t,e){var r,a,o,l,f,h,g;return Tt().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(e!==void 0){m.next=21;break}r=j(t),m.prev=2,r.s();case 4:if((a=r.n()).done){m.next=11;break}if(o=a.value,!(o!=null&&(o=+o)>=o)){m.next=9;break}return m.next=9,o;case 9:m.next=4;break;case 11:m.next=16;break;case 13:m.prev=13,m.t0=m.catch(2),r.e(m.t0);case 16:return m.prev=16,r.f(),m.finish(16);case 19:m.next=40;break;case 21:l=-1,f=j(t),m.prev=23,f.s();case 25:if((h=f.n()).done){m.next=32;break}if(g=h.value,!((g=e(g,++l,t))!=null&&(g=+g)>=g)){m.next=30;break}return m.next=30,g;case 30:m.next=25;break;case 32:m.next=37;break;case 34:m.prev=34,m.t1=m.catch(23),f.e(m.t1);case 37:return m.prev=37,f.f(),m.finish(37);case 40:case"end":return m.stop()}},$t,null,[[2,13,16,19],[23,34,37,40]])}var yt=zt(Jt),I=yt.right,G=yt.left,_t=zt(dt).center,Ct=I;function B(t,e){var r=0;if(e===void 0){var a=j(t),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;l!=null&&(l=+l)>=l&&++r}}catch(m){a.e(m)}finally{a.f()}}else{var f=-1,h=j(t),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;(_=e(_,++f,t))!=null&&(_=+_)>=_&&++r}}catch(m){h.e(m)}finally{h.f()}}return r}var nt=K(86582);function ut(t){return t.length|0}function Z(t){return!(t>0)}function Rt(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function ie(t){return function(e){return t.apply(void 0,(0,nt.Z)(e))}}function U(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=typeof e[e.length-1]=="function"&&ie(e.pop());e=e.map(Rt);var o=e.map(ut),l=e.length-1,f=new Array(l+1).fill(0),h=[];if(l<0||o.some(Z))return h;for(;;){h.push(f.map(function(_,m){return e[m][_]}));for(var g=l;++f[g]===o[g];){if(g===0)return a?h.map(a):h;f[g--]=0}}}function V(t,e){var r=0,a=0;return Float64Array.from(t,e===void 0?function(o){return r+=+o||0}:function(o){return r+=+e(o,a++,t)||0})}function M(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function E(t,e){var r=0,a,o=0,l=0;if(e===void 0){var f=j(t),h;try{for(f.s();!(h=f.n()).done;){var g=h.value;g!=null&&(g=+g)>=g&&(a=g-o,o+=a/++r,l+=a*(g-o))}}catch(S){f.e(S)}finally{f.f()}}else{var _=-1,m=j(t),w;try{for(m.s();!(w=m.n()).done;){var x=w.value;(x=e(x,++_,t))!=null&&(x=+x)>=x&&(a=x-o,o+=a/++r,l+=a*(x-o))}}catch(S){m.e(S)}finally{m.f()}}if(r>1)return l/(r-1)}function $(t,e){var r=E(t,e);return r&&Math.sqrt(r)}function J(t,e){var r,a;if(e===void 0){var o=j(t),l;try{for(o.s();!(l=o.n()).done;){var f=l.value;f!=null&&(r===void 0?f>=f&&(r=a=f):(r>f&&(r=f),a<f&&(a=f)))}}catch(w){o.e(w)}finally{o.f()}}else{var h=-1,g=j(t),_;try{for(g.s();!(_=g.n()).done;){var m=_.value;(m=e(m,++h,t))!=null&&(r===void 0?m>=m&&(r=a=m):(r>m&&(r=m),a<m&&(a=m)))}}catch(w){g.e(w)}finally{g.f()}}return[r,a]}var At=K(69610),ct=K(54941),wt=function(){function t(){(0,At.Z)(this,t),this._partials=new Float64Array(32),this._n=0}return(0,ct.Z)(t,[{key:"add",value:function(r){for(var a=this._partials,o=0,l=0;l<this._n&&l<32;l++){var f=a[l],h=r+f,g=Math.abs(r)<Math.abs(f)?r-(h-f):f-(h-r);g&&(a[o++]=g),r=h}return a[o]=r,this._n=o+1,this}},{key:"valueOf",value:function(){var r=this._partials,a=this._n,o,l,f,h=0;if(a>0){for(h=r[--a];a>0&&(o=h,l=r[--a],h=o+l,f=l-(h-o),!f););a>0&&(f<0&&r[a-1]<0||f>0&&r[a-1]>0)&&(l=f*2,o=h+l,l==o-h&&(h=o))}return h}}]),t}();function Gt(t,e){var r=new wt;if(e===void 0){var a=j(t),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;(l=+l)&&r.add(l)}}catch(m){a.e(m)}finally{a.f()}}else{var f=-1,h=j(t),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;(_=+e(_,++f,t))&&r.add(_)}}catch(m){h.e(m)}finally{h.f()}}return+r}function Ht(t,e){var r=new wt,a=-1;return Float64Array.from(t,e===void 0?function(o){return r.add(+o||0)}:function(o){return r.add(+e(o,++a,t)||0)})}var Ot=K(2824);class Qe extends Map{constructor(e,r=En){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[a,o]of e)this.set(a,o)}get(e){return super.get(He(this,e))}has(e){return super.has(He(this,e))}set(e,r){return super.set(rn(this,e),r)}delete(e){return super.delete(xn(this,e))}}class sn extends Set{constructor(e,r=En){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const a of e)this.add(a)}has(e){return super.has(He(this,e))}add(e){return super.add(rn(this,e))}delete(e){return super.delete(xn(this,e))}}function He({_intern:t,_key:e},r){const a=e(r);return t.has(a)?t.get(a):r}function rn({_intern:t,_key:e},r){const a=e(r);return t.has(a)?t.get(a):(t.set(a,r),r)}function xn({_intern:t,_key:e},r){const a=e(r);return t.has(a)&&(r=t.get(r),t.delete(a)),r}function En(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Re(t){return t}function zn(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return ir(t,Re,Re,r)}function wn(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return ir(t,Array.from,Re,r)}function pn(t,e){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];return ir(t,Re,e,a)}function Gn(t,e){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];return ir(t,Array.from,e,a)}function Rn(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return ir(t,Re,Hn,r)}function Un(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return ir(t,Array.from,Hn,r)}function Hn(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function ir(t,e,r,a){return function o(l,f){if(f>=a.length)return r(l);var h=new Qe,g=a[f++],_=-1,m=j(l),w;try{for(m.s();!(w=m.n()).done;){var x=w.value,S=g(x,++_,l),D=h.get(S);D?D.push(x):h.set(S,[x])}}catch(rt){m.e(rt)}finally{m.f()}var L=j(h),O;try{for(L.s();!(O=L.n()).done;){var N=O.value,W=(0,Ot.Z)(N,2),F=W[0],z=W[1];h.set(F,o(z,f))}}catch(rt){L.e(rt)}finally{L.f()}return e(h)}(t,0)}function jn(t,e){return Array.from(e,function(r){return t[r]})}function pr(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);var o=r,l=(0,Ot.Z)(o,1),f=l[0],h=f===void 0?Jt:f;if(h.length===1||r.length>1){var g=Uint32Array.from(t,function(_,m){return m});return r.length>1?(r=r.map(function(_){return t.map(_)}),g.sort(function(_,m){var w=j(r),x;try{for(w.s();!(x=w.n()).done;){var S=x.value,D=Jt(S[_],S[m]);if(D)return D}}catch(L){w.e(L)}finally{w.f()}})):(h=t.map(h),g.sort(function(_,m){return Jt(h[_],h[m])})),jn(t,g)}return t.sort(h)}function Rr(t,e,r){return(e.length===1?pr(pn(t,e,r),function(a,o){var l=(0,Ot.Z)(a,2),f=l[0],h=l[1],g=(0,Ot.Z)(o,2),_=g[0],m=g[1];return Jt(h,m)||Jt(f,_)}):pr(zn(t,r),function(a,o){var l=(0,Ot.Z)(a,2),f=l[0],h=l[1],g=(0,Ot.Z)(o,2),_=g[0],m=g[1];return e(h,m)||Jt(f,_)})).map(function(a){var o=(0,Ot.Z)(a,1),l=o[0];return l})}var _r=Array.prototype,ra=_r.slice,jr=_r.map;function oi(t){return function(){return t}}var vr=Math.sqrt(50),Ts=Math.sqrt(10),Ri=Math.sqrt(2);function Sa(t,e,r){var a,o=-1,l,f,h;if(e=+e,t=+t,r=+r,t===e&&r>0)return[t];if((a=e<t)&&(l=t,t=e,e=l),(h=ia(t,e,r))===0||!isFinite(h))return[];if(h>0){var g=Math.round(t/h),_=Math.round(e/h);for(g*h<t&&++g,_*h>e&&--_,f=new Array(l=_-g+1);++o<l;)f[o]=(g+o)*h}else{h=-h;var m=Math.round(t*h),w=Math.round(e*h);for(m/h<t&&++m,w/h>e&&--w,f=new Array(l=w-m+1);++o<l;)f[o]=(m+o)/h}return a&&f.reverse(),f}function ia(t,e,r){var a=(e-t)/Math.max(0,r),o=Math.floor(Math.log(a)/Math.LN10),l=a/Math.pow(10,o);return o>=0?(l>=vr?10:l>=Ts?5:l>=Ri?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=vr?10:l>=Ts?5:l>=Ri?2:1)}function aa(t,e,r){var a=Math.abs(e-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),l=a/o;return l>=vr?o*=10:l>=Ts?o*=5:l>=Ri&&(o*=2),e<t?-o:o}function Os(t,e,r){for(var a;;){var o=ia(t,e,r);if(o===a||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),a=o}}function sa(t){return Math.ceil(Math.log(B(t))/Math.LN2)+1}function Ka(){var t=Re,e=J,r=sa;function a(o){Array.isArray(o)||(o=Array.from(o));var l,f=o.length,h,g=new Array(f);for(l=0;l<f;++l)g[l]=t(o[l],l,o);var _=e(g),m=_[0],w=_[1],x=r(g,m,w);if(!Array.isArray(x)){var S=w,D=+x;if(e===J){var L=Os(m,w,D),O=(0,Ot.Z)(L,2);m=O[0],w=O[1]}if(x=Sa(m,w,D),x[x.length-1]>=w)if(S>=w&&e===J){var N=ia(m,w,D);isFinite(N)&&(N>0?w=(Math.floor(w/N)+1)*N:N<0&&(w=(Math.ceil(w*-N)+1)/-N))}else x.pop()}for(var W=x.length;x[0]<=m;)x.shift(),--W;for(;x[W-1]>w;)x.pop(),--W;var F=new Array(W+1),z;for(l=0;l<=W;++l)z=F[l]=[],z.x0=l>0?x[l-1]:m,z.x1=l<W?x[l]:w;for(l=0;l<f;++l)h=g[l],m<=h&&h<=w&&F[Ct(x,h,0,W)].push(o[l]);return F}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:oi(o),a):t},a.domain=function(o){return arguments.length?(e=typeof o=="function"?o:oi([o[0],o[1]]),a):e},a.thresholds=function(o){return arguments.length?(r=typeof o=="function"?o:Array.isArray(o)?oi(ra.call(o)):oi(o),a):r},a}function Ca(t,e){var r;if(e===void 0){var a=j(t),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}}catch(m){a.e(m)}finally{a.f()}}else{var f=-1,h=j(t),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;(_=e(_,++f,t))!=null&&(r<_||r===void 0&&_>=_)&&(r=_)}}catch(m){h.e(m)}finally{h.f()}}return r}function Ma(t,e){var r;if(e===void 0){var a=j(t),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}}catch(m){a.e(m)}finally{a.f()}}else{var f=-1,h=j(t),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;(_=e(_,++f,t))!=null&&(r>_||r===void 0&&_>=_)&&(r=_)}}catch(m){h.e(m)}finally{h.f()}}return r}function $i(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.length-1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Jt;a>r;){if(a-r>600){var l=a-r+1,f=e-r+1,h=Math.log(l),g=.5*Math.exp(2*h/3),_=.5*Math.sqrt(h*g*(l-g)/l)*(f-l/2<0?-1:1),m=Math.max(r,Math.floor(e-f*g/l+_)),w=Math.min(a,Math.floor(e+(l-f)*g/l+_));$i(t,e,m,w,o)}var x=t[e],S=r,D=a;for(ja(t,r,e),o(t[a],x)>0&&ja(t,r,a);S<D;){for(ja(t,S,D),++S,--D;o(t[S],x)<0;)++S;for(;o(t[D],x)>0;)--D}o(t[r],x)===0?ja(t,r,D):(++D,ja(t,D,a)),D<=e&&(r=D+1),e<=D&&(a=D-1)}return t}function ja(t,e,r){var a=t[e];t[e]=t[r],t[r]=a}function Ta(t,e,r){if(t=Float64Array.from(Q(t,r)),!!(a=t.length)){if((e=+e)<=0||a<2)return Ma(t);if(e>=1)return Ca(t);var a,o=(a-1)*e,l=Math.floor(o),f=Ca($i(t,l).subarray(0,l+1)),h=Ma(t.subarray(l+1));return f+(h-f)*(o-l)}}function Ko(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dt;if(!!(a=t.length)){if((e=+e)<=0||a<2)return+r(t[0],0,t);if(e>=1)return+r(t[a-1],a-1,t);var a,o=(a-1)*e,l=Math.floor(o),f=+r(t[l],l,t),h=+r(t[l+1],l+1,t);return f+(h-f)*(o-l)}}function Rs(t,e,r){return Math.ceil((r-e)/(2*(Ta(t,.75)-Ta(t,.25))*Math.pow(B(t),-1/3)))}function jo(t,e,r){return Math.ceil((r-e)/(3.5*$(t)*Math.pow(B(t),-1/3)))}function Gi(t,e){var r,a=-1,o=-1;if(e===void 0){var l=j(t),f;try{for(l.s();!(f=l.n()).done;){var h=f.value;++o,h!=null&&(r<h||r===void 0&&h>=h)&&(r=h,a=o)}}catch(w){l.e(w)}finally{l.f()}}else{var g=j(t),_;try{for(g.s();!(_=g.n()).done;){var m=_.value;(m=e(m,++o,t))!=null&&(r<m||r===void 0&&m>=m)&&(r=m,a=o)}}catch(w){g.e(w)}finally{g.f()}}return a}function Es(t,e){var r=0,a=0;if(e===void 0){var o=j(t),l;try{for(o.s();!(l=o.n()).done;){var f=l.value;f!=null&&(f=+f)>=f&&(++r,a+=f)}}catch(w){o.e(w)}finally{o.f()}}else{var h=-1,g=j(t),_;try{for(g.s();!(_=g.n()).done;){var m=_.value;(m=e(m,++h,t))!=null&&(m=+m)>=m&&(++r,a+=m)}}catch(w){g.e(w)}finally{g.f()}}if(r)return a/r}function oa(t,e){return Ta(t,.5,e)}var ll=Tt().mark(Ds);function Ds(t){var e,r,a;return Tt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=j(t),l.prev=1,e.s();case 3:if((r=e.n()).done){l.next=8;break}return a=r.value,l.delegateYield(a,"t0",6);case 6:l.next=3;break;case 8:l.next=13;break;case 10:l.prev=10,l.t1=l.catch(1),e.e(l.t1);case 13:return l.prev=13,e.f(),l.finish(13);case 16:case"end":return l.stop()}},ll,null,[[1,10,13,16]])}function Ps(t){return Array.from(Ds(t))}function Jo(t,e){var r,a=-1,o=-1;if(e===void 0){var l=j(t),f;try{for(l.s();!(f=l.n()).done;){var h=f.value;++o,h!=null&&(r>h||r===void 0&&h>=h)&&(r=h,a=o)}}catch(w){l.e(w)}finally{l.f()}}else{var g=j(t),_;try{for(g.s();!(_=g.n()).done;){var m=_.value;(m=e(m,++o,t))!=null&&(r>m||r===void 0&&m>=m)&&(r=m,a=o)}}catch(w){g.e(w)}finally{g.f()}}return a}function cl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ui,r=[],a,o=!1,l=j(t),f;try{for(l.s();!(f=l.n()).done;){var h=f.value;o&&r.push(e(a,h)),a=h,o=!0}}catch(g){l.e(g)}finally{l.f()}return r}function ui(t,e){return[t,e]}function Jr(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var a=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,l=new Array(o);++a<o;)l[a]=t+a*r;return l}function fl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jt,r,a=!1;if(e.length===1){var o,l=j(t),f;try{for(l.s();!(f=l.n()).done;){var h=f.value,g=e(h);(a?Jt(g,o)<0:Jt(g,g)===0)&&(r=h,o=g,a=!0)}}catch(x){l.e(x)}finally{l.f()}}else{var _=j(t),m;try{for(_.s();!(m=_.n()).done;){var w=m.value;(a?e(w,r)<0:e(w,w)===0)&&(r=w,a=!0)}}catch(x){_.e(x)}finally{_.f()}}return r}function so(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jt;if(e.length===1)return Jo(t,e);var r,a=-1,o=-1,l=j(t),f;try{for(l.s();!(f=l.n()).done;){var h=f.value;++o,(a<0?e(h,h)===0:e(h,r)<0)&&(r=h,a=o)}}catch(g){l.e(g)}finally{l.f()}return a}function hl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jt,r,a=!1;if(e.length===1){var o,l=j(t),f;try{for(l.s();!(f=l.n()).done;){var h=f.value,g=e(h);(a?Jt(g,o)>0:Jt(g,g)===0)&&(r=h,o=g,a=!0)}}catch(x){l.e(x)}finally{l.f()}}else{var _=j(t),m;try{for(_.s();!(m=_.n()).done;){var w=m.value;(a?e(w,r)>0:e(w,w)===0)&&(r=w,a=!0)}}catch(x){_.e(x)}finally{_.f()}}return r}function Oa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jt;if(e.length===1)return Gi(t,e);var r,a=-1,o=-1,l=j(t),f;try{for(l.s();!(f=l.n()).done;){var h=f.value;++o,(a<0?e(h,h)===0:e(h,r)>0)&&(r=h,a=o)}}catch(g){l.e(g)}finally{l.f()}return a}function Xi(t,e){var r=so(t,e);return r<0?void 0:r}var dl=ks(Math.random);function ks(t){return function(r){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.length,l=o-(a=+a);l;){var f=t()*l--|0,h=r[l+a];r[l+a]=r[f+a],r[f+a]=h}return r}}function Qo(t,e){var r=0;if(e===void 0){var a=j(t),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;(l=+l)&&(r+=l)}}catch(m){a.e(m)}finally{a.f()}}else{var f=-1,h=j(t),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;(_=+e(_,++f,t))&&(r+=_)}}catch(m){h.e(m)}finally{h.f()}}return r}function oo(t){if(!(l=t.length))return[];for(var e=-1,r=Ma(t,uo),a=new Array(r);++e<r;)for(var o=-1,l,f=a[e]=new Array(l);++o<l;)f[o]=t[o][e];return a}function uo(t){return t.length}function Ra(){return oo(arguments)}function tu(t,e){if(typeof e!="function")throw new TypeError("test is not a function");var r=-1,a=j(t),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;if(!e(l,++r,t))return!1}}catch(f){a.e(f)}finally{a.f()}return!0}function eu(t,e){if(typeof e!="function")throw new TypeError("test is not a function");var r=-1,a=j(t),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;if(e(l,++r,t))return!0}}catch(f){a.e(f)}finally{a.f()}return!1}function Vi(t,e){if(typeof e!="function")throw new TypeError("test is not a function");var r=[],a=-1,o=j(t),l;try{for(o.s();!(l=o.n()).done;){var f=l.value;e(f,++a,t)&&r.push(f)}}catch(h){o.e(h)}finally{o.f()}return r}function nu(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,function(r,a){return e(r,a,t)})}function gl(t,e,r){if(typeof e!="function")throw new TypeError("reducer is not a function");var a=t[Symbol.iterator](),o,l,f=-1;if(arguments.length<3){var h=a.next();if(o=h.done,r=h.value,o)return;++f}for(;g=a.next(),o=g.done,l=g.value,!o;){var g;r=e(r,l,++f,t)}return r}function ru(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function pl(t){t=new Set(t);for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];for(var o=0,l=r;o<l.length;o++){var f=l[o],h=j(f),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;t.delete(_)}}catch(m){h.e(m)}finally{h.f()}}return t}function iu(t,e){var r=e[Symbol.iterator](),a=new Set,o=j(t),l;try{for(o.s();!(l=o.n()).done;){var f=l.value;if(a.has(f))return!1;for(var h=void 0,g=void 0;_=r.next(),h=_.value,g=_.done,_;){var _;if(g)break;if(Object.is(f,h))return!1;a.add(h)}}}catch(m){o.e(m)}finally{o.f()}return!0}function au(t){return t instanceof Set?t:new Set(t)}function Ns(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];t=new Set(t),r=r.map(au);var o=j(t),l;try{t:for(o.s();!(l=o.n()).done;){var f=l.value,h=j(r),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;if(!_.has(f)){t.delete(f);continue t}}}catch(m){h.e(m)}finally{h.f()}}}catch(m){o.e(m)}finally{o.f()}return t}function lo(t,e){var r=t[Symbol.iterator](),a=new Set,o=j(e),l;try{for(o.s();!(l=o.n()).done;){var f=l.value;if(!a.has(f))for(var h=void 0,g=void 0;_=r.next(),h=_.value,g=_.done,_;){var _;if(g)return!1;if(a.add(h),Object.is(f,h))break}}}catch(m){o.e(m)}finally{o.f()}return!0}function Ja(t,e){return lo(e,t)}function su(){for(var t=new Set,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];for(var o=0,l=r;o<l.length;o++){var f=l[o],h=j(f),g;try{for(h.s();!(g=h.n()).done;){var _=g.value;t.add(_)}}catch(m){h.e(m)}finally{h.f()}}return t}var Qa=Array.prototype.slice;function _l(t){return t}var Ls=1,Ea=2,zs=3,wi=4,Da=1e-6;function ts(t){return"translate("+t+",0)"}function ou(t){return"translate(0,"+t+")"}function es(t){return e=>+t(e)}function ua(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function uu(){return!this.__axis}function ns(t,e){var r=[],a=null,o=null,l=6,f=6,h=3,g=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,_=t===Ls||t===wi?-1:1,m=t===wi||t===Ea?"x":"y",w=t===Ls||t===zs?ts:ou;function x(S){var D=a==null?e.ticks?e.ticks.apply(e,r):e.domain():a,L=o==null?e.tickFormat?e.tickFormat.apply(e,r):_l:o,O=Math.max(l,0)+h,N=e.range(),W=+N[0]+g,F=+N[N.length-1]+g,z=(e.bandwidth?ua:es)(e.copy(),g),rt=S.selection?S.selection():S,ot=rt.selectAll(".domain").data([null]),Bt=rt.selectAll(".tick").data(D,e).order(),Ut=Bt.exit(),ae=Bt.enter().append("g").attr("class","tick"),Mt=Bt.select("line"),ht=Bt.select("text");ot=ot.merge(ot.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Bt=Bt.merge(ae),Mt=Mt.merge(ae.append("line").attr("stroke","currentColor").attr(m+"2",_*l)),ht=ht.merge(ae.append("text").attr("fill","currentColor").attr(m,_*O).attr("dy",t===Ls?"0em":t===zs?"0.71em":"0.32em")),S!==rt&&(ot=ot.transition(S),Bt=Bt.transition(S),Mt=Mt.transition(S),ht=ht.transition(S),Ut=Ut.transition(S).attr("opacity",Da).attr("transform",function(Qt){return isFinite(Qt=z(Qt))?w(Qt+g):this.getAttribute("transform")}),ae.attr("opacity",Da).attr("transform",function(Qt){var Zt=this.parentNode.__axis;return w((Zt&&isFinite(Zt=Zt(Qt))?Zt:z(Qt))+g)})),Ut.remove(),ot.attr("d",t===wi||t===Ea?f?"M"+_*f+","+W+"H"+g+"V"+F+"H"+_*f:"M"+g+","+W+"V"+F:f?"M"+W+","+_*f+"V"+g+"H"+F+"V"+_*f:"M"+W+","+g+"H"+F),Bt.attr("opacity",1).attr("transform",function(Qt){return w(z(Qt)+g)}),Mt.attr(m+"2",_*l),ht.attr(m,_*O).text(L),rt.filter(uu).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ea?"start":t===wi?"end":"middle"),rt.each(function(){this.__axis=z})}return x.scale=function(S){return arguments.length?(e=S,x):e},x.ticks=function(){return r=Qa.call(arguments),x},x.tickArguments=function(S){return arguments.length?(r=S==null?[]:Qa.call(S),x):r.slice()},x.tickValues=function(S){return arguments.length?(a=S==null?null:Qa.call(S),x):a&&a.slice()},x.tickFormat=function(S){return arguments.length?(o=S,x):o},x.tickSize=function(S){return arguments.length?(l=f=+S,x):l},x.tickSizeInner=function(S){return arguments.length?(l=+S,x):l},x.tickSizeOuter=function(S){return arguments.length?(f=+S,x):f},x.tickPadding=function(S){return arguments.length?(h=+S,x):h},x.offset=function(S){return arguments.length?(g=+S,x):g},x}function qi(t){return ns(Ls,t)}function ml(t){return ns(Ea,t)}function lu(t){return ns(zs,t)}function yl(t){return ns(wi,t)}var cu={value:function(){}};function fu(){for(var t=0,e=arguments.length,r={},a;t<e;++t){if(!(a=arguments[t]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new li(r)}function li(t){this._=t}function hu(t,e){return t.trim().split(/^|\s+/).map(function(r){var a="",o=r.indexOf(".");if(o>=0&&(a=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}li.prototype=fu.prototype={constructor:li,on:function(e,r){var a=this._,o=hu(e+"",a),l,f=-1,h=o.length;if(arguments.length<2){for(;++f<h;)if((l=(e=o[f]).type)&&(l=vl(a[l],e.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++f<h;)if(l=(e=o[f]).type)a[l]=Zi(a[l],e.name,r);else if(r==null)for(l in a)a[l]=Zi(a[l],e.name,null);return this},copy:function(){var e={},r=this._;for(var a in r)e[a]=r[a].slice();return new li(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var a=new Array(l),o=0,l,f;o<l;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(f=this._[e],o=0,l=f.length;o<l;++o)f[o].value.apply(r,a)},apply:function(e,r,a){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],l=0,f=o.length;l<f;++l)o[l].value.apply(r,a)}};function vl(t,e){for(var r=0,a=t.length,o;r<a;++r)if((o=t[r]).name===e)return o.value}function Zi(t,e,r){for(var a=0,o=t.length;a<o;++a)if(t[a].name===e){t[a]=cu,t=t.slice(0,a).concat(t.slice(a+1));break}return r!=null&&t.push({name:e,value:r}),t}var Pa=fu;function co(){}function rs(t){return t==null?co:function(){return this.querySelector(t)}}function du(t){typeof t!="function"&&(t=rs(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var l=e[o],f=l.length,h=a[o]=new Array(f),g,_,m=0;m<f;++m)(g=l[m])&&(_=t.call(g,g.__data__,m,l))&&("__data__"in g&&(_.__data__=g.__data__),h[m]=_);return new Gr(a,this._parents)}function Is(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wr(){return[]}function Ki(t){return t==null?Wr:function(){return this.querySelectorAll(t)}}function gu(t){return function(){var e=t.apply(this,arguments);return e==null?[]:Is(e)}}function ka(t){typeof t=="function"?t=gu(t):t=Ki(t);for(var e=this._groups,r=e.length,a=[],o=[],l=0;l<r;++l)for(var f=e[l],h=f.length,g,_=0;_<h;++_)(g=f[_])&&(a.push(t.call(g,g.__data__,_,f)),o.push(g));return new Gr(a,o)}function fo(t){return function(){return this.matches(t)}}function ho(t){return function(e){return e.matches(t)}}var X=Array.prototype.find;function ft(t){return function(){return X.call(this.children,t)}}function ee(){return this.firstElementChild}function k(t){return this.select(t==null?ee:ft(typeof t=="function"?t:ho(t)))}var s=Array.prototype.filter;function d(){return this.children}function b(t){return function(){return s.call(this.children,t)}}function T(t){return this.selectAll(t==null?d:b(typeof t=="function"?t:ho(t)))}function Y(t){typeof t!="function"&&(t=fo(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var l=e[o],f=l.length,h=a[o]=[],g,_=0;_<f;++_)(g=l[_])&&t.call(g,g.__data__,_,l)&&h.push(g);return new Gr(a,this._parents)}function q(t){return new Array(t.length)}function Vt(){return new Gr(this._enter||this._groups.map(q),this._parents)}function le(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}le.prototype={constructor:le,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ge(t){return function(){return t}}function en(t,e,r,a,o,l){for(var f=0,h,g=e.length,_=l.length;f<_;++f)(h=e[f])?(h.__data__=l[f],a[f]=h):r[f]=new le(t,l[f]);for(;f<g;++f)(h=e[f])&&(o[f]=h)}function _n(t,e,r,a,o,l,f){var h,g,_=new Map,m=e.length,w=l.length,x=new Array(m),S;for(h=0;h<m;++h)(g=e[h])&&(x[h]=S=f.call(g,g.__data__,h,e)+"",_.has(S)?o[h]=g:_.set(S,g));for(h=0;h<w;++h)S=f.call(t,l[h],h,l)+"",(g=_.get(S))?(a[h]=g,g.__data__=l[h],_.delete(S)):r[h]=new le(t,l[h]);for(h=0;h<m;++h)(g=e[h])&&_.get(x[h])===g&&(o[h]=g)}function We(t){return t.__data__}function Jn(t,e){if(!arguments.length)return Array.from(this,We);var r=e?_n:en,a=this._parents,o=this._groups;typeof t!="function"&&(t=Ge(t));for(var l=o.length,f=new Array(l),h=new Array(l),g=new Array(l),_=0;_<l;++_){var m=a[_],w=o[_],x=w.length,S=Is(t.call(m,m&&m.__data__,_,a)),D=S.length,L=h[_]=new Array(D),O=f[_]=new Array(D),N=g[_]=new Array(x);r(m,w,L,O,N,S,e);for(var W=0,F=0,z,rt;W<D;++W)if(z=L[W]){for(W>=F&&(F=W+1);!(rt=O[F])&&++F<D;);z._next=rt||null}}return f=new Gr(f,a),f._enter=h,f._exit=g,f}function je(){return new Gr(this._exit||this._groups.map(q),this._parents)}function Nn(t,e,r){var a=this.enter(),o=this,l=this.exit();return a=typeof t=="function"?t(a):a.append(t+""),e!=null&&(o=e(o)),r==null?l.remove():r(l),a&&o?a.merge(o).order():o}function Je(t){if(!(t instanceof Gr))throw new Error("invalid merge");for(var e=this._groups,r=t._groups,a=e.length,o=r.length,l=Math.min(a,o),f=new Array(a),h=0;h<l;++h)for(var g=e[h],_=r[h],m=g.length,w=f[h]=new Array(m),x,S=0;S<m;++S)(x=g[S]||_[S])&&(w[S]=x);for(;h<a;++h)f[h]=e[h];return new Gr(f,this._parents)}function on(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var a=t[e],o=a.length-1,l=a[o],f;--o>=0;)(f=a[o])&&(l&&f.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(f,l),l=f);return this}function Wn(t){t||(t=Fs);function e(w,x){return w&&x?t(w.__data__,x.__data__):!w-!x}for(var r=this._groups,a=r.length,o=new Array(a),l=0;l<a;++l){for(var f=r[l],h=f.length,g=o[l]=new Array(h),_,m=0;m<h;++m)(_=f[m])&&(g[m]=_);g.sort(e)}return new Gr(o,this._parents).order()}function Fs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Qr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function la(){return Array.from(this)}function Hs(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var a=t[e],o=0,l=a.length;o<l;++o){var f=a[o];if(f)return f}return null}function go(){let t=0;for(const e of this)++t;return t}function po(){return!this.node()}function ci(t){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var o=e[r],l=0,f=o.length,h;l<f;++l)(h=o[l])&&t.call(h,h.__data__,l,o);return this}var ji="http://www.w3.org/1999/xhtml",Ei={svg:"http://www.w3.org/2000/svg",xhtml:ji,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ji(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Ei.hasOwnProperty(e)?{space:Ei[e],local:t}:t}function mn(t){return function(){this.removeAttribute(t)}}function $r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bs(t,e){return function(){this.setAttribute(t,e)}}function _o(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function pu(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Ai(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function ti(t,e){var r=Ji(t);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((e==null?r.local?$r:mn:typeof e=="function"?r.local?Ai:pu:r.local?_o:Bs)(r,e))}function _u(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function bl(t){return function(){this.style.removeProperty(t)}}function tn(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Qn(t,e,r){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,r)}}function xl(t,e,r){return arguments.length>1?this.each((e==null?bl:typeof e=="function"?Qn:tn)(t,e,r==null?"":r)):fi(this.node(),t)}function fi(t,e){return t.style.getPropertyValue(e)||_u(t).getComputedStyle(t,null).getPropertyValue(e)}function Na(t){return function(){delete this[t]}}function Ic(t,e){return function(){this[t]=e}}function Vy(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function qy(t,e){return arguments.length>1?this.each((e==null?Na:typeof e=="function"?Vy:Ic)(t,e)):this.node()[t]}function Uh(t){return t.trim().split(/^|\s+/)}function Wh(t){return t.classList||new _0(t)}function _0(t){this._node=t,this._names=Uh(t.getAttribute("class")||"")}_0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function m0(t,e){for(var r=Wh(t),a=-1,o=e.length;++a<o;)r.add(e[a])}function y0(t,e){for(var r=Wh(t),a=-1,o=e.length;++a<o;)r.remove(e[a])}function Zy(t){return function(){m0(this,t)}}function $h(t){return function(){y0(this,t)}}function Gh(t,e){return function(){(e.apply(this,arguments)?m0:y0)(this,t)}}function v0(t,e){var r=Uh(t+"");if(arguments.length<2){for(var a=Wh(this.node()),o=-1,l=r.length;++o<l;)if(!a.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?Gh:e?Zy:$h)(r,e))}function wl(){this.textContent=""}function Al(t){return function(){this.textContent=t}}function Fc(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function mu(t){return arguments.length?this.each(t==null?wl:(typeof t=="function"?Fc:Al)(t)):this.node().textContent}function Sl(){this.innerHTML=""}function La(t){return function(){this.innerHTML=t}}function Ky(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function jy(t){return arguments.length?this.each(t==null?Sl:(typeof t=="function"?Ky:La)(t)):this.node().innerHTML}function Jy(){this.nextSibling&&this.parentNode.appendChild(this)}function Qy(){return this.each(Jy)}function tv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ev(){return this.each(tv)}function nv(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ji&&e.documentElement.namespaceURI===ji?e.createElement(t):e.createElementNS(r,t)}}function b0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Cl(t){var e=Ji(t);return(e.local?b0:nv)(e)}function rv(t){var e=typeof t=="function"?t:Cl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function x0(){return null}function Ml(t,e){var r=typeof t=="function"?t:Cl(t),a=e==null?x0:typeof e=="function"?e:rs(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function w0(){var t=this.parentNode;t&&t.removeChild(this)}function Hc(){return this.each(w0)}function iv(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bc(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Di(t){return this.select(t?Bc:iv)}function A0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function S0(t){return function(e){t.call(this,e,this.__data__)}}function Xh(t){return t.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");return a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),{type:e,name:r}})}function C0(t){return function(){var e=this.__on;if(!!e){for(var r=0,a=-1,o=e.length,l;r<o;++r)l=e[r],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++a]=l;++a?e.length=a:delete this.__on}}}function M0(t,e,r){return function(){var a=this.__on,o,l=S0(e);if(a){for(var f=0,h=a.length;f<h;++f)if((o=a[f]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=r),o.value=e;return}}this.addEventListener(t.type,l,r),o={type:t.type,name:t.name,value:e,listener:l,options:r},a?a.push(o):this.__on=[o]}}function av(t,e,r){var a=Xh(t+""),o,l=a.length,f;if(arguments.length<2){var h=this.node().__on;if(h){for(var g=0,_=h.length,m;g<_;++g)for(o=0,m=h[g];o<l;++o)if((f=a[o]).type===m.type&&f.name===m.name)return m.value}return}for(h=e?M0:C0,o=0;o<l;++o)this.each(h(a[o],e,r));return this}function ca(t,e,r){var a=_u(t),o=a.CustomEvent;typeof o=="function"?o=new o(e,r):(o=a.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Vh(t,e){return function(){return ca(this,t,e)}}function T0(t,e){return function(){return ca(this,t,e.apply(this,arguments))}}function sv(t,e){return this.each((typeof e=="function"?T0:Vh)(t,e))}function*ov(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var a=t[e],o=0,l=a.length,f;o<l;++o)(f=a[o])&&(yield f)}var Yc=[null];function Gr(t,e){this._groups=t,this._parents=e}function O0(){return new Gr([[document.documentElement]],Yc)}function c2(){return this}Gr.prototype=O0.prototype={constructor:Gr,select:du,selectAll:ka,selectChild:k,selectChildren:T,filter:Y,data:Jn,enter:Vt,exit:je,join:Nn,merge:Je,selection:c2,order:on,sort:Wn,call:Qr,nodes:la,node:Hs,size:go,empty:po,each:ci,attr:ti,style:xl,property:qy,classed:v0,text:mu,html:jy,raise:Qy,lower:ev,append:rv,insert:Ml,remove:Hc,clone:Di,datum:A0,on:av,dispatch:sv,[Symbol.iterator]:ov};var yu=O0;function Xr(t){return typeof t=="string"?new Gr([[document.querySelector(t)]],[document.documentElement]):new Gr([[t]],Yc)}function Uc(t){t.stopImmediatePropagation()}function mo(t){t.preventDefault(),t.stopImmediatePropagation()}function qh(t){var e=t.document.documentElement,r=Xr(t).on("dragstart.drag",mo,!0);"onselectstart"in e?r.on("selectstart.drag",mo,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Zh(t,e){var r=t.document.documentElement,a=Xr(t).on("dragstart.drag",null);e&&(a.on("click.drag",mo,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function Ys(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function yo(t,e){var r=Object.create(t.prototype);for(var a in e)r[a]=e[a];return r}function Us(){}var vo=.7,vu=1/vo,bo="\\s*([+-]?\\d+)\\s*",Tl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uv=/^#([0-9a-f]{3,8})$/,lv=new RegExp("^rgb\\("+[bo,bo,bo]+"\\)$"),cv=new RegExp("^rgb\\("+[za,za,za]+"\\)$"),fv=new RegExp("^rgba\\("+[bo,bo,bo,Tl]+"\\)$"),hv=new RegExp("^rgba\\("+[za,za,za,Tl]+"\\)$"),dv=new RegExp("^hsl\\("+[Tl,za,za]+"\\)$"),gv=new RegExp("^hsla\\("+[Tl,za,za,Tl]+"\\)$"),R0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ys(Us,Ws,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:E0,formatHex:E0,formatHsl:pv,formatRgb:D0,toString:D0});function E0(){return this.rgb().formatHex()}function pv(){return z0(this).formatHsl()}function D0(){return this.rgb().formatRgb()}function Ws(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=uv.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?P0(e):r===3?new Vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Wc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Wc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lv.exec(t))?new Vr(e[1],e[2],e[3],1):(e=cv.exec(t))?new Vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fv.exec(t))?Wc(e[1],e[2],e[3],e[4]):(e=hv.exec(t))?Wc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dv.exec(t))?L0(e[1],e[2]/100,e[3]/100,1):(e=gv.exec(t))?L0(e[1],e[2]/100,e[3]/100,e[4]):R0.hasOwnProperty(t)?P0(R0[t]):t==="transparent"?new Vr(NaN,NaN,NaN,0):null}function P0(t){return new Vr(t>>16&255,t>>8&255,t&255,1)}function Wc(t,e,r,a){return a<=0&&(t=e=r=NaN),new Vr(t,e,r,a)}function Kh(t){return t instanceof Us||(t=Ws(t)),t?(t=t.rgb(),new Vr(t.r,t.g,t.b,t.opacity)):new Vr}function bu(t,e,r,a){return arguments.length===1?Kh(t):new Vr(t,e,r,a==null?1:a)}function Vr(t,e,r,a){this.r=+t,this.g=+e,this.b=+r,this.opacity=+a}Ys(Vr,bu,yo(Us,{brighter:function(e){return e=e==null?vu:Math.pow(vu,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?vo:Math.pow(vo,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k0,formatHex:k0,formatRgb:N0,toString:N0}));function k0(){return"#"+jh(this.r)+jh(this.g)+jh(this.b)}function N0(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function jh(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function L0(t,e,r,a){return a<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ia(t,e,r,a)}function z0(t){if(t instanceof Ia)return new Ia(t.h,t.s,t.l,t.opacity);if(t instanceof Us||(t=Ws(t)),!t)return new Ia;if(t instanceof Ia)return t;t=t.rgb();var e=t.r/255,r=t.g/255,a=t.b/255,o=Math.min(e,r,a),l=Math.max(e,r,a),f=NaN,h=l-o,g=(l+o)/2;return h?(e===l?f=(r-a)/h+(r<a)*6:r===l?f=(a-e)/h+2:f=(e-r)/h+4,h/=g<.5?l+o:2-l-o,f*=60):h=g>0&&g<1?0:f,new Ia(f,h,g,t.opacity)}function $c(t,e,r,a){return arguments.length===1?z0(t):new Ia(t,e,r,a==null?1:a)}function Ia(t,e,r,a){this.h=+t,this.s=+e,this.l=+r,this.opacity=+a}Ys(Ia,$c,yo(Us,{brighter:function(e){return e=e==null?vu:Math.pow(vu,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?vo:Math.pow(vo,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,o=a+(a<.5?a:1-a)*r,l=2*a-o;return new Vr(Jh(e>=240?e-240:e+120,l,o),Jh(e,l,o),Jh(e<120?e+240:e-120,l,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Jh(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function I0(t,e,r,a,o){var l=t*t,f=l*t;return((1-3*t+3*l-f)*e+(4-6*l+3*f)*r+(1+3*t+3*l-3*f)*a+f*o)/6}function F0(t){var e=t.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[a],l=t[a+1],f=a>0?t[a-1]:2*o-l,h=a<e-1?t[a+2]:2*l-o;return I0((r-a/e)*e,f,o,l,h)}}function H0(t){var e=t.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*e),o=t[(a+e-1)%e],l=t[a%e],f=t[(a+1)%e],h=t[(a+2)%e];return I0((r-a/e)*e,o,l,f,h)}}var Gc=function(t){return function(){return t}};function B0(t,e){return function(r){return t+r*e}}function _v(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(a){return Math.pow(t+a*e,r)}}function Xc(t,e){var r=e-t;return r?B0(t,r>180||r<-180?r-360*Math.round(r/360):r):Gc(isNaN(t)?e:t)}function Y0(t){return(t=+t)==1?Er:function(e,r){return r-e?_v(e,r,t):Gc(isNaN(e)?r:e)}}function Er(t,e){var r=e-t;return r?B0(t,r):Gc(isNaN(t)?e:t)}var Ol=function t(e){var r=Y0(e);function a(o,l){var f=r((o=bu(o)).r,(l=bu(l)).r),h=r(o.g,l.g),g=r(o.b,l.b),_=Er(o.opacity,l.opacity);return function(m){return o.r=f(m),o.g=h(m),o.b=g(m),o.opacity=_(m),o+""}}return a.gamma=t,a}(1);function U0(t){return function(e){var r=e.length,a=new Array(r),o=new Array(r),l=new Array(r),f,h;for(f=0;f<r;++f)h=bu(e[f]),a[f]=h.r||0,o[f]=h.g||0,l[f]=h.b||0;return a=t(a),o=t(o),l=t(l),h.opacity=1,function(g){return h.r=a(g),h.g=o(g),h.b=l(g),h+""}}}var W0=U0(F0),mv=U0(H0);function Qh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,a=e.slice(),o;return function(l){for(o=0;o<r;++o)a[o]=t[o]*(1-l)+e[o]*l;return a}}function $0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yv(t,e){return($0(e)?Qh:G0)(t,e)}function G0(t,e){var r=e?e.length:0,a=t?Math.min(r,t.length):0,o=new Array(a),l=new Array(r),f;for(f=0;f<a;++f)o[f]=$s(t[f],e[f]);for(;f<r;++f)l[f]=e[f];return function(h){for(f=0;f<a;++f)l[f]=o[f](h);return l}}function X0(t,e){var r=new Date;return t=+t,e=+e,function(a){return r.setTime(t*(1-a)+e*a),r}}function Qi(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function V0(t,e){var r={},a={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=$s(t[o],e[o]):a[o]=e[o];return function(l){for(o in r)a[o]=r[o](l);return a}}var td=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ed=new RegExp(td.source,"g");function vv(t){return function(){return t}}function bv(t){return function(e){return t(e)+""}}function fa(t,e){var r=td.lastIndex=ed.lastIndex=0,a,o,l,f=-1,h=[],g=[];for(t=t+"",e=e+"";(a=td.exec(t))&&(o=ed.exec(e));)(l=o.index)>r&&(l=e.slice(r,l),h[f]?h[f]+=l:h[++f]=l),(a=a[0])===(o=o[0])?h[f]?h[f]+=o:h[++f]=o:(h[++f]=null,g.push({i:f,x:Qi(a,o)})),r=ed.lastIndex;return r<e.length&&(l=e.slice(r),h[f]?h[f]+=l:h[++f]=l),h.length<2?g[0]?bv(g[0].x):vv(e):(e=g.length,function(_){for(var m=0,w;m<e;++m)h[(w=g[m]).i]=w.x(_);return h.join("")})}function $s(t,e){var r=typeof e,a;return e==null||r==="boolean"?Gc(e):(r==="number"?Qi:r==="string"?(a=Ws(e))?(e=a,Ol):fa:e instanceof Ws?Ol:e instanceof Date?X0:$0(e)?Qh:Array.isArray(e)?G0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?V0:Qi)(t,e)}function nd(t){let e;for(;e=t.sourceEvent;)t=e;return t}function br(t,e){if(t=nd(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var Rl=0,Vc=0,El=0,q0=1e3,qc,Dl,Pl=0,is=0,as=0,Fa=typeof performance=="object"&&performance.now?performance:Date,rd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wr(){return is||(rd(ei),is=Fa.now()+as)}function ei(){is=0}function xu(){this._call=this._time=this._next=null}xu.prototype=kl.prototype={constructor:xu,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?wr():+r)+(e==null?0:+e),!this._next&&Dl!==this&&(Dl?Dl._next=this:qc=this,Dl=this),this._call=t,this._time=r,Zc()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Zc())}};function kl(t,e,r){var a=new xu;return a.restart(t,e,r),a}function Nl(){wr(),++Rl;for(var t=qc,e;t;)(e=is-t._time)>=0&&t._call.call(null,e),t=t._next;--Rl}function Ll(){is=(Pl=Fa.now())+as,Rl=Vc=0;try{Nl()}finally{Rl=0,ss(),is=0}}function xv(){var t=Fa.now(),e=t-Pl;e>q0&&(as-=e,Pl=t)}function ss(){for(var t,e=qc,r,a=Infinity;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:qc=r);Dl=t,Zc(a)}function Zc(t){if(!Rl){Vc&&(Vc=clearTimeout(Vc));var e=t-is;e>24?(t<Infinity&&(Vc=setTimeout(Ll,t-Fa.now()-as)),El&&(El=clearInterval(El))):(El||(Pl=Fa.now(),El=setInterval(xv,q0)),Rl=1,rd(Ll))}}function Kc(t,e,r){var a=new xu;return e=e==null?0:+e,a.restart(o=>{a.stop(),t(o+e)},e,r),a}var wv=Pa("start","end","cancel","interrupt"),Av=[],wu=0,id=1,ad=2,jc=3,Jc=4,sd=5,od=6;function ud(t,e,r,a,o,l){var f=t.__transition;if(!f)t.__transition={};else if(r in f)return;ld(t,r,{name:e,index:a,group:o,on:wv,tween:Av,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:wu})}function Z0(t,e){var r=Pi(t,e);if(r.state>wu)throw new Error("too late; already scheduled");return r}function os(t,e){var r=Pi(t,e);if(r.state>jc)throw new Error("too late; already running");return r}function Pi(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function ld(t,e,r){var a=t.__transition,o;a[e]=r,r.timer=kl(l,0,r.time);function l(_){r.state=id,r.timer.restart(f,r.delay,r.time),r.delay<=_&&f(_-r.delay)}function f(_){var m,w,x,S;if(r.state!==id)return g();for(m in a)if(S=a[m],S.name===r.name){if(S.state===jc)return Kc(f);S.state===Jc?(S.state=od,S.timer.stop(),S.on.call("interrupt",t,t.__data__,S.index,S.group),delete a[m]):+m<e&&(S.state=od,S.timer.stop(),S.on.call("cancel",t,t.__data__,S.index,S.group),delete a[m])}if(Kc(function(){r.state===jc&&(r.state=Jc,r.timer.restart(h,r.delay,r.time),h(_))}),r.state=ad,r.on.call("start",t,t.__data__,r.index,r.group),r.state===ad){for(r.state=jc,o=new Array(x=r.tween.length),m=0,w=-1;m<x;++m)(S=r.tween[m].value.call(t,t.__data__,r.index,r.group))&&(o[++w]=S);o.length=w+1}}function h(_){for(var m=_<r.duration?r.ease.call(null,_/r.duration):(r.timer.restart(g),r.state=sd,1),w=-1,x=o.length;++w<x;)o[w].call(t,m);r.state===sd&&(r.on.call("end",t,t.__data__,r.index,r.group),g())}function g(){r.state=od,r.timer.stop(),delete a[e];for(var _ in a)return;delete t.__transition}}function us(t,e){var r=t.__transition,a,o,l=!0,f;if(!!r){e=e==null?null:e+"";for(f in r){if((a=r[f]).name!==e){l=!1;continue}o=a.state>ad&&a.state<sd,a.state=od,a.timer.stop(),a.on.call(o?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete r[f]}l&&delete t.__transition}}function cd(t){return this.each(function(){us(this,t)})}var Qc=180/Math.PI,zl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sv(t,e,r,a,o,l){var f,h,g;return(f=Math.sqrt(t*t+e*e))&&(t/=f,e/=f),(g=t*r+e*a)&&(r-=t*g,a-=e*g),(h=Math.sqrt(r*r+a*a))&&(r/=h,a/=h,g/=h),t*a<e*r&&(t=-t,e=-e,g=-g,f=-f),{translateX:o,translateY:l,rotate:Math.atan2(e,t)*Qc,skewX:Math.atan(g)*Qc,scaleX:f,scaleY:h}}var tf;function K0(t){var e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zl:Sv(e.a,e.b,e.c,e.d,e.e,e.f)}function ls(t){return t==null||(tf||(tf=document.createElementNS("http://www.w3.org/2000/svg","g")),tf.setAttribute("transform",t),!(t=tf.transform.baseVal.consolidate()))?zl:(t=t.matrix,Sv(t.a,t.b,t.c,t.d,t.e,t.f))}function ki(t,e,r,a){function o(_){return _.length?_.pop()+" ":""}function l(_,m,w,x,S,D){if(_!==w||m!==x){var L=S.push("translate(",null,e,null,r);D.push({i:L-4,x:Qi(_,w)},{i:L-2,x:Qi(m,x)})}else(w||x)&&S.push("translate("+w+e+x+r)}function f(_,m,w,x){_!==m?(_-m>180?m+=360:m-_>180&&(_+=360),x.push({i:w.push(o(w)+"rotate(",null,a)-2,x:Qi(_,m)})):m&&w.push(o(w)+"rotate("+m+a)}function h(_,m,w,x){_!==m?x.push({i:w.push(o(w)+"skewX(",null,a)-2,x:Qi(_,m)}):m&&w.push(o(w)+"skewX("+m+a)}function g(_,m,w,x,S,D){if(_!==w||m!==x){var L=S.push(o(S)+"scale(",null,",",null,")");D.push({i:L-4,x:Qi(_,w)},{i:L-2,x:Qi(m,x)})}else(w!==1||x!==1)&&S.push(o(S)+"scale("+w+","+x+")")}return function(_,m){var w=[],x=[];return _=t(_),m=t(m),l(_.translateX,_.translateY,m.translateX,m.translateY,w,x),f(_.rotate,m.rotate,w,x),h(_.skewX,m.skewX,w,x),g(_.scaleX,_.scaleY,m.scaleX,m.scaleY,w,x),_=m=null,function(S){for(var D=-1,L=x.length,O;++D<L;)w[(O=x[D]).i]=O.x(S);return w.join("")}}}var Ha=ki(K0,"px, ","px)","deg)"),Gs=ki(ls,", ",")",")");function fd(t,e){var r,a;return function(){var o=os(this,t),l=o.tween;if(l!==r){a=r=l;for(var f=0,h=a.length;f<h;++f)if(a[f].name===e){a=a.slice(),a.splice(f,1);break}}o.tween=a}}function j0(t,e,r){var a,o;if(typeof r!="function")throw new Error;return function(){var l=os(this,t),f=l.tween;if(f!==a){o=(a=f).slice();for(var h={name:e,value:r},g=0,_=o.length;g<_;++g)if(o[g].name===e){o[g]=h;break}g===_&&o.push(h)}l.tween=o}}function hd(t,e){var r=this._id;if(t+="",arguments.length<2){for(var a=Pi(this.node(),r).tween,o=0,l=a.length,f;o<l;++o)if((f=a[o]).name===t)return f.value;return null}return this.each((e==null?fd:j0)(r,t,e))}function Il(t,e,r){var a=t._id;return t.each(function(){var o=os(this,a);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return Pi(o,a).value[e]}}function ef(t,e){var r;return(typeof e=="number"?Qi:e instanceof Ws?Ol:(r=Ws(e))?(e=r,Ol):fa)(t,e)}function Dr(t){return function(){this.removeAttribute(t)}}function nf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Cv(t,e,r){var a,o=r+"",l;return function(){var f=this.getAttribute(t);return f===o?null:f===a?l:l=e(a=f,r)}}function f2(t,e,r){var a,o=r+"",l;return function(){var f=this.getAttributeNS(t.space,t.local);return f===o?null:f===a?l:l=e(a=f,r)}}function J0(t,e,r){var a,o,l;return function(){var f,h=r(this),g;return h==null?void this.removeAttribute(t):(f=this.getAttribute(t),g=h+"",f===g?null:f===a&&g===o?l:(o=g,l=e(a=f,h)))}}function Fl(t,e,r){var a,o,l;return function(){var f,h=r(this),g;return h==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),g=h+"",f===g?null:f===a&&g===o?l:(o=g,l=e(a=f,h)))}}function h2(t,e){var r=Ji(t),a=r==="transform"?Gs:ef;return this.attrTween(t,typeof e=="function"?(r.local?Fl:J0)(r,a,Il(this,"attr."+t,e)):e==null?(r.local?nf:Dr)(r):(r.local?f2:Cv)(r,a,e))}function Q0(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function tp(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function d2(t,e){var r,a;function o(){var l=e.apply(this,arguments);return l!==a&&(r=(a=l)&&tp(t,l)),r}return o._value=e,o}function ep(t,e){var r,a;function o(){var l=e.apply(this,arguments);return l!==a&&(r=(a=l)&&Q0(t,l)),r}return o._value=e,o}function np(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var a=Ji(t);return this.tween(r,(a.local?d2:ep)(a,e))}function g2(t,e){return function(){Z0(this,t).delay=+e.apply(this,arguments)}}function rp(t,e){return e=+e,function(){Z0(this,t).delay=e}}function rf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?g2:rp)(e,t)):Pi(this.node(),e).delay}function p2(t,e){return function(){os(this,t).duration=+e.apply(this,arguments)}}function xo(t,e){return e=+e,function(){os(this,t).duration=e}}function af(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?p2:xo)(e,t)):Pi(this.node(),e).duration}function sf(t,e){if(typeof e!="function")throw new Error;return function(){os(this,t).ease=e}}function Mv(t){var e=this._id;return arguments.length?this.each(sf(e,t)):Pi(this.node(),e).ease}function Tv(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;os(this,t).ease=r}}function Au(t){if(typeof t!="function")throw new Error;return this.each(Tv(this._id,t))}function Ov(t){typeof t!="function"&&(t=fo(t));for(var e=this._groups,r=e.length,a=new Array(r),o=0;o<r;++o)for(var l=e[o],f=l.length,h=a[o]=[],g,_=0;_<f;++_)(g=l[_])&&t.call(g,g.__data__,_,l)&&h.push(g);return new hi(a,this._parents,this._name,this._id)}function Rv(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,a=e.length,o=r.length,l=Math.min(a,o),f=new Array(a),h=0;h<l;++h)for(var g=e[h],_=r[h],m=g.length,w=f[h]=new Array(m),x,S=0;S<m;++S)(x=g[S]||_[S])&&(w[S]=x);for(;h<a;++h)f[h]=e[h];return new hi(f,this._parents,this._name,this._id)}function _2(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function m2(t,e,r){var a,o,l=_2(e)?Z0:os;return function(){var f=l(this,t),h=f.on;h!==a&&(o=(a=h).copy()).on(e,r),f.on=o}}function y2(t,e){var r=this._id;return arguments.length<2?Pi(this.node(),r).on.on(t):this.each(m2(r,t,e))}function v2(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function b2(){return this.on("end.remove",v2(this._id))}function x2(t){var e=this._name,r=this._id;typeof t!="function"&&(t=rs(t));for(var a=this._groups,o=a.length,l=new Array(o),f=0;f<o;++f)for(var h=a[f],g=h.length,_=l[f]=new Array(g),m,w,x=0;x<g;++x)(m=h[x])&&(w=t.call(m,m.__data__,x,h))&&("__data__"in m&&(w.__data__=m.__data__),_[x]=w,ud(_[x],e,r,x,_,Pi(m,r)));return new hi(l,this._parents,e,r)}function w2(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Ki(t));for(var a=this._groups,o=a.length,l=[],f=[],h=0;h<o;++h)for(var g=a[h],_=g.length,m,w=0;w<_;++w)if(m=g[w]){for(var x=t.call(m,m.__data__,w,g),S,D=Pi(m,r),L=0,O=x.length;L<O;++L)(S=x[L])&&ud(S,e,r,L,x,D);l.push(x),f.push(m)}return new hi(l,f,e,r)}var ip=yu.prototype.constructor;function of(){return new ip(this._groups,this._parents)}function Ev(t,e){var r,a,o;return function(){var l=fi(this,t),f=(this.style.removeProperty(t),fi(this,t));return l===f?null:l===r&&f===a?o:o=e(r=l,a=f)}}function uf(t){return function(){this.style.removeProperty(t)}}function Xs(t,e,r){var a,o=r+"",l;return function(){var f=fi(this,t);return f===o?null:f===a?l:l=e(a=f,r)}}function A2(t,e,r){var a,o,l;return function(){var f=fi(this,t),h=r(this),g=h+"";return h==null&&(g=h=(this.style.removeProperty(t),fi(this,t))),f===g?null:f===a&&g===o?l:(o=g,l=e(a=f,h))}}function ap(t,e){var r,a,o,l="style."+e,f="end."+l,h;return function(){var g=os(this,t),_=g.on,m=g.value[l]==null?h||(h=uf(e)):void 0;(_!==r||o!==m)&&(a=(r=_).copy()).on(f,o=m),g.on=a}}function Dv(t,e,r){var a=(t+="")==="transform"?Ha:ef;return e==null?this.styleTween(t,Ev(t,a)).on("end.style."+t,uf(t)):typeof e=="function"?this.styleTween(t,A2(t,a,Il(this,"style."+t,e))).each(ap(this._id,t)):this.styleTween(t,Xs(t,a,e),r).on("end.style."+t,null)}function S2(t,e,r){return function(a){this.style.setProperty(t,e.call(this,a),r)}}function sp(t,e,r){var a,o;function l(){var f=e.apply(this,arguments);return f!==o&&(a=(o=f)&&S2(t,f,r)),a}return l._value=e,l}function Pv(t,e,r){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,sp(t,e,r==null?"":r))}function C2(t){return function(){this.textContent=t}}function op(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function dd(t){return this.tween("text",typeof t=="function"?op(Il(this,"text",t)):C2(t==null?"":t+""))}function M2(t){return function(e){this.textContent=t.call(this,e)}}function wo(t){var e,r;function a(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&M2(o)),e}return a._value=t,a}function gd(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,wo(t))}function lf(){for(var t=this._name,e=this._id,r=lp(),a=this._groups,o=a.length,l=0;l<o;++l)for(var f=a[l],h=f.length,g,_=0;_<h;++_)if(g=f[_]){var m=Pi(g,e);ud(g,t,r,_,f,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new hi(a,this._parents,t,r)}function kv(){var t,e,r=this,a=r._id,o=r.size();return new Promise(function(l,f){var h={value:f},g={value:function(){--o==0&&l()}};r.each(function(){var _=os(this,a),m=_.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(h),e._.interrupt.push(h),e._.end.push(g)),_.on=e}),o===0&&l()})}var Nv=0;function hi(t,e,r,a){this._groups=t,this._parents=e,this._name=r,this._id=a}function up(t){return yu().transition(t)}function lp(){return++Nv}var Su=yu.prototype;hi.prototype=up.prototype={constructor:hi,select:x2,selectAll:w2,filter:Ov,merge:Rv,selection:of,transition:lf,call:Su.call,nodes:Su.nodes,node:Su.node,size:Su.size,empty:Su.empty,each:Su.each,on:y2,attr:h2,attrTween:np,style:Dv,styleTween:Pv,text:dd,textTween:gd,remove:b2,tween:hd,delay:rf,duration:af,ease:Mv,easeVarying:Au,end:kv,[Symbol.iterator]:Su[Symbol.iterator]};function T2(t){return t*t*t}function O2(t){return--t*t*t+1}function cp(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var R2={time:null,delay:0,duration:250,ease:cp};function E2(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function D2(t){var e,r;t instanceof hi?(e=t._id,t=t._name):(e=lp(),(r=R2).time=wr(),t=t==null?null:t+"");for(var a=this._groups,o=a.length,l=0;l<o;++l)for(var f=a[l],h=f.length,g,_=0;_<h;++_)(g=f[_])&&ud(g,t,e,_,f,r||E2(g,e));return new hi(a,this._parents,t,e)}yu.prototype.interrupt=cd,yu.prototype.transition=D2;var fp=[null];function Lv(t,e){var r=t.__transition,a,o;if(r){e=e==null?null:e+"";for(o in r)if((a=r[o]).state>id&&a.name===e)return new hi([[t]],fp,e,+o)}return null}var hp=t=>()=>t;function pd(t,{sourceEvent:e,target:r,selection:a,mode:o,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:a,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:l}})}function Cu(t){t.stopImmediatePropagation()}function dp(t){t.preventDefault(),t.stopImmediatePropagation()}var _d={name:"drag"},gp={name:"space"},Hl={name:"handle"},Mu={name:"center"};const{abs:pp,max:Pr,min:kr}=Math;function Tu(t){return[+t[0],+t[1]]}function md(t){return[Tu(t[0]),Tu(t[1])]}var Bl={name:"x",handles:["w","e"].map(Wl),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},xr={name:"y",handles:["n","s"].map(Wl),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},zv={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wl),input:function(t){return t==null?null:md(t)},output:function(t){return t}},cs={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Dn={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_p={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Yl={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ul={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Wl(t){return{type:t}}function Iv(t){return!t.ctrlKey&&!t.button}function Fv(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Hv(){return navigator.maxTouchPoints||"ontouchstart"in this}function yd(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function mp(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function yp(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Bv(){return cf(Bl)}function Yv(){return cf(xr)}function Uv(){return cf(zv)}function cf(t){var e=Fv,r=Iv,a=Hv,o=!0,l=Pa("start","brush","end"),f=6,h;function g(O){var N=O.property("__brush",L).selectAll(".overlay").data([Wl("overlay")]);N.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cs.overlay).merge(N).each(function(){var F=yd(this).extent;Xr(this).attr("x",F[0][0]).attr("y",F[0][1]).attr("width",F[1][0]-F[0][0]).attr("height",F[1][1]-F[0][1])}),O.selectAll(".selection").data([Wl("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cs.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var W=O.selectAll(".handle").data(t.handles,function(F){return F.type});W.exit().remove(),W.enter().append("rect").attr("class",function(F){return"handle handle--"+F.type}).attr("cursor",function(F){return cs[F.type]}),O.each(_).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",x).filter(a).on("touchstart.brush",x).on("touchmove.brush",S).on("touchend.brush touchcancel.brush",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.move=function(O,N){O.tween?O.on("start.brush",function(W){m(this,arguments).beforestart().start(W)}).on("interrupt.brush end.brush",function(W){m(this,arguments).end(W)}).tween("brush",function(){var W=this,F=W.__brush,z=m(W,arguments),rt=F.selection,ot=t.input(typeof N=="function"?N.apply(this,arguments):N,F.extent),Bt=$s(rt,ot);function Ut(ae){F.selection=ae===1&&ot===null?null:Bt(ae),_.call(W),z.brush()}return rt!==null&&ot!==null?Ut:Ut(1)}):O.each(function(){var W=this,F=arguments,z=W.__brush,rt=t.input(typeof N=="function"?N.apply(W,F):N,z.extent),ot=m(W,F).beforestart();us(W),z.selection=rt===null?null:rt,_.call(W),ot.start().brush().end()})},g.clear=function(O){g.move(O,null)};function _(){var O=Xr(this),N=yd(this).selection;N?(O.selectAll(".selection").style("display",null).attr("x",N[0][0]).attr("y",N[0][1]).attr("width",N[1][0]-N[0][0]).attr("height",N[1][1]-N[0][1]),O.selectAll(".handle").style("display",null).attr("x",function(W){return W.type[W.type.length-1]==="e"?N[1][0]-f/2:N[0][0]-f/2}).attr("y",function(W){return W.type[0]==="s"?N[1][1]-f/2:N[0][1]-f/2}).attr("width",function(W){return W.type==="n"||W.type==="s"?N[1][0]-N[0][0]+f:f}).attr("height",function(W){return W.type==="e"||W.type==="w"?N[1][1]-N[0][1]+f:f})):O.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function m(O,N,W){var F=O.__brush.emitter;return F&&(!W||!F.clean)?F:new w(O,N,W)}function w(O,N,W){this.that=O,this.args=N,this.state=O.__brush,this.active=0,this.clean=W}w.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(O,N){return this.starting?(this.starting=!1,this.emit("start",O,N)):this.emit("brush",O),this},brush:function(O,N){return this.emit("brush",O,N),this},end:function(O,N){return--this.active==0&&(delete this.state.emitter,this.emit("end",O,N)),this},emit:function(O,N,W){var F=Xr(this.that).datum();l.call(O,this.that,new pd(O,{sourceEvent:N,target:g,selection:t.output(this.state.selection),mode:W,dispatch:l}),F)}};function x(O){if(h&&!O.touches||!r.apply(this,arguments))return;var N=this,W=O.target.__data__.type,F=(o&&O.metaKey?W="overlay":W)==="selection"?_d:o&&O.altKey?Mu:Hl,z=t===xr?null:Yl[W],rt=t===Bl?null:Ul[W],ot=yd(N),Bt=ot.extent,Ut=ot.selection,ae=Bt[0][0],Mt,ht,Qt=Bt[0][1],Zt,st,gt=Bt[1][0],pt,Wt,ce=Bt[1][1],he,be,Ne=0,Ve=0,$n,Sn=z&&rt&&o&&O.shiftKey,Zn,Ur,Yn=Array.from(O.touches||[O],hn=>{const Mr=hn.identifier;return hn=br(hn,N),hn.point0=hn.slice(),hn.identifier=Mr,hn});if(W==="overlay"){Ut&&($n=!0);const hn=[Yn[0],Yn[1]||Yn[0]];ot.selection=Ut=[[Mt=t===xr?ae:kr(hn[0][0],hn[1][0]),Zt=t===Bl?Qt:kr(hn[0][1],hn[1][1])],[pt=t===xr?gt:Pr(hn[0][0],hn[1][0]),he=t===Bl?ce:Pr(hn[0][1],hn[1][1])]],Yn.length>1&&Cr()}else Mt=Ut[0][0],Zt=Ut[0][1],pt=Ut[1][0],he=Ut[1][1];ht=Mt,st=Zt,Wt=pt,be=he;var si=Xr(N).attr("pointer-events","none"),Ce=si.selectAll(".overlay").attr("cursor",cs[W]);us(N);var cn=m(N,arguments,!0).beforestart();if(O.touches)cn.moved=ge,cn.ended=Kn;else{var kn=Xr(O.view).on("mousemove.brush",ge,!0).on("mouseup.brush",Kn,!0);o&&kn.on("keydown.brush",Ui,!0).on("keyup.brush",Wi,!0),qh(O.view)}_.call(N),cn.start(O,F.name);function ge(hn){for(const Mr of hn.changedTouches||[hn])for(const p0 of Yn)p0.identifier===Mr.identifier&&(p0.cur=br(Mr,N));if(Sn&&!Zn&&!Ur&&Yn.length===1){const Mr=Yn[0];pp(Mr.cur[0]-Mr[0])>pp(Mr.cur[1]-Mr[1])?Ur=!0:Zn=!0}for(const Mr of Yn)Mr.cur&&(Mr[0]=Mr.cur[0],Mr[1]=Mr.cur[1]);$n=!0,dp(hn),Cr(hn)}function Cr(hn){const Mr=Yn[0],p0=Mr.point0;var ul;switch(Ne=Mr[0]-p0[0],Ve=Mr[1]-p0[1],F){case gp:case _d:{z&&(Ne=Pr(ae-Mt,kr(gt-pt,Ne)),ht=Mt+Ne,Wt=pt+Ne),rt&&(Ve=Pr(Qt-Zt,kr(ce-he,Ve)),st=Zt+Ve,be=he+Ve);break}case Hl:{Yn[1]?(z&&(ht=Pr(ae,kr(gt,Yn[0][0])),Wt=Pr(ae,kr(gt,Yn[1][0])),z=1),rt&&(st=Pr(Qt,kr(ce,Yn[0][1])),be=Pr(Qt,kr(ce,Yn[1][1])),rt=1)):(z<0?(Ne=Pr(ae-Mt,kr(gt-Mt,Ne)),ht=Mt+Ne,Wt=pt):z>0&&(Ne=Pr(ae-pt,kr(gt-pt,Ne)),ht=Mt,Wt=pt+Ne),rt<0?(Ve=Pr(Qt-Zt,kr(ce-Zt,Ve)),st=Zt+Ve,be=he):rt>0&&(Ve=Pr(Qt-he,kr(ce-he,Ve)),st=Zt,be=he+Ve));break}case Mu:{z&&(ht=Pr(ae,kr(gt,Mt-Ne*z)),Wt=Pr(ae,kr(gt,pt+Ne*z))),rt&&(st=Pr(Qt,kr(ce,Zt-Ve*rt)),be=Pr(Qt,kr(ce,he+Ve*rt)));break}}Wt<ht&&(z*=-1,ul=Mt,Mt=pt,pt=ul,ul=ht,ht=Wt,Wt=ul,W in Dn&&Ce.attr("cursor",cs[W=Dn[W]])),be<st&&(rt*=-1,ul=Zt,Zt=he,he=ul,ul=st,st=be,be=ul,W in _p&&Ce.attr("cursor",cs[W=_p[W]])),ot.selection&&(Ut=ot.selection),Zn&&(ht=Ut[0][0],Wt=Ut[1][0]),Ur&&(st=Ut[0][1],be=Ut[1][1]),(Ut[0][0]!==ht||Ut[0][1]!==st||Ut[1][0]!==Wt||Ut[1][1]!==be)&&(ot.selection=[[ht,st],[Wt,be]],_.call(N),cn.brush(hn,F.name))}function Kn(hn){if(Cu(hn),hn.touches){if(hn.touches.length)return;h&&clearTimeout(h),h=setTimeout(function(){h=null},500)}else Zh(hn.view,$n),kn.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);si.attr("pointer-events","all"),Ce.attr("cursor",cs.overlay),ot.selection&&(Ut=ot.selection),mp(Ut)&&(ot.selection=null,_.call(N)),cn.end(hn,F.name)}function Ui(hn){switch(hn.keyCode){case 16:{Sn=z&&rt;break}case 18:{F===Hl&&(z&&(pt=Wt-Ne*z,Mt=ht+Ne*z),rt&&(he=be-Ve*rt,Zt=st+Ve*rt),F=Mu,Cr());break}case 32:{(F===Hl||F===Mu)&&(z<0?pt=Wt-Ne:z>0&&(Mt=ht-Ne),rt<0?he=be-Ve:rt>0&&(Zt=st-Ve),F=gp,Ce.attr("cursor",cs.selection),Cr());break}default:return}dp(hn)}function Wi(hn){switch(hn.keyCode){case 16:{Sn&&(Zn=Ur=Sn=!1,Cr());break}case 18:{F===Mu&&(z<0?pt=Wt:z>0&&(Mt=ht),rt<0?he=be:rt>0&&(Zt=st),F=Hl,Cr());break}case 32:{F===gp&&(hn.altKey?(z&&(pt=Wt-Ne*z,Mt=ht+Ne*z),rt&&(he=be-Ve*rt,Zt=st+Ve*rt),F=Mu):(z<0?pt=Wt:z>0&&(Mt=ht),rt<0?he=be:rt>0&&(Zt=st),F=Hl),Ce.attr("cursor",cs[W]),Cr());break}default:return}dp(hn)}}function S(O){m(this,arguments).moved(O)}function D(O){m(this,arguments).ended(O)}function L(){var O=this.__brush||{selection:null};return O.extent=md(e.apply(this,arguments)),O.dim=t,O}return g.extent=function(O){return arguments.length?(e=typeof O=="function"?O:hp(md(O)),g):e},g.filter=function(O){return arguments.length?(r=typeof O=="function"?O:hp(!!O),g):r},g.touchable=function(O){return arguments.length?(a=typeof O=="function"?O:hp(!!O),g):a},g.handleSize=function(O){return arguments.length?(f=+O,g):f},g.keyModifiers=function(O){return arguments.length?(o=!!O,g):o},g.on=function(){var O=l.on.apply(l,arguments);return O===l?g:O},g}var vp=Math.abs,Ao=Math.cos,Ou=Math.sin,bp=Math.PI,ff=bp/2,xp=bp*2,wp=Math.max,vd=1e-12;function bd(t,e){return Array.from({length:e-t},(r,a)=>t+a)}function Ap(t){return function(e,r){return t(e.source.value+e.target.value,r.source.value+r.target.value)}}function Wv(){return hf(!1,!1)}function $v(){return hf(!1,!0)}function Gv(){return hf(!0,!1)}function hf(t,e){var r=0,a=null,o=null,l=null;function f(h){var g=h.length,_=new Array(g),m=bd(0,g),w=new Array(g*g),x=new Array(g),S=0,D;h=Float64Array.from({length:g*g},e?(L,O)=>h[O%g][O/g|0]:(L,O)=>h[O/g|0][O%g]);for(let L=0;L<g;++L){let O=0;for(let N=0;N<g;++N)O+=h[L*g+N]+t*h[N*g+L];S+=_[L]=O}S=wp(0,xp-r*g)/S,D=S?r:xp/g;{let L=0;a&&m.sort((O,N)=>a(_[O],_[N]));for(const O of m){const N=L;if(t){const W=bd(~g+1,g).filter(F=>F<0?h[~F*g+O]:h[O*g+F]);o&&W.sort((F,z)=>o(F<0?-h[~F*g+O]:h[O*g+F],z<0?-h[~z*g+O]:h[O*g+z]));for(const F of W)if(F<0){const z=w[~F*g+O]||(w[~F*g+O]={source:null,target:null});z.target={index:O,startAngle:L,endAngle:L+=h[~F*g+O]*S,value:h[~F*g+O]}}else{const z=w[O*g+F]||(w[O*g+F]={source:null,target:null});z.source={index:O,startAngle:L,endAngle:L+=h[O*g+F]*S,value:h[O*g+F]}}x[O]={index:O,startAngle:N,endAngle:L,value:_[O]}}else{const W=bd(0,g).filter(F=>h[O*g+F]||h[F*g+O]);o&&W.sort((F,z)=>o(h[O*g+F],h[O*g+z]));for(const F of W){let z;if(O<F?(z=w[O*g+F]||(w[O*g+F]={source:null,target:null}),z.source={index:O,startAngle:L,endAngle:L+=h[O*g+F]*S,value:h[O*g+F]}):(z=w[F*g+O]||(w[F*g+O]={source:null,target:null}),z.target={index:O,startAngle:L,endAngle:L+=h[O*g+F]*S,value:h[O*g+F]},O===F&&(z.source=z.target)),z.source&&z.target&&z.source.value<z.target.value){const rt=z.source;z.source=z.target,z.target=rt}}x[O]={index:O,startAngle:N,endAngle:L,value:_[O]}}L+=D}}return w=Object.values(w),w.groups=x,l?w.sort(l):w}return f.padAngle=function(h){return arguments.length?(r=wp(0,h),f):r},f.sortGroups=function(h){return arguments.length?(a=h,f):a},f.sortSubgroups=function(h){return arguments.length?(o=h,f):o},f.sortChords=function(h){return arguments.length?(h==null?l=null:(l=Ap(h))._=h,f):l&&l._},f}const xd=Math.PI,wd=2*xd,So=1e-6,Xv=wd-So;function Ad(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Sp(){return new Ad}Ad.prototype=Sp.prototype={constructor:Ad,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,a){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+a)},bezierCurveTo:function(t,e,r,a,o,l){this._+="C"+ +t+","+ +e+","+ +r+","+ +a+","+(this._x1=+o)+","+(this._y1=+l)},arcTo:function(t,e,r,a,o){t=+t,e=+e,r=+r,a=+a,o=+o;var l=this._x1,f=this._y1,h=r-t,g=a-e,_=l-t,m=f-e,w=_*_+m*m;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(w>So)if(!(Math.abs(m*h-g*_)>So)||!o)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var x=r-l,S=a-f,D=h*h+g*g,L=x*x+S*S,O=Math.sqrt(D),N=Math.sqrt(w),W=o*Math.tan((xd-Math.acos((D+w-L)/(2*O*N)))/2),F=W/N,z=W/O;Math.abs(F-1)>So&&(this._+="L"+(t+F*_)+","+(e+F*m)),this._+="A"+o+","+o+",0,0,"+ +(m*x>_*S)+","+(this._x1=t+z*h)+","+(this._y1=e+z*g)}},arc:function(t,e,r,a,o,l){t=+t,e=+e,r=+r,l=!!l;var f=r*Math.cos(a),h=r*Math.sin(a),g=t+f,_=e+h,m=1^l,w=l?a-o:o-a;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+g+","+_:(Math.abs(this._x1-g)>So||Math.abs(this._y1-_)>So)&&(this._+="L"+g+","+_),!!r&&(w<0&&(w=w%wd+wd),w>Xv?this._+="A"+r+","+r+",0,1,"+m+","+(t-f)+","+(e-h)+"A"+r+","+r+",0,1,"+m+","+(this._x1=g)+","+(this._y1=_):w>So&&(this._+="A"+r+","+r+",0,"+ +(w>=xd)+","+m+","+(this._x1=t+r*Math.cos(o))+","+(this._y1=e+r*Math.sin(o))))},rect:function(t,e,r,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +a+"h"+-r+"Z"},toString:function(){return this._}};var Vs=Sp,Vv=Array.prototype.slice;function Co(t){return function(){return t}}function qv(t){return t.source}function Zv(t){return t.target}function Cp(t){return t.radius}function Kv(t){return t.startAngle}function jv(t){return t.endAngle}function Jv(){return 0}function Mp(){return 10}function Tp(t){var e=qv,r=Zv,a=Cp,o=Cp,l=Kv,f=jv,h=Jv,g=null;function _(){var m,w=e.apply(this,arguments),x=r.apply(this,arguments),S=h.apply(this,arguments)/2,D=Vv.call(arguments),L=+a.apply(this,(D[0]=w,D)),O=l.apply(this,D)-ff,N=f.apply(this,D)-ff,W=+o.apply(this,(D[0]=x,D)),F=l.apply(this,D)-ff,z=f.apply(this,D)-ff;if(g||(g=m=Vs()),S>vd&&(vp(N-O)>S*2+vd?N>O?(O+=S,N-=S):(O-=S,N+=S):O=N=(O+N)/2,vp(z-F)>S*2+vd?z>F?(F+=S,z-=S):(F-=S,z+=S):F=z=(F+z)/2),g.moveTo(L*Ao(O),L*Ou(O)),g.arc(0,0,L,O,N),O!==F||N!==z)if(t){var rt=+t.apply(this,arguments),ot=W-rt,Bt=(F+z)/2;g.quadraticCurveTo(0,0,ot*Ao(F),ot*Ou(F)),g.lineTo(W*Ao(Bt),W*Ou(Bt)),g.lineTo(ot*Ao(z),ot*Ou(z))}else g.quadraticCurveTo(0,0,W*Ao(F),W*Ou(F)),g.arc(0,0,W,F,z);if(g.quadraticCurveTo(0,0,L*Ao(O),L*Ou(O)),g.closePath(),m)return g=null,m+""||null}return t&&(_.headRadius=function(m){return arguments.length?(t=typeof m=="function"?m:Co(+m),_):t}),_.radius=function(m){return arguments.length?(a=o=typeof m=="function"?m:Co(+m),_):a},_.sourceRadius=function(m){return arguments.length?(a=typeof m=="function"?m:Co(+m),_):a},_.targetRadius=function(m){return arguments.length?(o=typeof m=="function"?m:Co(+m),_):o},_.startAngle=function(m){return arguments.length?(l=typeof m=="function"?m:Co(+m),_):l},_.endAngle=function(m){return arguments.length?(f=typeof m=="function"?m:Co(+m),_):f},_.padAngle=function(m){return arguments.length?(h=typeof m=="function"?m:Co(+m),_):h},_.source=function(m){return arguments.length?(e=m,_):e},_.target=function(m){return arguments.length?(r=m,_):r},_.context=function(m){return arguments.length?(g=m==null?null:m,_):g},_}function Qv(){return Tp()}function t1(){return Tp(Mp)}var Sd=Math.PI/180,Op=180/Math.PI,df=18,Rp=.96422,Ep=1,Dp=.82521,Pp=4/29,Mo=6/29,kp=3*Mo*Mo,e1=Mo*Mo*Mo;function Np(t){if(t instanceof ha)return new ha(t.l,t.a,t.b,t.opacity);if(t instanceof da)return Lp(t);t instanceof Vr||(t=Kh(t));var e=_f(t.r),r=_f(t.g),a=_f(t.b),o=Cd((.2225045*e+.7168786*r+.0606169*a)/Ep),l,f;return e===r&&r===a?l=f=o:(l=Cd((.4360747*e+.3850649*r+.1430804*a)/Rp),f=Cd((.0139322*e+.0971045*r+.7141733*a)/Dp)),new ha(116*o-16,500*(l-o),200*(o-f),t.opacity)}function n1(t,e){return new ha(t,0,0,e==null?1:e)}function gf(t,e,r,a){return arguments.length===1?Np(t):new ha(t,e,r,a==null?1:a)}function ha(t,e,r,a){this.l=+t,this.a=+e,this.b=+r,this.opacity=+a}Ys(ha,gf,yo(Us,{brighter:function(e){return new ha(this.l+df*(e==null?1:e),this.a,this.b,this.opacity)},darker:function(e){return new ha(this.l-df*(e==null?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,r=isNaN(this.a)?e:e+this.a/500,a=isNaN(this.b)?e:e-this.b/200;return r=Rp*Md(r),e=Ep*Md(e),a=Dp*Md(a),new Vr(pf(3.1338561*r-1.6168667*e-.4906146*a),pf(-.9787684*r+1.9161415*e+.033454*a),pf(.0719453*r-.2289914*e+1.4052427*a),this.opacity)}}));function Cd(t){return t>e1?Math.pow(t,1/3):t/kp+Pp}function Md(t){return t>Mo?t*t*t:kp*(t-Pp)}function pf(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _f(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Td(t){if(t instanceof da)return new da(t.h,t.c,t.l,t.opacity);if(t instanceof ha||(t=Np(t)),t.a===0&&t.b===0)return new da(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Op;return new da(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ru(t,e,r,a){return arguments.length===1?Td(t):new da(r,e,t,a==null?1:a)}function $l(t,e,r,a){return arguments.length===1?Td(t):new da(t,e,r,a==null?1:a)}function da(t,e,r,a){this.h=+t,this.c=+e,this.l=+r,this.opacity=+a}function Lp(t){if(isNaN(t.h))return new ha(t.l,0,0,t.opacity);var e=t.h*Sd;return new ha(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ys(da,$l,yo(Us,{brighter:function(e){return new da(this.h,this.c,this.l+df*(e==null?1:e),this.opacity)},darker:function(e){return new da(this.h,this.c,this.l-df*(e==null?1:e),this.opacity)},rgb:function(){return Lp(this).rgb()}}));var zp=-.14861,Od=1.78277,Rd=-.29227,Ed=-.90649,Eu=1.97294,Ip=Eu*Ed,r1=Eu*Od,i1=Od*Rd-Ed*zp;function a1(t){if(t instanceof qs)return new qs(t.h,t.s,t.l,t.opacity);t instanceof Vr||(t=Kh(t));var e=t.r/255,r=t.g/255,a=t.b/255,o=(i1*a+Ip*e-r1*r)/(i1+Ip-r1),l=a-o,f=(Eu*(r-o)-Rd*l)/Ed,h=Math.sqrt(f*f+l*l)/(Eu*o*(1-o)),g=h?Math.atan2(f,l)*Op-120:NaN;return new qs(g<0?g+360:g,h,o,t.opacity)}function Ni(t,e,r,a){return arguments.length===1?a1(t):new qs(t,e,r,a==null?1:a)}function qs(t,e,r,a){this.h=+t,this.s=+e,this.l=+r,this.opacity=+a}Ys(qs,Ni,yo(Us,{brighter:function(e){return e=e==null?vu:Math.pow(vu,e),new qs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?vo:Math.pow(vo,e),new qs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Sd,r=+this.l,a=isNaN(this.s)?0:this.s*r*(1-r),o=Math.cos(e),l=Math.sin(e);return new Vr(255*(r+a*(zp*o+Od*l)),255*(r+a*(Rd*o+Ed*l)),255*(r+a*(Eu*o)),this.opacity)}}));var Gl=Array.prototype,Du=Gl.slice;function mf(t,e){return t-e}function Pu(t){for(var e=0,r=t.length,a=t[r-1][1]*t[0][0]-t[r-1][0]*t[0][1];++e<r;)a+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return a}var ta=t=>()=>t;function Ba(t,e){for(var r=-1,a=e.length,o;++r<a;)if(o=s1(t,e[r]))return o;return 0}function s1(t,e){for(var r=e[0],a=e[1],o=-1,l=0,f=t.length,h=f-1;l<f;h=l++){var g=t[l],_=g[0],m=g[1],w=t[h],x=w[0],S=w[1];if(o1(g,w,e))return 0;m>a!=S>a&&r<(x-_)*(a-m)/(S-m)+_&&(o=-o)}return o}function o1(t,e,r){var a;return u1(t,e,r)&&l1(t[a=+(t[0]===e[0])],r[a],e[a])}function u1(t,e,r){return(e[0]-t[0])*(r[1]-t[1])==(r[0]-t[0])*(e[1]-t[1])}function l1(t,e,r){return t<=e&&e<=r||r<=e&&e<=t}function c1(){}var fs=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Fp(){var t=1,e=1,r=sa,a=g;function o(_){var m=r(_);if(Array.isArray(m))m=m.slice().sort(mf);else{var w=J(_),x=w[0],S=w[1];m=aa(x,S,m),m=Jr(Math.floor(x/m)*m,Math.floor(S/m)*m,m)}return m.map(function(D){return l(_,D)})}function l(_,m){var w=[],x=[];return f(_,m,function(S){a(S,_,m),Pu(S)>0?w.push([S]):x.push(S)}),x.forEach(function(S){for(var D=0,L=w.length,O;D<L;++D)if(Ba((O=w[D])[0],S)!==-1){O.push(S);return}}),{type:"MultiPolygon",value:m,coordinates:w}}function f(_,m,w){var x=new Array,S=new Array,D,L,O,N,W,F;for(D=L=-1,N=_[0]>=m,fs[N<<1].forEach(z);++D<t-1;)O=N,N=_[D+1]>=m,fs[O|N<<1].forEach(z);for(fs[N<<0].forEach(z);++L<e-1;){for(D=-1,N=_[L*t+t]>=m,W=_[L*t]>=m,fs[N<<1|W<<2].forEach(z);++D<t-1;)O=N,N=_[L*t+t+D+1]>=m,F=W,W=_[L*t+D+1]>=m,fs[O|N<<1|W<<2|F<<3].forEach(z);fs[N|W<<3].forEach(z)}for(D=-1,W=_[L*t]>=m,fs[W<<2].forEach(z);++D<t-1;)F=W,W=_[L*t+D+1]>=m,fs[W<<2|F<<3].forEach(z);fs[W<<3].forEach(z);function z(rt){var ot=[rt[0][0]+D,rt[0][1]+L],Bt=[rt[1][0]+D,rt[1][1]+L],Ut=h(ot),ae=h(Bt),Mt,ht;(Mt=S[Ut])?(ht=x[ae])?(delete S[Mt.end],delete x[ht.start],Mt===ht?(Mt.ring.push(Bt),w(Mt.ring)):x[Mt.start]=S[ht.end]={start:Mt.start,end:ht.end,ring:Mt.ring.concat(ht.ring)}):(delete S[Mt.end],Mt.ring.push(Bt),S[Mt.end=ae]=Mt):(Mt=x[ae])?(ht=S[Ut])?(delete x[Mt.start],delete S[ht.end],Mt===ht?(Mt.ring.push(Bt),w(Mt.ring)):x[ht.start]=S[Mt.end]={start:ht.start,end:Mt.end,ring:ht.ring.concat(Mt.ring)}):(delete x[Mt.start],Mt.ring.unshift(ot),x[Mt.start=Ut]=Mt):x[Ut]=S[ae]={start:Ut,end:ae,ring:[ot,Bt]}}}function h(_){return _[0]*2+_[1]*(t+1)*4}function g(_,m,w){_.forEach(function(x){var S=x[0],D=x[1],L=S|0,O=D|0,N,W=m[O*t+L];S>0&&S<t&&L===S&&(N=m[O*t+L-1],x[0]=S+(w-N)/(W-N)-.5),D>0&&D<e&&O===D&&(N=m[(O-1)*t+L],x[1]=D+(w-N)/(W-N)-.5)})}return o.contour=l,o.size=function(_){if(!arguments.length)return[t,e];var m=Math.floor(_[0]),w=Math.floor(_[1]);if(!(m>=0&&w>=0))throw new Error("invalid size");return t=m,e=w,o},o.thresholds=function(_){return arguments.length?(r=typeof _=="function"?_:Array.isArray(_)?ta(Du.call(_)):ta(_),o):r},o.smooth=function(_){return arguments.length?(a=_?g:c1,o):a===g},o}function yf(t,e,r){for(var a=t.width,o=t.height,l=(r<<1)+1,f=0;f<o;++f)for(var h=0,g=0;h<a+r;++h)h<a&&(g+=t.data[h+f*a]),h>=r&&(h>=l&&(g-=t.data[h-l+f*a]),e.data[h-r+f*a]=g/Math.min(h+1,a-1+l-h,l))}function vf(t,e,r){for(var a=t.width,o=t.height,l=(r<<1)+1,f=0;f<a;++f)for(var h=0,g=0;h<o+r;++h)h<o&&(g+=t.data[f+h*a]),h>=r&&(h>=l&&(g-=t.data[f+(h-l)*a]),e.data[f+(h-r)*a]=g/Math.min(h+1,o-1+l-h,l))}function f1(t){return t[0]}function Hp(t){return t[1]}function To(){return 1}function Bp(){var t=f1,e=Hp,r=To,a=960,o=500,l=20,f=2,h=l*3,g=a+h*2>>f,_=o+h*2>>f,m=ta(20);function w(N){var W=new Float32Array(g*_),F=new Float32Array(g*_);N.forEach(function(ot,Bt,Ut){var ae=+t(ot,Bt,Ut)+h>>f,Mt=+e(ot,Bt,Ut)+h>>f,ht=+r(ot,Bt,Ut);ae>=0&&ae<g&&Mt>=0&&Mt<_&&(W[ae+Mt*g]+=ht)}),yf({width:g,height:_,data:W},{width:g,height:_,data:F},l>>f),vf({width:g,height:_,data:F},{width:g,height:_,data:W},l>>f),yf({width:g,height:_,data:W},{width:g,height:_,data:F},l>>f),vf({width:g,height:_,data:F},{width:g,height:_,data:W},l>>f),yf({width:g,height:_,data:W},{width:g,height:_,data:F},l>>f),vf({width:g,height:_,data:F},{width:g,height:_,data:W},l>>f);var z=m(W);if(!Array.isArray(z)){var rt=Ca(W);z=aa(0,rt,z),z=Jr(0,Math.floor(rt/z)*z,z),z.shift()}return Fp().thresholds(z).size([g,_])(W).map(x)}function x(N){return N.value*=Math.pow(2,-2*f),N.coordinates.forEach(S),N}function S(N){N.forEach(D)}function D(N){N.forEach(L)}function L(N){N[0]=N[0]*Math.pow(2,f)-h,N[1]=N[1]*Math.pow(2,f)-h}function O(){return h=l*3,g=a+h*2>>f,_=o+h*2>>f,w}return w.x=function(N){return arguments.length?(t=typeof N=="function"?N:ta(+N),w):t},w.y=function(N){return arguments.length?(e=typeof N=="function"?N:ta(+N),w):e},w.weight=function(N){return arguments.length?(r=typeof N=="function"?N:ta(+N),w):r},w.size=function(N){if(!arguments.length)return[a,o];var W=+N[0],F=+N[1];if(!(W>=0&&F>=0))throw new Error("invalid size");return a=W,o=F,O()},w.cellSize=function(N){if(!arguments.length)return 1<<f;if(!((N=+N)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(N)/Math.LN2),O()},w.thresholds=function(N){return arguments.length?(m=typeof N=="function"?N:Array.isArray(N)?ta(Du.call(N)):ta(N),w):m},w.bandwidth=function(N){if(!arguments.length)return Math.sqrt(l*(l+1));if(!((N=+N)>=0))throw new Error("invalid bandwidth");return l=Math.round((Math.sqrt(4*N*N+1)-1)/2),O()},w}const Xl=Math.pow(2,-52),bf=new Uint32Array(512);class Oo{static from(e,r=Wp,a=d1){const o=e.length,l=new Float64Array(o*2);for(let f=0;f<o;f++){const h=e[f];l[2*f]=r(h),l[2*f+1]=a(h)}return new Oo(l)}constructor(e){const r=e.length>>1;if(r>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const a=Math.max(2*r-5,0);this._triangles=new Uint32Array(a*3),this._halfedges=new Int32Array(a*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:e,_hullPrev:r,_hullNext:a,_hullTri:o,_hullHash:l}=this,f=e.length>>1;let h=Infinity,g=Infinity,_=-Infinity,m=-Infinity;for(let Mt=0;Mt<f;Mt++){const ht=e[2*Mt],Qt=e[2*Mt+1];ht<h&&(h=ht),Qt<g&&(g=Qt),ht>_&&(_=ht),Qt>m&&(m=Qt),this._ids[Mt]=Mt}const w=(h+_)/2,x=(g+m)/2;let S=Infinity,D,L,O;for(let Mt=0;Mt<f;Mt++){const ht=xf(w,x,e[2*Mt],e[2*Mt+1]);ht<S&&(D=Mt,S=ht)}const N=e[2*D],W=e[2*D+1];S=Infinity;for(let Mt=0;Mt<f;Mt++){if(Mt===D)continue;const ht=xf(N,W,e[2*Mt],e[2*Mt+1]);ht<S&&ht>0&&(L=Mt,S=ht)}let F=e[2*L],z=e[2*L+1],rt=Infinity;for(let Mt=0;Mt<f;Mt++){if(Mt===D||Mt===L)continue;const ht=Up(N,W,F,z,e[2*Mt],e[2*Mt+1]);ht<rt&&(O=Mt,rt=ht)}let ot=e[2*O],Bt=e[2*O+1];if(rt===Infinity){for(let Qt=0;Qt<f;Qt++)this._dists[Qt]=e[2*Qt]-e[0]||e[2*Qt+1]-e[1];di(this._ids,this._dists,0,f-1);const Mt=new Uint32Array(f);let ht=0;for(let Qt=0,Zt=-Infinity;Qt<f;Qt++){const st=this._ids[Qt];this._dists[st]>Zt&&(Mt[ht++]=st,Zt=this._dists[st])}this.hull=Mt.subarray(0,ht),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(ku(N,W,F,z,ot,Bt)){const Mt=L,ht=F,Qt=z;L=O,F=ot,z=Bt,O=Mt,ot=ht,Bt=Qt}const Ut=h1(N,W,F,z,ot,Bt);this._cx=Ut.x,this._cy=Ut.y;for(let Mt=0;Mt<f;Mt++)this._dists[Mt]=xf(e[2*Mt],e[2*Mt+1],Ut.x,Ut.y);di(this._ids,this._dists,0,f-1),this._hullStart=D;let ae=3;a[D]=r[O]=L,a[L]=r[D]=O,a[O]=r[L]=D,o[D]=0,o[L]=1,o[O]=2,l.fill(-1),l[this._hashKey(N,W)]=D,l[this._hashKey(F,z)]=L,l[this._hashKey(ot,Bt)]=O,this.trianglesLen=0,this._addTriangle(D,L,O,-1,-1,-1);for(let Mt=0,ht,Qt;Mt<this._ids.length;Mt++){const Zt=this._ids[Mt],st=e[2*Zt],gt=e[2*Zt+1];if(Mt>0&&Math.abs(st-ht)<=Xl&&Math.abs(gt-Qt)<=Xl||(ht=st,Qt=gt,Zt===D||Zt===L||Zt===O))continue;let pt=0;for(let Ne=0,Ve=this._hashKey(st,gt);Ne<this._hashSize&&(pt=l[(Ve+Ne)%this._hashSize],!(pt!==-1&&pt!==a[pt]));Ne++);pt=r[pt];let Wt=pt,ce;for(;ce=a[Wt],!ku(st,gt,e[2*Wt],e[2*Wt+1],e[2*ce],e[2*ce+1]);)if(Wt=ce,Wt===pt){Wt=-1;break}if(Wt===-1)continue;let he=this._addTriangle(Wt,Zt,a[Wt],-1,-1,o[Wt]);o[Zt]=this._legalize(he+2),o[Wt]=he,ae++;let be=a[Wt];for(;ce=a[be],ku(st,gt,e[2*be],e[2*be+1],e[2*ce],e[2*ce+1]);)he=this._addTriangle(be,Zt,ce,o[Zt],-1,o[be]),o[Zt]=this._legalize(he+2),a[be]=be,ae--,be=ce;if(Wt===pt)for(;ce=r[Wt],ku(st,gt,e[2*ce],e[2*ce+1],e[2*Wt],e[2*Wt+1]);)he=this._addTriangle(ce,Zt,Wt,-1,o[Wt],o[ce]),this._legalize(he+2),o[ce]=he,a[Wt]=Wt,ae--,Wt=ce;this._hullStart=r[Zt]=Wt,a[Wt]=r[be]=Zt,a[Zt]=be,l[this._hashKey(st,gt)]=Zt,l[this._hashKey(e[2*Wt],e[2*Wt+1])]=Wt}this.hull=new Uint32Array(ae);for(let Mt=0,ht=this._hullStart;Mt<ae;Mt++)this.hull[Mt]=ht,ht=a[ht];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,r){return Math.floor(Li(e-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:r,_halfedges:a,coords:o}=this;let l=0,f=0;for(;;){const h=a[e],g=e-e%3;if(f=g+(e+2)%3,h===-1){if(l===0)break;e=bf[--l];continue}const _=h-h%3,m=g+(e+1)%3,w=_+(h+2)%3,x=r[f],S=r[e],D=r[m],L=r[w];if(Yp(o[2*x],o[2*x+1],o[2*S],o[2*S+1],o[2*D],o[2*D+1],o[2*L],o[2*L+1])){r[e]=L,r[h]=x;const N=a[w];if(N===-1){let F=this._hullStart;do{if(this._hullTri[F]===w){this._hullTri[F]=e;break}F=this._hullPrev[F]}while(F!==this._hullStart)}this._link(e,N),this._link(h,a[f]),this._link(f,w);const W=_+(h+1)%3;l<bf.length&&(bf[l++]=W)}else{if(l===0)break;e=bf[--l]}}return f}_link(e,r){this._halfedges[e]=r,r!==-1&&(this._halfedges[r]=e)}_addTriangle(e,r,a,o,l,f){const h=this.trianglesLen;return this._triangles[h]=e,this._triangles[h+1]=r,this._triangles[h+2]=a,this._link(h,o),this._link(h+1,l),this._link(h+2,f),this.trianglesLen+=3,h}}function Li(t,e){const r=t/(Math.abs(t)+Math.abs(e));return(e>0?3-r:1+r)/4}function xf(t,e,r,a){const o=t-r,l=e-a;return o*o+l*l}function wf(t,e,r,a,o,l){const f=(a-e)*(o-t),h=(r-t)*(l-e);return Math.abs(f-h)>=33306690738754716e-32*Math.abs(f+h)?f-h:0}function ku(t,e,r,a,o,l){return(wf(o,l,t,e,r,a)||wf(t,e,r,a,o,l)||wf(r,a,o,l,t,e))<0}function Yp(t,e,r,a,o,l,f,h){const g=t-f,_=e-h,m=r-f,w=a-h,x=o-f,S=l-h,D=g*g+_*_,L=m*m+w*w,O=x*x+S*S;return g*(w*O-L*S)-_*(m*O-L*x)+D*(m*S-w*x)<0}function Up(t,e,r,a,o,l){const f=r-t,h=a-e,g=o-t,_=l-e,m=f*f+h*h,w=g*g+_*_,x=.5/(f*_-h*g),S=(_*m-h*w)*x,D=(f*w-g*m)*x;return S*S+D*D}function h1(t,e,r,a,o,l){const f=r-t,h=a-e,g=o-t,_=l-e,m=f*f+h*h,w=g*g+_*_,x=.5/(f*_-h*g),S=t+(_*m-h*w)*x,D=e+(f*w-g*m)*x;return{x:S,y:D}}function di(t,e,r,a){if(a-r<=20)for(let o=r+1;o<=a;o++){const l=t[o],f=e[l];let h=o-1;for(;h>=r&&e[t[h]]>f;)t[h+1]=t[h--];t[h+1]=l}else{const o=r+a>>1;let l=r+1,f=a;Ro(t,o,l),e[t[r]]>e[t[a]]&&Ro(t,r,a),e[t[l]]>e[t[a]]&&Ro(t,l,a),e[t[r]]>e[t[l]]&&Ro(t,r,l);const h=t[l],g=e[h];for(;;){do l++;while(e[t[l]]<g);do f--;while(e[t[f]]>g);if(f<l)break;Ro(t,l,f)}t[r+1]=t[f],t[f]=h,a-l+1>=f-r?(di(t,e,l,a),di(t,e,r,f-1)):(di(t,e,r,f-1),di(t,e,l,a))}}function Ro(t,e,r){const a=t[e];t[e]=t[r],t[r]=a}function Wp(t){return t[0]}function d1(t){return t[1]}const $p=1e-6;class hs{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,r){this._+=`L${this._x1=+e},${this._y1=+r}`}arc(e,r,a){e=+e,r=+r,a=+a;const o=e+a,l=r;if(a<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${l}`:(Math.abs(this._x1-o)>$p||Math.abs(this._y1-l)>$p)&&(this._+="L"+o+","+l),!!a&&(this._+=`A${a},${a},0,1,1,${e-a},${r}A${a},${a},0,1,1,${this._x1=o},${this._y1=l}`)}rect(e,r,a,o){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${+a}v${+o}h${-a}Z`}value(){return this._||null}}class Af{constructor(){this._=[]}moveTo(e,r){this._.push([e,r])}closePath(){this._.push(this._[0].slice())}lineTo(e,r){this._.push([e,r])}value(){return this._.length?this._:null}}class Gp{constructor(e,[r,a,o,l]=[0,0,960,500]){if(!((o=+o)>=(r=+r))||!((l=+l)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=o,this.xmin=r,this.ymax=l,this.ymin=a,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:r,triangles:a},vectors:o}=this,l=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2);for(let S=0,D=0,L=a.length,O,N;S<L;S+=3,D+=2){const W=a[S]*2,F=a[S+1]*2,z=a[S+2]*2,rt=e[W],ot=e[W+1],Bt=e[F],Ut=e[F+1],ae=e[z],Mt=e[z+1],ht=Bt-rt,Qt=Ut-ot,Zt=ae-rt,st=Mt-ot,gt=ht*ht+Qt*Qt,pt=Zt*Zt+st*st,Wt=(ht*st-Qt*Zt)*2;if(!Wt)O=(rt+ae)/2-1e8*st,N=(ot+Mt)/2+1e8*Zt;else if(Math.abs(Wt)<1e-8)O=(rt+ae)/2,N=(ot+Mt)/2;else{const ce=1/Wt;O=rt+(st*gt-Qt*pt)*ce,N=ot+(ht*pt-Zt*gt)*ce}l[D]=O,l[D+1]=N}let f=r[r.length-1],h,g=f*4,_,m=e[2*f],w,x=e[2*f+1];o.fill(0);for(let S=0;S<r.length;++S)f=r[S],h=g,_=m,w=x,g=f*4,m=e[2*f],x=e[2*f+1],o[h+2]=o[g]=w-x,o[h+3]=o[g+1]=m-_}render(e){const r=e==null?e=new hs:void 0,{delaunay:{halfedges:a,inedges:o,hull:l},circumcenters:f,vectors:h}=this;if(l.length<=1)return null;for(let m=0,w=a.length;m<w;++m){const x=a[m];if(x<m)continue;const S=Math.floor(m/3)*2,D=Math.floor(x/3)*2,L=f[S],O=f[S+1],N=f[D],W=f[D+1];this._renderSegment(L,O,N,W,e)}let g,_=l[l.length-1];for(let m=0;m<l.length;++m){g=_,_=l[m];const w=Math.floor(o[_]/3)*2,x=f[w],S=f[w+1],D=g*4,L=this._project(x,S,h[D+2],h[D+3]);L&&this._renderSegment(x,S,L[0],L[1],e)}return r&&r.value()}renderBounds(e){const r=e==null?e=new hs:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(e,r){const a=r==null?r=new hs:void 0,o=this._clip(e);if(o===null||!o.length)return;r.moveTo(o[0],o[1]);let l=o.length;for(;o[0]===o[l-2]&&o[1]===o[l-1]&&l>1;)l-=2;for(let f=2;f<l;f+=2)(o[f]!==o[f-2]||o[f+1]!==o[f-1])&&r.lineTo(o[f],o[f+1]);return r.closePath(),a&&a.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let r=0,a=e.length/2;r<a;++r){const o=this.cellPolygon(r);o&&(o.index=r,yield o)}}cellPolygon(e){const r=new Af;return this.renderCell(e,r),r.value()}_renderSegment(e,r,a,o,l){let f;const h=this._regioncode(e,r),g=this._regioncode(a,o);h===0&&g===0?(l.moveTo(e,r),l.lineTo(a,o)):(f=this._clipSegment(e,r,a,o,h,g))&&(l.moveTo(f[0],f[1]),l.lineTo(f[2],f[3]))}contains(e,r,a){return r=+r,r!==r||(a=+a,a!==a)?!1:this.delaunay._step(e,r,a)===e}*neighbors(e){const r=this._clip(e);if(r)for(const a of this.delaunay.neighbors(e)){const o=this._clip(a);if(o)t:for(let l=0,f=r.length;l<f;l+=2)for(let h=0,g=o.length;h<g;h+=2)if(r[l]==o[h]&&r[l+1]==o[h+1]&&r[(l+2)%f]==o[(h+g-2)%g]&&r[(l+3)%f]==o[(h+g-1)%g]){yield a;break t}}}_cell(e){const{circumcenters:r,delaunay:{inedges:a,halfedges:o,triangles:l}}=this,f=a[e];if(f===-1)return null;const h=[];let g=f;do{const _=Math.floor(g/3);if(h.push(r[_*2],r[_*2+1]),g=g%3==2?g-2:g+1,l[g]!==e)break;g=o[g]}while(g!==f&&g!==-1);return h}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(e);if(r===null)return null;const{vectors:a}=this,o=e*4;return a[o]||a[o+1]?this._clipInfinite(e,r,a[o],a[o+1],a[o+2],a[o+3]):this._clipFinite(e,r)}_clipFinite(e,r){const a=r.length;let o=null,l,f,h=r[a-2],g=r[a-1],_,m=this._regioncode(h,g),w,x;for(let S=0;S<a;S+=2)if(l=h,f=g,h=r[S],g=r[S+1],_=m,m=this._regioncode(h,g),_===0&&m===0)w=x,x=0,o?o.push(h,g):o=[h,g];else{let D,L,O,N,W;if(_===0){if((D=this._clipSegment(l,f,h,g,_,m))===null)continue;[L,O,N,W]=D}else{if((D=this._clipSegment(h,g,l,f,m,_))===null)continue;[N,W,L,O]=D,w=x,x=this._edgecode(L,O),w&&x&&this._edge(e,w,x,o,o.length),o?o.push(L,O):o=[L,O]}w=x,x=this._edgecode(N,W),w&&x&&this._edge(e,w,x,o,o.length),o?o.push(N,W):o=[N,W]}if(o)w=x,x=this._edgecode(o[0],o[1]),w&&x&&this._edge(e,w,x,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,r,a,o,l,f){for(;;){if(l===0&&f===0)return[e,r,a,o];if(l&f)return null;let h,g,_=l||f;_&8?(h=e+(a-e)*(this.ymax-r)/(o-r),g=this.ymax):_&4?(h=e+(a-e)*(this.ymin-r)/(o-r),g=this.ymin):_&2?(g=r+(o-r)*(this.xmax-e)/(a-e),h=this.xmax):(g=r+(o-r)*(this.xmin-e)/(a-e),h=this.xmin),l?(e=h,r=g,l=this._regioncode(e,r)):(a=h,o=g,f=this._regioncode(a,o))}}_clipInfinite(e,r,a,o,l,f){let h=Array.from(r),g;if((g=this._project(h[0],h[1],a,o))&&h.unshift(g[0],g[1]),(g=this._project(h[h.length-2],h[h.length-1],l,f))&&h.push(g[0],g[1]),h=this._clipFinite(e,h))for(let _=0,m=h.length,w,x=this._edgecode(h[m-2],h[m-1]);_<m;_+=2)w=x,x=this._edgecode(h[_],h[_+1]),w&&x&&(_=this._edge(e,w,x,h,_),m=h.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(h=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return h}_edge(e,r,a,o,l){for(;r!==a;){let f,h;switch(r){case 5:r=4;continue;case 4:r=6,f=this.xmax,h=this.ymin;break;case 6:r=2;continue;case 2:r=10,f=this.xmax,h=this.ymax;break;case 10:r=8;continue;case 8:r=9,f=this.xmin,h=this.ymax;break;case 9:r=1;continue;case 1:r=5,f=this.xmin,h=this.ymin;break}(o[l]!==f||o[l+1]!==h)&&this.contains(e,f,h)&&(o.splice(l,0,f,h),l+=2)}if(o.length>4)for(let f=0;f<o.length;f+=2){const h=(f+2)%o.length,g=(f+4)%o.length;(o[f]===o[h]&&o[h]===o[g]||o[f+1]===o[h+1]&&o[h+1]===o[g+1])&&(o.splice(h,2),f-=2)}return l}_project(e,r,a,o){let l=Infinity,f,h,g;if(o<0){if(r<=this.ymin)return null;(f=(this.ymin-r)/o)<l&&(g=this.ymin,h=e+(l=f)*a)}else if(o>0){if(r>=this.ymax)return null;(f=(this.ymax-r)/o)<l&&(g=this.ymax,h=e+(l=f)*a)}if(a>0){if(e>=this.xmax)return null;(f=(this.xmax-e)/a)<l&&(h=this.xmax,g=r+(l=f)*o)}else if(a<0){if(e<=this.xmin)return null;(f=(this.xmin-e)/a)<l&&(h=this.xmin,g=r+(l=f)*o)}return[h,g]}_edgecode(e,r){return(e===this.xmin?1:e===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(e,r){return(e<this.xmin?1:e>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}}const P2=2*Math.PI,Nu=Math.pow;function Xp(t){return t[0]}function Sf(t){return t[1]}function Vp(t){const{triangles:e,coords:r}=t;for(let a=0;a<e.length;a+=3){const o=2*e[a],l=2*e[a+1],f=2*e[a+2];if((r[f]-r[o])*(r[l+1]-r[o+1])-(r[l]-r[o])*(r[f+1]-r[o+1])>1e-10)return!1}return!0}function k2(t,e,r){return[t+Math.sin(t+e)*r,e+Math.cos(t-e)*r]}class qp{static from(e,r=Xp,a=Sf,o){return new qp("length"in e?N2(e,r,a,o):Float64Array.from(Zp(e,r,a,o)))}constructor(e){this._delaunator=new Oo(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,r=this.points;if(e.hull&&e.hull.length>2&&Vp(e)){this.collinear=Int32Array.from({length:r.length/2},(x,S)=>S).sort((x,S)=>r[2*x]-r[2*S]||r[2*x+1]-r[2*S+1]);const g=this.collinear[0],_=this.collinear[this.collinear.length-1],m=[r[2*g],r[2*g+1],r[2*_],r[2*_+1]],w=1e-8*Math.hypot(m[3]-m[1],m[2]-m[0]);for(let x=0,S=r.length/2;x<S;++x){const D=k2(r[2*x],r[2*x+1],w);r[2*x]=D[0],r[2*x+1]=D[1]}this._delaunator=new Oo(r)}else delete this.collinear;const a=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),h=this._hullIndex.fill(-1);for(let g=0,_=a.length;g<_;++g){const m=l[g%3==2?g-2:g+1];(a[g]===-1||f[m]===-1)&&(f[m]=g)}for(let g=0,_=o.length;g<_;++g)h[o[g]]=g;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],this.triangles[1]=o[1],this.triangles[2]=o[1],f[o[0]]=1,o.length===2&&(f[o[1]]=0))}voronoi(e){return new Gp(this,e)}*neighbors(e){const{inedges:r,hull:a,_hullIndex:o,halfedges:l,triangles:f,collinear:h}=this;if(h){const w=h.indexOf(e);w>0&&(yield h[w-1]),w<h.length-1&&(yield h[w+1]);return}const g=r[e];if(g===-1)return;let _=g,m=-1;do{if(yield m=f[_],_=_%3==2?_-2:_+1,f[_]!==e)return;if(_=l[_],_===-1){const w=a[(o[e]+1)%a.length];w!==m&&(yield w);return}}while(_!==g)}find(e,r,a=0){if(e=+e,e!==e||(r=+r,r!==r))return-1;const o=a;let l;for(;(l=this._step(a,e,r))>=0&&l!==a&&l!==o;)a=l;return l}_step(e,r,a){const{inedges:o,hull:l,_hullIndex:f,halfedges:h,triangles:g,points:_}=this;if(o[e]===-1||!_.length)return(e+1)%(_.length>>1);let m=e,w=Nu(r-_[e*2],2)+Nu(a-_[e*2+1],2);const x=o[e];let S=x;do{let D=g[S];const L=Nu(r-_[D*2],2)+Nu(a-_[D*2+1],2);if(L<w&&(w=L,m=D),S=S%3==2?S-2:S+1,g[S]!==e)break;if(S=h[S],S===-1){if(S=l[(f[e]+1)%l.length],S!==D&&Nu(r-_[S*2],2)+Nu(a-_[S*2+1],2)<w)return S;break}}while(S!==x);return m}render(e){const r=e==null?e=new hs:void 0,{points:a,halfedges:o,triangles:l}=this;for(let f=0,h=o.length;f<h;++f){const g=o[f];if(g<f)continue;const _=l[f]*2,m=l[g]*2;e.moveTo(a[_],a[_+1]),e.lineTo(a[m],a[m+1])}return this.renderHull(e),r&&r.value()}renderPoints(e,r=2){const a=e==null?e=new hs:void 0,{points:o}=this;for(let l=0,f=o.length;l<f;l+=2){const h=o[l],g=o[l+1];e.moveTo(h+r,g),e.arc(h,g,r,0,P2)}return a&&a.value()}renderHull(e){const r=e==null?e=new hs:void 0,{hull:a,points:o}=this,l=a[0]*2,f=a.length;e.moveTo(o[l],o[l+1]);for(let h=1;h<f;++h){const g=2*a[h];e.lineTo(o[g],o[g+1])}return e.closePath(),r&&r.value()}hullPolygon(){const e=new Af;return this.renderHull(e),e.value()}renderTriangle(e,r){const a=r==null?r=new hs:void 0,{points:o,triangles:l}=this,f=l[e*=3]*2,h=l[e+1]*2,g=l[e+2]*2;return r.moveTo(o[f],o[f+1]),r.lineTo(o[h],o[h+1]),r.lineTo(o[g],o[g+1]),r.closePath(),a&&a.value()}*trianglePolygons(){const{triangles:e}=this;for(let r=0,a=e.length/3;r<a;++r)yield this.trianglePolygon(r)}trianglePolygon(e){const r=new Af;return this.renderTriangle(e,r),r.value()}}function N2(t,e,r,a){const o=t.length,l=new Float64Array(o*2);for(let f=0;f<o;++f){const h=t[f];l[f*2]=e.call(a,h,f,t),l[f*2+1]=r.call(a,h,f,t)}return l}function*Zp(t,e,r,a){let o=0;for(const l of t)yield e.call(a,l,o,t),yield r.call(a,l,o,t),++o}var Cf=t=>()=>t;function zi(t,{sourceEvent:e,subject:r,target:a,identifier:o,active:l,x:f,y:h,dx:g,dy:_,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:m}})}zi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function g1(t){return!t.ctrlKey&&!t.button}function Dd(){return this.parentNode}function Pd(t,e){return e==null?{x:t.x,y:t.y}:e}function p1(){return navigator.maxTouchPoints||"ontouchstart"in this}function _1(){var t=g1,e=Dd,r=Pd,a=p1,o={},l=Pa("start","drag","end"),f=0,h,g,_,m,w=0;function x(z){z.on("mousedown.drag",S).filter(a).on("touchstart.drag",O).on("touchmove.drag",N).on("touchend.drag touchcancel.drag",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(z,rt){if(!(m||!t.call(this,z,rt))){var ot=F(this,e.call(this,z,rt),z,rt,"mouse");!ot||(Xr(z.view).on("mousemove.drag",D,!0).on("mouseup.drag",L,!0),qh(z.view),Uc(z),_=!1,h=z.clientX,g=z.clientY,ot("start",z))}}function D(z){if(mo(z),!_){var rt=z.clientX-h,ot=z.clientY-g;_=rt*rt+ot*ot>w}o.mouse("drag",z)}function L(z){Xr(z.view).on("mousemove.drag mouseup.drag",null),Zh(z.view,_),mo(z),o.mouse("end",z)}function O(z,rt){if(!!t.call(this,z,rt)){var ot=z.changedTouches,Bt=e.call(this,z,rt),Ut=ot.length,ae,Mt;for(ae=0;ae<Ut;++ae)(Mt=F(this,Bt,z,rt,ot[ae].identifier,ot[ae]))&&(Uc(z),Mt("start",z,ot[ae]))}}function N(z){var rt=z.changedTouches,ot=rt.length,Bt,Ut;for(Bt=0;Bt<ot;++Bt)(Ut=o[rt[Bt].identifier])&&(mo(z),Ut("drag",z,rt[Bt]))}function W(z){var rt=z.changedTouches,ot=rt.length,Bt,Ut;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),Bt=0;Bt<ot;++Bt)(Ut=o[rt[Bt].identifier])&&(Uc(z),Ut("end",z,rt[Bt]))}function F(z,rt,ot,Bt,Ut,ae){var Mt=l.copy(),ht=br(ae||ot,rt),Qt,Zt,st;if((st=r.call(z,new zi("beforestart",{sourceEvent:ot,target:x,identifier:Ut,active:f,x:ht[0],y:ht[1],dx:0,dy:0,dispatch:Mt}),Bt))!=null)return Qt=st.x-ht[0]||0,Zt=st.y-ht[1]||0,function gt(pt,Wt,ce){var he=ht,be;switch(pt){case"start":o[Ut]=gt,be=f++;break;case"end":delete o[Ut],--f;case"drag":ht=br(ce||Wt,rt),be=f;break}Mt.call(pt,z,new zi(pt,{sourceEvent:Wt,subject:st,target:x,identifier:Ut,active:be,x:ht[0]+Qt,y:ht[1]+Zt,dx:ht[0]-he[0],dy:ht[1]-he[1],dispatch:Mt}),Bt)}}return x.filter=function(z){return arguments.length?(t=typeof z=="function"?z:Cf(!!z),x):t},x.container=function(z){return arguments.length?(e=typeof z=="function"?z:Cf(z),x):e},x.subject=function(z){return arguments.length?(r=typeof z=="function"?z:Cf(z),x):r},x.touchable=function(z){return arguments.length?(a=typeof z=="function"?z:Cf(!!z),x):a},x.on=function(){var z=l.on.apply(l,arguments);return z===l?x:z},x.clickDistance=function(z){return arguments.length?(w=(z=+z)*z,x):Math.sqrt(w)},x}var kd={},Nd={},Ld=34,Eo=10,zd=13;function Kp(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function m1(t,e){var r=Kp(t);return function(a,o){return e(r(a),o,t)}}function Id(t){var e=Object.create(null),r=[];return t.forEach(function(a){for(var o in a)o in e||r.push(e[o]=o)}),r}function Tr(t,e){var r=t+"",a=r.length;return a<e?new Array(e-a+1).join(0)+r:r}function Fd(t){return t<0?"-"+Tr(-t,6):t>9999?"+"+Tr(t,6):Tr(t,4)}function y1(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),a=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Fd(t.getUTCFullYear(),4)+"-"+Tr(t.getUTCMonth()+1,2)+"-"+Tr(t.getUTCDate(),2)+(o?"T"+Tr(e,2)+":"+Tr(r,2)+":"+Tr(a,2)+"."+Tr(o,3)+"Z":a?"T"+Tr(e,2)+":"+Tr(r,2)+":"+Tr(a,2)+"Z":r||e?"T"+Tr(e,2)+":"+Tr(r,2)+"Z":"")}function Mf(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function a(w,x){var S,D,L=o(w,function(O,N){if(S)return S(O,N-1);D=O,S=x?m1(O,x):Kp(O)});return L.columns=D||[],L}function o(w,x){var S=[],D=w.length,L=0,O=0,N,W=D<=0,F=!1;w.charCodeAt(D-1)===Eo&&--D,w.charCodeAt(D-1)===zd&&--D;function z(){if(W)return Nd;if(F)return F=!1,kd;var ot,Bt=L,Ut;if(w.charCodeAt(Bt)===Ld){for(;L++<D&&w.charCodeAt(L)!==Ld||w.charCodeAt(++L)===Ld;);return(ot=L)>=D?W=!0:(Ut=w.charCodeAt(L++))===Eo?F=!0:Ut===zd&&(F=!0,w.charCodeAt(L)===Eo&&++L),w.slice(Bt+1,ot-1).replace(/""/g,'"')}for(;L<D;){if((Ut=w.charCodeAt(ot=L++))===Eo)F=!0;else if(Ut===zd)F=!0,w.charCodeAt(L)===Eo&&++L;else if(Ut!==r)continue;return w.slice(Bt,ot)}return W=!0,w.slice(Bt,D)}for(;(N=z())!==Nd;){for(var rt=[];N!==kd&&N!==Nd;)rt.push(N),N=z();x&&(rt=x(rt,O++))==null||S.push(rt)}return S}function l(w,x){return w.map(function(S){return x.map(function(D){return m(S[D])}).join(t)})}function f(w,x){return x==null&&(x=Id(w)),[x.map(m).join(t)].concat(l(w,x)).join(`
`)}function h(w,x){return x==null&&(x=Id(w)),l(w,x).join(`
`)}function g(w){return w.map(_).join(`
`)}function _(w){return w.map(m).join(t)}function m(w){return w==null?"":w instanceof Date?y1(w):e.test(w+="")?'"'+w.replace(/"/g,'""')+'"':w}return{parse:a,parseRows:o,format:f,formatBody:h,formatRows:g,formatRow:_,formatValue:m}}var Do=Mf(","),jp=Do.parse,v1=Do.parseRows,b1=Do.format,x1=Do.formatBody,L2=Do.formatRows,w1=Do.formatRow,A1=Do.formatValue,Po=Mf("	"),Hd=Po.parse,S1=Po.parseRows,C1=Po.format,Bd=Po.formatBody,M1=Po.formatRows,T1=Po.formatRow,O1=Po.formatValue;function Jp(t){for(var e in t){var r=t[e].trim(),a,o;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(a=+r))r=a;else if(o=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))R1&&!!o[4]&&!o[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;t[e]=r}return t}const R1=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),E1=t=>+t;function Qp(t){return t*t}function t_(t){return t*(2-t)}function e_(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Yd=3,D1=function t(e){e=+e;function r(a){return Math.pow(a,e)}return r.exponent=t,r}(Yd),P1=function t(e){e=+e;function r(a){return 1-Math.pow(1-a,e)}return r.exponent=t,r}(Yd),n_=function t(e){e=+e;function r(a){return((a*=2)<=1?Math.pow(a,e):2-Math.pow(2-a,e))/2}return r.exponent=t,r}(Yd),r_=Math.PI,i_=r_/2;function k1(t){return+t==1?1:1-Math.cos(t*i_)}function N1(t){return Math.sin(t*i_)}function Ud(t){return(1-Math.cos(r_*t))/2}function Zs(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Tf(t){return Zs(1-+t)}function L1(t){return 1-Zs(t)}function a_(t){return((t*=2)<=1?Zs(1-t):2-Zs(t-1))/2}function z1(t){return 1-Math.sqrt(1-t*t)}function I1(t){return Math.sqrt(1- --t*t)}function s_(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Wd=4/11,F1=6/11,H1=8/11,B1=3/4,Y1=9/11,U1=10/11,W1=15/16,$1=21/22,G1=63/64,Of=1/Wd/Wd;function X1(t){return 1-Vl(1-t)}function Vl(t){return(t=+t)<Wd?Of*t*t:t<H1?Of*(t-=F1)*t+B1:t<U1?Of*(t-=Y1)*t+W1:Of*(t-=$1)*t+G1}function V1(t){return((t*=2)<=1?1-Vl(1-t):Vl(t-1)+1)/2}var ql=1.70158,o_=function t(e){e=+e;function r(a){return(a=+a)*a*(e*(a-1)+a)}return r.overshoot=t,r}(ql),Rf=function t(e){e=+e;function r(a){return--a*a*((a+1)*e+a)+1}return r.overshoot=t,r}(ql),u_=function t(e){e=+e;function r(a){return((a*=2)<1?a*a*((e+1)*a-e):(a-=2)*a*((e+1)*a+e)+2)/2}return r.overshoot=t,r}(ql),Lu=2*Math.PI,$d=1,Gd=.3,q1=function t(e,r){var a=Math.asin(1/(e=Math.max(1,e)))*(r/=Lu);function o(l){return e*Zs(- --l)*Math.sin((a-l)/r)}return o.amplitude=function(l){return t(l,r*Lu)},o.period=function(l){return t(e,l)},o}($d,Gd),l_=function t(e,r){var a=Math.asin(1/(e=Math.max(1,e)))*(r/=Lu);function o(l){return 1-e*Zs(l=+l)*Math.sin((l+a)/r)}return o.amplitude=function(l){return t(l,r*Lu)},o.period=function(l){return t(e,l)},o}($d,Gd),Z1=function t(e,r){var a=Math.asin(1/(e=Math.max(1,e)))*(r/=Lu);function o(l){return((l=l*2-1)<0?e*Zs(-l)*Math.sin((a-l)/r):2-e*Zs(l)*Math.sin((a+l)/r))/2}return o.amplitude=function(l){return t(l,r*Lu)},o.period=function(l){return t(e,l)},o}($d,Gd);function c_(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function K1(t,e){return fetch(t,e).then(c_)}function j1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function J1(t,e){return fetch(t,e).then(j1)}function Q1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ds(t,e){return fetch(t,e).then(Q1)}function f_(t){return function(e,r,a){return arguments.length===2&&typeof r=="function"&&(a=r,r=void 0),ds(e,r).then(function(o){return t(o,a)})}}function tb(t,e,r,a){arguments.length===3&&typeof r=="function"&&(a=r,r=void 0);var o=Mf(t);return ds(e,r).then(function(l){return o.parse(l,a)})}var eb=f_(jp),nb=f_(Hd);function h_(t,e){return new Promise(function(r,a){var o=new Image;for(var l in e)o[l]=e[l];o.onerror=a,o.onload=function(){r(o)},o.src=t})}function Xd(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function d_(t,e){return fetch(t,e).then(Xd)}function Ef(t){return(e,r)=>ds(e,r).then(a=>new DOMParser().parseFromString(a,t))}var g_=Ef("application/xml"),rb=Ef("text/html"),ib=Ef("image/svg+xml"),ab=K(1719),sb=K(77577),ob=K(76406),ub=K(14885),Df=K(79045);function lb(t,e,r){var a,o=(0,Df.Z)(.1),l,f;typeof t!="function"&&(t=(0,Df.Z)(+t)),e==null&&(e=0),r==null&&(r=0);function h(_){for(var m=0,w=a.length;m<w;++m){var x=a[m],S=x.x-e||1e-6,D=x.y-r||1e-6,L=Math.sqrt(S*S+D*D),O=(f[m]-L)*l[m]*_/L;x.vx+=S*O,x.vy+=D*O}}function g(){if(!!a){var _,m=a.length;for(l=new Array(m),f=new Array(m),_=0;_<m;++_)f[_]=+t(a[_],_,a),l[_]=isNaN(f[_])?0:+o(a[_],_,a)}}return h.initialize=function(_){a=_,g()},h.strength=function(_){return arguments.length?(o=typeof _=="function"?_:(0,Df.Z)(+_),g(),h):o},h.radius=function(_){return arguments.length?(t=typeof _=="function"?_:(0,Df.Z)(+_),g(),h):t},h.x=function(_){return arguments.length?(e=+_,h):e},h.y=function(_){return arguments.length?(r=+_,h):r},h}var cb=K(73388),fb=K(83797),hb=K(26345);function db(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pf(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,a=t.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+t.slice(r+1)]}function zu(t){return t=Pf(Math.abs(t)),t?t[1]:NaN}function gb(t,e){return function(r,a){for(var o=r.length,l=[],f=0,h=t[0],g=0;o>0&&h>0&&(g+h+1>a&&(h=Math.max(1,a-g)),l.push(r.substring(o-=h,o+h)),!((g+=h+1)>a));)h=t[f=(f+1)%t.length];return l.reverse().join(e)}}function pb(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var _b=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zl(t){if(!(e=_b.exec(t)))throw new Error("invalid format: "+t);var e;return new Kl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zl.prototype=Kl.prototype;function Kl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Kl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mb(t){t:for(var e=t.length,r=1,a=-1,o;r<e;++r)switch(t[r]){case".":a=o=r;break;case"0":a===0&&(a=r),o=r;break;default:if(!+t[r])break t;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(o+1):t}var p_;function yb(t,e){var r=Pf(t,e);if(!r)return t+"";var a=r[0],o=r[1],l=o-(p_=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,f=a.length;return l===f?a:l>f?a+new Array(l-f+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+Pf(t,Math.max(0,e+l-1))[0]}function __(t,e){var r=Pf(t,e);if(!r)return t+"";var a=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")}var m_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:db,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>__(t*100,e),r:__,s:yb,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function y_(t){return t}var v_=Array.prototype.map,b_=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function x_(t){var e=t.grouping===void 0||t.thousands===void 0?y_:gb(v_.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?y_:pb(v_.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"\u2212":t.minus+"",g=t.nan===void 0?"NaN":t.nan+"";function _(w){w=Zl(w);var x=w.fill,S=w.align,D=w.sign,L=w.symbol,O=w.zero,N=w.width,W=w.comma,F=w.precision,z=w.trim,rt=w.type;rt==="n"?(W=!0,rt="g"):m_[rt]||(F===void 0&&(F=12),z=!0,rt="g"),(O||x==="0"&&S==="=")&&(O=!0,x="0",S="=");var ot=L==="$"?r:L==="#"&&/[boxX]/.test(rt)?"0"+rt.toLowerCase():"",Bt=L==="$"?a:/[%p]/.test(rt)?f:"",Ut=m_[rt],ae=/[defgprs%]/.test(rt);F=F===void 0?6:/[gprs]/.test(rt)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function Mt(ht){var Qt=ot,Zt=Bt,st,gt,pt;if(rt==="c")Zt=Ut(ht)+Zt,ht="";else{ht=+ht;var Wt=ht<0||1/ht<0;if(ht=isNaN(ht)?g:Ut(Math.abs(ht),F),z&&(ht=mb(ht)),Wt&&+ht==0&&D!=="+"&&(Wt=!1),Qt=(Wt?D==="("?D:h:D==="-"||D==="("?"":D)+Qt,Zt=(rt==="s"?b_[8+p_/3]:"")+Zt+(Wt&&D==="("?")":""),ae){for(st=-1,gt=ht.length;++st<gt;)if(pt=ht.charCodeAt(st),48>pt||pt>57){Zt=(pt===46?o+ht.slice(st+1):ht.slice(st))+Zt,ht=ht.slice(0,st);break}}}W&&!O&&(ht=e(ht,Infinity));var ce=Qt.length+ht.length+Zt.length,he=ce<N?new Array(N-ce+1).join(x):"";switch(W&&O&&(ht=e(he+ht,he.length?N-Zt.length:Infinity),he=""),S){case"<":ht=Qt+ht+Zt+he;break;case"=":ht=Qt+he+ht+Zt;break;case"^":ht=he.slice(0,ce=he.length>>1)+Qt+ht+Zt+he.slice(ce);break;default:ht=he+Qt+ht+Zt;break}return l(ht)}return Mt.toString=function(){return w+""},Mt}function m(w,x){var S=_((w=Zl(w),w.type="f",w)),D=Math.max(-8,Math.min(8,Math.floor(zu(x)/3)))*3,L=Math.pow(10,-D),O=b_[8+D/3];return function(N){return S(L*N)+O}}return{format:_,formatPrefix:m}}var kf,Nf,Vd;w_({thousands:",",grouping:[3],currency:["$",""]});function w_(t){return kf=x_(t),Nf=kf.format,Vd=kf.formatPrefix,kf}function A_(t){return Math.max(0,-zu(Math.abs(t)))}function qd(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(e)/3)))*3-zu(Math.abs(t)))}function S_(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zu(e)-zu(t))+1}var qe=1e-6,jl=1e-12,yn=Math.PI,mr=yn/2,Si=yn/4,ni=yn*2,Xn=180/yn,$e=yn/180,Tn=Math.abs,ko=Math.atan,Nr=Math.atan2,Be=Math.cos,Lf=Math.ceil,Zd=Math.exp,z2=Math.floor,Ks=Math.hypot,js=Math.log,No=Math.pow,Oe=Math.sin,gi=Math.sign||function(t){return t>0?1:t<0?-1:0},yr=Math.sqrt,Iu=Math.tan;function Js(t){return t>1?0:t<-1?yn:Math.acos(t)}function Lr(t){return t>1?mr:t<-1?-mr:Math.asin(t)}function Fu(t){return(t=Oe(t/2))*t}function lr(){}function Hu(t,e){t&&Jl.hasOwnProperty(t.type)&&Jl[t.type](t,e)}var C_={Feature:function(t,e){Hu(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,a=-1,o=r.length;++a<o;)Hu(r[a].geometry,e)}},Jl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)t=r[a],e.point(t[0],t[1],t[2])},LineString:function(t,e){zf(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)zf(r[a],e,0)},Polygon:function(t,e){M_(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)M_(r[a],e)},GeometryCollection:function(t,e){for(var r=t.geometries,a=-1,o=r.length;++a<o;)Hu(r[a],e)}};function zf(t,e,r){var a=-1,o=t.length-r,l;for(e.lineStart();++a<o;)l=t[a],e.point(l[0],l[1],l[2]);e.lineEnd()}function M_(t,e){var r=-1,a=t.length;for(e.polygonStart();++r<a;)zf(t[r],e,1);e.polygonEnd()}function ea(t,e){t&&C_.hasOwnProperty(t.type)?C_[t.type](t,e):Hu(t,e)}var If=new wt,Ff=new wt,Hf,Kd,jd,Jd,Bf,ga={point:lr,lineStart:lr,lineEnd:lr,polygonStart:function(){If=new wt,ga.lineStart=Qd,ga.lineEnd=Yf},polygonEnd:function(){var t=+If;Ff.add(t<0?ni+t:t),this.lineStart=this.lineEnd=this.point=lr},sphere:function(){Ff.add(ni)}};function Qd(){ga.point=T_}function Yf(){Uf(Hf,Kd)}function T_(t,e){ga.point=Uf,Hf=t,Kd=e,t*=$e,e*=$e,jd=t,Jd=Be(e=e/2+Si),Bf=Oe(e)}function Uf(t,e){t*=$e,e*=$e,e=e/2+Si;var r=t-jd,a=r>=0?1:-1,o=a*r,l=Be(e),f=Oe(e),h=Bf*f,g=Jd*l+h*Be(o),_=h*a*Oe(o);If.add(Nr(_,g)),jd=t,Jd=l,Bf=f}function Wf(t){return Ff=new wt,ea(t,ga),Ff*2}function Lo(t){return[Nr(t[1],t[0]),Lr(t[2])]}function gs(t){var e=t[0],r=t[1],a=Be(r);return[a*Be(e),a*Oe(e),Oe(r)]}function Ii(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ri(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function tg(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function $f(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Gf(t){var e=yr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var cr,ii,dr,ai,zo,O_,eg,Bu,Ql,Qs,ps,_s={point:tc,lineStart:R_,lineEnd:E_,polygonStart:function(){_s.point=D_,_s.lineStart=vb,_s.lineEnd=bb,Ql=new wt,ga.polygonStart()},polygonEnd:function(){ga.polygonEnd(),_s.point=tc,_s.lineStart=R_,_s.lineEnd=E_,If<0?(cr=-(dr=180),ii=-(ai=90)):Ql>qe?ai=90:Ql<-qe&&(ii=-90),ps[0]=cr,ps[1]=dr},sphere:function(){cr=-(dr=180),ii=-(ai=90)}};function tc(t,e){Qs.push(ps=[cr=t,dr=t]),e<ii&&(ii=e),e>ai&&(ai=e)}function ng(t,e){var r=gs([t*$e,e*$e]);if(Bu){var a=ri(Bu,r),o=[a[1],-a[0],0],l=ri(o,a);Gf(l),l=Lo(l);var f=t-zo,h=f>0?1:-1,g=l[0]*Xn*h,_,m=Tn(f)>180;m^(h*zo<g&&g<h*t)?(_=l[1]*Xn,_>ai&&(ai=_)):(g=(g+360)%360-180,m^(h*zo<g&&g<h*t)?(_=-l[1]*Xn,_<ii&&(ii=_)):(e<ii&&(ii=e),e>ai&&(ai=e))),m?t<zo?Fi(cr,t)>Fi(cr,dr)&&(dr=t):Fi(t,dr)>Fi(cr,dr)&&(cr=t):dr>=cr?(t<cr&&(cr=t),t>dr&&(dr=t)):t>zo?Fi(cr,t)>Fi(cr,dr)&&(dr=t):Fi(t,dr)>Fi(cr,dr)&&(cr=t)}else Qs.push(ps=[cr=t,dr=t]);e<ii&&(ii=e),e>ai&&(ai=e),Bu=r,zo=t}function R_(){_s.point=ng}function E_(){ps[0]=cr,ps[1]=dr,_s.point=tc,Bu=null}function D_(t,e){if(Bu){var r=t-zo;Ql.add(Tn(r)>180?r+(r>0?360:-360):r)}else O_=t,eg=e;ga.point(t,e),ng(t,e)}function vb(){ga.lineStart()}function bb(){D_(O_,eg),ga.lineEnd(),Tn(Ql)>qe&&(cr=-(dr=180)),ps[0]=cr,ps[1]=dr,Bu=null}function Fi(t,e){return(e-=t)<0?e+360:e}function xb(t,e){return t[0]-e[0]}function P_(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function wb(t){var e,r,a,o,l,f,h;if(ai=dr=-(cr=ii=Infinity),Qs=[],ea(t,_s),r=Qs.length){for(Qs.sort(xb),e=1,a=Qs[0],l=[a];e<r;++e)o=Qs[e],P_(a,o[0])||P_(a,o[1])?(Fi(a[0],o[1])>Fi(a[0],a[1])&&(a[1]=o[1]),Fi(o[0],a[1])>Fi(a[0],a[1])&&(a[0]=o[0])):l.push(a=o);for(f=-Infinity,r=l.length-1,e=0,a=l[r];e<=r;a=o,++e)o=l[e],(h=Fi(a[1],o[0]))>f&&(f=h,cr=o[0],dr=a[1])}return Qs=ps=null,cr===Infinity||ii===Infinity?[[NaN,NaN],[NaN,NaN]]:[[cr,ii],[dr,ai]]}var ec,Xf,Vf,qf,Zf,Kf,jf,Jf,rg,ig,ag,k_,N_,pi,_i,mi,pa={sphere:lr,point:sg,lineStart:L_,lineEnd:z_,polygonStart:function(){pa.lineStart=Cb,pa.lineEnd=Mb},polygonEnd:function(){pa.lineStart=L_,pa.lineEnd=z_}};function sg(t,e){t*=$e,e*=$e;var r=Be(e);nc(r*Be(t),r*Oe(t),Oe(e))}function nc(t,e,r){++ec,Vf+=(t-Vf)/ec,qf+=(e-qf)/ec,Zf+=(r-Zf)/ec}function L_(){pa.point=Ab}function Ab(t,e){t*=$e,e*=$e;var r=Be(e);pi=r*Be(t),_i=r*Oe(t),mi=Oe(e),pa.point=Sb,nc(pi,_i,mi)}function Sb(t,e){t*=$e,e*=$e;var r=Be(e),a=r*Be(t),o=r*Oe(t),l=Oe(e),f=Nr(yr((f=_i*l-mi*o)*f+(f=mi*a-pi*l)*f+(f=pi*o-_i*a)*f),pi*a+_i*o+mi*l);Xf+=f,Kf+=f*(pi+(pi=a)),jf+=f*(_i+(_i=o)),Jf+=f*(mi+(mi=l)),nc(pi,_i,mi)}function z_(){pa.point=sg}function Cb(){pa.point=I_}function Mb(){F_(k_,N_),pa.point=sg}function I_(t,e){k_=t,N_=e,t*=$e,e*=$e,pa.point=F_;var r=Be(e);pi=r*Be(t),_i=r*Oe(t),mi=Oe(e),nc(pi,_i,mi)}function F_(t,e){t*=$e,e*=$e;var r=Be(e),a=r*Be(t),o=r*Oe(t),l=Oe(e),f=_i*l-mi*o,h=mi*a-pi*l,g=pi*o-_i*a,_=Ks(f,h,g),m=Lr(_),w=_&&-m/_;rg.add(w*f),ig.add(w*h),ag.add(w*g),Xf+=m,Kf+=m*(pi+(pi=a)),jf+=m*(_i+(_i=o)),Jf+=m*(mi+(mi=l)),nc(pi,_i,mi)}function Tb(t){ec=Xf=Vf=qf=Zf=Kf=jf=Jf=0,rg=new wt,ig=new wt,ag=new wt,ea(t,pa);var e=+rg,r=+ig,a=+ag,o=Ks(e,r,a);return o<jl&&(e=Kf,r=jf,a=Jf,Xf<qe&&(e=Vf,r=qf,a=Zf),o=Ks(e,r,a),o<jl)?[NaN,NaN]:[Nr(r,e)*Xn,Lr(a/o)*Xn]}function Yu(t){return function(){return t}}function og(t,e){function r(a,o){return a=t(a,o),e(a[0],a[1])}return t.invert&&e.invert&&(r.invert=function(a,o){return a=e.invert(a,o),a&&t.invert(a[0],a[1])}),r}function ug(t,e){return[Tn(t)>yn?t+Math.round(-t/ni)*ni:t,e]}ug.invert=ug;function lg(t,e,r){return(t%=ni)?e||r?og(B_(t),Y_(e,r)):B_(t):e||r?Y_(e,r):ug}function H_(t){return function(e,r){return e+=t,[e>yn?e-ni:e<-yn?e+ni:e,r]}}function B_(t){var e=H_(t);return e.invert=H_(-t),e}function Y_(t,e){var r=Be(t),a=Oe(t),o=Be(e),l=Oe(e);function f(h,g){var _=Be(g),m=Be(h)*_,w=Oe(h)*_,x=Oe(g),S=x*r+m*a;return[Nr(w*o-S*l,m*r-x*a),Lr(S*o+w*l)]}return f.invert=function(h,g){var _=Be(g),m=Be(h)*_,w=Oe(h)*_,x=Oe(g),S=x*o-w*l;return[Nr(w*o+x*l,m*r+S*a),Lr(S*r-m*a)]},f}function U_(t){t=lg(t[0]*$e,t[1]*$e,t.length>2?t[2]*$e:0);function e(r){return r=t(r[0]*$e,r[1]*$e),r[0]*=Xn,r[1]*=Xn,r}return e.invert=function(r){return r=t.invert(r[0]*$e,r[1]*$e),r[0]*=Xn,r[1]*=Xn,r},e}function W_(t,e,r,a,o,l){if(!!r){var f=Be(e),h=Oe(e),g=a*r;o==null?(o=e+a*ni,l=e-g/2):(o=$_(f,o),l=$_(f,l),(a>0?o<l:o>l)&&(o+=a*ni));for(var _,m=o;a>0?m>l:m<l;m-=g)_=Lo([f,-h*Be(m),-h*Oe(m)]),t.point(_[0],_[1])}}function $_(t,e){e=gs(e),e[0]-=t,Gf(e);var r=Js(-e[1]);return((-e[2]<0?-r:r)+ni-qe)%ni}function Ob(){var t=Yu([0,0]),e=Yu(90),r=Yu(6),a,o,l={point:f};function f(g,_){a.push(g=o(g,_)),g[0]*=Xn,g[1]*=Xn}function h(){var g=t.apply(this,arguments),_=e.apply(this,arguments)*$e,m=r.apply(this,arguments)*$e;return a=[],o=lg(-g[0]*$e,-g[1]*$e,0).invert,W_(l,_,m,1),g={type:"Polygon",coordinates:[a]},a=o=null,g}return h.center=function(g){return arguments.length?(t=typeof g=="function"?g:Yu([+g[0],+g[1]]),h):t},h.radius=function(g){return arguments.length?(e=typeof g=="function"?g:Yu(+g),h):e},h.precision=function(g){return arguments.length?(r=typeof g=="function"?g:Yu(+g),h):r},h}function G_(){var t=[],e;return{point:function(r,a,o){e.push([r,a,o])},lineStart:function(){t.push(e=[])},lineEnd:lr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function Qf(t,e){return Tn(t[0]-e[0])<qe&&Tn(t[1]-e[1])<qe}function th(t,e,r,a){this.x=t,this.z=e,this.o=r,this.e=a,this.v=!1,this.n=this.p=null}function Ya(t,e,r,a,o){var l=[],f=[],h,g;if(t.forEach(function(D){if(!((L=D.length-1)<=0)){var L,O=D[0],N=D[L],W;if(Qf(O,N)){if(!O[2]&&!N[2]){for(o.lineStart(),h=0;h<L;++h)o.point((O=D[h])[0],O[1]);o.lineEnd();return}N[0]+=2*qe}l.push(W=new th(O,D,null,!0)),f.push(W.o=new th(O,null,W,!1)),l.push(W=new th(N,D,null,!1)),f.push(W.o=new th(N,null,W,!0))}}),!!l.length){for(f.sort(e),X_(l),X_(f),h=0,g=f.length;h<g;++h)f[h].e=r=!r;for(var _=l[0],m,w;;){for(var x=_,S=!0;x.v;)if((x=x.n)===_)return;m=x.z,o.lineStart();do{if(x.v=x.o.v=!0,x.e){if(S)for(h=0,g=m.length;h<g;++h)o.point((w=m[h])[0],w[1]);else a(x.x,x.n.x,1,o);x=x.n}else{if(S)for(m=x.p.z,h=m.length-1;h>=0;--h)o.point((w=m[h])[0],w[1]);else a(x.x,x.p.x,-1,o);x=x.p}x=x.o,m=x.z,S=!S}while(!x.v);o.lineEnd()}}}function X_(t){if(!!(e=t.length)){for(var e,r=0,a=t[0],o;++r<e;)a.n=o=t[r],o.p=a,a=o;a.n=o=t[0],o.p=a}}function eh(t){return Tn(t[0])<=yn?t[0]:gi(t[0])*((Tn(t[0])+yn)%ni-yn)}function Ua(t,e){var r=eh(e),a=e[1],o=Oe(a),l=[Oe(r),-Be(r),0],f=0,h=0,g=new wt;o===1?a=mr+qe:o===-1&&(a=-mr-qe);for(var _=0,m=t.length;_<m;++_)if(!!(x=(w=t[_]).length))for(var w,x,S=w[x-1],D=eh(S),L=S[1]/2+Si,O=Oe(L),N=Be(L),W=0;W<x;++W,D=z,O=ot,N=Bt,S=F){var F=w[W],z=eh(F),rt=F[1]/2+Si,ot=Oe(rt),Bt=Be(rt),Ut=z-D,ae=Ut>=0?1:-1,Mt=ae*Ut,ht=Mt>yn,Qt=O*ot;if(g.add(Nr(Qt*ae*Oe(Mt),N*Bt+Qt*Be(Mt))),f+=ht?Ut+ae*ni:Ut,ht^D>=r^z>=r){var Zt=ri(gs(S),gs(F));Gf(Zt);var st=ri(l,Zt);Gf(st);var gt=(ht^Ut>=0?-1:1)*Lr(st[2]);(a>gt||a===gt&&(Zt[0]||Zt[1]))&&(h+=ht^Ut>=0?1:-1)}}return(f<-qe||f<qe&&g<-jl)^h&1}function Rb(t,e,r,a){return function(o){var l=e(o),f=G_(),h=e(f),g=!1,_,m,w,x={point:S,lineStart:L,lineEnd:O,polygonStart:function(){x.point=N,x.lineStart=W,x.lineEnd=F,m=[],_=[]},polygonEnd:function(){x.point=S,x.lineStart=L,x.lineEnd=O,m=Ps(m);var z=Ua(_,a);m.length?(g||(o.polygonStart(),g=!0),Ya(m,Eb,z,r,o)):z&&(g||(o.polygonStart(),g=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),m=_=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function S(z,rt){t(z,rt)&&o.point(z,rt)}function D(z,rt){l.point(z,rt)}function L(){x.point=D,l.lineStart()}function O(){x.point=S,l.lineEnd()}function N(z,rt){w.push([z,rt]),h.point(z,rt)}function W(){h.lineStart(),w=[]}function F(){N(w[0][0],w[0][1]),h.lineEnd();var z=h.clean(),rt=f.result(),ot,Bt=rt.length,Ut,ae,Mt;if(w.pop(),_.push(w),w=null,!!Bt){if(z&1){if(ae=rt[0],(Ut=ae.length-1)>0){for(g||(o.polygonStart(),g=!0),o.lineStart(),ot=0;ot<Ut;++ot)o.point((Mt=ae[ot])[0],Mt[1]);o.lineEnd()}return}Bt>1&&z&2&&rt.push(rt.pop().concat(rt.shift())),m.push(rt.filter(I2))}}return x}}function I2(t){return t.length>1}function Eb(t,e){return((t=t.x)[0]<0?t[1]-mr-qe:mr-t[1])-((e=e.x)[0]<0?e[1]-mr-qe:mr-e[1])}var cg=Rb(function(){return!0},Db,kb,[-yn,-mr]);function Db(t){var e=NaN,r=NaN,a=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(l,f){var h=l>0?yn:-yn,g=Tn(l-e);Tn(g-yn)<qe?(t.point(e,r=(r+f)/2>0?mr:-mr),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(h,r),t.point(l,r),o=0):a!==h&&g>=yn&&(Tn(e-a)<qe&&(e-=a*qe),Tn(l-h)<qe&&(l-=h*qe),r=Pb(e,r,l,f),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(h,r),o=0),t.point(e=l,r=f),a=h},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-o}}}function Pb(t,e,r,a){var o,l,f=Oe(t-r);return Tn(f)>qe?ko((Oe(e)*(l=Be(a))*Oe(r)-Oe(a)*(o=Be(e))*Oe(t))/(o*l*f)):(e+a)/2}function kb(t,e,r,a){var o;if(t==null)o=r*mr,a.point(-yn,o),a.point(0,o),a.point(yn,o),a.point(yn,0),a.point(yn,-o),a.point(0,-o),a.point(-yn,-o),a.point(-yn,0),a.point(-yn,o);else if(Tn(t[0]-e[0])>qe){var l=t[0]<e[0]?yn:-yn;o=r*l/2,a.point(-l,o),a.point(0,o),a.point(l,o)}else a.point(e[0],e[1])}function nh(t){var e=Be(t),r=6*$e,a=e>0,o=Tn(e)>qe;function l(m,w,x,S){W_(S,t,r,x,m,w)}function f(m,w){return Be(m)*Be(w)>e}function h(m){var w,x,S,D,L;return{lineStart:function(){D=S=!1,L=1},point:function(O,N){var W=[O,N],F,z=f(O,N),rt=a?z?0:_(O,N):z?_(O+(O<0?yn:-yn),N):0;if(!w&&(D=S=z)&&m.lineStart(),z!==S&&(F=g(w,W),(!F||Qf(w,F)||Qf(W,F))&&(W[2]=1)),z!==S)L=0,z?(m.lineStart(),F=g(W,w),m.point(F[0],F[1])):(F=g(w,W),m.point(F[0],F[1],2),m.lineEnd()),w=F;else if(o&&w&&a^z){var ot;!(rt&x)&&(ot=g(W,w,!0))&&(L=0,a?(m.lineStart(),m.point(ot[0][0],ot[0][1]),m.point(ot[1][0],ot[1][1]),m.lineEnd()):(m.point(ot[1][0],ot[1][1]),m.lineEnd(),m.lineStart(),m.point(ot[0][0],ot[0][1],3)))}z&&(!w||!Qf(w,W))&&m.point(W[0],W[1]),w=W,S=z,x=rt},lineEnd:function(){S&&m.lineEnd(),w=null},clean:function(){return L|(D&&S)<<1}}}function g(m,w,x){var S=gs(m),D=gs(w),L=[1,0,0],O=ri(S,D),N=Ii(O,O),W=O[0],F=N-W*W;if(!F)return!x&&m;var z=e*N/F,rt=-e*W/F,ot=ri(L,O),Bt=$f(L,z),Ut=$f(O,rt);tg(Bt,Ut);var ae=ot,Mt=Ii(Bt,ae),ht=Ii(ae,ae),Qt=Mt*Mt-ht*(Ii(Bt,Bt)-1);if(!(Qt<0)){var Zt=yr(Qt),st=$f(ae,(-Mt-Zt)/ht);if(tg(st,Bt),st=Lo(st),!x)return st;var gt=m[0],pt=w[0],Wt=m[1],ce=w[1],he;pt<gt&&(he=gt,gt=pt,pt=he);var be=pt-gt,Ne=Tn(be-yn)<qe,Ve=Ne||be<qe;if(!Ne&&ce<Wt&&(he=Wt,Wt=ce,ce=he),Ve?Ne?Wt+ce>0^st[1]<(Tn(st[0]-gt)<qe?Wt:ce):Wt<=st[1]&&st[1]<=ce:be>yn^(gt<=st[0]&&st[0]<=pt)){var $n=$f(ae,(-Mt+Zt)/ht);return tg($n,Bt),[st,Lo($n)]}}}function _(m,w){var x=a?t:yn-t,S=0;return m<-x?S|=1:m>x&&(S|=2),w<-x?S|=4:w>x&&(S|=8),S}return Rb(f,h,l,a?[0,-t]:[-yn,t-yn])}function Nb(t,e,r,a,o,l){var f=t[0],h=t[1],g=e[0],_=e[1],m=0,w=1,x=g-f,S=_-h,D;if(D=r-f,!(!x&&D>0)){if(D/=x,x<0){if(D<m)return;D<w&&(w=D)}else if(x>0){if(D>w)return;D>m&&(m=D)}if(D=o-f,!(!x&&D<0)){if(D/=x,x<0){if(D>w)return;D>m&&(m=D)}else if(x>0){if(D<m)return;D<w&&(w=D)}if(D=a-h,!(!S&&D>0)){if(D/=S,S<0){if(D<m)return;D<w&&(w=D)}else if(S>0){if(D>w)return;D>m&&(m=D)}if(D=l-h,!(!S&&D<0)){if(D/=S,S<0){if(D>w)return;D>m&&(m=D)}else if(S>0){if(D<m)return;D<w&&(w=D)}return m>0&&(t[0]=f+m*x,t[1]=h+m*S),w<1&&(e[0]=f+w*x,e[1]=h+w*S),!0}}}}}var rc=1e9,rh=-rc;function ic(t,e,r,a){function o(_,m){return t<=_&&_<=r&&e<=m&&m<=a}function l(_,m,w,x){var S=0,D=0;if(_==null||(S=f(_,w))!==(D=f(m,w))||g(_,m)<0^w>0)do x.point(S===0||S===3?t:r,S>1?a:e);while((S=(S+w+4)%4)!==D);else x.point(m[0],m[1])}function f(_,m){return Tn(_[0]-t)<qe?m>0?0:3:Tn(_[0]-r)<qe?m>0?2:1:Tn(_[1]-e)<qe?m>0?1:0:m>0?3:2}function h(_,m){return g(_.x,m.x)}function g(_,m){var w=f(_,1),x=f(m,1);return w!==x?w-x:w===0?m[1]-_[1]:w===1?_[0]-m[0]:w===2?_[1]-m[1]:m[0]-_[0]}return function(_){var m=_,w=G_(),x,S,D,L,O,N,W,F,z,rt,ot,Bt={point:Ut,lineStart:Qt,lineEnd:Zt,polygonStart:Mt,polygonEnd:ht};function Ut(gt,pt){o(gt,pt)&&m.point(gt,pt)}function ae(){for(var gt=0,pt=0,Wt=S.length;pt<Wt;++pt)for(var ce=S[pt],he=1,be=ce.length,Ne=ce[0],Ve,$n,Sn=Ne[0],Zn=Ne[1];he<be;++he)Ve=Sn,$n=Zn,Ne=ce[he],Sn=Ne[0],Zn=Ne[1],$n<=a?Zn>a&&(Sn-Ve)*(a-$n)>(Zn-$n)*(t-Ve)&&++gt:Zn<=a&&(Sn-Ve)*(a-$n)<(Zn-$n)*(t-Ve)&&--gt;return gt}function Mt(){m=w,x=[],S=[],ot=!0}function ht(){var gt=ae(),pt=ot&&gt,Wt=(x=Ps(x)).length;(pt||Wt)&&(_.polygonStart(),pt&&(_.lineStart(),l(null,null,1,_),_.lineEnd()),Wt&&Ya(x,h,gt,l,_),_.polygonEnd()),m=_,x=S=D=null}function Qt(){Bt.point=st,S&&S.push(D=[]),rt=!0,z=!1,W=F=NaN}function Zt(){x&&(st(L,O),N&&z&&w.rejoin(),x.push(w.result())),Bt.point=Ut,z&&m.lineEnd()}function st(gt,pt){var Wt=o(gt,pt);if(S&&D.push([gt,pt]),rt)L=gt,O=pt,N=Wt,rt=!1,Wt&&(m.lineStart(),m.point(gt,pt));else if(Wt&&z)m.point(gt,pt);else{var ce=[W=Math.max(rh,Math.min(rc,W)),F=Math.max(rh,Math.min(rc,F))],he=[gt=Math.max(rh,Math.min(rc,gt)),pt=Math.max(rh,Math.min(rc,pt))];Nb(ce,he,t,e,r,a)?(z||(m.lineStart(),m.point(ce[0],ce[1])),m.point(he[0],he[1]),Wt||m.lineEnd(),ot=!1):Wt&&(m.lineStart(),m.point(gt,pt),ot=!1)}W=gt,F=pt,z=Wt}return Bt}}function Lb(){var t=0,e=0,r=960,a=500,o,l,f;return f={stream:function(h){return o&&l===h?o:o=ic(t,e,r,a)(l=h)},extent:function(h){return arguments.length?(t=+h[0][0],e=+h[0][1],r=+h[1][0],a=+h[1][1],o=l=null,f):[[t,e],[r,a]]}}}var fg,ih,ac,ah,Uu={sphere:lr,point:lr,lineStart:zb,lineEnd:lr,polygonStart:lr,polygonEnd:lr};function zb(){Uu.point=Fb,Uu.lineEnd=Ib}function Ib(){Uu.point=Uu.lineEnd=lr}function Fb(t,e){t*=$e,e*=$e,ih=t,ac=Oe(e),ah=Be(e),Uu.point=Hb}function Hb(t,e){t*=$e,e*=$e;var r=Oe(e),a=Be(e),o=Tn(t-ih),l=Be(o),f=Oe(o),h=a*f,g=ah*r-ac*a*l,_=ac*r+ah*a*l;fg.add(Nr(yr(h*h+g*g),_)),ih=t,ac=r,ah=a}function V_(t){return fg=new wt,ea(t,Uu),+fg}var hg=[null,null],Bb={type:"LineString",coordinates:hg};function sc(t,e){return hg[0]=t,hg[1]=e,V_(Bb)}var q_={Feature:function(t,e){return sh(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,a=-1,o=r.length;++a<o;)if(sh(r[a].geometry,e))return!0;return!1}},oc={Sphere:function(){return!0},Point:function(t,e){return Z_(t.coordinates,e)},MultiPoint:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)if(Z_(r[a],e))return!0;return!1},LineString:function(t,e){return K_(t.coordinates,e)},MultiLineString:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)if(K_(r[a],e))return!0;return!1},Polygon:function(t,e){return j_(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,a=-1,o=r.length;++a<o;)if(j_(r[a],e))return!0;return!1},GeometryCollection:function(t,e){for(var r=t.geometries,a=-1,o=r.length;++a<o;)if(sh(r[a],e))return!0;return!1}};function sh(t,e){return t&&oc.hasOwnProperty(t.type)?oc[t.type](t,e):!1}function Z_(t,e){return sc(t,e)===0}function K_(t,e){for(var r,a,o,l=0,f=t.length;l<f;l++){if(a=sc(t[l],e),a===0||l>0&&(o=sc(t[l],t[l-1]),o>0&&r<=o&&a<=o&&(r+a-o)*(1-Math.pow((r-a)/o,2))<jl*o))return!0;r=a}return!1}function j_(t,e){return!!Ua(t.map(Yb),J_(e))}function Yb(t){return t=t.map(J_),t.pop(),t}function J_(t){return[t[0]*$e,t[1]*$e]}function Ub(t,e){return(t&&q_.hasOwnProperty(t.type)?q_[t.type]:sh)(t,e)}function Q_(t,e,r){var a=Jr(t,e-qe,r).concat(e);return function(o){return a.map(function(l){return[o,l]})}}function tm(t,e,r){var a=Jr(t,e-qe,r).concat(e);return function(o){return a.map(function(l){return[l,o]})}}function em(){var t,e,r,a,o,l,f,h,g=10,_=g,m=90,w=360,x,S,D,L,O=2.5;function N(){return{type:"MultiLineString",coordinates:W()}}function W(){return Jr(Lf(a/m)*m,r,m).map(D).concat(Jr(Lf(h/w)*w,f,w).map(L)).concat(Jr(Lf(e/g)*g,t,g).filter(function(F){return Tn(F%m)>qe}).map(x)).concat(Jr(Lf(l/_)*_,o,_).filter(function(F){return Tn(F%w)>qe}).map(S))}return N.lines=function(){return W().map(function(F){return{type:"LineString",coordinates:F}})},N.outline=function(){return{type:"Polygon",coordinates:[D(a).concat(L(f).slice(1),D(r).reverse().slice(1),L(h).reverse().slice(1))]}},N.extent=function(F){return arguments.length?N.extentMajor(F).extentMinor(F):N.extentMinor()},N.extentMajor=function(F){return arguments.length?(a=+F[0][0],r=+F[1][0],h=+F[0][1],f=+F[1][1],a>r&&(F=a,a=r,r=F),h>f&&(F=h,h=f,f=F),N.precision(O)):[[a,h],[r,f]]},N.extentMinor=function(F){return arguments.length?(e=+F[0][0],t=+F[1][0],l=+F[0][1],o=+F[1][1],e>t&&(F=e,e=t,t=F),l>o&&(F=l,l=o,o=F),N.precision(O)):[[e,l],[t,o]]},N.step=function(F){return arguments.length?N.stepMajor(F).stepMinor(F):N.stepMinor()},N.stepMajor=function(F){return arguments.length?(m=+F[0],w=+F[1],N):[m,w]},N.stepMinor=function(F){return arguments.length?(g=+F[0],_=+F[1],N):[g,_]},N.precision=function(F){return arguments.length?(O=+F,x=Q_(l,o,90),S=tm(e,t,O),D=Q_(h,f,90),L=tm(a,r,O),N):O},N.extentMajor([[-180,-90+qe],[180,90-qe]]).extentMinor([[-180,-80-qe],[180,80+qe]])}function Wb(){return em()()}function $b(t,e){var r=t[0]*$e,a=t[1]*$e,o=e[0]*$e,l=e[1]*$e,f=Be(a),h=Oe(a),g=Be(l),_=Oe(l),m=f*Be(r),w=f*Oe(r),x=g*Be(o),S=g*Oe(o),D=2*Lr(yr(Fu(l-a)+f*g*Fu(o-r))),L=Oe(D),O=D?function(N){var W=Oe(N*=D)/L,F=Oe(D-N)/L,z=F*m+W*x,rt=F*w+W*S,ot=F*h+W*_;return[Nr(rt,z)*Xn,Nr(ot,yr(z*z+rt*rt))*Xn]}:function(){return[r*Xn,a*Xn]};return O.distance=D,O}var uc=t=>t,dg=new wt,gg=new wt,nm,rm,pg,lc,ms={point:lr,lineStart:lr,lineEnd:lr,polygonStart:function(){ms.lineStart=oh,ms.lineEnd=Xb},polygonEnd:function(){ms.lineStart=ms.lineEnd=ms.point=lr,dg.add(Tn(gg)),gg=new wt},result:function(){var t=dg/2;return dg=new wt,t}};function oh(){ms.point=Gb}function Gb(t,e){ms.point=im,nm=pg=t,rm=lc=e}function im(t,e){gg.add(lc*t-pg*e),pg=t,lc=e}function Xb(){im(nm,rm)}var am=ms,Wu=Infinity,uh=Wu,cc=-Wu,fc=cc,Vb={point:qb,lineStart:lr,lineEnd:lr,polygonStart:lr,polygonEnd:lr,result:function(){var t=[[Wu,uh],[cc,fc]];return cc=fc=-(uh=Wu=Infinity),t}};function qb(t,e){t<Wu&&(Wu=t),t>cc&&(cc=t),e<uh&&(uh=e),e>fc&&(fc=e)}var lh=Vb,_g=0,to=0,hc=0,ch=0,fh=0,$u=0,hh=0,dc=0,Gu=0,mg,yg,Wa,$a,_a={point:Io,lineStart:sm,lineEnd:om,polygonStart:function(){_a.lineStart=jb,_a.lineEnd=Jb},polygonEnd:function(){_a.point=Io,_a.lineStart=sm,_a.lineEnd=om},result:function(){var t=Gu?[hh/Gu,dc/Gu]:$u?[ch/$u,fh/$u]:hc?[_g/hc,to/hc]:[NaN,NaN];return _g=to=hc=ch=fh=$u=hh=dc=Gu=0,t}};function Io(t,e){_g+=t,to+=e,++hc}function sm(){_a.point=Zb}function Zb(t,e){_a.point=Kb,Io(Wa=t,$a=e)}function Kb(t,e){var r=t-Wa,a=e-$a,o=yr(r*r+a*a);ch+=o*(Wa+t)/2,fh+=o*($a+e)/2,$u+=o,Io(Wa=t,$a=e)}function om(){_a.point=Io}function jb(){_a.point=Qb}function Jb(){um(mg,yg)}function Qb(t,e){_a.point=um,Io(mg=Wa=t,yg=$a=e)}function um(t,e){var r=t-Wa,a=e-$a,o=yr(r*r+a*a);ch+=o*(Wa+t)/2,fh+=o*($a+e)/2,$u+=o,o=$a*t-Wa*e,hh+=o*(Wa+t),dc+=o*($a+e),Gu+=o*3,Io(Wa=t,$a=e)}var lm=_a;function cm(t){this._context=t}cm.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ni);break}}},result:lr};var vg=new wt,bg,fm,hm,Xu,gc,dh={point:lr,lineStart:function(){dh.point=tx},lineEnd:function(){bg&&dm(fm,hm),dh.point=lr},polygonStart:function(){bg=!0},polygonEnd:function(){bg=null},result:function(){var t=+vg;return vg=new wt,t}};function tx(t,e){dh.point=dm,fm=Xu=t,hm=gc=e}function dm(t,e){Xu-=t,gc-=e,vg.add(yr(Xu*Xu+gc*gc)),Xu=t,gc=e}var gm=dh;function pm(){this._string=[]}pm.prototype={_radius:4.5,_circle:_m(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=_m(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function _m(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ex(t,e){var r=4.5,a,o;function l(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ea(f,a(o))),o.result()}return l.area=function(f){return ea(f,a(am)),am.result()},l.measure=function(f){return ea(f,a(gm)),gm.result()},l.bounds=function(f){return ea(f,a(lh)),lh.result()},l.centroid=function(f){return ea(f,a(lm)),lm.result()},l.projection=function(f){return arguments.length?(a=f==null?(t=null,uc):(t=f).stream,l):t},l.context=function(f){return arguments.length?(o=f==null?(e=null,new pm):new cm(e=f),typeof r!="function"&&o.pointRadius(r),l):e},l.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),l):r},l.projection(t).context(e)}function nx(t){return{stream:pc(t)}}function pc(t){return function(e){var r=new xg;for(var a in t)r[a]=t[a];return r.stream=e,r}}function xg(){}xg.prototype={constructor:xg,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function wg(t,e,r){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),ea(r,t.stream(lh)),e(lh.result()),a!=null&&t.clipExtent(a),t}function gh(t,e,r){return wg(t,function(a){var o=e[1][0]-e[0][0],l=e[1][1]-e[0][1],f=Math.min(o/(a[1][0]-a[0][0]),l/(a[1][1]-a[0][1])),h=+e[0][0]+(o-f*(a[1][0]+a[0][0]))/2,g=+e[0][1]+(l-f*(a[1][1]+a[0][1]))/2;t.scale(150*f).translate([h,g])},r)}function Ag(t,e,r){return gh(t,[[0,0],e],r)}function ph(t,e,r){return wg(t,function(a){var o=+e,l=o/(a[1][0]-a[0][0]),f=(o-l*(a[1][0]+a[0][0]))/2,h=-l*a[0][1];t.scale(150*l).translate([f,h])},r)}function Sg(t,e,r){return wg(t,function(a){var o=+e,l=o/(a[1][1]-a[0][1]),f=-l*a[0][0],h=(o-l*(a[1][1]+a[0][1]))/2;t.scale(150*l).translate([f,h])},r)}var mm=16,rx=Be(30*$e);function ym(t,e){return+e?ma(t,e):ix(t)}function ix(t){return pc({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function ma(t,e){function r(a,o,l,f,h,g,_,m,w,x,S,D,L,O){var N=_-a,W=m-o,F=N*N+W*W;if(F>4*e&&L--){var z=f+x,rt=h+S,ot=g+D,Bt=yr(z*z+rt*rt+ot*ot),Ut=Lr(ot/=Bt),ae=Tn(Tn(ot)-1)<qe||Tn(l-w)<qe?(l+w)/2:Nr(rt,z),Mt=t(ae,Ut),ht=Mt[0],Qt=Mt[1],Zt=ht-a,st=Qt-o,gt=W*Zt-N*st;(gt*gt/F>e||Tn((N*Zt+W*st)/F-.5)>.3||f*x+h*S+g*D<rx)&&(r(a,o,l,f,h,g,ht,Qt,ae,z/=Bt,rt/=Bt,ot,L,O),O.point(ht,Qt),r(ht,Qt,ae,z,rt,ot,_,m,w,x,S,D,L,O))}}return function(a){var o,l,f,h,g,_,m,w,x,S,D,L,O={point:N,lineStart:W,lineEnd:z,polygonStart:function(){a.polygonStart(),O.lineStart=rt},polygonEnd:function(){a.polygonEnd(),O.lineStart=W}};function N(Ut,ae){Ut=t(Ut,ae),a.point(Ut[0],Ut[1])}function W(){w=NaN,O.point=F,a.lineStart()}function F(Ut,ae){var Mt=gs([Ut,ae]),ht=t(Ut,ae);r(w,x,m,S,D,L,w=ht[0],x=ht[1],m=Ut,S=Mt[0],D=Mt[1],L=Mt[2],mm,a),a.point(w,x)}function z(){O.point=N,a.lineEnd()}function rt(){W(),O.point=ot,O.lineEnd=Bt}function ot(Ut,ae){F(o=Ut,ae),l=w,f=x,h=S,g=D,_=L,O.point=F}function Bt(){r(w,x,m,S,D,L,l,f,o,h,g,_,mm,a),O.lineEnd=z,z()}return O}}var vm=pc({point:function(t,e){this.stream.point(t*$e,e*$e)}});function ax(t){return pc({point:function(e,r){var a=t(e,r);return this.stream.point(a[0],a[1])}})}function _c(t,e,r,a,o){function l(f,h){return f*=a,h*=o,[e+t*f,r-t*h]}return l.invert=function(f,h){return[(f-e)/t*a,(r-h)/t*o]},l}function bm(t,e,r,a,o,l){if(!l)return _c(t,e,r,a,o);var f=Be(l),h=Oe(l),g=f*t,_=h*t,m=f/t,w=h/t,x=(h*r-f*e)/t,S=(h*e+f*r)/t;function D(L,O){return L*=a,O*=o,[g*L-_*O+e,r-_*L-g*O]}return D.invert=function(L,O){return[a*(m*L-w*O+x),o*(S-w*L-m*O)]},D}function ya(t){return Vu(function(){return t})()}function Vu(t){var e,r=150,a=480,o=250,l=0,f=0,h=0,g=0,_=0,m,w=0,x=1,S=1,D=null,L=cg,O=null,N,W,F,z=uc,rt=.5,ot,Bt,Ut,ae,Mt;function ht(gt){return Ut(gt[0]*$e,gt[1]*$e)}function Qt(gt){return gt=Ut.invert(gt[0],gt[1]),gt&&[gt[0]*Xn,gt[1]*Xn]}ht.stream=function(gt){return ae&&Mt===gt?ae:ae=vm(ax(m)(L(ot(z(Mt=gt)))))},ht.preclip=function(gt){return arguments.length?(L=gt,D=void 0,st()):L},ht.postclip=function(gt){return arguments.length?(z=gt,O=N=W=F=null,st()):z},ht.clipAngle=function(gt){return arguments.length?(L=+gt?nh(D=gt*$e):(D=null,cg),st()):D*Xn},ht.clipExtent=function(gt){return arguments.length?(z=gt==null?(O=N=W=F=null,uc):ic(O=+gt[0][0],N=+gt[0][1],W=+gt[1][0],F=+gt[1][1]),st()):O==null?null:[[O,N],[W,F]]},ht.scale=function(gt){return arguments.length?(r=+gt,Zt()):r},ht.translate=function(gt){return arguments.length?(a=+gt[0],o=+gt[1],Zt()):[a,o]},ht.center=function(gt){return arguments.length?(l=gt[0]%360*$e,f=gt[1]%360*$e,Zt()):[l*Xn,f*Xn]},ht.rotate=function(gt){return arguments.length?(h=gt[0]%360*$e,g=gt[1]%360*$e,_=gt.length>2?gt[2]%360*$e:0,Zt()):[h*Xn,g*Xn,_*Xn]},ht.angle=function(gt){return arguments.length?(w=gt%360*$e,Zt()):w*Xn},ht.reflectX=function(gt){return arguments.length?(x=gt?-1:1,Zt()):x<0},ht.reflectY=function(gt){return arguments.length?(S=gt?-1:1,Zt()):S<0},ht.precision=function(gt){return arguments.length?(ot=ym(Bt,rt=gt*gt),st()):yr(rt)},ht.fitExtent=function(gt,pt){return gh(ht,gt,pt)},ht.fitSize=function(gt,pt){return Ag(ht,gt,pt)},ht.fitWidth=function(gt,pt){return ph(ht,gt,pt)},ht.fitHeight=function(gt,pt){return Sg(ht,gt,pt)};function Zt(){var gt=bm(r,0,0,x,S,w).apply(null,e(l,f)),pt=bm(r,a-gt[0],o-gt[1],x,S,w);return m=lg(h,g,_),Bt=og(e,pt),Ut=og(m,Bt),ot=ym(Bt,rt),st()}function st(){return ae=Mt=null,ht}return function(){return e=t.apply(this,arguments),ht.invert=e.invert&&Qt,Zt()}}function Cg(t){var e=0,r=yn/3,a=Vu(t),o=a(e,r);return o.parallels=function(l){return arguments.length?a(e=l[0]*$e,r=l[1]*$e):[e*Xn,r*Xn]},o}function sx(t){var e=Be(t);function r(a,o){return[a*e,Oe(o)/e]}return r.invert=function(a,o){return[a/e,Lr(o*e)]},r}function Mg(t,e){var r=Oe(t),a=(r+Oe(e))/2;if(Tn(a)<qe)return sx(t);var o=1+r*(2*a-r),l=yr(o)/a;function f(h,g){var _=yr(o-2*a*Oe(g))/a;return[_*Oe(h*=a),l-_*Be(h)]}return f.invert=function(h,g){var _=l-g,m=Nr(h,Tn(_))*gi(_);return _*a<0&&(m-=yn*gi(h)*gi(_)),[m/a,Lr((o-(h*h+_*_)*a*a)/(2*a))]},f}function _h(){return Cg(Mg).scale(155.424).center([0,33.6442])}function Fo(){return _h().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function mc(t){var e=t.length;return{point:function(r,a){for(var o=-1;++o<e;)t[o].point(r,a)},sphere:function(){for(var r=-1;++r<e;)t[r].sphere()},lineStart:function(){for(var r=-1;++r<e;)t[r].lineStart()},lineEnd:function(){for(var r=-1;++r<e;)t[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<e;)t[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<e;)t[r].polygonEnd()}}}function yc(){var t,e,r=Fo(),a,o=_h().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,f=_h().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h,g,_={point:function(x,S){g=[x,S]}};function m(x){var S=x[0],D=x[1];return g=null,a.point(S,D),g||(l.point(S,D),g)||(h.point(S,D),g)}m.invert=function(x){var S=r.scale(),D=r.translate(),L=(x[0]-D[0])/S,O=(x[1]-D[1])/S;return(O>=.12&&O<.234&&L>=-.425&&L<-.214?o:O>=.166&&O<.234&&L>=-.214&&L<-.115?f:r).invert(x)},m.stream=function(x){return t&&e===x?t:t=mc([r.stream(e=x),o.stream(x),f.stream(x)])},m.precision=function(x){return arguments.length?(r.precision(x),o.precision(x),f.precision(x),w()):r.precision()},m.scale=function(x){return arguments.length?(r.scale(x),o.scale(x*.35),f.scale(x),m.translate(r.translate())):r.scale()},m.translate=function(x){if(!arguments.length)return r.translate();var S=r.scale(),D=+x[0],L=+x[1];return a=r.translate(x).clipExtent([[D-.455*S,L-.238*S],[D+.455*S,L+.238*S]]).stream(_),l=o.translate([D-.307*S,L+.201*S]).clipExtent([[D-.425*S+qe,L+.12*S+qe],[D-.214*S-qe,L+.234*S-qe]]).stream(_),h=f.translate([D-.205*S,L+.212*S]).clipExtent([[D-.214*S+qe,L+.166*S+qe],[D-.115*S-qe,L+.234*S-qe]]).stream(_),w()},m.fitExtent=function(x,S){return gh(m,x,S)},m.fitSize=function(x,S){return Ag(m,x,S)},m.fitWidth=function(x,S){return ph(m,x,S)},m.fitHeight=function(x,S){return Sg(m,x,S)};function w(){return t=e=null,m}return m.scale(1070)}function Tg(t){return function(e,r){var a=Be(e),o=Be(r),l=t(a*o);return l===Infinity?[2,0]:[l*o*Oe(e),l*Oe(r)]}}function eo(t){return function(e,r){var a=yr(e*e+r*r),o=t(a),l=Oe(o),f=Be(o);return[Nr(e*l,a*f),Lr(a&&r*l/a)]}}var Ho=Tg(function(t){return yr(2/(1+t))});Ho.invert=eo(function(t){return 2*Lr(t/2)});function mh(){return ya(Ho).scale(124.75).clipAngle(180-.001)}var ys=Tg(function(t){return(t=Js(t))&&t/Oe(t)});ys.invert=eo(function(t){return t});function yh(){return ya(ys).scale(79.4188).clipAngle(180-.001)}function vs(t,e){return[t,js(Iu((mr+e)/2))]}vs.invert=function(t,e){return[t,2*ko(Zd(e))-mr]};function xm(){return vh(vs).scale(961/ni)}function vh(t){var e=ya(t),r=e.center,a=e.scale,o=e.translate,l=e.clipExtent,f=null,h,g,_;e.scale=function(w){return arguments.length?(a(w),m()):a()},e.translate=function(w){return arguments.length?(o(w),m()):o()},e.center=function(w){return arguments.length?(r(w),m()):r()},e.clipExtent=function(w){return arguments.length?(w==null?f=h=g=_=null:(f=+w[0][0],h=+w[0][1],g=+w[1][0],_=+w[1][1]),m()):f==null?null:[[f,h],[g,_]]};function m(){var w=yn*a(),x=e(U_(e.rotate()).invert([0,0]));return l(f==null?[[x[0]-w,x[1]-w],[x[0]+w,x[1]+w]]:t===vs?[[Math.max(x[0]-w,f),h],[Math.min(x[0]+w,g),_]]:[[f,Math.max(x[1]-w,h)],[g,Math.min(x[1]+w,_)]])}return m()}function bh(t){return Iu((mr+t)/2)}function vc(t,e){var r=Be(t),a=t===e?Oe(t):js(r/Be(e))/js(bh(e)/bh(t)),o=r*No(bh(t),a)/a;if(!a)return vs;function l(f,h){o>0?h<-mr+qe&&(h=-mr+qe):h>mr-qe&&(h=mr-qe);var g=o/No(bh(h),a);return[g*Oe(a*f),o-g*Be(a*f)]}return l.invert=function(f,h){var g=o-h,_=gi(a)*yr(f*f+g*g),m=Nr(f,Tn(g))*gi(g);return g*a<0&&(m-=yn*gi(f)*gi(g)),[m/a,2*ko(No(o/_,1/a))-mr]},l}function wm(){return Cg(vc).scale(109.5).parallels([30,30])}function bc(t,e){return[t,e]}bc.invert=bc;function Am(){return ya(bc).scale(152.63)}function Sm(t,e){var r=Be(t),a=t===e?Oe(t):(r-Be(e))/(e-t),o=r/a+t;if(Tn(a)<qe)return bc;function l(f,h){var g=o-h,_=a*f;return[g*Oe(_),o-g*Be(_)]}return l.invert=function(f,h){var g=o-h,_=Nr(f,Tn(g))*gi(g);return g*a<0&&(_-=yn*gi(f)*gi(g)),[_/a,o-gi(a)*yr(f*f+g*g)]},l}function ox(){return Cg(Sm).scale(131.154).center([0,13.9389])}var Bo=1.340264,qu=-.081106,xc=893e-6,wc=.003796,Ac=yr(3)/2,Cm=12;function Sc(t,e){var r=Lr(Ac*Oe(e)),a=r*r,o=a*a*a;return[t*Be(r)/(Ac*(Bo+3*qu*a+o*(7*xc+9*wc*a))),r*(Bo+qu*a+o*(xc+wc*a))]}Sc.invert=function(t,e){for(var r=e,a=r*r,o=a*a*a,l=0,f,h,g;l<Cm&&(h=r*(Bo+qu*a+o*(xc+wc*a))-e,g=Bo+3*qu*a+o*(7*xc+9*wc*a),r-=f=h/g,a=r*r,o=a*a*a,!(Tn(f)<jl));++l);return[Ac*t*(Bo+3*qu*a+o*(7*xc+9*wc*a))/Be(r),Lr(Oe(r)/Ac)]};function xh(){return ya(Sc).scale(177.158)}function wh(t,e){var r=Be(e),a=Be(t)*r;return[r*Oe(t)/a,Oe(e)/a]}wh.invert=eo(ko);function Og(){return ya(wh).scale(144.049).clipAngle(60)}function Ah(){var t=1,e=0,r=0,a=1,o=1,l=0,f,h,g=null,_,m,w,x=1,S=1,D=pc({point:function(z,rt){var ot=F([z,rt]);this.stream.point(ot[0],ot[1])}}),L=uc,O,N;function W(){return x=t*a,S=t*o,O=N=null,F}function F(z){var rt=z[0]*x,ot=z[1]*S;if(l){var Bt=ot*f-rt*h;rt=rt*f+ot*h,ot=Bt}return[rt+e,ot+r]}return F.invert=function(z){var rt=z[0]-e,ot=z[1]-r;if(l){var Bt=ot*f+rt*h;rt=rt*f-ot*h,ot=Bt}return[rt/x,ot/S]},F.stream=function(z){return O&&N===z?O:O=D(L(N=z))},F.postclip=function(z){return arguments.length?(L=z,g=_=m=w=null,W()):L},F.clipExtent=function(z){return arguments.length?(L=z==null?(g=_=m=w=null,uc):ic(g=+z[0][0],_=+z[0][1],m=+z[1][0],w=+z[1][1]),W()):g==null?null:[[g,_],[m,w]]},F.scale=function(z){return arguments.length?(t=+z,W()):t},F.translate=function(z){return arguments.length?(e=+z[0],r=+z[1],W()):[e,r]},F.angle=function(z){return arguments.length?(l=z%360*$e,h=Oe(l),f=Be(l),W()):l*Xn},F.reflectX=function(z){return arguments.length?(a=z?-1:1,W()):a<0},F.reflectY=function(z){return arguments.length?(o=z?-1:1,W()):o<0},F.fitExtent=function(z,rt){return gh(F,z,rt)},F.fitSize=function(z,rt){return Ag(F,z,rt)},F.fitWidth=function(z,rt){return ph(F,z,rt)},F.fitHeight=function(z,rt){return Sg(F,z,rt)},F}function Zu(t,e){var r=e*e,a=r*r;return[t*(.8707-.131979*r+a*(-.013791+a*(.003971*r-.001529*a))),e*(1.007226+r*(.015085+a*(-.044475+.028874*r-.005916*a)))]}Zu.invert=function(t,e){var r=e,a=25,o;do{var l=r*r,f=l*l;r-=o=(r*(1.007226+l*(.015085+f*(-.044475+.028874*l-.005916*f)))-e)/(1.007226+l*(.015085*3+f*(-.044475*7+.028874*9*l-.005916*11*f)))}while(Tn(o)>qe&&--a>0);return[t/(.8707+(l=r*r)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),r]};function Rg(){return ya(Zu).scale(175.295)}function na(t,e){return[Be(e)*Oe(t),Oe(e)]}na.invert=eo(Lr);function va(){return ya(na).scale(249.5).clipAngle(90+qe)}function Eg(t,e){var r=Be(e),a=1+Be(t)*r;return[r*Oe(t)/a,Oe(e)/a]}Eg.invert=eo(function(t){return 2*ko(t)});function ux(){return ya(Eg).scale(250).clipAngle(142)}function Dg(t,e){return[js(Iu((mr+e)/2)),-t]}Dg.invert=function(t,e){return[-e,2*ko(Zd(t))-mr]};function no(){var t=vh(Dg),e=t.center,r=t.rotate;return t.center=function(a){return arguments.length?e([-a[1],a[0]]):(a=e(),[a[1],-a[0]])},t.rotate=function(a){return arguments.length?r([a[0],a[1],a.length>2?a[2]+90:90]):(a=r(),[a[0],a[1],a[2]-90])},r([0,0,90]).scale(159.155)}function Mm(t,e){return t.parent===e.parent?1:2}function Pg(t){return t.reduce(Tm,0)/t.length}function Tm(t,e){return t+e.x}function Sh(t){return 1+t.reduce(lx,0)}function lx(t,e){return Math.max(t,e.y)}function cx(t){for(var e;e=t.children;)t=e[0];return t}function Om(t){for(var e;e=t.children;)t=e[e.length-1];return t}function fx(){var t=Mm,e=1,r=1,a=!1;function o(l){var f,h=0;l.eachAfter(function(x){var S=x.children;S?(x.x=Pg(S),x.y=Sh(S)):(x.x=f?h+=t(x,f):0,x.y=0,f=x)});var g=cx(l),_=Om(l),m=g.x-t(g,_)/2,w=_.x+t(_,g)/2;return l.eachAfter(a?function(x){x.x=(x.x-l.x)*e,x.y=(l.y-x.y)*r}:function(x){x.x=(x.x-m)/(w-m)*e,x.y=(1-(l.y?x.y/l.y:1))*r})}return o.separation=function(l){return arguments.length?(t=l,o):t},o.size=function(l){return arguments.length?(a=!1,e=+l[0],r=+l[1],o):a?null:[e,r]},o.nodeSize=function(l){return arguments.length?(a=!0,e=+l[0],r=+l[1],o):a?[e,r]:null},o}var hx=K(32059);function dx(t){var e=0,r=t.children,a=r&&r.length;if(!a)e=1;else for(;--a>=0;)e+=r[a].value;t.value=e}function gx(){return this.eachAfter(dx)}function px(t,e){var r=-1,a=j(this),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;t.call(e,l,++r,this)}}catch(f){a.e(f)}finally{a.f()}return this}function kg(t,e){for(var r=this,a=[r],o,l,f=-1;r=a.pop();)if(t.call(e,r,++f,this),o=r.children)for(l=o.length-1;l>=0;--l)a.push(o[l]);return this}function Ng(t,e){for(var r=this,a=[r],o=[],l,f,h,g=-1;r=a.pop();)if(o.push(r),l=r.children)for(f=0,h=l.length;f<h;++f)a.push(l[f]);for(;r=o.pop();)t.call(e,r,++g,this);return this}function Rm(t,e){var r=-1,a=j(this),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;if(t.call(e,l,++r,this))return l}}catch(f){a.e(f)}finally{a.f()}}function Cc(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,a=e.children,o=a&&a.length;--o>=0;)r+=a[o].value;e.value=r})}function Mc(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Ch(t){for(var e=this,r=Ku(e,t),a=[e];e!==r;)e=e.parent,a.push(e);for(var o=a.length;t!==r;)a.splice(o,0,t),t=t.parent;return a}function Ku(t,e){if(t===e)return t;var r=t.ancestors(),a=e.ancestors(),o=null;for(t=r.pop(),e=a.pop();t===e;)o=t,t=r.pop(),e=a.pop();return o}function Tc(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Ga(){return Array.from(this)}function _x(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function mx(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}var yx=Tt().mark(Em);function Em(){var t,e,r,a,o,l;return Tt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:t=this,r=[t];case 1:e=r.reverse(),r=[];case 2:if(!(t=e.pop())){h.next=8;break}return h.next=5,t;case 5:if(a=t.children)for(o=0,l=a.length;o<l;++o)r.push(a[o]);h.next=2;break;case 8:if(r.length){h.next=1;break}case 9:case"end":return h.stop()}},yx,this)}function Lg(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Dm)):e===void 0&&(e=bx);for(var r=new Yo(t),a,o=[r],l,f,h,g;a=o.pop();)if((f=e(a.data))&&(g=(f=Array.from(f)).length))for(a.children=f,h=g-1;h>=0;--h)o.push(l=f[h]=new Yo(f[h])),l.parent=a,l.depth=a.depth+1;return r.eachBefore(km)}function vx(){return Lg(this).eachBefore(Pm)}function bx(t){return t.children}function Dm(t){return Array.isArray(t)?t[1]:null}function Pm(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function km(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Yo(t){this.data=t,this.depth=this.height=0,this.parent=null}Yo.prototype=Lg.prototype=(0,hx.Z)({constructor:Yo,count:gx,each:px,eachAfter:Ng,eachBefore:kg,find:Rm,sum:Cc,sort:Mc,path:Ch,ancestors:Tc,descendants:Ga,leaves:_x,links:mx,copy:vx},Symbol.iterator,Em);function Oc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nm(t){for(var e=t.length,r,a;e;)a=Math.random()*e--|0,r=t[e],t[e]=t[a],t[a]=r;return t}function Rc(t){for(var e=0,r=(t=Nm(Array.from(t))).length,a=[],o,l;e<r;)o=t[e],l&&Ci(l,o)?++e:(l=Lm(a=xx(a,o)),e=0);return l}function xx(t,e){var r,a;if(Mh(e,t))return[e];for(r=0;r<t.length;++r)if(Uo(e,t[r])&&Mh(ju(t[r],e),t))return[t[r],e];for(r=0;r<t.length-1;++r)for(a=r+1;a<t.length;++a)if(Uo(ju(t[r],t[a]),e)&&Uo(ju(t[r],e),t[a])&&Uo(ju(t[a],e),t[r])&&Mh(Ig(t[r],t[a],e),t))return[t[r],t[a],e];throw new Error}function Uo(t,e){var r=t.r-e.r,a=e.x-t.x,o=e.y-t.y;return r<0||r*r<a*a+o*o}function Ci(t,e){var r=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,a=e.x-t.x,o=e.y-t.y;return r>0&&r*r>a*a+o*o}function Mh(t,e){for(var r=0;r<e.length;++r)if(!Ci(t,e[r]))return!1;return!0}function Lm(t){switch(t.length){case 1:return zg(t[0]);case 2:return ju(t[0],t[1]);case 3:return Ig(t[0],t[1],t[2])}}function zg(t){return{x:t.x,y:t.y,r:t.r}}function ju(t,e){var r=t.x,a=t.y,o=t.r,l=e.x,f=e.y,h=e.r,g=l-r,_=f-a,m=h-o,w=Math.sqrt(g*g+_*_);return{x:(r+l+g/w*m)/2,y:(a+f+_/w*m)/2,r:(w+o+h)/2}}function Ig(t,e,r){var a=t.x,o=t.y,l=t.r,f=e.x,h=e.y,g=e.r,_=r.x,m=r.y,w=r.r,x=a-f,S=a-_,D=o-h,L=o-m,O=g-l,N=w-l,W=a*a+o*o-l*l,F=W-f*f-h*h+g*g,z=W-_*_-m*m+w*w,rt=S*D-x*L,ot=(D*z-L*F)/(rt*2)-a,Bt=(L*O-D*N)/rt,Ut=(S*F-x*z)/(rt*2)-o,ae=(x*N-S*O)/rt,Mt=Bt*Bt+ae*ae-1,ht=2*(l+ot*Bt+Ut*ae),Qt=ot*ot+Ut*Ut-l*l,Zt=-(Mt?(ht+Math.sqrt(ht*ht-4*Mt*Qt))/(2*Mt):Qt/ht);return{x:a+ot+Bt*Zt,y:o+Ut+ae*Zt,r:Zt}}function zm(t,e,r){var a=t.x-e.x,o,l,f=t.y-e.y,h,g,_=a*a+f*f;_?(l=e.r+r.r,l*=l,g=t.r+r.r,g*=g,l>g?(o=(_+g-l)/(2*_),h=Math.sqrt(Math.max(0,g/_-o*o)),r.x=t.x-o*a-h*f,r.y=t.y-o*f+h*a):(o=(_+l-g)/(2*_),h=Math.sqrt(Math.max(0,l/_-o*o)),r.x=e.x+o*a-h*f,r.y=e.y+o*f+h*a)):(r.x=e.x+r.r,r.y=e.y)}function ba(t,e){var r=t.r+e.r-1e-6,a=e.x-t.x,o=e.y-t.y;return r>0&&r*r>a*a+o*o}function Th(t){var e=t._,r=t.next._,a=e.r+r.r,o=(e.x*r.r+r.x*e.r)/a,l=(e.y*r.r+r.y*e.r)/a;return o*o+l*l}function Ec(t){this._=t,this.next=null,this.previous=null}function Im(t){if(!(o=(t=Oc(t)).length))return 0;var e,r,a,o,l,f,h,g,_,m,w;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;zm(r,e,a=t[2]),e=new Ec(e),r=new Ec(r),a=new Ec(a),e.next=a.previous=r,r.next=e.previous=a,a.next=r.previous=e;t:for(h=3;h<o;++h){zm(e._,r._,a=t[h]),a=new Ec(a),g=r.next,_=e.previous,m=r._.r,w=e._.r;do if(m<=w){if(ba(g._,a._)){r=g,e.next=r,r.previous=e,--h;continue t}m+=g._.r,g=g.next}else{if(ba(_._,a._)){e=_,e.next=r,r.previous=e,--h;continue t}w+=_._.r,_=_.previous}while(g!==_.next);for(a.previous=e,a.next=r,e.next=r.previous=r=a,l=Th(e);(a=a.next)!==r;)(f=Th(a))<l&&(e=a,l=f);r=e.next}for(e=[r._],a=r;(a=a.next)!==r;)e.push(a._);for(a=Rc(e),h=0;h<o;++h)e=t[h],e.x-=a.x,e.y-=a.y;return a.r}function wx(t){return Im(t),t}function Fm(t){return t==null?null:Dc(t)}function Dc(t){if(typeof t!="function")throw new Error;return t}function Wo(){return 0}function Pc(t){return function(){return t}}function Ax(t){return Math.sqrt(t.value)}function Hm(){var t=null,e=1,r=1,a=Wo;function o(l){return l.x=e/2,l.y=r/2,t?l.eachBefore(Fg(t)).eachAfter(Oh(a,.5)).eachBefore(Sx(1)):l.eachBefore(Fg(Ax)).eachAfter(Oh(Wo,1)).eachAfter(Oh(a,l.r/Math.min(e,r))).eachBefore(Sx(Math.min(e,r)/(2*l.r))),l}return o.radius=function(l){return arguments.length?(t=Fm(l),o):t},o.size=function(l){return arguments.length?(e=+l[0],r=+l[1],o):[e,r]},o.padding=function(l){return arguments.length?(a=typeof l=="function"?l:Pc(+l),o):a},o}function Fg(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Oh(t,e){return function(r){if(a=r.children){var a,o,l=a.length,f=t(r)*e||0,h;if(f)for(o=0;o<l;++o)a[o].r+=f;if(h=Im(a),f)for(o=0;o<l;++o)a[o].r-=f;r.r=h+f}}}function Sx(t){return function(e){var r=e.parent;e.r*=t,r&&(e.x=r.x+t*e.x,e.y=r.y+t*e.y)}}function Cx(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function $o(t,e,r,a,o){for(var l=t.children,f,h=-1,g=l.length,_=t.value&&(a-e)/t.value;++h<g;)f=l[h],f.y0=r,f.y1=o,f.x0=e,f.x1=e+=f.value*_}function Hg(){var t=1,e=1,r=0,a=!1;function o(f){var h=f.height+1;return f.x0=f.y0=r,f.x1=t,f.y1=e/h,f.eachBefore(l(e,h)),a&&f.eachBefore(Cx),f}function l(f,h){return function(g){g.children&&$o(g,g.x0,f*(g.depth+1)/h,g.x1,f*(g.depth+2)/h);var _=g.x0,m=g.y0,w=g.x1-r,x=g.y1-r;w<_&&(_=w=(_+w)/2),x<m&&(m=x=(m+x)/2),g.x0=_,g.y0=m,g.x1=w,g.y1=x}}return o.round=function(f){return arguments.length?(a=!!f,o):a},o.size=function(f){return arguments.length?(t=+f[0],e=+f[1],o):[t,e]},o.padding=function(f){return arguments.length?(r=+f,o):r},o}var Mx={depth:-1},Bm={};function Tx(t){return t.id}function Ym(t){return t.parentId}function Ox(){var t=Tx,e=Ym;function r(a){var o=Array.from(a),l=o.length,f,h,g,_,m,w,x,S=new Map;for(h=0;h<l;++h)f=o[h],m=o[h]=new Yo(f),(w=t(f,h,a))!=null&&(w+="")&&(x=m.id=w,S.set(x,S.has(x)?Bm:m)),(w=e(f,h,a))!=null&&(w+="")&&(m.parent=w);for(h=0;h<l;++h)if(m=o[h],w=m.parent){if(_=S.get(w),!_)throw new Error("missing: "+w);if(_===Bm)throw new Error("ambiguous: "+w);_.children?_.children.push(m):_.children=[m],m.parent=_}else{if(g)throw new Error("multiple roots");g=m}if(!g)throw new Error("no root");if(g.parent=Mx,g.eachBefore(function(D){D.depth=D.parent.depth+1,--l}).eachBefore(km),g.parent=null,l>0)throw new Error("cycle");return g}return r.id=function(a){return arguments.length?(t=Dc(a),r):t},r.parentId=function(a){return arguments.length?(e=Dc(a),r):e},r}function Rx(t,e){return t.parent===e.parent?1:2}function Bg(t){var e=t.children;return e?e[0]:t.t}function Yg(t){var e=t.children;return e?e[e.length-1]:t.t}function Ex(t,e,r){var a=r/(e.i-t.i);e.c-=a,e.s+=r,t.c+=a,e.z+=r,e.m+=r}function Dx(t){for(var e=0,r=0,a=t.children,o=a.length,l;--o>=0;)l=a[o],l.z+=e,l.m+=e,e+=l.s+(r+=l.c)}function Px(t,e,r){return t.a.parent===e.parent?t.a:r}function Rh(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Rh.prototype=Object.create(Yo.prototype);function kx(t){for(var e=new Rh(t,0),r,a=[e],o,l,f,h;r=a.pop();)if(l=r._.children)for(r.children=new Array(h=l.length),f=h-1;f>=0;--f)a.push(o=r.children[f]=new Rh(l[f],f)),o.parent=r;return(e.parent=new Rh(null,0)).children=[e],e}function Nx(){var t=Rx,e=1,r=1,a=null;function o(_){var m=kx(_);if(m.eachAfter(l),m.parent.m=-m.z,m.eachBefore(f),a)_.eachBefore(g);else{var w=_,x=_,S=_;_.eachBefore(function(W){W.x<w.x&&(w=W),W.x>x.x&&(x=W),W.depth>S.depth&&(S=W)});var D=w===x?1:t(w,x)/2,L=D-w.x,O=e/(x.x+D+L),N=r/(S.depth||1);_.eachBefore(function(W){W.x=(W.x+L)*O,W.y=W.depth*N})}return _}function l(_){var m=_.children,w=_.parent.children,x=_.i?w[_.i-1]:null;if(m){Dx(_);var S=(m[0].z+m[m.length-1].z)/2;x?(_.z=x.z+t(_._,x._),_.m=_.z-S):_.z=S}else x&&(_.z=x.z+t(_._,x._));_.parent.A=h(_,x,_.parent.A||w[0])}function f(_){_._.x=_.z+_.parent.m,_.m+=_.parent.m}function h(_,m,w){if(m){for(var x=_,S=_,D=m,L=x.parent.children[0],O=x.m,N=S.m,W=D.m,F=L.m,z;D=Yg(D),x=Bg(x),D&&x;)L=Bg(L),S=Yg(S),S.a=_,z=D.z+W-x.z-O+t(D._,x._),z>0&&(Ex(Px(D,_,w),_,z),O+=z,N+=z),W+=D.m,O+=x.m,F+=L.m,N+=S.m;D&&!Yg(S)&&(S.t=D,S.m+=W-N),x&&!Bg(L)&&(L.t=x,L.m+=O-F,w=_)}return w}function g(_){_.x*=e,_.y=_.depth*r}return o.separation=function(_){return arguments.length?(t=_,o):t},o.size=function(_){return arguments.length?(a=!1,e=+_[0],r=+_[1],o):a?null:[e,r]},o.nodeSize=function(_){return arguments.length?(a=!0,e=+_[0],r=+_[1],o):a?[e,r]:null},o}function Eh(t,e,r,a,o){for(var l=t.children,f,h=-1,g=l.length,_=t.value&&(o-r)/t.value;++h<g;)f=l[h],f.x0=e,f.x1=a,f.y0=r,f.y1=r+=f.value*_}var Um=(1+Math.sqrt(5))/2;function Wm(t,e,r,a,o,l){for(var f=[],h=e.children,g,_,m=0,w=0,x=h.length,S,D,L=e.value,O,N,W,F,z,rt,ot;m<x;){S=o-r,D=l-a;do O=h[w++].value;while(!O&&w<x);for(N=W=O,rt=Math.max(D/S,S/D)/(L*t),ot=O*O*rt,z=Math.max(W/ot,ot/N);w<x;++w){if(O+=_=h[w].value,_<N&&(N=_),_>W&&(W=_),ot=O*O*rt,F=Math.max(W/ot,ot/N),F>z){O-=_;break}z=F}f.push(g={value:O,dice:S<D,children:h.slice(m,w)}),g.dice?$o(g,r,a,o,L?a+=D*O/L:l):Eh(g,r,a,L?r+=S*O/L:o,l),L-=O,m=w}return f}var $m=function t(e){function r(a,o,l,f,h){Wm(e,a,o,l,f,h)}return r.ratio=function(a){return t((a=+a)>1?a:1)},r}(Um);function Lx(){var t=$m,e=!1,r=1,a=1,o=[0],l=Wo,f=Wo,h=Wo,g=Wo,_=Wo;function m(x){return x.x0=x.y0=0,x.x1=r,x.y1=a,x.eachBefore(w),o=[0],e&&x.eachBefore(Cx),x}function w(x){var S=o[x.depth],D=x.x0+S,L=x.y0+S,O=x.x1-S,N=x.y1-S;O<D&&(D=O=(D+O)/2),N<L&&(L=N=(L+N)/2),x.x0=D,x.y0=L,x.x1=O,x.y1=N,x.children&&(S=o[x.depth+1]=l(x)/2,D+=_(x)-S,L+=f(x)-S,O-=h(x)-S,N-=g(x)-S,O<D&&(D=O=(D+O)/2),N<L&&(L=N=(L+N)/2),t(x,D,L,O,N))}return m.round=function(x){return arguments.length?(e=!!x,m):e},m.size=function(x){return arguments.length?(r=+x[0],a=+x[1],m):[r,a]},m.tile=function(x){return arguments.length?(t=Dc(x),m):t},m.padding=function(x){return arguments.length?m.paddingInner(x).paddingOuter(x):m.paddingInner()},m.paddingInner=function(x){return arguments.length?(l=typeof x=="function"?x:Pc(+x),m):l},m.paddingOuter=function(x){return arguments.length?m.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):m.paddingTop()},m.paddingTop=function(x){return arguments.length?(f=typeof x=="function"?x:Pc(+x),m):f},m.paddingRight=function(x){return arguments.length?(h=typeof x=="function"?x:Pc(+x),m):h},m.paddingBottom=function(x){return arguments.length?(g=typeof x=="function"?x:Pc(+x),m):g},m.paddingLeft=function(x){return arguments.length?(_=typeof x=="function"?x:Pc(+x),m):_},m}function zx(t,e,r,a,o){var l=t.children,f,h=l.length,g,_=new Array(h+1);for(_[0]=g=f=0;f<h;++f)_[f+1]=g+=l[f].value;m(0,h,t.value,e,r,a,o);function m(w,x,S,D,L,O,N){if(w>=x-1){var W=l[w];W.x0=D,W.y0=L,W.x1=O,W.y1=N;return}for(var F=_[w],z=S/2+F,rt=w+1,ot=x-1;rt<ot;){var Bt=rt+ot>>>1;_[Bt]<z?rt=Bt+1:ot=Bt}z-_[rt-1]<_[rt]-z&&w+1<rt&&--rt;var Ut=_[rt]-F,ae=S-Ut;if(O-D>N-L){var Mt=S?(D*ae+O*Ut)/S:O;m(w,rt,Ut,D,L,Mt,N),m(rt,x,ae,Mt,L,O,N)}else{var ht=S?(L*ae+N*Ut)/S:N;m(w,rt,Ut,D,L,O,ht),m(rt,x,ae,D,ht,O,N)}}}function Ix(t,e,r,a,o){(t.depth&1?Eh:$o)(t,e,r,a,o)}var Fx=function t(e){function r(a,o,l,f,h){if((g=a._squarify)&&g.ratio===e)for(var g,_,m,w,x=-1,S,D=g.length,L=a.value;++x<D;){for(_=g[x],m=_.children,w=_.value=0,S=m.length;w<S;++w)_.value+=m[w].value;_.dice?$o(_,o,l,f,L?l+=(h-l)*_.value/L:h):Eh(_,o,l,L?o+=(f-o)*_.value/L:f,h),L-=_.value}else a._squarify=g=Wm(e,a,o,l,f,h),g.ratio=e}return r.ratio=function(a){return t((a=+a)>1?a:1)},r}(Um);function Hx(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}function Bx(t,e){var r=Xc(+t,+e);return function(a){var o=r(a);return o-360*Math.floor(o/360)}}function Dh(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var Yx=1e-12;function Gm(t){return((t=Math.exp(t))+1/t)/2}function Ux(t){return((t=Math.exp(t))-1/t)/2}function Wx(t){return((t=Math.exp(2*t))-1)/(t+1)}var Xm=function t(e,r,a){function o(l,f){var h=l[0],g=l[1],_=l[2],m=f[0],w=f[1],x=f[2],S=m-h,D=w-g,L=S*S+D*D,O,N;if(L<Yx)N=Math.log(x/_)/e,O=function(Ut){return[h+Ut*S,g+Ut*D,_*Math.exp(e*Ut*N)]};else{var W=Math.sqrt(L),F=(x*x-_*_+a*L)/(2*_*r*W),z=(x*x-_*_-a*L)/(2*x*r*W),rt=Math.log(Math.sqrt(F*F+1)-F),ot=Math.log(Math.sqrt(z*z+1)-z);N=(ot-rt)/e,O=function(Ut){var ae=Ut*N,Mt=Gm(rt),ht=_/(r*W)*(Mt*Wx(e*ae+rt)-Ux(rt));return[h+ht*S,g+ht*D,_*Mt/Gm(e*ae+rt)]}}return O.duration=N*1e3*e/Math.SQRT2,O}return o.rho=function(l){var f=Math.max(.001,+l),h=f*f,g=h*h;return t(f,h,g)},o}(Math.SQRT2,2,4);function Vm(t){return function(e,r){var a=t((e=$c(e)).h,(r=$c(r)).h),o=Er(e.s,r.s),l=Er(e.l,r.l),f=Er(e.opacity,r.opacity);return function(h){return e.h=a(h),e.s=o(h),e.l=l(h),e.opacity=f(h),e+""}}}var $x=Vm(Xc),Gx=Vm(Er);function Xx(t,e){var r=Er((t=gf(t)).l,(e=gf(e)).l),a=Er(t.a,e.a),o=Er(t.b,e.b),l=Er(t.opacity,e.opacity);return function(f){return t.l=r(f),t.a=a(f),t.b=o(f),t.opacity=l(f),t+""}}function qm(t){return function(e,r){var a=t((e=$l(e)).h,(r=$l(r)).h),o=Er(e.c,r.c),l=Er(e.l,r.l),f=Er(e.opacity,r.opacity);return function(h){return e.h=a(h),e.c=o(h),e.l=l(h),e.opacity=f(h),e+""}}}var Vx=qm(Xc),qx=qm(Er);function Zm(t){return function e(r){r=+r;function a(o,l){var f=t((o=Ni(o)).h,(l=Ni(l)).h),h=Er(o.s,l.s),g=Er(o.l,l.l),_=Er(o.opacity,l.opacity);return function(m){return o.h=f(m),o.s=h(m),o.l=g(Math.pow(m,r)),o.opacity=_(m),o+""}}return a.gamma=e,a}(1)}var Km=Zm(Xc),Ph=Zm(Er);function jm(t,e){e===void 0&&(e=t,t=$s);for(var r=0,a=e.length-1,o=e[0],l=new Array(a<0?0:a);r<a;)l[r]=t(o,o=e[++r]);return function(f){var h=Math.max(0,Math.min(a-1,Math.floor(f*=a)));return l[h](f-h)}}function Zx(t,e){for(var r=new Array(e),a=0;a<e;++a)r[a]=t(a/(e-1));return r}function Kx(t){for(var e=-1,r=t.length,a,o=t[r-1],l=0;++e<r;)a=o,o=t[e],l+=a[1]*o[0]-a[0]*o[1];return l/2}function jx(t){for(var e=-1,r=t.length,a=0,o=0,l,f=t[r-1],h,g=0;++e<r;)l=f,f=t[e],g+=h=l[0]*f[1]-f[0]*l[1],a+=(l[0]+f[0])*h,o+=(l[1]+f[1])*h;return g*=3,[a/g,o/g]}function Jx(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(e[1]-t[1])*(r[0]-t[0])}function Qx(t,e){return t[0]-e[0]||t[1]-e[1]}function Jm(t){const e=t.length,r=[0,1];let a=2,o;for(o=2;o<e;++o){for(;a>1&&Jx(t[r[a-2]],t[r[a-1]],t[o])<=0;)--a;r[a++]=o}return r.slice(0,a)}function tw(t){if((r=t.length)<3)return null;var e,r,a=new Array(r),o=new Array(r);for(e=0;e<r;++e)a[e]=[+t[e][0],+t[e][1],e];for(a.sort(Qx),e=0;e<r;++e)o[e]=[a[e][0],-a[e][1]];var l=Jm(a),f=Jm(o),h=f[0]===l[0],g=f[f.length-1]===l[l.length-1],_=[];for(e=l.length-1;e>=0;--e)_.push(t[a[l[e]][2]]);for(e=+h;e<f.length-g;++e)_.push(t[a[f[e]][2]]);return _}function ew(t,e){for(var r=t.length,a=t[r-1],o=e[0],l=e[1],f=a[0],h=a[1],g,_,m=!1,w=0;w<r;++w)a=t[w],g=a[0],_=a[1],_>l!=h>l&&o<(f-g)*(l-_)/(h-_)+g&&(m=!m),f=g,h=_;return m}function nw(t){for(var e=-1,r=t.length,a=t[r-1],o,l,f=a[0],h=a[1],g=0;++e<r;)o=f,l=h,a=t[e],f=a[0],h=a[1],o-=f,l-=h,g+=Math.hypot(o,l);return g}function rw(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return Qm(this.cover(e,r),e,r,t)}function Qm(t,e,r,a){if(isNaN(e)||isNaN(r))return t;var o,l=t._root,f={data:a},h=t._x0,g=t._y0,_=t._x1,m=t._y1,w,x,S,D,L,O,N,W;if(!l)return t._root=f,t;for(;l.length;)if((L=e>=(w=(h+_)/2))?h=w:_=w,(O=r>=(x=(g+m)/2))?g=x:m=x,o=l,!(l=l[N=O<<1|L]))return o[N]=f,t;if(S=+t._x.call(null,l.data),D=+t._y.call(null,l.data),e===S&&r===D)return f.next=l,o?o[N]=f:t._root=f,t;do o=o?o[N]=new Array(4):t._root=new Array(4),(L=e>=(w=(h+_)/2))?h=w:_=w,(O=r>=(x=(g+m)/2))?g=x:m=x;while((N=O<<1|L)==(W=(D>=x)<<1|S>=w));return o[W]=l,o[N]=f,t}function iw(t){var e,r,a=t.length,o,l,f=new Array(a),h=new Array(a),g=Infinity,_=Infinity,m=-Infinity,w=-Infinity;for(r=0;r<a;++r)isNaN(o=+this._x.call(null,e=t[r]))||isNaN(l=+this._y.call(null,e))||(f[r]=o,h[r]=l,o<g&&(g=o),o>m&&(m=o),l<_&&(_=l),l>w&&(w=l));if(g>m||_>w)return this;for(this.cover(g,_).cover(m,w),r=0;r<a;++r)Qm(this,f[r],h[r],t[r]);return this}function aw(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,a=this._y0,o=this._x1,l=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,l=(a=Math.floor(e))+1;else{for(var f=o-r||1,h=this._root,g,_;r>t||t>=o||a>e||e>=l;)switch(_=(e<a)<<1|t<r,g=new Array(4),g[_]=h,h=g,f*=2,_){case 0:o=r+f,l=a+f;break;case 1:r=o-f,l=a+f;break;case 2:o=r+f,a=l-f;break;case 3:r=o-f,a=l-f;break}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=a,this._x1=o,this._y1=l,this}function sw(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function bs(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function yi(t,e,r,a,o){this.node=t,this.x0=e,this.y0=r,this.x1=a,this.y1=o}function ty(t,e,r){var a,o=this._x0,l=this._y0,f,h,g,_,m=this._x1,w=this._y1,x=[],S=this._root,D,L;for(S&&x.push(new yi(S,o,l,m,w)),r==null?r=Infinity:(o=t-r,l=e-r,m=t+r,w=e+r,r*=r);D=x.pop();)if(!(!(S=D.node)||(f=D.x0)>m||(h=D.y0)>w||(g=D.x1)<o||(_=D.y1)<l))if(S.length){var O=(f+g)/2,N=(h+_)/2;x.push(new yi(S[3],O,N,g,_),new yi(S[2],f,N,O,_),new yi(S[1],O,h,g,N),new yi(S[0],f,h,O,N)),(L=(e>=N)<<1|t>=O)&&(D=x[x.length-1],x[x.length-1]=x[x.length-1-L],x[x.length-1-L]=D)}else{var W=t-+this._x.call(null,S.data),F=e-+this._y.call(null,S.data),z=W*W+F*F;if(z<r){var rt=Math.sqrt(r=z);o=t-rt,l=e-rt,m=t+rt,w=e+rt,a=S.data}}return a}function xs(t){if(isNaN(m=+this._x.call(null,t))||isNaN(w=+this._y.call(null,t)))return this;var e,r=this._root,a,o,l,f=this._x0,h=this._y0,g=this._x1,_=this._y1,m,w,x,S,D,L,O,N;if(!r)return this;if(r.length)for(;;){if((D=m>=(x=(f+g)/2))?f=x:g=x,(L=w>=(S=(h+_)/2))?h=S:_=S,e=r,!(r=r[O=L<<1|D]))return this;if(!r.length)break;(e[O+1&3]||e[O+2&3]||e[O+3&3])&&(a=e,N=O)}for(;r.data!==t;)if(o=r,!(r=r.next))return this;return(l=r.next)&&delete r.next,o?(l?o.next=l:delete o.next,this):e?(l?e[O]=l:delete e[O],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(a?a[N]=r:this._root=r),this):(this._root=l,this)}function F2(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function H2(){return this._root}function ow(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function uw(t){var e=[],r,a=this._root,o,l,f,h,g;for(a&&e.push(new yi(a,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(a=r.node,l=r.x0,f=r.y0,h=r.x1,g=r.y1)&&a.length){var _=(l+h)/2,m=(f+g)/2;(o=a[3])&&e.push(new yi(o,_,m,h,g)),(o=a[2])&&e.push(new yi(o,l,m,_,g)),(o=a[1])&&e.push(new yi(o,_,f,h,m)),(o=a[0])&&e.push(new yi(o,l,f,_,m))}return this}function lw(t){var e=[],r=[],a;for(this._root&&e.push(new yi(this._root,this._x0,this._y0,this._x1,this._y1));a=e.pop();){var o=a.node;if(o.length){var l,f=a.x0,h=a.y0,g=a.x1,_=a.y1,m=(f+g)/2,w=(h+_)/2;(l=o[0])&&e.push(new yi(l,f,h,m,w)),(l=o[1])&&e.push(new yi(l,m,h,g,w)),(l=o[2])&&e.push(new yi(l,f,w,m,_)),(l=o[3])&&e.push(new yi(l,m,w,g,_))}r.push(a)}for(;a=r.pop();)t(a.node,a.x0,a.y0,a.x1,a.y1);return this}function cw(t){return t[0]}function Ju(t){return arguments.length?(this._x=t,this):this._x}function fw(t){return t[1]}function hw(t){return arguments.length?(this._y=t,this):this._y}function ey(t,e,r){var a=new Ug(e==null?cw:e,r==null?fw:r,NaN,NaN,NaN,NaN);return t==null?a:a.addAll(t)}function Ug(t,e,r,a,o,l){this._x=t,this._y=e,this._x0=r,this._y0=a,this._x1=o,this._y1=l,this._root=void 0}function Wg(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var vi=ey.prototype=Ug.prototype;vi.copy=function(){var t=new Ug(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,a;if(!e)return t;if(!e.length)return t._root=Wg(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var o=0;o<4;++o)(a=e.source[o])&&(a.length?r.push({source:a,target:e.target[o]=new Array(4)}):e.target[o]=Wg(a));return t},vi.add=rw,vi.addAll=iw,vi.cover=aw,vi.data=sw,vi.extent=bs,vi.find=ty,vi.remove=xs,vi.removeAll=F2,vi.root=H2,vi.size=ow,vi.visit=uw,vi.visitAfter=lw,vi.x=Ju,vi.y=hw;var qr=Math.random,dw=function t(e){function r(a,o){return a=a==null?0:+a,o=o==null?1:+o,arguments.length===1?(o=a,a=0):o-=a,function(){return e()*o+a}}return r.source=t,r}(qr),B2=function t(e){function r(a,o){return arguments.length<2&&(o=a,a=0),a=Math.floor(a),o=Math.floor(o)-a,function(){return Math.floor(e()*o+a)}}return r.source=t,r}(qr),fr=function t(e){function r(a,o){var l,f;return a=a==null?0:+a,o=o==null?1:+o,function(){var h;if(l!=null)h=l,l=null;else do l=e()*2-1,h=e()*2-1,f=l*l+h*h;while(!f||f>1);return a+o*h*Math.sqrt(-2*Math.log(f)/f)}}return r.source=t,r}(qr),gw=function t(e){var r=fr.source(e);function a(){var o=r.apply(this,arguments);return function(){return Math.exp(o())}}return a.source=t,a}(qr),ny=function t(e){function r(a){return(a=+a)<=0?()=>0:function(){for(var o=0,l=a;l>1;--l)o+=e();return o+l*e()}}return r.source=t,r}(qr),pw=function t(e){var r=ny.source(e);function a(o){if((o=+o)==0)return e;var l=r(o);return function(){return l()/o}}return a.source=t,a}(qr),_w=function t(e){function r(a){return function(){return-Math.log1p(-e())/a}}return r.source=t,r}(qr),$g=function t(e){function r(a){if((a=+a)<0)throw new RangeError("invalid alpha");return a=1/-a,function(){return Math.pow(1-e(),a)}}return r.source=t,r}(qr),ry=function t(e){function r(a){if((a=+a)<0||a>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+a)}}return r.source=t,r}(qr),iy=function t(e){function r(a){if((a=+a)<0||a>1)throw new RangeError("invalid p");return a===0?()=>Infinity:a===1?()=>1:(a=Math.log1p(-a),function(){return 1+Math.floor(Math.log1p(-e())/a)})}return r.source=t,r}(qr),Gg=function t(e){var r=fr.source(e)();function a(o,l){if((o=+o)<0)throw new RangeError("invalid k");if(o===0)return()=>0;if(l=l==null?1:+l,o===1)return()=>-Math.log1p(-e())*l;var f=(o<1?o+1:o)-1/3,h=1/(3*Math.sqrt(f)),g=o<1?()=>Math.pow(e(),1/o):()=>1;return function(){do{do var _=r(),m=1+h*_;while(m<=0);m*=m*m;var w=1-e()}while(w>=1-.0331*_*_*_*_&&Math.log(w)>=.5*_*_+f*(1-m+Math.log(m)));return f*m*g()*l}}return a.source=t,a}(qr),ay=function t(e){var r=Gg.source(e);function a(o,l){var f=r(o),h=r(l);return function(){var g=f();return g===0?0:g/(g+h())}}return a.source=t,a}(qr),sy=function t(e){var r=iy.source(e),a=ay.source(e);function o(l,f){return l=+l,(f=+f)>=1?()=>l:f<=0?()=>0:function(){for(var h=0,g=l,_=f;g*_>16&&g*(1-_)>16;){var m=Math.floor((g+1)*_),w=a(m,g-m+1)();w<=_?(h+=m,g-=m,_=(_-w)/(1-w)):(g=m-1,_/=w)}for(var x=_<.5,S=x?_:1-_,D=r(S),L=D(),O=0;L<=g;++O)L+=D();return h+(x?O:g-O)}}return o.source=t,o}(qr),mw=function t(e){function r(a,o,l){var f;return(a=+a)==0?f=h=>-Math.log(h):(a=1/a,f=h=>Math.pow(h,a)),o=o==null?0:+o,l=l==null?1:+l,function(){return o+l*f(-Math.log1p(-e()))}}return r.source=t,r}(qr),Qu=function t(e){function r(a,o){return a=a==null?0:+a,o=o==null?1:+o,function(){return a+o*Math.tan(Math.PI*e())}}return r.source=t,r}(qr),yw=function t(e){function r(a,o){return a=a==null?0:+a,o=o==null?1:+o,function(){var l=e();return a+o*Math.log(l/(1-l))}}return r.source=t,r}(qr),vw=function t(e){var r=Gg.source(e),a=sy.source(e);function o(l){return function(){for(var f=0,h=l;h>16;){var g=Math.floor(.875*h),_=r(g)();if(_>h)return f+a(g-1,h/_)();f+=g,h-=_}for(var m=-Math.log1p(-e()),w=0;m<=h;++w)m-=Math.log1p(-e());return f+w}}return o.source=t,o}(qr);const bw=1664525,xw=1013904223,Xg=1/4294967296;function oy(t=Math.random()){let e=(0<=t&&t<1?t/Xg:Math.abs(t))|0;return()=>(e=bw*e+xw|0,Xg*(e>>>0))}function Hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ws(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Vg=Symbol("implicit");function qg(){var t=new Map,e=[],r=[],a=Vg;function o(l){var f=l+"",h=t.get(f);if(!h){if(a!==Vg)return a;t.set(f,h=e.push(l))}return r[(h-1)%r.length]}return o.domain=function(l){if(!arguments.length)return e.slice();e=[],t=new Map;for(const f of l){const h=f+"";t.has(h)||t.set(h,e.push(f))}return o},o.range=function(l){return arguments.length?(r=Array.from(l),o):r.slice()},o.unknown=function(l){return arguments.length?(a=l,o):a},o.copy=function(){return qg(e,r).unknown(a)},Hi.apply(o,arguments),o}function kh(){var t=qg().unknown(void 0),e=t.domain,r=t.range,a=0,o=1,l,f,h=!1,g=0,_=0,m=.5;delete t.unknown;function w(){var x=e().length,S=o<a,D=S?o:a,L=S?a:o;l=(L-D)/Math.max(1,x-g+_*2),h&&(l=Math.floor(l)),D+=(L-D-l*(x-g))*m,f=l*(1-g),h&&(D=Math.round(D),f=Math.round(f));var O=Jr(x).map(function(N){return D+l*N});return r(S?O.reverse():O)}return t.domain=function(x){return arguments.length?(e(x),w()):e()},t.range=function(x){return arguments.length?([a,o]=x,a=+a,o=+o,w()):[a,o]},t.rangeRound=function(x){return[a,o]=x,a=+a,o=+o,h=!0,w()},t.bandwidth=function(){return f},t.step=function(){return l},t.round=function(x){return arguments.length?(h=!!x,w()):h},t.padding=function(x){return arguments.length?(g=Math.min(1,_=+x),w()):g},t.paddingInner=function(x){return arguments.length?(g=Math.min(1,x),w()):g},t.paddingOuter=function(x){return arguments.length?(_=+x,w()):_},t.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),w()):m},t.copy=function(){return kh(e(),[a,o]).round(h).paddingInner(g).paddingOuter(_).align(m)},Hi.apply(w(),arguments)}function uy(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uy(e())},t}function ww(){return uy(kh.apply(null,arguments).paddingInner(1))}function Aw(t){return function(){return t}}function Nh(t){return+t}var Zg=[0,1];function bi(t){return t}function Kg(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Aw(isNaN(e)?NaN:.5)}function Sw(t,e){var r;return t>e&&(r=t,t=e,e=r),function(a){return Math.max(t,Math.min(e,a))}}function ly(t,e,r){var a=t[0],o=t[1],l=e[0],f=e[1];return o<a?(a=Kg(o,a),l=r(f,l)):(a=Kg(a,o),l=r(l,f)),function(h){return l(a(h))}}function Cw(t,e,r){var a=Math.min(t.length,e.length)-1,o=new Array(a),l=new Array(a),f=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<a;)o[f]=Kg(t[f],t[f+1]),l[f]=r(e[f],e[f+1]);return function(h){var g=Ct(t,h,1,a)-1;return l[g](o[g](h))}}function kc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hr(){var t=Zg,e=Zg,r=$s,a,o,l,f=bi,h,g,_;function m(){var x=Math.min(t.length,e.length);return f!==bi&&(f=Sw(t[0],t[x-1])),h=x>2?Cw:ly,g=_=null,w}function w(x){return x==null||isNaN(x=+x)?l:(g||(g=h(t.map(a),e,r)))(a(f(x)))}return w.invert=function(x){return f(o((_||(_=h(e,t.map(a),Qi)))(x)))},w.domain=function(x){return arguments.length?(t=Array.from(x,Nh),m()):t.slice()},w.range=function(x){return arguments.length?(e=Array.from(x),m()):e.slice()},w.rangeRound=function(x){return e=Array.from(x),r=Dh,m()},w.clamp=function(x){return arguments.length?(f=x?!0:bi,m()):f!==bi},w.interpolate=function(x){return arguments.length?(r=x,m()):r},w.unknown=function(x){return arguments.length?(l=x,w):l},function(x,S){return a=x,o=S,m()}}function jg(){return hr()(bi,bi)}function Jg(t,e,r,a){var o=aa(t,e,r),l;switch(a=Zl(a==null?",f":a),a.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(e));return a.precision==null&&!isNaN(l=qd(o,f))&&(a.precision=l),Vd(a,f)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(l=S_(o,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=l-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(l=A_(o))&&(a.precision=l-(a.type==="%")*2);break}}return Nf(a)}function As(t){var e=t.domain;return t.ticks=function(r){var a=e();return Sa(a[0],a[a.length-1],r==null?10:r)},t.tickFormat=function(r,a){var o=e();return Jg(o[0],o[o.length-1],r==null?10:r,a)},t.nice=function(r){r==null&&(r=10);var a=e(),o=0,l=a.length-1,f=a[o],h=a[l],g,_,m=10;for(h<f&&(_=f,f=h,h=_,_=o,o=l,l=_);m-- >0;){if(_=ia(f,h,r),_===g)return a[o]=f,a[l]=h,e(a);if(_>0)f=Math.floor(f/_)*_,h=Math.ceil(h/_)*_;else if(_<0)f=Math.ceil(f*_)/_,h=Math.floor(h*_)/_;else break;g=_}return t},t}function cy(){var t=jg();return t.copy=function(){return kc(t,cy())},Hi.apply(t,arguments),As(t)}function fy(t){var e;function r(a){return a==null||isNaN(a=+a)?e:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(t=Array.from(a,Nh),r):t.slice()},r.unknown=function(a){return arguments.length?(e=a,r):e},r.copy=function(){return fy(t).unknown(e)},t=arguments.length?Array.from(t,Nh):[0,1],As(r)}function hy(t,e){t=t.slice();var r=0,a=t.length-1,o=t[r],l=t[a],f;return l<o&&(f=r,r=a,a=f,f=o,o=l,l=f),t[r]=e.floor(o),t[a]=e.ceil(l),t}function Mw(t){return Math.log(t)}function dy(t){return Math.exp(t)}function Y2(t){return-Math.log(-t)}function U2(t){return-Math.exp(-t)}function Tw(t){return isFinite(t)?+("1e"+t):t<0?0:t}function W2(t){return t===10?Tw:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function $2(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Ow(t){return function(e){return-t(-e)}}function gy(t){var e=t(Mw,dy),r=e.domain,a=10,o,l;function f(){return o=$2(a),l=W2(a),r()[0]<0?(o=Ow(o),l=Ow(l),t(Y2,U2)):t(Mw,dy),e}return e.base=function(h){return arguments.length?(a=+h,f()):a},e.domain=function(h){return arguments.length?(r(h),f()):r()},e.ticks=function(h){var g=r(),_=g[0],m=g[g.length-1],w;(w=m<_)&&(x=_,_=m,m=x);var x=o(_),S=o(m),D,L,O,N=h==null?10:+h,W=[];if(!(a%1)&&S-x<N){if(x=Math.floor(x),S=Math.ceil(S),_>0){for(;x<=S;++x)for(L=1,D=l(x);L<a;++L)if(O=D*L,!(O<_)){if(O>m)break;W.push(O)}}else for(;x<=S;++x)for(L=a-1,D=l(x);L>=1;--L)if(O=D*L,!(O<_)){if(O>m)break;W.push(O)}W.length*2<N&&(W=Sa(_,m,N))}else W=Sa(x,S,Math.min(S-x,N)).map(l);return w?W.reverse():W},e.tickFormat=function(h,g){if(g==null&&(g=a===10?".0e":","),typeof g!="function"&&(g=Nf(g)),h===Infinity)return g;h==null&&(h=10);var _=Math.max(1,a*h/e.ticks().length);return function(m){var w=m/l(Math.round(o(m)));return w*a<a-.5&&(w*=a),w<=_?g(m):""}},e.nice=function(){return r(hy(r(),{floor:function(h){return l(Math.floor(o(h)))},ceil:function(h){return l(Math.ceil(o(h)))}}))},e}function Rw(){var t=gy(hr()).domain([1,10]);return t.copy=function(){return kc(t,Rw()).base(t.base())},Hi.apply(t,arguments),t}function Ew(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Dw(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function py(t){var e=1,r=t(Ew(e),Dw(e));return r.constant=function(a){return arguments.length?t(Ew(e=+a),Dw(e)):e},As(r)}function Pw(){var t=py(hr());return t.copy=function(){return kc(t,Pw()).constant(t.constant())},Hi.apply(t,arguments)}function kw(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function G2(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function X2(t){return t<0?-t*t:t*t}function _y(t){var e=t(bi,bi),r=1;function a(){return r===1?t(bi,bi):r===.5?t(G2,X2):t(kw(r),kw(1/r))}return e.exponent=function(o){return arguments.length?(r=+o,a()):r},As(e)}function my(){var t=_y(hr());return t.copy=function(){return kc(t,my()).exponent(t.exponent())},Hi.apply(t,arguments),t}function V2(){return my.apply(null,arguments).exponent(.5)}function Nw(t){return Math.sign(t)*t*t}function Lw(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Qg(){var t=jg(),e=[0,1],r=!1,a;function o(l){var f=Lw(t(l));return isNaN(f)?a:r?Math.round(f):f}return o.invert=function(l){return t.invert(Nw(l))},o.domain=function(l){return arguments.length?(t.domain(l),o):t.domain()},o.range=function(l){return arguments.length?(t.range((e=Array.from(l,Nh)).map(Nw)),o):e.slice()},o.rangeRound=function(l){return o.range(l).round(!0)},o.round=function(l){return arguments.length?(r=!!l,o):r},o.clamp=function(l){return arguments.length?(t.clamp(l),o):t.clamp()},o.unknown=function(l){return arguments.length?(a=l,o):a},o.copy=function(){return Qg(t.domain(),e).round(r).clamp(t.clamp()).unknown(a)},Hi.apply(o,arguments),As(o)}function yy(){var t=[],e=[],r=[],a;function o(){var f=0,h=Math.max(1,e.length);for(r=new Array(h-1);++f<h;)r[f-1]=Ko(t,f/h);return l}function l(f){return f==null||isNaN(f=+f)?a:e[Ct(r,f)]}return l.invertExtent=function(f){var h=e.indexOf(f);return h<0?[NaN,NaN]:[h>0?r[h-1]:t[0],h<r.length?r[h]:t[t.length-1]]},l.domain=function(f){if(!arguments.length)return t.slice();t=[];for(let h of f)h!=null&&!isNaN(h=+h)&&t.push(h);return t.sort(Jt),o()},l.range=function(f){return arguments.length?(e=Array.from(f),o()):e.slice()},l.unknown=function(f){return arguments.length?(a=f,l):a},l.quantiles=function(){return r.slice()},l.copy=function(){return yy().domain(t).range(e).unknown(a)},Hi.apply(l,arguments)}function zw(){var t=0,e=1,r=1,a=[.5],o=[0,1],l;function f(g){return g!=null&&g<=g?o[Ct(a,g,0,r)]:l}function h(){var g=-1;for(a=new Array(r);++g<r;)a[g]=((g+1)*e-(g-r)*t)/(r+1);return f}return f.domain=function(g){return arguments.length?([t,e]=g,t=+t,e=+e,h()):[t,e]},f.range=function(g){return arguments.length?(r=(o=Array.from(g)).length-1,h()):o.slice()},f.invertExtent=function(g){var _=o.indexOf(g);return _<0?[NaN,NaN]:_<1?[t,a[0]]:_>=r?[a[r-1],e]:[a[_-1],a[_]]},f.unknown=function(g){return arguments.length&&(l=g),f},f.thresholds=function(){return a.slice()},f.copy=function(){return zw().domain([t,e]).range(o).unknown(l)},Hi.apply(As(f),arguments)}function vy(){var t=[.5],e=[0,1],r,a=1;function o(l){return l!=null&&l<=l?e[Ct(t,l,0,a)]:r}return o.domain=function(l){return arguments.length?(t=Array.from(l),a=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(l){return arguments.length?(e=Array.from(l),a=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(l){var f=e.indexOf(l);return[t[f-1],t[f]]},o.unknown=function(l){return arguments.length?(r=l,o):r},o.copy=function(){return vy().domain(t).range(e).unknown(r)},Hi.apply(o,arguments)}const xa=1e3,wa=xa*60,Ss=wa*60,tl=Ss*24,t0=tl*7,Iw=tl*30,el=tl*365;var e0=new Date,n0=new Date;function Ar(t,e,r,a){function o(l){return t(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=function(l){return t(l=new Date(+l)),l},o.ceil=function(l){return t(l=new Date(l-1)),e(l,1),t(l),l},o.round=function(l){var f=o(l),h=o.ceil(l);return l-f<h-l?f:h},o.offset=function(l,f){return e(l=new Date(+l),f==null?1:Math.floor(f)),l},o.range=function(l,f,h){var g=[],_;if(l=o.ceil(l),h=h==null?1:Math.floor(h),!(l<f)||!(h>0))return g;do g.push(_=new Date(+l)),e(l,h),t(l);while(_<l&&l<f);return g},o.filter=function(l){return Ar(function(f){if(f>=f)for(;t(f),!l(f);)f.setTime(f-1)},function(f,h){if(f>=f)if(h<0)for(;++h<=0;)for(;e(f,-1),!l(f););else for(;--h>=0;)for(;e(f,1),!l(f););})},r&&(o.count=function(l,f){return e0.setTime(+l),n0.setTime(+f),t(e0),t(n0),Math.floor(r(e0,n0))},o.every=function(l){return l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(a?function(f){return a(f)%l==0}:function(f){return o.count(0,f)%l==0}):o}),o}var ar=Ar(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ar.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ar(function(e){e.setTime(Math.floor(e/t)*t)},function(e,r){e.setTime(+e+r*t)},function(e,r){return(r-e)/t}):ar};var r0=ar,by=ar.range,xy=Ar(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*xa)},function(t,e){return(e-t)/xa},function(t){return t.getUTCSeconds()}),Xa=xy,wy=xy.range,Ay=Ar(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*xa)},function(t,e){t.setTime(+t+e*wa)},function(t,e){return(e-t)/wa},function(t){return t.getMinutes()}),Lh=Ay,Fw=Ay.range,zh=Ar(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*xa-t.getMinutes()*wa)},function(t,e){t.setTime(+t+e*Ss)},function(t,e){return(e-t)/Ss},function(t){return t.getHours()}),i0=zh,Hw=zh.range,Sy=Ar(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wa)/tl,t=>t.getDate()-1),n=Sy,i=Sy.range;function u(t){return Ar(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,r){e.setDate(e.getDate()+r*7)},function(e,r){return(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*wa)/t0})}var c=u(0),p=u(1),y=u(2),v=u(3),A=u(4),C=u(5),R=u(6),P=c.range,et=p.range,at=y.range,vt=v.range,we=A.range,Ie=C.range,ne=R.range,oe=Ar(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),Se=oe,Lt=oe.range,kt=Ar(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});kt.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Ar(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)})};var xe=kt,_e=kt.range,Te=Ar(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*wa)},function(t,e){return(e-t)/wa},function(t){return t.getUTCMinutes()}),Ye=Te,Le=Te.range,bn=Ar(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Ss)},function(t,e){return(e-t)/Ss},function(t){return t.getUTCHours()}),Xe=bn,an=bn.range,un=Ar(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/tl},function(t){return t.getUTCDate()-1}),bt=un,pe=un.range;function Nt(t){return Ar(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r*7)},function(e,r){return(r-e)/t0})}var Kt=Nt(0),ze=Nt(1),ve=Nt(2),Ee=Nt(3),Fe=Nt(4),Ue=Nt(5),Vn=Nt(6),On=Kt.range,Ln=ze.range,Bn=ve.range,Cn=Ee.range,tr=Fe.range,Me=Ue.range,nn=Vn.range,gn=Ar(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),ue=gn,er=gn.range,Pn=Ar(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Pn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Ar(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)})};var sr=Pn,zr=Pn.range;function Ze(t,e,r,a,o,l){const f=[[Xa,1,xa],[Xa,5,5*xa],[Xa,15,15*xa],[Xa,30,30*xa],[l,1,wa],[l,5,5*wa],[l,15,15*wa],[l,30,30*wa],[o,1,Ss],[o,3,3*Ss],[o,6,6*Ss],[o,12,12*Ss],[a,1,tl],[a,2,2*tl],[r,1,t0],[e,1,Iw],[e,3,3*Iw],[t,1,el]];function h(_,m,w){const x=m<_;x&&([_,m]=[m,_]);const S=w&&typeof w.range=="function"?w:g(_,m,w),D=S?S.range(_,+m+1):[];return x?D.reverse():D}function g(_,m,w){const x=Math.abs(m-_)/w,S=zt(([,,O])=>O).right(f,x);if(S===f.length)return t.every(aa(_/el,m/el,w));if(S===0)return r0.every(Math.max(aa(_,m,w),1));const[D,L]=f[x/f[S-1][2]<f[S][2]/x?S-1:S];return D.every(L)}return[h,g]}const[nr,Cs]=Ze(sr,ue,Kt,bt,Xe,Ye),[Aa,Cy]=Ze(xe,Se,c,n,i0,Lh);function a0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function s0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function My(t){var e=t.dateTime,r=t.date,a=t.time,o=t.periods,l=t.days,f=t.shortDays,h=t.months,g=t.shortMonths,_=De(o),m=Pe(o),w=De(l),x=Pe(l),S=De(f),D=Pe(f),L=De(h),O=Pe(h),N=De(g),W=Pe(g),F={a:Wt,A:ce,b:he,B:be,c:null,d:Oy,e:Oy,f:Ae,g:Vo,G:rl,H:Ry,I:Yw,j:Uw,L:l0,m:An,M:In,p:Ne,q:Ve,Q:K2,s:j2,S:Or,u:Mn,U:fn,V:rr,w:Yr,W:Zr,x:null,X:null,y:Kr,Y:Va,Z:Ih,"%":Z2},z={a:$n,A:Sn,b:Zn,B:Ur,c:null,d:io,e:io,f:yS,g:OS,G:ES,H:qo,I:c0,j:Ms,L:f0,m:vS,M:bS,p:Yn,q:si,Q:K2,s:j2,S:xS,u:wS,U:AS,V:SS,w:CS,W:MS,x:null,X:null,y:TS,Y:RS,Z:DS,"%":Z2},rt={a:Mt,A:ht,b:Qt,B:Zt,c:st,d:Go,e:Go,f:Br,g:qn,G:gr,H:Xo,I:Xo,j:Nc,L:xi,m:ro,M:Yi,p:ae,q:Bi,Q:u0,s:Ty,S:Lc,u:Ir,U:Fr,V:Sr,w:or,W:Mi,x:gt,X:pt,y:qn,Y:gr,Z:Hr,"%":Bw};F.x=ot(r,F),F.X=ot(a,F),F.c=ot(e,F),z.x=ot(r,z),z.X=ot(a,z),z.c=ot(e,z);function ot(Ce,cn){return function(kn){var ge=[],Cr=-1,Kn=0,Ui=Ce.length,Wi,hn,Mr;for(kn instanceof Date||(kn=new Date(+kn));++Cr<Ui;)Ce.charCodeAt(Cr)===37&&(ge.push(Ce.slice(Kn,Cr)),(hn=o0[Wi=Ce.charAt(++Cr)])!=null?Wi=Ce.charAt(++Cr):hn=Wi==="e"?" ":"0",(Mr=cn[Wi])&&(Wi=Mr(kn,hn)),ge.push(Wi),Kn=Cr+1);return ge.push(Ce.slice(Kn,Cr)),ge.join("")}}function Bt(Ce,cn){return function(kn){var ge=nl(1900,void 0,1),Cr=Ut(ge,Ce,kn+="",0),Kn,Ui;if(Cr!=kn.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(cn&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Kn=s0(nl(ge.y,0,1)),Ui=Kn.getUTCDay(),Kn=Ui>4||Ui===0?ze.ceil(Kn):ze(Kn),Kn=bt.offset(Kn,(ge.V-1)*7),ge.y=Kn.getUTCFullYear(),ge.m=Kn.getUTCMonth(),ge.d=Kn.getUTCDate()+(ge.w+6)%7):(Kn=a0(nl(ge.y,0,1)),Ui=Kn.getDay(),Kn=Ui>4||Ui===0?p.ceil(Kn):p(Kn),Kn=n.offset(Kn,(ge.V-1)*7),ge.y=Kn.getFullYear(),ge.m=Kn.getMonth(),ge.d=Kn.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Ui="Z"in ge?s0(nl(ge.y,0,1)).getUTCDay():a0(nl(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Ui+5)%7:ge.w+ge.U*7-(Ui+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,s0(ge)):a0(ge)}}function Ut(Ce,cn,kn,ge){for(var Cr=0,Kn=cn.length,Ui=kn.length,Wi,hn;Cr<Kn;){if(ge>=Ui)return-1;if(Wi=cn.charCodeAt(Cr++),Wi===37){if(Wi=cn.charAt(Cr++),hn=rt[Wi in o0?cn.charAt(Cr++):Wi],!hn||(ge=hn(Ce,kn,ge))<0)return-1}else if(Wi!=kn.charCodeAt(ge++))return-1}return ge}function ae(Ce,cn,kn){var ge=_.exec(cn.slice(kn));return ge?(Ce.p=m.get(ge[0].toLowerCase()),kn+ge[0].length):-1}function Mt(Ce,cn,kn){var ge=S.exec(cn.slice(kn));return ge?(Ce.w=D.get(ge[0].toLowerCase()),kn+ge[0].length):-1}function ht(Ce,cn,kn){var ge=w.exec(cn.slice(kn));return ge?(Ce.w=x.get(ge[0].toLowerCase()),kn+ge[0].length):-1}function Qt(Ce,cn,kn){var ge=N.exec(cn.slice(kn));return ge?(Ce.m=W.get(ge[0].toLowerCase()),kn+ge[0].length):-1}function Zt(Ce,cn,kn){var ge=L.exec(cn.slice(kn));return ge?(Ce.m=O.get(ge[0].toLowerCase()),kn+ge[0].length):-1}function st(Ce,cn,kn){return Ut(Ce,e,cn,kn)}function gt(Ce,cn,kn){return Ut(Ce,r,cn,kn)}function pt(Ce,cn,kn){return Ut(Ce,a,cn,kn)}function Wt(Ce){return f[Ce.getDay()]}function ce(Ce){return l[Ce.getDay()]}function he(Ce){return g[Ce.getMonth()]}function be(Ce){return h[Ce.getMonth()]}function Ne(Ce){return o[+(Ce.getHours()>=12)]}function Ve(Ce){return 1+~~(Ce.getMonth()/3)}function $n(Ce){return f[Ce.getUTCDay()]}function Sn(Ce){return l[Ce.getUTCDay()]}function Zn(Ce){return g[Ce.getUTCMonth()]}function Ur(Ce){return h[Ce.getUTCMonth()]}function Yn(Ce){return o[+(Ce.getUTCHours()>=12)]}function si(Ce){return 1+~~(Ce.getUTCMonth()/3)}return{format:function(Ce){var cn=ot(Ce+="",F);return cn.toString=function(){return Ce},cn},parse:function(Ce){var cn=Bt(Ce+="",!1);return cn.toString=function(){return Ce},cn},utcFormat:function(Ce){var cn=ot(Ce+="",z);return cn.toString=function(){return Ce},cn},utcParse:function(Ce){var cn=Bt(Ce+="",!0);return cn.toString=function(){return Ce},cn}}}var o0={"-":"",_:" ","0":"0"},de=/^\s*\d+/,ke=/^%/,jt=/[\\^$*+?|[\]().{}]/g;function xt(t,e,r){var a=t<0?"-":"",o=(a?-t:t)+"",l=o.length;return a+(l<r?new Array(r-l+1).join(e)+o:o)}function ln(t){return t.replace(jt,"\\$&")}function De(t){return new RegExp("^(?:"+t.map(ln).join("|")+")","i")}function Pe(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function or(t,e,r){var a=de.exec(e.slice(r,r+1));return a?(t.w=+a[0],r+a[0].length):-1}function Ir(t,e,r){var a=de.exec(e.slice(r,r+1));return a?(t.u=+a[0],r+a[0].length):-1}function Fr(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.U=+a[0],r+a[0].length):-1}function Sr(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.V=+a[0],r+a[0].length):-1}function Mi(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.W=+a[0],r+a[0].length):-1}function gr(t,e,r){var a=de.exec(e.slice(r,r+4));return a?(t.y=+a[0],r+a[0].length):-1}function qn(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Hr(t,e,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Bi(t,e,r){var a=de.exec(e.slice(r,r+1));return a?(t.q=a[0]*3-3,r+a[0].length):-1}function ro(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.m=a[0]-1,r+a[0].length):-1}function Go(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.d=+a[0],r+a[0].length):-1}function Nc(t,e,r){var a=de.exec(e.slice(r,r+3));return a?(t.m=0,t.d=+a[0],r+a[0].length):-1}function Xo(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.H=+a[0],r+a[0].length):-1}function Yi(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.M=+a[0],r+a[0].length):-1}function Lc(t,e,r){var a=de.exec(e.slice(r,r+2));return a?(t.S=+a[0],r+a[0].length):-1}function xi(t,e,r){var a=de.exec(e.slice(r,r+3));return a?(t.L=+a[0],r+a[0].length):-1}function Br(t,e,r){var a=de.exec(e.slice(r,r+6));return a?(t.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Bw(t,e,r){var a=ke.exec(e.slice(r,r+1));return a?r+a[0].length:-1}function u0(t,e,r){var a=de.exec(e.slice(r));return a?(t.Q=+a[0],r+a[0].length):-1}function Ty(t,e,r){var a=de.exec(e.slice(r));return a?(t.s=+a[0],r+a[0].length):-1}function Oy(t,e){return xt(t.getDate(),e,2)}function Ry(t,e){return xt(t.getHours(),e,2)}function Yw(t,e){return xt(t.getHours()%12||12,e,2)}function Uw(t,e){return xt(1+n.count(xe(t),t),e,3)}function l0(t,e){return xt(t.getMilliseconds(),e,3)}function Ae(t,e){return l0(t,e)+"000"}function An(t,e){return xt(t.getMonth()+1,e,2)}function In(t,e){return xt(t.getMinutes(),e,2)}function Or(t,e){return xt(t.getSeconds(),e,2)}function Mn(t){var e=t.getDay();return e===0?7:e}function fn(t,e){return xt(c.count(xe(t)-1,t),e,2)}function Fn(t){var e=t.getDay();return e>=4||e===0?A(t):A.ceil(t)}function rr(t,e){return t=Fn(t),xt(A.count(xe(t),t)+(xe(t).getDay()===4),e,2)}function Yr(t){return t.getDay()}function Zr(t,e){return xt(p.count(xe(t)-1,t),e,2)}function Kr(t,e){return xt(t.getFullYear()%100,e,2)}function Vo(t,e){return t=Fn(t),xt(t.getFullYear()%100,e,2)}function Va(t,e){return xt(t.getFullYear()%1e4,e,4)}function rl(t,e){var r=t.getDay();return t=r>=4||r===0?A(t):A.ceil(t),xt(t.getFullYear()%1e4,e,4)}function Ih(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function io(t,e){return xt(t.getUTCDate(),e,2)}function qo(t,e){return xt(t.getUTCHours(),e,2)}function c0(t,e){return xt(t.getUTCHours()%12||12,e,2)}function Ms(t,e){return xt(1+bt.count(sr(t),t),e,3)}function f0(t,e){return xt(t.getUTCMilliseconds(),e,3)}function yS(t,e){return f0(t,e)+"000"}function vS(t,e){return xt(t.getUTCMonth()+1,e,2)}function bS(t,e){return xt(t.getUTCMinutes(),e,2)}function xS(t,e){return xt(t.getUTCSeconds(),e,2)}function wS(t){var e=t.getUTCDay();return e===0?7:e}function AS(t,e){return xt(Kt.count(sr(t)-1,t),e,2)}function q2(t){var e=t.getUTCDay();return e>=4||e===0?Fe(t):Fe.ceil(t)}function SS(t,e){return t=q2(t),xt(Fe.count(sr(t),t)+(sr(t).getUTCDay()===4),e,2)}function CS(t){return t.getUTCDay()}function MS(t,e){return xt(ze.count(sr(t)-1,t),e,2)}function TS(t,e){return xt(t.getUTCFullYear()%100,e,2)}function OS(t,e){return t=q2(t),xt(t.getUTCFullYear()%100,e,2)}function RS(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function ES(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Fe(t):Fe.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function DS(){return"+0000"}function Z2(){return"%"}function K2(t){return+t}function j2(t){return Math.floor(+t/1e3)}var Fh,Ww,J2,Ey,$w;Q2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Q2(t){return Fh=My(t),Ww=Fh.format,J2=Fh.parse,Ey=Fh.utcFormat,$w=Fh.utcParse,Fh}function PS(t){return new Date(t)}function kS(t){return t instanceof Date?+t:+new Date(+t)}function Gw(t,e,r,a,o,l,f,h,g,_){var m=jg(),w=m.invert,x=m.domain,S=_(".%L"),D=_(":%S"),L=_("%I:%M"),O=_("%I %p"),N=_("%a %d"),W=_("%b %d"),F=_("%B"),z=_("%Y");function rt(ot){return(g(ot)<ot?S:h(ot)<ot?D:f(ot)<ot?L:l(ot)<ot?O:a(ot)<ot?o(ot)<ot?N:W:r(ot)<ot?F:z)(ot)}return m.invert=function(ot){return new Date(w(ot))},m.domain=function(ot){return arguments.length?x(Array.from(ot,kS)):x().map(PS)},m.ticks=function(ot){var Bt=x();return t(Bt[0],Bt[Bt.length-1],ot==null?10:ot)},m.tickFormat=function(ot,Bt){return Bt==null?rt:_(Bt)},m.nice=function(ot){var Bt=x();return(!ot||typeof ot.range!="function")&&(ot=e(Bt[0],Bt[Bt.length-1],ot==null?10:ot)),ot?x(hy(Bt,ot)):m},m.copy=function(){return kc(m,Gw(t,e,r,a,o,l,f,h,g,_))},m}function NS(){return Hi.apply(Gw(Aa,Cy,xe,Se,c,n,i0,Lh,Xa,Ww).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LS(){return Hi.apply(Gw(nr,Cs,sr,ue,Kt,bt,Xe,Ye,Xa,Ey).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dy(){var t=0,e=1,r,a,o,l,f=bi,h=!1,g;function _(w){return w==null||isNaN(w=+w)?g:f(o===0?.5:(w=(l(w)-r)*o,h?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([t,e]=w,r=l(t=+t),a=l(e=+e),o=r===a?0:1/(a-r),_):[t,e]},_.clamp=function(w){return arguments.length?(h=!!w,_):h},_.interpolator=function(w){return arguments.length?(f=w,_):f};function m(w){return function(x){var S,D;return arguments.length?([S,D]=x,f=w(S,D),_):[f(0),f(1)]}}return _.range=m($s),_.rangeRound=m(Dh),_.unknown=function(w){return arguments.length?(g=w,_):g},function(w){return l=w,r=w(t),a=w(e),o=r===a?0:1/(a-r),_}}function il(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tA(){var t=As(Dy()(bi));return t.copy=function(){return il(t,tA())},ws.apply(t,arguments)}function eA(){var t=gy(Dy()).domain([1,10]);return t.copy=function(){return il(t,eA()).base(t.base())},ws.apply(t,arguments)}function nA(){var t=py(Dy());return t.copy=function(){return il(t,nA()).constant(t.constant())},ws.apply(t,arguments)}function Xw(){var t=_y(Dy());return t.copy=function(){return il(t,Xw()).exponent(t.exponent())},ws.apply(t,arguments)}function zS(){return Xw.apply(null,arguments).exponent(.5)}function rA(){var t=[],e=bi;function r(a){if(a!=null&&!isNaN(a=+a))return e((Ct(t,a,1)-1)/(t.length-1))}return r.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Jt),r},r.interpolator=function(a){return arguments.length?(e=a,r):e},r.range=function(){return t.map((a,o)=>e(o/(t.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(o,l)=>Ta(t,l/a))},r.copy=function(){return rA(e).domain(t)},ws.apply(r,arguments)}function Py(){var t=0,e=.5,r=1,a=1,o,l,f,h,g,_=bi,m,w=!1,x;function S(L){return isNaN(L=+L)?x:(L=.5+((L=+m(L))-l)*(a*L<a*l?h:g),_(w?Math.max(0,Math.min(1,L)):L))}S.domain=function(L){return arguments.length?([t,e,r]=L,o=m(t=+t),l=m(e=+e),f=m(r=+r),h=o===l?0:.5/(l-o),g=l===f?0:.5/(f-l),a=l<o?-1:1,S):[t,e,r]},S.clamp=function(L){return arguments.length?(w=!!L,S):w},S.interpolator=function(L){return arguments.length?(_=L,S):_};function D(L){return function(O){var N,W,F;return arguments.length?([N,W,F]=O,_=jm(L,[N,W,F]),S):[_(0),_(.5),_(1)]}}return S.range=D($s),S.rangeRound=D(Dh),S.unknown=function(L){return arguments.length?(x=L,S):x},function(L){return m=L,o=L(t),l=L(e),f=L(r),h=o===l?0:.5/(l-o),g=l===f?0:.5/(f-l),a=l<o?-1:1,S}}function iA(){var t=As(Py()(bi));return t.copy=function(){return il(t,iA())},ws.apply(t,arguments)}function aA(){var t=gy(Py()).domain([.1,1,10]);return t.copy=function(){return il(t,aA()).base(t.base())},ws.apply(t,arguments)}function sA(){var t=py(Py());return t.copy=function(){return il(t,sA()).constant(t.constant())},ws.apply(t,arguments)}function Vw(){var t=_y(Py());return t.copy=function(){return il(t,Vw()).exponent(t.exponent())},ws.apply(t,arguments)}function IS(){return Vw.apply(null,arguments).exponent(.5)}function vn(t){for(var e=t.length/6|0,r=new Array(e),a=0;a<e;)r[a]="#"+t.slice(a*6,++a*6);return r}var FS=vn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),HS=vn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),BS=vn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),YS=vn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),US=vn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),WS=vn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),$S=vn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),GS=vn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),XS=vn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),VS=vn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ur=t=>W0(t[t.length-1]),oA=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(vn),qS=ur(oA),uA=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(vn),ZS=ur(uA),lA=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(vn),KS=ur(lA),cA=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(vn),jS=ur(cA),fA=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(vn),JS=ur(fA),hA=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(vn),QS=ur(hA),dA=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(vn),tC=ur(dA),gA=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(vn),eC=ur(gA),pA=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(vn),nC=ur(pA),_A=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(vn),rC=ur(_A),mA=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(vn),iC=ur(mA),yA=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(vn),aC=ur(yA),vA=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(vn),sC=ur(vA),bA=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(vn),oC=ur(bA),xA=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(vn),uC=ur(xA),wA=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(vn),lC=ur(wA),AA=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(vn),cC=ur(AA),SA=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(vn),fC=ur(SA),CA=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(vn),hC=ur(CA),MA=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(vn),dC=ur(MA),TA=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(vn),gC=ur(TA),OA=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(vn),pC=ur(OA),RA=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(vn),_C=ur(RA),EA=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(vn),mC=ur(EA),DA=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(vn),yC=ur(DA),PA=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(vn),vC=ur(PA),kA=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(vn),bC=ur(kA);function xC(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var wC=Ph(Ni(300,.5,0),Ni(-240,.5,1)),AC=Ph(Ni(-100,.75,.35),Ni(80,1.5,.8)),SC=Ph(Ni(260,.75,.35),Ni(80,1.5,.8)),ky=Ni();function CC(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ky.h=360*t-100,ky.s=1.5-1.5*e,ky.l=.8-.9*e,ky+""}var Ny=bu(),MC=Math.PI/3,TC=Math.PI*2/3;function OC(t){var e;return t=(.5-t)*Math.PI,Ny.r=255*(e=Math.sin(t))*e,Ny.g=255*(e=Math.sin(t+MC))*e,Ny.b=255*(e=Math.sin(t+TC))*e,Ny+""}function RC(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ly(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var EC=Ly(vn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),DC=Ly(vn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),PC=Ly(vn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),kC=Ly(vn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function NC(t){return Xr(Cl(t).call(document.documentElement))}var LC=0;function NA(){return new qw}function qw(){this._="@"+(++LC).toString(36)}qw.prototype=NA.prototype={constructor:qw,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function zC(t,e){return t.target&&(t=nd(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,r=>br(r,e))}function IC(t){return typeof t=="string"?new Gr([document.querySelectorAll(t)],[document.documentElement]):new Gr([t==null?[]:Is(t)],Yc)}function dn(t){return function(){return t}}var LA=Math.abs,Ti=Math.atan2,zc=Math.cos,FC=Math.max,Zw=Math.min,ao=Math.sin,Hh=Math.sqrt,Oi=1e-12,al=Math.PI,zy=al/2,sl=2*al;function HC(t){return t>1?0:t<-1?al:Math.acos(t)}function zA(t){return t>=1?zy:t<=-1?-zy:Math.asin(t)}function BC(t){return t.innerRadius}function YC(t){return t.outerRadius}function UC(t){return t.startAngle}function WC(t){return t.endAngle}function $C(t){return t&&t.padAngle}function GC(t,e,r,a,o,l,f,h){var g=r-t,_=a-e,m=f-o,w=h-l,x=w*g-m*_;if(!(x*x<Oi))return x=(m*(e-l)-w*(t-o))/x,[t+x*g,e+x*_]}function Iy(t,e,r,a,o,l,f){var h=t-r,g=e-a,_=(f?l:-l)/Hh(h*h+g*g),m=_*g,w=-_*h,x=t+m,S=e+w,D=r+m,L=a+w,O=(x+D)/2,N=(S+L)/2,W=D-x,F=L-S,z=W*W+F*F,rt=o-l,ot=x*L-D*S,Bt=(F<0?-1:1)*Hh(FC(0,rt*rt*z-ot*ot)),Ut=(ot*F-W*Bt)/z,ae=(-ot*W-F*Bt)/z,Mt=(ot*F+W*Bt)/z,ht=(-ot*W+F*Bt)/z,Qt=Ut-O,Zt=ae-N,st=Mt-O,gt=ht-N;return Qt*Qt+Zt*Zt>st*st+gt*gt&&(Ut=Mt,ae=ht),{cx:Ut,cy:ae,x01:-m,y01:-w,x11:Ut*(o/rt-1),y11:ae*(o/rt-1)}}function XC(){var t=BC,e=YC,r=dn(0),a=null,o=UC,l=WC,f=$C,h=null;function g(){var _,m,w=+t.apply(this,arguments),x=+e.apply(this,arguments),S=o.apply(this,arguments)-zy,D=l.apply(this,arguments)-zy,L=LA(D-S),O=D>S;if(h||(h=_=Vs()),x<w&&(m=x,x=w,w=m),!(x>Oi))h.moveTo(0,0);else if(L>sl-Oi)h.moveTo(x*zc(S),x*ao(S)),h.arc(0,0,x,S,D,!O),w>Oi&&(h.moveTo(w*zc(D),w*ao(D)),h.arc(0,0,w,D,S,O));else{var N=S,W=D,F=S,z=D,rt=L,ot=L,Bt=f.apply(this,arguments)/2,Ut=Bt>Oi&&(a?+a.apply(this,arguments):Hh(w*w+x*x)),ae=Zw(LA(x-w)/2,+r.apply(this,arguments)),Mt=ae,ht=ae,Qt,Zt;if(Ut>Oi){var st=zA(Ut/w*ao(Bt)),gt=zA(Ut/x*ao(Bt));(rt-=st*2)>Oi?(st*=O?1:-1,F+=st,z-=st):(rt=0,F=z=(S+D)/2),(ot-=gt*2)>Oi?(gt*=O?1:-1,N+=gt,W-=gt):(ot=0,N=W=(S+D)/2)}var pt=x*zc(N),Wt=x*ao(N),ce=w*zc(z),he=w*ao(z);if(ae>Oi){var be=x*zc(W),Ne=x*ao(W),Ve=w*zc(F),$n=w*ao(F),Sn;if(L<al&&(Sn=GC(pt,Wt,Ve,$n,be,Ne,ce,he))){var Zn=pt-Sn[0],Ur=Wt-Sn[1],Yn=be-Sn[0],si=Ne-Sn[1],Ce=1/ao(HC((Zn*Yn+Ur*si)/(Hh(Zn*Zn+Ur*Ur)*Hh(Yn*Yn+si*si)))/2),cn=Hh(Sn[0]*Sn[0]+Sn[1]*Sn[1]);Mt=Zw(ae,(w-cn)/(Ce-1)),ht=Zw(ae,(x-cn)/(Ce+1))}}ot>Oi?ht>Oi?(Qt=Iy(Ve,$n,pt,Wt,x,ht,O),Zt=Iy(be,Ne,ce,he,x,ht,O),h.moveTo(Qt.cx+Qt.x01,Qt.cy+Qt.y01),ht<ae?h.arc(Qt.cx,Qt.cy,ht,Ti(Qt.y01,Qt.x01),Ti(Zt.y01,Zt.x01),!O):(h.arc(Qt.cx,Qt.cy,ht,Ti(Qt.y01,Qt.x01),Ti(Qt.y11,Qt.x11),!O),h.arc(0,0,x,Ti(Qt.cy+Qt.y11,Qt.cx+Qt.x11),Ti(Zt.cy+Zt.y11,Zt.cx+Zt.x11),!O),h.arc(Zt.cx,Zt.cy,ht,Ti(Zt.y11,Zt.x11),Ti(Zt.y01,Zt.x01),!O))):(h.moveTo(pt,Wt),h.arc(0,0,x,N,W,!O)):h.moveTo(pt,Wt),!(w>Oi)||!(rt>Oi)?h.lineTo(ce,he):Mt>Oi?(Qt=Iy(ce,he,be,Ne,w,-Mt,O),Zt=Iy(pt,Wt,Ve,$n,w,-Mt,O),h.lineTo(Qt.cx+Qt.x01,Qt.cy+Qt.y01),Mt<ae?h.arc(Qt.cx,Qt.cy,Mt,Ti(Qt.y01,Qt.x01),Ti(Zt.y01,Zt.x01),!O):(h.arc(Qt.cx,Qt.cy,Mt,Ti(Qt.y01,Qt.x01),Ti(Qt.y11,Qt.x11),!O),h.arc(0,0,w,Ti(Qt.cy+Qt.y11,Qt.cx+Qt.x11),Ti(Zt.cy+Zt.y11,Zt.cx+Zt.x11),O),h.arc(Zt.cx,Zt.cy,Mt,Ti(Zt.y11,Zt.x11),Ti(Zt.y01,Zt.x01),!O))):h.arc(0,0,w,z,F,O)}if(h.closePath(),_)return h=null,_+""||null}return g.centroid=function(){var _=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,m=(+o.apply(this,arguments)+ +l.apply(this,arguments))/2-al/2;return[zc(m)*_,ao(m)*_]},g.innerRadius=function(_){return arguments.length?(t=typeof _=="function"?_:dn(+_),g):t},g.outerRadius=function(_){return arguments.length?(e=typeof _=="function"?_:dn(+_),g):e},g.cornerRadius=function(_){return arguments.length?(r=typeof _=="function"?_:dn(+_),g):r},g.padRadius=function(_){return arguments.length?(a=_==null?null:typeof _=="function"?_:dn(+_),g):a},g.startAngle=function(_){return arguments.length?(o=typeof _=="function"?_:dn(+_),g):o},g.endAngle=function(_){return arguments.length?(l=typeof _=="function"?_:dn(+_),g):l},g.padAngle=function(_){return arguments.length?(f=typeof _=="function"?_:dn(+_),g):f},g.context=function(_){return arguments.length?(h=_==null?null:_,g):h},g}var VC=Array.prototype.slice;function Fy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IA(t){this._context=t}IA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hy(t){return new IA(t)}function Kw(t){return t[0]}function jw(t){return t[1]}function Jw(t,e){var r=dn(!0),a=null,o=Hy,l=null;t=typeof t=="function"?t:t===void 0?Kw:dn(t),e=typeof e=="function"?e:e===void 0?jw:dn(e);function f(h){var g,_=(h=Fy(h)).length,m,w=!1,x;for(a==null&&(l=o(x=Vs())),g=0;g<=_;++g)!(g<_&&r(m=h[g],g,h))===w&&((w=!w)?l.lineStart():l.lineEnd()),w&&l.point(+t(m,g,h),+e(m,g,h));if(x)return l=null,x+""||null}return f.x=function(h){return arguments.length?(t=typeof h=="function"?h:dn(+h),f):t},f.y=function(h){return arguments.length?(e=typeof h=="function"?h:dn(+h),f):e},f.defined=function(h){return arguments.length?(r=typeof h=="function"?h:dn(!!h),f):r},f.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),f):o},f.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),f):a},f}function FA(t,e,r){var a=null,o=dn(!0),l=null,f=Hy,h=null;t=typeof t=="function"?t:t===void 0?Kw:dn(+t),e=typeof e=="function"?e:dn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jw:dn(+r);function g(m){var w,x,S,D=(m=Fy(m)).length,L,O=!1,N,W=new Array(D),F=new Array(D);for(l==null&&(h=f(N=Vs())),w=0;w<=D;++w){if(!(w<D&&o(L=m[w],w,m))===O)if(O=!O)x=w,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),S=w-1;S>=x;--S)h.point(W[S],F[S]);h.lineEnd(),h.areaEnd()}O&&(W[w]=+t(L,w,m),F[w]=+e(L,w,m),h.point(a?+a(L,w,m):W[w],r?+r(L,w,m):F[w]))}if(N)return h=null,N+""||null}function _(){return Jw().defined(o).curve(f).context(l)}return g.x=function(m){return arguments.length?(t=typeof m=="function"?m:dn(+m),a=null,g):t},g.x0=function(m){return arguments.length?(t=typeof m=="function"?m:dn(+m),g):t},g.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:dn(+m),g):a},g.y=function(m){return arguments.length?(e=typeof m=="function"?m:dn(+m),r=null,g):e},g.y0=function(m){return arguments.length?(e=typeof m=="function"?m:dn(+m),g):e},g.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:dn(+m),g):r},g.lineX0=g.lineY0=function(){return _().x(t).y(e)},g.lineY1=function(){return _().x(t).y(r)},g.lineX1=function(){return _().x(a).y(e)},g.defined=function(m){return arguments.length?(o=typeof m=="function"?m:dn(!!m),g):o},g.curve=function(m){return arguments.length?(f=m,l!=null&&(h=f(l)),g):f},g.context=function(m){return arguments.length?(m==null?l=h=null:h=f(l=m),g):l},g}function qC(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function ZC(t){return t}function KC(){var t=ZC,e=qC,r=null,a=dn(0),o=dn(sl),l=dn(0);function f(h){var g,_=(h=Fy(h)).length,m,w,x=0,S=new Array(_),D=new Array(_),L=+a.apply(this,arguments),O=Math.min(sl,Math.max(-sl,o.apply(this,arguments)-L)),N,W=Math.min(Math.abs(O)/_,l.apply(this,arguments)),F=W*(O<0?-1:1),z;for(g=0;g<_;++g)(z=D[S[g]=g]=+t(h[g],g,h))>0&&(x+=z);for(e!=null?S.sort(function(rt,ot){return e(D[rt],D[ot])}):r!=null&&S.sort(function(rt,ot){return r(h[rt],h[ot])}),g=0,w=x?(O-_*F)/x:0;g<_;++g,L=N)m=S[g],z=D[m],N=L+(z>0?z*w:0)+F,D[m]={data:h[m],index:g,value:z,startAngle:L,endAngle:N,padAngle:W};return D}return f.value=function(h){return arguments.length?(t=typeof h=="function"?h:dn(+h),f):t},f.sortValues=function(h){return arguments.length?(e=h,r=null,f):e},f.sort=function(h){return arguments.length?(r=h,e=null,f):r},f.startAngle=function(h){return arguments.length?(a=typeof h=="function"?h:dn(+h),f):a},f.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:dn(+h),f):o},f.padAngle=function(h){return arguments.length?(l=typeof h=="function"?h:dn(+h),f):l},f}var HA=Qw(Hy);function BA(t){this._curve=t}BA.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Qw(t){function e(r){return new BA(t(r))}return e._curve=t,e}function h0(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(r){return arguments.length?e(Qw(r)):e()._curve},t}function YA(){return h0(Jw().curve(HA))}function UA(){var t=FA().curve(HA),e=t.curve,r=t.lineX0,a=t.lineX1,o=t.lineY0,l=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return h0(r())},delete t.lineX0,t.lineEndAngle=function(){return h0(a())},delete t.lineX1,t.lineInnerRadius=function(){return h0(o())},delete t.lineY0,t.lineOuterRadius=function(){return h0(l())},delete t.lineY1,t.curve=function(f){return arguments.length?e(Qw(f)):e()._curve},t}function d0(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function jC(t){return t.source}function JC(t){return t.target}function t2(t){var e=jC,r=JC,a=Kw,o=jw,l=null;function f(){var h,g=VC.call(arguments),_=e.apply(this,g),m=r.apply(this,g);if(l||(l=h=Vs()),t(l,+a.apply(this,(g[0]=_,g)),+o.apply(this,g),+a.apply(this,(g[0]=m,g)),+o.apply(this,g)),h)return l=null,h+""||null}return f.source=function(h){return arguments.length?(e=h,f):e},f.target=function(h){return arguments.length?(r=h,f):r},f.x=function(h){return arguments.length?(a=typeof h=="function"?h:dn(+h),f):a},f.y=function(h){return arguments.length?(o=typeof h=="function"?h:dn(+h),f):o},f.context=function(h){return arguments.length?(l=h==null?null:h,f):l},f}function QC(t,e,r,a,o){t.moveTo(e,r),t.bezierCurveTo(e=(e+a)/2,r,e,o,a,o)}function t3(t,e,r,a,o){t.moveTo(e,r),t.bezierCurveTo(e,r=(r+o)/2,a,r,a,o)}function e3(t,e,r,a,o){var l=d0(e,r),f=d0(e,r=(r+o)/2),h=d0(a,r),g=d0(a,o);t.moveTo(l[0],l[1]),t.bezierCurveTo(f[0],f[1],h[0],h[1],g[0],g[1])}function n3(){return t2(QC)}function r3(){return t2(t3)}function i3(){var t=t2(e3);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var e2={draw:function(t,e){var r=Math.sqrt(e/al);t.moveTo(r,0),t.arc(0,0,r,0,sl)}},WA={draw:function(t,e){var r=Math.sqrt(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},$A=Math.sqrt(1/3),a3=$A*2,GA={draw:function(t,e){var r=Math.sqrt(e/a3),a=r*$A;t.moveTo(0,-r),t.lineTo(a,0),t.lineTo(0,r),t.lineTo(-a,0),t.closePath()}},s3=.8908130915292852,XA=Math.sin(al/10)/Math.sin(7*al/10),o3=Math.sin(sl/10)*XA,u3=-Math.cos(sl/10)*XA,VA={draw:function(t,e){var r=Math.sqrt(e*s3),a=o3*r,o=u3*r;t.moveTo(0,-r),t.lineTo(a,o);for(var l=1;l<5;++l){var f=sl*l/5,h=Math.cos(f),g=Math.sin(f);t.lineTo(g*r,-h*r),t.lineTo(h*a-g*o,g*a+h*o)}t.closePath()}},qA={draw:function(t,e){var r=Math.sqrt(e),a=-r/2;t.rect(a,a,r,r)}},n2=Math.sqrt(3),ZA={draw:function(t,e){var r=-Math.sqrt(e/(n2*3));t.moveTo(0,r*2),t.lineTo(-n2*r,-r),t.lineTo(n2*r,-r),t.closePath()}},qa=-.5,Za=Math.sqrt(3)/2,r2=1/Math.sqrt(12),l3=(r2/2+1)*3,KA={draw:function(t,e){var r=Math.sqrt(e/l3),a=r/2,o=r*r2,l=a,f=r*r2+r,h=-l,g=f;t.moveTo(a,o),t.lineTo(l,f),t.lineTo(h,g),t.lineTo(qa*a-Za*o,Za*a+qa*o),t.lineTo(qa*l-Za*f,Za*l+qa*f),t.lineTo(qa*h-Za*g,Za*h+qa*g),t.lineTo(qa*a+Za*o,qa*o-Za*a),t.lineTo(qa*l+Za*f,qa*f-Za*l),t.lineTo(qa*h+Za*g,qa*g-Za*h),t.closePath()}},c3=[e2,WA,GA,qA,VA,ZA,KA];function f3(t,e){var r=null;t=typeof t=="function"?t:dn(t||e2),e=typeof e=="function"?e:dn(e===void 0?64:+e);function a(){var o;if(r||(r=o=Vs()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(t=typeof o=="function"?o:dn(o),a):t},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:dn(+o),a):e},a.context=function(o){return arguments.length?(r=o==null?null:o,a):r},a}function ol(){}function By(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Yy(t){this._context=t}Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:By(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:By(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h3(t){return new Yy(t)}function jA(t){this._context=t}jA.prototype={areaStart:ol,areaEnd:ol,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:By(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d3(t){return new jA(t)}function JA(t){this._context=t}JA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:By(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g3(t){return new JA(t)}class QA{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function p3(t){return new QA(t,!0)}function _3(t){return new QA(t,!1)}function tS(t,e){this._basis=new Yy(t),this._beta=e}tS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var a=t[0],o=e[0],l=t[r]-a,f=e[r]-o,h=-1,g;++h<=r;)g=h/r,this._basis.point(this._beta*t[h]+(1-this._beta)*(a+g*l),this._beta*e[h]+(1-this._beta)*(o+g*f));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var m3=function t(e){function r(a){return e===1?new Yy(a):new tS(a,e)}return r.beta=function(a){return t(+a)},r}(.85);function Uy(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function i2(t,e){this._context=t,this._k=(1-e)/6}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Uy(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var y3=function t(e){function r(a){return new i2(a,e)}return r.tension=function(a){return t(+a)},r}(0);function a2(t,e){this._context=t,this._k=(1-e)/6}a2.prototype={areaStart:ol,areaEnd:ol,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var v3=function t(e){function r(a){return new a2(a,e)}return r.tension=function(a){return t(+a)},r}(0);function s2(t,e){this._context=t,this._k=(1-e)/6}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var b3=function t(e){function r(a){return new s2(a,e)}return r.tension=function(a){return t(+a)},r}(0);function o2(t,e,r){var a=t._x1,o=t._y1,l=t._x2,f=t._y2;if(t._l01_a>Oi){var h=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,g=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*h-t._x0*t._l12_2a+t._x2*t._l01_2a)/g,o=(o*h-t._y0*t._l12_2a+t._y2*t._l01_2a)/g}if(t._l23_a>Oi){var _=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,m=3*t._l23_a*(t._l23_a+t._l12_a);l=(l*_+t._x1*t._l23_2a-e*t._l12_2a)/m,f=(f*_+t._y1*t._l23_2a-r*t._l12_2a)/m}t._context.bezierCurveTo(a,o,l,f,t._x2,t._y2)}function eS(t,e){this._context=t,this._alpha=e}eS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:o2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var x3=function t(e){function r(a){return e?new eS(a,e):new i2(a,0)}return r.alpha=function(a){return t(+a)},r}(.5);function nS(t,e){this._context=t,this._alpha=e}nS.prototype={areaStart:ol,areaEnd:ol,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:o2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var w3=function t(e){function r(a){return e?new nS(a,e):new a2(a,0)}return r.alpha=function(a){return t(+a)},r}(.5);function rS(t,e){this._context=t,this._alpha=e}rS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:o2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var A3=function t(e){function r(a){return e?new rS(a,e):new s2(a,0)}return r.alpha=function(a){return t(+a)},r}(.5);function iS(t){this._context=t}iS.prototype={areaStart:ol,areaEnd:ol,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function S3(t){return new iS(t)}function aS(t){return t<0?-1:1}function sS(t,e,r){var a=t._x1-t._x0,o=e-t._x1,l=(t._y1-t._y0)/(a||o<0&&-0),f=(r-t._y1)/(o||a<0&&-0),h=(l*o+f*a)/(a+o);return(aS(l)+aS(f))*Math.min(Math.abs(l),Math.abs(f),.5*Math.abs(h))||0}function oS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function u2(t,e,r){var a=t._x0,o=t._y0,l=t._x1,f=t._y1,h=(l-a)/3;t._context.bezierCurveTo(a+h,o+h*e,l-h,f-h*r,l,f)}function Wy(t){this._context=t}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u2(this,this._t0,oS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,u2(this,oS(this,r=sS(this,t,e)),r);break;default:u2(this,this._t0,r=sS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function uS(t){this._context=new lS(t)}(uS.prototype=Object.create(Wy.prototype)).point=function(t,e){Wy.prototype.point.call(this,e,t)};function lS(t){this._context=t}lS.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,a,o,l){this._context.bezierCurveTo(e,t,a,r,l,o)}};function C3(t){return new Wy(t)}function M3(t){return new uS(t)}function cS(t){this._context=t}cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var a=fS(t),o=fS(e),l=0,f=1;f<r;++l,++f)this._context.bezierCurveTo(a[0][l],o[0][l],a[1][l],o[1][l],t[f],e[f]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fS(t){var e,r=t.length-1,a,o=new Array(r),l=new Array(r),f=new Array(r);for(o[0]=0,l[0]=2,f[0]=t[0]+2*t[1],e=1;e<r-1;++e)o[e]=1,l[e]=4,f[e]=4*t[e]+2*t[e+1];for(o[r-1]=2,l[r-1]=7,f[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)a=o[e]/l[e-1],l[e]-=a,f[e]-=a*f[e-1];for(o[r-1]=f[r-1]/l[r-1],e=r-2;e>=0;--e)o[e]=(f[e]-o[e+1])/l[e];for(l[r-1]=(t[r]+o[r-1])/2,e=0;e<r-1;++e)l[e]=2*t[e+1]-o[e+1];return[o,l]}function T3(t){return new cS(t)}function $y(t,e){this._context=t,this._t=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function O3(t){return new $y(t,.5)}function R3(t){return new $y(t,0)}function E3(t){return new $y(t,1)}function Bh(t,e){if((f=t.length)>1)for(var r=1,a,o,l=t[e[0]],f,h=l.length;r<f;++r)for(o=l,l=t[e[r]],a=0;a<h;++a)l[a][1]+=l[a][0]=isNaN(o[a][1])?o[a][0]:o[a][1]}function Yh(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function D3(t,e){return t[e]}function P3(t){const e=[];return e.key=t,e}function k3(){var t=dn([]),e=Yh,r=Bh,a=D3;function o(l){var f=Array.from(t.apply(this,arguments),P3),h,g=f.length,_=-1,m;for(const w of l)for(h=0,++_;h<g;++h)(f[h][_]=[0,+a(w,f[h].key,_,l)]).data=w;for(h=0,m=Fy(e(f));h<g;++h)f[m[h]].index=h;return r(f,m),f}return o.keys=function(l){return arguments.length?(t=typeof l=="function"?l:dn(Array.from(l)),o):t},o.value=function(l){return arguments.length?(a=typeof l=="function"?l:dn(+l),o):a},o.order=function(l){return arguments.length?(e=l==null?Yh:typeof l=="function"?l:dn(Array.from(l)),o):e},o.offset=function(l){return arguments.length?(r=l==null?Bh:l,o):r},o}function N3(t,e){if((a=t.length)>0){for(var r,a,o=0,l=t[0].length,f;o<l;++o){for(f=r=0;r<a;++r)f+=t[r][o][1]||0;if(f)for(r=0;r<a;++r)t[r][o][1]/=f}Bh(t,e)}}function L3(t,e){if((g=t.length)>0)for(var r,a=0,o,l,f,h,g,_=t[e[0]].length;a<_;++a)for(f=h=0,r=0;r<g;++r)(l=(o=t[e[r]][a])[1]-o[0])>0?(o[0]=f,o[1]=f+=l):l<0?(o[1]=h,o[0]=h+=l):(o[0]=0,o[1]=l)}function z3(t,e){if((o=t.length)>0){for(var r=0,a=t[e[0]],o,l=a.length;r<l;++r){for(var f=0,h=0;f<o;++f)h+=t[f][r][1]||0;a[r][1]+=a[r][0]=-h/2}Bh(t,e)}}function I3(t,e){if(!(!((f=t.length)>0)||!((l=(o=t[e[0]]).length)>0))){for(var r=0,a=1,o,l,f;a<l;++a){for(var h=0,g=0,_=0;h<f;++h){for(var m=t[e[h]],w=m[a][1]||0,x=m[a-1][1]||0,S=(w-x)/2,D=0;D<h;++D){var L=t[e[D]],O=L[a][1]||0,N=L[a-1][1]||0;S+=O-N}g+=w,_+=S*w}o[a-1][1]+=o[a-1][0]=r,g&&(r-=_/g)}o[a-1][1]+=o[a-1][0]=r,Bh(t,e)}}function hS(t){var e=t.map(F3);return Yh(t).sort(function(r,a){return e[r]-e[a]})}function F3(t){for(var e=-1,r=0,a=t.length,o,l=-Infinity;++e<a;)(o=+t[e][1])>l&&(l=o,r=e);return r}function dS(t){var e=t.map(gS);return Yh(t).sort(function(r,a){return e[r]-e[a]})}function gS(t){for(var e=0,r=-1,a=t.length,o;++r<a;)(o=+t[r][1])&&(e+=o);return e}function H3(t){return dS(t).reverse()}function B3(t){var e=t.length,r,a,o=t.map(gS),l=hS(t),f=0,h=0,g=[],_=[];for(r=0;r<e;++r)a=l[r],f<h?(f+=o[a],g.push(a)):(h+=o[a],_.push(a));return _.reverse().concat(g)}function Y3(t){return Yh(t).reverse()}var pS="%Y-%m-%dT%H:%M:%S.%LZ";function U3(t){return t.toISOString()}var W3=Date.prototype.toISOString?U3:Ey(pS),$3=W3;function G3(t){var e=new Date(t);return isNaN(e)?null:e}var X3=+new Date("2000-01-01T00:00:00.000Z")?G3:$w(pS),V3=X3;function q3(t,e,r){var a=new xu,o=e;return e==null?(a.restart(t,e,r),a):(a._restart=a.restart,a.restart=function(l,f,h){f=+f,h=h==null?wr():+h,a._restart(function g(_){_+=o,a._restart(g,o+=f,h),l(_)},f,h)},a.restart(t,e,r),a)}var Gy=t=>()=>t;function Z3(t,{sourceEvent:e,target:r,transform:a,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function Zo(t,e,r){this.k=t,this.x=e,this.y=r}Zo.prototype={constructor:Zo,scale:function(t){return t===1?this:new Zo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Zo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xy=new Zo(1,0,0);_S.prototype=Zo.prototype;function _S(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Xy;return t.__zoom}function l2(t){t.stopImmediatePropagation()}function g0(t){t.preventDefault(),t.stopImmediatePropagation()}function K3(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function j3(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function mS(){return this.__zoom||Xy}function J3(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Q3(){return navigator.maxTouchPoints||"ontouchstart"in this}function t5(t,e,r){var a=t.invertX(e[0][0])-r[0][0],o=t.invertX(e[1][0])-r[1][0],l=t.invertY(e[0][1])-r[0][1],f=t.invertY(e[1][1])-r[1][1];return t.translate(o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o),f>l?(l+f)/2:Math.min(0,l)||Math.max(0,f))}function e5(){var t=K3,e=j3,r=t5,a=J3,o=Q3,l=[0,Infinity],f=[[-Infinity,-Infinity],[Infinity,Infinity]],h=250,g=Xm,_=Pa("start","zoom","end"),m,w,x,S=500,D=150,L=0,O=10;function N(st){st.property("__zoom",mS).on("wheel.zoom",Ut).on("mousedown.zoom",ae).on("dblclick.zoom",Mt).filter(o).on("touchstart.zoom",ht).on("touchmove.zoom",Qt).on("touchend.zoom touchcancel.zoom",Zt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(st,gt,pt,Wt){var ce=st.selection?st.selection():st;ce.property("__zoom",mS),st!==ce?rt(st,gt,pt,Wt):ce.interrupt().each(function(){ot(this,arguments).event(Wt).start().zoom(null,typeof gt=="function"?gt.apply(this,arguments):gt).end()})},N.scaleBy=function(st,gt,pt,Wt){N.scaleTo(st,function(){var ce=this.__zoom.k,he=typeof gt=="function"?gt.apply(this,arguments):gt;return ce*he},pt,Wt)},N.scaleTo=function(st,gt,pt,Wt){N.transform(st,function(){var ce=e.apply(this,arguments),he=this.__zoom,be=pt==null?z(ce):typeof pt=="function"?pt.apply(this,arguments):pt,Ne=he.invert(be),Ve=typeof gt=="function"?gt.apply(this,arguments):gt;return r(F(W(he,Ve),be,Ne),ce,f)},pt,Wt)},N.translateBy=function(st,gt,pt,Wt){N.transform(st,function(){return r(this.__zoom.translate(typeof gt=="function"?gt.apply(this,arguments):gt,typeof pt=="function"?pt.apply(this,arguments):pt),e.apply(this,arguments),f)},null,Wt)},N.translateTo=function(st,gt,pt,Wt,ce){N.transform(st,function(){var he=e.apply(this,arguments),be=this.__zoom,Ne=Wt==null?z(he):typeof Wt=="function"?Wt.apply(this,arguments):Wt;return r(Xy.translate(Ne[0],Ne[1]).scale(be.k).translate(typeof gt=="function"?-gt.apply(this,arguments):-gt,typeof pt=="function"?-pt.apply(this,arguments):-pt),he,f)},Wt,ce)};function W(st,gt){return gt=Math.max(l[0],Math.min(l[1],gt)),gt===st.k?st:new Zo(gt,st.x,st.y)}function F(st,gt,pt){var Wt=gt[0]-pt[0]*st.k,ce=gt[1]-pt[1]*st.k;return Wt===st.x&&ce===st.y?st:new Zo(st.k,Wt,ce)}function z(st){return[(+st[0][0]+ +st[1][0])/2,(+st[0][1]+ +st[1][1])/2]}function rt(st,gt,pt,Wt){st.on("start.zoom",function(){ot(this,arguments).event(Wt).start()}).on("interrupt.zoom end.zoom",function(){ot(this,arguments).event(Wt).end()}).tween("zoom",function(){var ce=this,he=arguments,be=ot(ce,he).event(Wt),Ne=e.apply(ce,he),Ve=pt==null?z(Ne):typeof pt=="function"?pt.apply(ce,he):pt,$n=Math.max(Ne[1][0]-Ne[0][0],Ne[1][1]-Ne[0][1]),Sn=ce.__zoom,Zn=typeof gt=="function"?gt.apply(ce,he):gt,Ur=g(Sn.invert(Ve).concat($n/Sn.k),Zn.invert(Ve).concat($n/Zn.k));return function(Yn){if(Yn===1)Yn=Zn;else{var si=Ur(Yn),Ce=$n/si[2];Yn=new Zo(Ce,Ve[0]-si[0]*Ce,Ve[1]-si[1]*Ce)}be.zoom(null,Yn)}})}function ot(st,gt,pt){return!pt&&st.__zooming||new Bt(st,gt)}function Bt(st,gt){this.that=st,this.args=gt,this.active=0,this.sourceEvent=null,this.extent=e.apply(st,gt),this.taps=0}Bt.prototype={event:function(st){return st&&(this.sourceEvent=st),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(st,gt){return this.mouse&&st!=="mouse"&&(this.mouse[1]=gt.invert(this.mouse[0])),this.touch0&&st!=="touch"&&(this.touch0[1]=gt.invert(this.touch0[0])),this.touch1&&st!=="touch"&&(this.touch1[1]=gt.invert(this.touch1[0])),this.that.__zoom=gt,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(st){var gt=Xr(this.that).datum();_.call(st,this.that,new Z3(st,{sourceEvent:this.sourceEvent,target:N,type:st,transform:this.that.__zoom,dispatch:_}),gt)}};function Ut(st,...gt){if(!t.apply(this,arguments))return;var pt=ot(this,gt).event(st),Wt=this.__zoom,ce=Math.max(l[0],Math.min(l[1],Wt.k*Math.pow(2,a.apply(this,arguments)))),he=br(st);if(pt.wheel)(pt.mouse[0][0]!==he[0]||pt.mouse[0][1]!==he[1])&&(pt.mouse[1]=Wt.invert(pt.mouse[0]=he)),clearTimeout(pt.wheel);else{if(Wt.k===ce)return;pt.mouse=[he,Wt.invert(he)],us(this),pt.start()}g0(st),pt.wheel=setTimeout(be,D),pt.zoom("mouse",r(F(W(Wt,ce),pt.mouse[0],pt.mouse[1]),pt.extent,f));function be(){pt.wheel=null,pt.end()}}function ae(st,...gt){if(x||!t.apply(this,arguments))return;var pt=ot(this,gt,!0).event(st),Wt=Xr(st.view).on("mousemove.zoom",Ve,!0).on("mouseup.zoom",$n,!0),ce=br(st,he),he=st.currentTarget,be=st.clientX,Ne=st.clientY;qh(st.view),l2(st),pt.mouse=[ce,this.__zoom.invert(ce)],us(this),pt.start();function Ve(Sn){if(g0(Sn),!pt.moved){var Zn=Sn.clientX-be,Ur=Sn.clientY-Ne;pt.moved=Zn*Zn+Ur*Ur>L}pt.event(Sn).zoom("mouse",r(F(pt.that.__zoom,pt.mouse[0]=br(Sn,he),pt.mouse[1]),pt.extent,f))}function $n(Sn){Wt.on("mousemove.zoom mouseup.zoom",null),Zh(Sn.view,pt.moved),g0(Sn),pt.event(Sn).end()}}function Mt(st,...gt){if(!!t.apply(this,arguments)){var pt=this.__zoom,Wt=br(st.changedTouches?st.changedTouches[0]:st,this),ce=pt.invert(Wt),he=pt.k*(st.shiftKey?.5:2),be=r(F(W(pt,he),Wt,ce),e.apply(this,gt),f);g0(st),h>0?Xr(this).transition().duration(h).call(rt,be,Wt,st):Xr(this).call(N.transform,be,Wt,st)}}function ht(st,...gt){if(!!t.apply(this,arguments)){var pt=st.touches,Wt=pt.length,ce=ot(this,gt,st.changedTouches.length===Wt).event(st),he,be,Ne,Ve;for(l2(st),be=0;be<Wt;++be)Ne=pt[be],Ve=br(Ne,this),Ve=[Ve,this.__zoom.invert(Ve),Ne.identifier],ce.touch0?!ce.touch1&&ce.touch0[2]!==Ve[2]&&(ce.touch1=Ve,ce.taps=0):(ce.touch0=Ve,he=!0,ce.taps=1+!!m);m&&(m=clearTimeout(m)),he&&(ce.taps<2&&(w=Ve[0],m=setTimeout(function(){m=null},S)),us(this),ce.start())}}function Qt(st,...gt){if(!!this.__zooming){var pt=ot(this,gt).event(st),Wt=st.changedTouches,ce=Wt.length,he,be,Ne,Ve;for(g0(st),he=0;he<ce;++he)be=Wt[he],Ne=br(be,this),pt.touch0&&pt.touch0[2]===be.identifier?pt.touch0[0]=Ne:pt.touch1&&pt.touch1[2]===be.identifier&&(pt.touch1[0]=Ne);if(be=pt.that.__zoom,pt.touch1){var $n=pt.touch0[0],Sn=pt.touch0[1],Zn=pt.touch1[0],Ur=pt.touch1[1],Yn=(Yn=Zn[0]-$n[0])*Yn+(Yn=Zn[1]-$n[1])*Yn,si=(si=Ur[0]-Sn[0])*si+(si=Ur[1]-Sn[1])*si;be=W(be,Math.sqrt(Yn/si)),Ne=[($n[0]+Zn[0])/2,($n[1]+Zn[1])/2],Ve=[(Sn[0]+Ur[0])/2,(Sn[1]+Ur[1])/2]}else if(pt.touch0)Ne=pt.touch0[0],Ve=pt.touch0[1];else return;pt.zoom("touch",r(F(be,Ne,Ve),pt.extent,f))}}function Zt(st,...gt){if(!!this.__zooming){var pt=ot(this,gt).event(st),Wt=st.changedTouches,ce=Wt.length,he,be;for(l2(st),x&&clearTimeout(x),x=setTimeout(function(){x=null},S),he=0;he<ce;++he)be=Wt[he],pt.touch0&&pt.touch0[2]===be.identifier?delete pt.touch0:pt.touch1&&pt.touch1[2]===be.identifier&&delete pt.touch1;if(pt.touch1&&!pt.touch0&&(pt.touch0=pt.touch1,delete pt.touch1),pt.touch0)pt.touch0[1]=this.__zoom.invert(pt.touch0[0]);else if(pt.end(),pt.taps===2&&(be=br(be,this),Math.hypot(w[0]-be[0],w[1]-be[1])<O)){var Ne=Xr(this).on("dblclick.zoom");Ne&&Ne.apply(this,arguments)}}}return N.wheelDelta=function(st){return arguments.length?(a=typeof st=="function"?st:Gy(+st),N):a},N.filter=function(st){return arguments.length?(t=typeof st=="function"?st:Gy(!!st),N):t},N.touchable=function(st){return arguments.length?(o=typeof st=="function"?st:Gy(!!st),N):o},N.extent=function(st){return arguments.length?(e=typeof st=="function"?st:Gy([[+st[0][0],+st[0][1]],[+st[1][0],+st[1][1]]]),N):e},N.scaleExtent=function(st){return arguments.length?(l[0]=+st[0],l[1]=+st[1],N):[l[0],l[1]]},N.translateExtent=function(st){return arguments.length?(f[0][0]=+st[0][0],f[1][0]=+st[1][0],f[0][1]=+st[0][1],f[1][1]=+st[1][1],N):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},N.constrain=function(st){return arguments.length?(r=st,N):r},N.duration=function(st){return arguments.length?(h=+st,N):h},N.interpolate=function(st){return arguments.length?(g=st,N):g},N.on=function(){var st=_.on.apply(_,arguments);return st===_?N:st},N.clickDistance=function(st){return arguments.length?(L=(st=+st)*st,N):Math.sqrt(L)},N.tapDistance=function(st){return arguments.length?(O=+st,N):O},N}},53411:function(Ke){Ke.exports={chartcard:"chartcard___34IEZ"}},70347:function(){},37713:function(Ke,St,K){"use strict";K.r(St),K.d(St,{default:function(){return Sy}});var H=K(2824),Xt=K(21010),it=K(67294),me=K(75362);let mt=qt,Dt=qt,lt=qt,Et=re,te=Ft;typeof Uint8Array!="undefined"&&(mt=function(n){return new Uint8Array(n)},Dt=function(n){return new Uint16Array(n)},lt=function(n){return new Uint32Array(n)},Et=function(n,i){if(n.length>=i)return n;var u=new n.constructor(i);return u.set(n),u},te=function(n,i){var u;switch(i){case 16:u=Dt(n.length);break;case 32:u=lt(n.length);break;default:throw new Error("invalid array width!")}return u.set(n),u});function qt(n){for(var i=new Array(n),u=-1;++u<n;)i[u]=0;return i}function re(n,i){for(var u=n.length;u<i;)n[u++]=0;return n}function Ft(n,i){if(i>32)throw new Error("invalid array width!");return n}function fe(n){this.length=n,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=mt(n)}fe.prototype.lengthen=function(n){var i,u;for(i=0,u=this.subarrays;i<u;++i)this[i]=Et(this[i],n);this.length=n},fe.prototype.add=function(){var n,i,u,c,p;for(c=0,p=this.subarrays;c<p;++c)if(n=this.masks[c],i=this.width-32*c,u=(~n&n+1)>>>0,!(i>=32&&!u))return i<32&&u&1<<i&&(this[c]=te(this[c],i<<=1),this.width=32*c+i),this.masks[c]|=u,{offset:c,one:u};return this[this.subarrays]=mt(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},fe.prototype.copy=function(n,i){var u,c;for(u=0,c=this.subarrays;u<c;++u)this[u][n]=this[u][i]},fe.prototype.truncate=function(n){var i,u;for(i=0,u=this.subarrays;i<u;++i)for(var c=this.length-1;c>=n;c--)this[i][c]=0;this.length=n},fe.prototype.zero=function(n){var i,u;for(i=0,u=this.subarrays;i<u;++i)if(this[i][n])return!1;return!0},fe.prototype.zeroExcept=function(n,i,u){var c,p;for(c=0,p=this.subarrays;c<p;++c)if(c===i?this[c][n]&u:this[c][n])return!1;return!0},fe.prototype.zeroExceptMask=function(n,i){var u,c;for(u=0,c=this.subarrays;u<c;++u)if(this[u][n]&i[u])return!1;return!0},fe.prototype.only=function(n,i,u){var c,p;for(c=0,p=this.subarrays;c<p;++c)if(this[c][n]!=(c===i?u:0))return!1;return!0},fe.prototype.onlyExcept=function(n,i,u,c,p){var y,v,A;for(v=0,A=this.subarrays;v<A;++v)if(y=this[v][n],v===i&&(y=(y&u)>>>0),y!=(v===c?p:0))return!1;return!0};var ye={array8:qt,array16:qt,array32:qt,arrayLengthen:re,arrayWiden:Ft,bitarray:fe},zt={filterExact:(n,i)=>function(u){var c=u.length;return[n.left(u,i,0,c),n.right(u,i,0,c)]},filterRange:(n,i)=>{var u=i[0],c=i[1];return function(p){var y=p.length;return[n.left(p,u,0,y),n.left(p,c,0,y)]}},filterAll:n=>[0,n.length]},It=n=>n,Pt=()=>null,j=()=>0;function tt(n){function i(p,y,v){for(var A=v-y,C=(A>>>1)+1;--C>0;)c(p,C,A,y);return p}function u(p,y,v){for(var A=v-y,C;--A>0;)C=p[y],p[y]=p[y+A],p[y+A]=C,c(p,1,A,y);return p}function c(p,y,v,A){for(var C=p[--A+y],R=n(C),P;(P=y<<1)<=v&&(P<v&&n(p[A+P])>n(p[A+P+1])&&P++,!(R<=n(p[A+P])));)p[A+y]=p[A+P],y=P;p[A+y]=C}return i.sort=u,i}const Tt=tt(It);Tt.by=tt;var $t=Tt;function dt(n){var i=$t.by(n);function u(c,p,y,v){var A=new Array(v=Math.min(y-p,v)),C,R,P;for(R=0;R<v;++R)A[R]=c[p++];if(i(A,0,v),p<y){C=n(A[0]);do n(P=c[p])>C&&(A[0]=P,C=n(i(A,0,v)[0]));while(++p<y)}return A}return u}const Q=dt(It);Q.by=dt;var yt=Q;function I(n){function i(c,p,y,v){for(;y<v;){var A=y+v>>>1;n(c[A])<p?y=A+1:v=A}return y}function u(c,p,y,v){for(;y<v;){var A=y+v>>>1;p<n(c[A])?v=A:y=A+1}return y}return u.right=u,u.left=i,u}const G=I(It);G.by=I;var _t=G,Ct=(n,i,u)=>{for(var c=0,p=i.length,y=u?JSON.parse(JSON.stringify(n)):new Array(p);c<p;++c)y[c]=n[i[c]];return y},Rt={reduceIncrement:n=>n+1,reduceDecrement:n=>n-1,reduceAdd:n=>function(i,u){return i+ +n(u)},reduceSubtract:n=>function(i,u){return i-n(u)}};function ie(n,i,u,c,p){for(p in c=(u=u.split(".")).splice(-1,1),u)i=i[u[p]]=i[u[p]]||{};return n(i,c)}const U=(n,i)=>{const u=n[i];return typeof u=="function"?u.call(n):u},V=/\[([\w\d]+)\]/g;var M=(n,i)=>ie(U,n,i.replace(V,".$1")),E=-1;J.heap=$t,J.heapselect=yt,J.bisect=_t,J.permute=Ct;var $=J;function J(){var n={add:C,remove:R,dimension:at,groupAll:vt,size:we,all:Ie,allFiltered:ne,onChange:oe,isElementFiltered:et},i=[],u=0,c,p=[],y=[],v=[],A=[];c=new ye.bitarray(0);function C(Lt){var kt=u,xe=Lt.length;return xe&&(i=i.concat(Lt),c.lengthen(u+=xe),y.forEach(function(_e){_e(Lt,kt,xe)}),Se("dataAdded")),n}function R(Lt){for(var kt=new Array(u),xe=[],_e=typeof Lt=="function",Te=function(an){return _e?Lt(i[an],an):c.zero(an)},Ye=0,Le=0;Ye<u;++Ye)Te(Ye)?(xe.push(Ye),kt[Ye]=E):kt[Ye]=Le++;p.forEach(function(an){an(-1,-1,[],xe,!0)}),v.forEach(function(an){an(kt)});for(var bn=0,Xe=0;bn<u;++bn)kt[bn]!==E&&(bn!==Xe&&(c.copy(Xe,bn),i[Xe]=i[bn]),++Xe);i.length=u=Xe,c.truncate(Xe),Se("dataRemoved")}function P(Lt){var kt,xe,_e,Te,Ye=Array(c.subarrays);for(kt=0;kt<c.subarrays;kt++)Ye[kt]=~0;for(xe=0,_e=Lt.length;xe<_e;xe++)Te=Lt[xe].id(),Ye[Te>>7]&=~(1<<(Te&63));return Ye}function et(Lt,kt){var xe=P(kt||[]);return c.zeroExceptMask(Lt,xe)}function at(Lt,kt){if(typeof Lt=="string"){var xe=Lt;Lt=function(de){return M(de,xe)}}var _e={filter:Pn,filterExact:sr,filterRange:zr,filterFunction:nr,filterAll:Ze,currentFilter:Aa,hasCurrentFilter:Cy,top:a0,bottom:s0,group:nl,groupAll:My,dispose:o0,remove:o0,accessor:Lt,id:function(){return bn}},Te,Ye,Le,bn,Xe,an,un,bt,pe,Nt,Kt=[],ze=function(de){return ct(de).sort(function(ke,jt){var xt=un[ke],ln=un[jt];return xt<ln?-1:xt>ln?1:ke-jt})},ve=zt.filterAll,Ee,Fe,Ue,Vn=[],On=[],Ln=0,Bn=0,Cn=0,tr;y.unshift(nn),y.push(gn),v.push(ue);var Me=c.add();Le=Me.offset,Te=Me.one,Ye=~Te,bn=Le<<7|Math.log(Te)/Math.log(2),nn(i,0,u),gn(i,0,u);function nn(de,ke,jt){var xt,ln;if(kt){Cn=0,xi=0,tr=[];for(var De=0;De<de.length;De++)for(xi=0,tr=Lt(de[De]);xi<tr.length;xi++)Cn++;un=[],xt=ct(de.length),ln=At(Cn,1);for(var Pe=ct(Cn),or=0,Ir=0;Ir<de.length;Ir++){if(tr=Lt(de[Ir]),!tr.length){xt[Ir]=0,Kt.push(Ir+ke);continue}for(xt[Ir]=tr.length,xi=0;xi<tr.length;xi++)un.push(tr[xi]),Pe[or]=Ir,or++}var Fr=ze(Cn);un=Ct(un,Fr),bt=Ct(Pe,Fr)}else un=de.map(Lt),bt=ze(jt),un=Ct(un,bt);var Sr=ve(un),Mi=Sr[0],gr=Sr[1],qn,Hr,Bi;if(kt)if(jt=Cn,Ee)for(qn=0;qn<jt;++qn)Ee(un[qn],qn)||(--xt[bt[qn]]==0&&(c[Le][bt[qn]+ke]|=Te),ln[qn]=1);else{for(Hr=0;Hr<Mi;++Hr)--xt[bt[Hr]]==0&&(c[Le][bt[Hr]+ke]|=Te),ln[Hr]=1;for(Bi=gr;Bi<jt;++Bi)--xt[bt[Bi]]==0&&(c[Le][bt[Bi]+ke]|=Te),ln[Bi]=1}else if(Ee)for(qn=0;qn<jt;++qn)Ee(un[qn],qn)||(c[Le][bt[qn]+ke]|=Te);else{for(Hr=0;Hr<Mi;++Hr)c[Le][bt[Hr]+ke]|=Te;for(Bi=gr;Bi<jt;++Bi)c[Le][bt[Bi]+ke]|=Te}if(!ke){Xe=un,an=bt,pe=xt,Nt=ln,Ln=Mi,Bn=gr;return}var ro=Xe,Go=an,Nc=Nt,Xo,Yi=0;if(De=0,kt&&(Xo=ke,ke=ro.length,jt=Cn),Xe=kt?new Array(ke+jt):new Array(u),an=kt?new Array(ke+jt):At(u,u),kt&&(Nt=At(ke+jt,1)),kt){var Lc=pe.length;pe=ye.arrayLengthen(pe,u);for(var xi=0;xi+Lc<u;xi++)pe[xi+Lc]=xt[xi]}for(var Br=0;De<ke&&Yi<jt;++Br)ro[De]<un[Yi]?(Xe[Br]=ro[De],kt&&(Nt[Br]=Nc[De]),an[Br]=Go[De++]):(Xe[Br]=un[Yi],kt&&(Nt[Br]=ln[Yi]),an[Br]=bt[Yi++]+(kt?Xo:ke));for(;De<ke;++De,++Br)Xe[Br]=ro[De],kt&&(Nt[Br]=Nc[De]),an[Br]=Go[De];for(;Yi<jt;++Yi,++Br)Xe[Br]=un[Yi],kt&&(Nt[Br]=ln[Yi]),an[Br]=bt[Yi]+(kt?Xo:ke);Sr=ve(Xe),Ln=Sr[0],Bn=Sr[1]}function gn(de,ke,jt){Vn.forEach(function(xt){xt(un,bt,ke,jt)}),un=bt=null}function ue(de){if(kt){for(var ke=0,jt=0;ke<Kt.length;ke++)de[Kt[ke]]!==E&&(Kt[jt]=de[Kt[ke]],jt++);for(Kt.length=jt,ke=0,jt=0;ke<u;ke++)de[ke]!==E&&(jt!==ke&&(pe[jt]=pe[ke]),jt++);pe=pe.slice(0,jt)}for(var xt=Xe.length,ln=0,De=0,Pe;ln<xt;++ln)Pe=an[ln],de[Pe]!==E&&(ln!==De&&(Xe[De]=Xe[ln]),an[De]=de[Pe],kt&&(Nt[De]=Nt[ln]),++De);for(Xe.length=De,kt&&(Nt=Nt.slice(0,De));De<xt;)an[De++]=0;var or=ve(Xe);Ln=or[0],Bn=or[1]}function er(de){var ke=de[0],jt=de[1];if(Ee)return Ee=null,Cs(function(gr,qn){return ke<=qn&&qn<jt},de[0]===0&&de[1]===Xe.length),Ln=ke,Bn=jt,_e;var xt,ln,De,Pe=[],or=[],Ir=[],Fr=[];if(ke<Ln)for(xt=ke,ln=Math.min(Ln,jt);xt<ln;++xt)Pe.push(an[xt]),Ir.push(xt);else if(ke>Ln)for(xt=Ln,ln=Math.min(ke,Bn);xt<ln;++xt)or.push(an[xt]),Fr.push(xt);if(jt>Bn)for(xt=Math.max(ke,Bn),ln=jt;xt<ln;++xt)Pe.push(an[xt]),Ir.push(xt);else if(jt<Bn)for(xt=Math.max(Ln,jt),ln=Bn;xt<ln;++xt)or.push(an[xt]),Fr.push(xt);if(kt){var Sr=[],Mi=[];for(xt=0;xt<Pe.length;xt++)pe[Pe[xt]]++,Nt[Ir[xt]]=0,pe[Pe[xt]]===1&&(c[Le][Pe[xt]]^=Te,Sr.push(Pe[xt]));for(xt=0;xt<or.length;xt++)pe[or[xt]]--,Nt[Fr[xt]]=1,pe[or[xt]]===0&&(c[Le][or[xt]]^=Te,Mi.push(or[xt]));if(Pe=Sr,or=Mi,ve===zt.filterAll)for(xt=0;xt<Kt.length;xt++)c[Le][De=Kt[xt]]&Te&&(c[Le][De]^=Te,Pe.push(De));else for(xt=0;xt<Kt.length;xt++)c[Le][De=Kt[xt]]&Te||(c[Le][De]^=Te,or.push(De))}else{for(xt=0;xt<Pe.length;xt++)c[Le][Pe[xt]]^=Te;for(xt=0;xt<or.length;xt++)c[Le][or[xt]]^=Te}return Ln=ke,Bn=jt,p.forEach(function(gr){gr(Te,Le,Pe,or)}),Se("filtered"),_e}function Pn(de){return de==null?Ze():Array.isArray(de)?zr(de):typeof de=="function"?nr(de):sr(de)}function sr(de){return Fe=de,Ue=!0,er((ve=zt.filterExact(_t,de))(Xe))}function zr(de){return Fe=de,Ue=!0,er((ve=zt.filterRange(_t,de))(Xe))}function Ze(){return Fe=void 0,Ue=!1,er((ve=zt.filterAll)(Xe))}function nr(de){Fe=de,Ue=!0,Ee=de,ve=zt.filterAll,Cs(de,!1);var ke=ve(Xe);return Ln=ke[0],Bn=ke[1],_e}function Cs(de,ke){var jt,xt,ln,De=[],Pe=[],or=[],Ir=[],Fr=Xe.length;if(!kt)for(jt=0;jt<Fr;++jt)!(c[Le][xt=an[jt]]&Te)^!!(ln=de(Xe[jt],jt))&&(ln?De.push(xt):Pe.push(xt));if(kt)for(jt=0;jt<Fr;++jt)de(Xe[jt],jt)?(De.push(an[jt]),or.push(jt)):(Pe.push(an[jt]),Ir.push(jt));if(kt){var Sr=[],Mi=[];for(jt=0;jt<De.length;jt++)Nt[or[jt]]===1&&(pe[De[jt]]++,Nt[or[jt]]=0,pe[De[jt]]===1&&(c[Le][De[jt]]^=Te,Sr.push(De[jt])));for(jt=0;jt<Pe.length;jt++)Nt[Ir[jt]]===0&&(pe[Pe[jt]]--,Nt[Ir[jt]]=1,pe[Pe[jt]]===0&&(c[Le][Pe[jt]]^=Te,Mi.push(Pe[jt])));if(De=Sr,Pe=Mi,ke)for(jt=0;jt<Kt.length;jt++)c[Le][xt=Kt[jt]]&Te&&(c[Le][xt]^=Te,De.push(xt));else for(jt=0;jt<Kt.length;jt++)c[Le][xt=Kt[jt]]&Te||(c[Le][xt]^=Te,Pe.push(xt))}else{for(jt=0;jt<De.length;jt++)c[Le][De[jt]]&Te&&(c[Le][De[jt]]&=Ye);for(jt=0;jt<Pe.length;jt++)c[Le][Pe[jt]]&Te||(c[Le][Pe[jt]]|=Te)}p.forEach(function(gr){gr(Te,Le,De,Pe)}),Se("filtered")}function Aa(){return Fe}function Cy(){return Ue}function a0(de,ke){var jt=[],xt=Bn,ln,De=0;for(ke&&ke>0&&(De=ke);--xt>=Ln&&de>0;)c.zero(ln=an[xt])&&(De>0?--De:(jt.push(i[ln]),--de));if(kt)for(xt=0;xt<Kt.length&&de>0;xt++)c.zero(ln=Kt[xt])&&(De>0?--De:(jt.push(i[ln]),--de));return jt}function s0(de,ke){var jt=[],xt,ln,De=0;if(ke&&ke>0&&(De=ke),kt)for(xt=0;xt<Kt.length&&de>0;xt++)c.zero(ln=Kt[xt])&&(De>0?--De:(jt.push(i[ln]),--de));for(xt=Ln;xt<Bn&&de>0;)c.zero(ln=an[xt])&&(De>0?--De:(jt.push(i[ln]),--de)),xt++;return jt}function nl(de){var ke={top:Bw,all:Br,reduce:u0,reduceCount:Ty,reduceSum:Oy,order:Ry,orderNatural:Yw,size:Uw,dispose:l0,remove:l0};On.push(ke);var jt,xt,ln=8,De=wt(ln),Pe=0,or,Ir,Fr,Sr,Mi,gr=Pt,qn=Pt,Hr=!0,Bi=de===Pt,ro;arguments.length<1&&(de=It),p.push(gr),Vn.push(Go),v.push(Nc),Go(Xe,an,0,u);function Go(Ae,An,In,Or){kt&&(ro=In,In=Xe.length-Ae.length,Or=Ae.length);var Mn=jt,fn=kt?[]:At(Pe,De),Fn=Fr,rr=Sr,Yr=Mi,Zr=Pe,Kr=0,Vo=0,Va,rl,Ih,io,qo,c0;for(Hr&&(Fn=Yr=Pt),Hr&&(rr=Yr=Pt),jt=new Array(Pe),Pe=0,kt?xt=Zr?xt:[]:xt=Zr>1?ye.arrayLengthen(xt,u):At(u,De),Zr&&(Ih=(rl=Mn[0]).key);Vo<Or&&!((io=de(Ae[Vo]))>=io);)++Vo;for(;Vo<Or;){for(rl&&Ih<=io?(qo=rl,c0=Ih,fn[Kr]=Pe,rl=Mn[++Kr],rl&&(Ih=rl.key)):(qo={key:io,value:Yr()},c0=io),jt[Pe]=qo;io<=c0&&(Va=An[Vo]+(kt?ro:In),kt?xt[Va]?xt[Va].push(Pe):xt[Va]=[Pe]:xt[Va]=Pe,qo.value=Fn(qo.value,i[Va],!0),c.zeroExcept(Va,Le,Ye)||(qo.value=rr(qo.value,i[Va],!1)),!(++Vo>=Or));)io=de(Ae[Vo]);f0()}for(;Kr<Zr;)jt[fn[Kr]=Pe]=Mn[Kr++],f0();if(kt)for(var Ms=0;Ms<u;Ms++)xt[Ms]||(xt[Ms]=[]);if(Pe>Kr)if(kt)for(Kr=0;Kr<ro;++Kr)for(Ms=0;Ms<xt[Kr].length;Ms++)xt[Kr][Ms]=fn[xt[Kr][Ms]];else for(Kr=0;Kr<In;++Kr)xt[Kr]=fn[xt[Kr]];Va=p.indexOf(gr),Pe>1||kt?(gr=Xo,qn=Lc):(!Pe&&Bi&&(Pe=1,jt=[{key:null,value:Yr()}]),Pe===1?(gr=Yi,qn=xi):(gr=Pt,qn=Pt),xt=null),p[Va]=gr;function f0(){if(kt){Pe++;return}++Pe===De&&(fn=ye.arrayWiden(fn,ln<<=1),xt=ye.arrayWiden(xt,ln),De=wt(ln))}}function Nc(Ae){if(Pe>1||kt){var An=Pe,In=jt,Or=At(An,An),Mn,fn,Fn;if(kt){for(Mn=0,Fn=0;Mn<u;++Mn)if(Ae[Mn]!==E){for(xt[Fn]=xt[Mn],fn=0;fn<xt[Fn].length;fn++)Or[xt[Fn][fn]]=1;++Fn}xt=xt.slice(0,Fn)}else for(Mn=0,Fn=0;Mn<u;++Mn)Ae[Mn]!==E&&(Or[xt[Fn]=xt[Mn]]=1,++Fn);for(jt=[],Pe=0,Mn=0;Mn<An;++Mn)Or[Mn]&&(Or[Mn]=Pe++,jt.push(In[Mn]));if(Pe>1||kt)if(kt)for(Mn=0;Mn<Fn;++Mn)for(fn=0;fn<xt[Mn].length;++fn)xt[Mn][fn]=Or[xt[Mn][fn]];else for(Mn=0;Mn<Fn;++Mn)xt[Mn]=Or[xt[Mn]];else xt=null;p[p.indexOf(gr)]=Pe>1||kt?(qn=Lc,gr=Xo):Pe===1?(qn=xi,gr=Yi):qn=gr=Pt}else if(Pe===1){if(Bi)return;for(var rr=0;rr<u;++rr)if(Ae[rr]!==E)return;jt=[],Pe=0,p[p.indexOf(gr)]=gr=qn=Pt}}function Xo(Ae,An,In,Or,Mn){if(!(Ae===Te&&An===Le||Hr)){var fn,Fn,rr,Yr,Zr;if(kt){for(fn=0,Yr=In.length;fn<Yr;++fn)if(c.zeroExcept(rr=In[fn],Le,Ye))for(Fn=0;Fn<xt[rr].length;Fn++)Zr=jt[xt[rr][Fn]],Zr.value=Fr(Zr.value,i[rr],!1,Fn);for(fn=0,Yr=Or.length;fn<Yr;++fn)if(c.onlyExcept(rr=Or[fn],Le,Ye,An,Ae))for(Fn=0;Fn<xt[rr].length;Fn++)Zr=jt[xt[rr][Fn]],Zr.value=Sr(Zr.value,i[rr],Mn,Fn);return}for(fn=0,Yr=In.length;fn<Yr;++fn)c.zeroExcept(rr=In[fn],Le,Ye)&&(Zr=jt[xt[rr]],Zr.value=Fr(Zr.value,i[rr],!1));for(fn=0,Yr=Or.length;fn<Yr;++fn)c.onlyExcept(rr=Or[fn],Le,Ye,An,Ae)&&(Zr=jt[xt[rr]],Zr.value=Sr(Zr.value,i[rr],Mn))}}function Yi(Ae,An,In,Or,Mn){if(!(Ae===Te&&An===Le||Hr)){var fn,Fn,rr,Yr=jt[0];for(fn=0,rr=In.length;fn<rr;++fn)c.zeroExcept(Fn=In[fn],Le,Ye)&&(Yr.value=Fr(Yr.value,i[Fn],!1));for(fn=0,rr=Or.length;fn<rr;++fn)c.onlyExcept(Fn=Or[fn],Le,Ye,An,Ae)&&(Yr.value=Sr(Yr.value,i[Fn],Mn))}}function Lc(){var Ae,An,In;for(Ae=0;Ae<Pe;++Ae)jt[Ae].value=Mi();if(kt){for(Ae=0;Ae<u;++Ae)for(An=0;An<xt[Ae].length;An++)In=jt[xt[Ae][An]],In.value=Fr(In.value,i[Ae],!0,An);for(Ae=0;Ae<u;++Ae)if(!c.zeroExcept(Ae,Le,Ye))for(An=0;An<xt[Ae].length;An++)In=jt[xt[Ae][An]],In.value=Sr(In.value,i[Ae],!1,An);return}for(Ae=0;Ae<u;++Ae)In=jt[xt[Ae]],In.value=Fr(In.value,i[Ae],!0);for(Ae=0;Ae<u;++Ae)c.zeroExcept(Ae,Le,Ye)||(In=jt[xt[Ae]],In.value=Sr(In.value,i[Ae],!1))}function xi(){var Ae,An=jt[0];for(An.value=Mi(),Ae=0;Ae<u;++Ae)An.value=Fr(An.value,i[Ae],!0);for(Ae=0;Ae<u;++Ae)c.zeroExcept(Ae,Le,Ye)||(An.value=Sr(An.value,i[Ae],!1))}function Br(){return Hr&&(qn(),Hr=!1),jt}function Bw(Ae){var An=or(Br(),0,jt.length,Ae);return Ir.sort(An,0,An.length)}function u0(Ae,An,In){return Fr=Ae,Sr=An,Mi=In,Hr=!0,ke}function Ty(){return u0(Rt.reduceIncrement,Rt.reduceDecrement,j)}function Oy(Ae){return u0(Rt.reduceAdd(Ae),Rt.reduceSubtract(Ae),j)}function Ry(Ae){or=yt.by(An),Ir=$t.by(An);function An(In){return Ae(In.value)}return ke}function Yw(){return Ry(It)}function Uw(){return Pe}function l0(){var Ae=p.indexOf(gr);return Ae>=0&&p.splice(Ae,1),Ae=Vn.indexOf(Go),Ae>=0&&Vn.splice(Ae,1),Ae=v.indexOf(Nc),Ae>=0&&v.splice(Ae,1),Ae=On.indexOf(ke),Ae>=0&&On.splice(Ae,1),ke}return Ty().orderNatural()}function My(){var de=nl(Pt),ke=de.all;return delete de.all,delete de.top,delete de.order,delete de.orderNatural,delete de.size,de.value=function(){return ke()[0].value},de}function o0(){On.forEach(function(ke){ke.dispose()});var de=y.indexOf(nn);return de>=0&&y.splice(de,1),de=y.indexOf(gn),de>=0&&y.splice(de,1),de=v.indexOf(ue),de>=0&&v.splice(de,1),c.masks[Le]&=Ye,Ze()}return _e}function vt(){var Lt={reduce:an,reduceCount:un,reduceSum:bt,value:pe,dispose:Nt,remove:Nt},kt,xe,_e,Te,Ye=!0;p.push(bn),y.push(Le),Le(i,0,u);function Le(Kt,ze){var ve;if(!Ye)for(ve=ze;ve<u;++ve)kt=xe(kt,i[ve],!0),c.zero(ve)||(kt=_e(kt,i[ve],!1))}function bn(Kt,ze,ve,Ee,Fe){var Ue,Vn,On;if(!Ye){for(Ue=0,On=ve.length;Ue<On;++Ue)c.zero(Vn=ve[Ue])&&(kt=xe(kt,i[Vn],Fe));for(Ue=0,On=Ee.length;Ue<On;++Ue)c.only(Vn=Ee[Ue],ze,Kt)&&(kt=_e(kt,i[Vn],Fe))}}function Xe(){var Kt;for(kt=Te(),Kt=0;Kt<u;++Kt)kt=xe(kt,i[Kt],!0),c.zero(Kt)||(kt=_e(kt,i[Kt],!1))}function an(Kt,ze,ve){return xe=Kt,_e=ze,Te=ve,Ye=!0,Lt}function un(){return an(Rt.reduceIncrement,Rt.reduceDecrement,j)}function bt(Kt){return an(Rt.reduceAdd(Kt),Rt.reduceSubtract(Kt),j)}function pe(){return Ye&&(Xe(),Ye=!1),kt}function Nt(){var Kt=p.indexOf(bn);return Kt>=0&&p.splice(Kt,1),Kt=y.indexOf(Le),Kt>=0&&y.splice(Kt,1),Lt}return un()}function we(){return u}function Ie(){return i}function ne(Lt){var kt=[],xe=0,_e=P(Lt||[]);for(xe=0;xe<u;xe++)c.zeroExceptMask(xe,_e)&&kt.push(i[xe]);return kt}function oe(Lt){if(typeof Lt!="function"){console.warn("onChange callback parameter must be a function!");return}return A.push(Lt),function(){A.splice(A.indexOf(Lt),1)}}function Se(Lt){for(var kt=0;kt<A.length;kt++)A[kt](Lt)}return arguments.length?C(arguments[0]):n}function At(n,i){return(i<257?ye.array8:i<65537?ye.array16:ye.array32)(n)}function ct(n){for(var i=At(n,n),u=-1;++u<n;)i[u]=u;return i}function wt(n){return n===8?256:n===16?65536:4294967296}function Gt(){}function Ht(n){return n==null?Gt:function(){return this.querySelector(n)}}function Ot(n){typeof n!="function"&&(n=Ht(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=new Array(v),C,R,P=0;P<v;++P)(C=y[P])&&(R=n.call(C,C.__data__,P,y))&&("__data__"in C&&(R.__data__=C.__data__),A[P]=R);return new Wr(c,this._parents)}function Qe(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function sn(){return[]}function He(n){return n==null?sn:function(){return this.querySelectorAll(n)}}function rn(n){return function(){return Qe(n.apply(this,arguments))}}function xn(n){typeof n=="function"?n=rn(n):n=He(n);for(var i=this._groups,u=i.length,c=[],p=[],y=0;y<u;++y)for(var v=i[y],A=v.length,C,R=0;R<A;++R)(C=v[R])&&(c.push(n.call(C,C.__data__,R,v)),p.push(C));return new Wr(c,p)}function En(n){return function(){return this.matches(n)}}function Re(n){return function(i){return i.matches(n)}}var zn=Array.prototype.find;function wn(n){return function(){return zn.call(this.children,n)}}function pn(){return this.firstElementChild}function Gn(n){return this.select(n==null?pn:wn(typeof n=="function"?n:Re(n)))}var Rn=Array.prototype.filter;function Un(){return Array.from(this.children)}function Hn(n){return function(){return Rn.call(this.children,n)}}function ir(n){return this.selectAll(n==null?Un:Hn(typeof n=="function"?n:Re(n)))}function jn(n){typeof n!="function"&&(n=En(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=[],C,R=0;R<v;++R)(C=y[R])&&n.call(C,C.__data__,R,y)&&A.push(C);return new Wr(c,this._parents)}function pr(n){return new Array(n.length)}function Rr(){return new Wr(this._enter||this._groups.map(pr),this._parents)}function _r(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}_r.prototype={constructor:_r,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function ra(n){return function(){return n}}function jr(n,i,u,c,p,y){for(var v=0,A,C=i.length,R=y.length;v<R;++v)(A=i[v])?(A.__data__=y[v],c[v]=A):u[v]=new _r(n,y[v]);for(;v<C;++v)(A=i[v])&&(p[v]=A)}function oi(n,i,u,c,p,y,v){var A,C,R=new Map,P=i.length,et=y.length,at=new Array(P),vt;for(A=0;A<P;++A)(C=i[A])&&(at[A]=vt=v.call(C,C.__data__,A,i)+"",R.has(vt)?p[A]=C:R.set(vt,C));for(A=0;A<et;++A)vt=v.call(n,y[A],A,y)+"",(C=R.get(vt))?(c[A]=C,C.__data__=y[A],R.delete(vt)):u[A]=new _r(n,y[A]);for(A=0;A<P;++A)(C=i[A])&&R.get(at[A])===C&&(p[A]=C)}function vr(n){return n.__data__}function Ts(n,i){if(!arguments.length)return Array.from(this,vr);var u=i?oi:jr,c=this._parents,p=this._groups;typeof n!="function"&&(n=ra(n));for(var y=p.length,v=new Array(y),A=new Array(y),C=new Array(y),R=0;R<y;++R){var P=c[R],et=p[R],at=et.length,vt=Ri(n.call(P,P&&P.__data__,R,c)),we=vt.length,Ie=A[R]=new Array(we),ne=v[R]=new Array(we),oe=C[R]=new Array(at);u(P,et,Ie,ne,oe,vt,i);for(var Se=0,Lt=0,kt,xe;Se<we;++Se)if(kt=Ie[Se]){for(Se>=Lt&&(Lt=Se+1);!(xe=ne[Lt])&&++Lt<we;);kt._next=xe||null}}return v=new Wr(v,c),v._enter=A,v._exit=C,v}function Ri(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Sa(){return new Wr(this._exit||this._groups.map(pr),this._parents)}function ia(n,i,u){var c=this.enter(),p=this,y=this.exit();return typeof n=="function"?(c=n(c),c&&(c=c.selection())):c=c.append(n+""),i!=null&&(p=i(p),p&&(p=p.selection())),u==null?y.remove():u(y),c&&p?c.merge(p).order():p}function aa(n){for(var i=n.selection?n.selection():n,u=this._groups,c=i._groups,p=u.length,y=c.length,v=Math.min(p,y),A=new Array(p),C=0;C<v;++C)for(var R=u[C],P=c[C],et=R.length,at=A[C]=new Array(et),vt,we=0;we<et;++we)(vt=R[we]||P[we])&&(at[we]=vt);for(;C<p;++C)A[C]=u[C];return new Wr(A,this._parents)}function Os(){for(var n=this._groups,i=-1,u=n.length;++i<u;)for(var c=n[i],p=c.length-1,y=c[p],v;--p>=0;)(v=c[p])&&(y&&v.compareDocumentPosition(y)^4&&y.parentNode.insertBefore(v,y),y=v);return this}function sa(n){n||(n=Ka);function i(et,at){return et&&at?n(et.__data__,at.__data__):!et-!at}for(var u=this._groups,c=u.length,p=new Array(c),y=0;y<c;++y){for(var v=u[y],A=v.length,C=p[y]=new Array(A),R,P=0;P<A;++P)(R=v[P])&&(C[P]=R);C.sort(i)}return new Wr(p,this._parents).order()}function Ka(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function Ca(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Ma(){return Array.from(this)}function $i(){for(var n=this._groups,i=0,u=n.length;i<u;++i)for(var c=n[i],p=0,y=c.length;p<y;++p){var v=c[p];if(v)return v}return null}function ja(){let n=0;for(const i of this)++n;return n}function Ta(){return!this.node()}function Ko(n){for(var i=this._groups,u=0,c=i.length;u<c;++u)for(var p=i[u],y=0,v=p.length,A;y<v;++y)(A=p[y])&&n.call(A,A.__data__,y,p);return this}var Rs="http://www.w3.org/1999/xhtml",jo={svg:"http://www.w3.org/2000/svg",xhtml:Rs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gi(n){var i=n+="",u=i.indexOf(":");return u>=0&&(i=n.slice(0,u))!=="xmlns"&&(n=n.slice(u+1)),jo.hasOwnProperty(i)?{space:jo[i],local:n}:n}function Es(n){return function(){this.removeAttribute(n)}}function oa(n){return function(){this.removeAttributeNS(n.space,n.local)}}function ll(n,i){return function(){this.setAttribute(n,i)}}function Ds(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function Ps(n,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttribute(n):this.setAttribute(n,u)}}function Jo(n,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,u)}}function cl(n,i){var u=Gi(n);if(arguments.length<2){var c=this.node();return u.local?c.getAttributeNS(u.space,u.local):c.getAttribute(u)}return this.each((i==null?u.local?oa:Es:typeof i=="function"?u.local?Jo:Ps:u.local?Ds:ll)(u,i))}function ui(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Jr(n){return function(){this.style.removeProperty(n)}}function fl(n,i,u){return function(){this.style.setProperty(n,i,u)}}function so(n,i,u){return function(){var c=i.apply(this,arguments);c==null?this.style.removeProperty(n):this.style.setProperty(n,c,u)}}function hl(n,i,u){return arguments.length>1?this.each((i==null?Jr:typeof i=="function"?so:fl)(n,i,u==null?"":u)):Oa(this.node(),n)}function Oa(n,i){return n.style.getPropertyValue(i)||ui(n).getComputedStyle(n,null).getPropertyValue(i)}function Xi(n){return function(){delete this[n]}}function dl(n,i){return function(){this[n]=i}}function ks(n,i){return function(){var u=i.apply(this,arguments);u==null?delete this[n]:this[n]=u}}function Qo(n,i){return arguments.length>1?this.each((i==null?Xi:typeof i=="function"?ks:dl)(n,i)):this.node()[n]}function oo(n){return n.trim().split(/^|\s+/)}function uo(n){return n.classList||new Ra(n)}function Ra(n){this._node=n,this._names=oo(n.getAttribute("class")||"")}Ra.prototype={add:function(n){var i=this._names.indexOf(n);i<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function tu(n,i){for(var u=uo(n),c=-1,p=i.length;++c<p;)u.add(i[c])}function eu(n,i){for(var u=uo(n),c=-1,p=i.length;++c<p;)u.remove(i[c])}function Vi(n){return function(){tu(this,n)}}function nu(n){return function(){eu(this,n)}}function gl(n,i){return function(){(i.apply(this,arguments)?tu:eu)(this,n)}}function ru(n,i){var u=oo(n+"");if(arguments.length<2){for(var c=uo(this.node()),p=-1,y=u.length;++p<y;)if(!c.contains(u[p]))return!1;return!0}return this.each((typeof i=="function"?gl:i?Vi:nu)(u,i))}function pl(){this.textContent=""}function iu(n){return function(){this.textContent=n}}function au(n){return function(){var i=n.apply(this,arguments);this.textContent=i==null?"":i}}function Ns(n){return arguments.length?this.each(n==null?pl:(typeof n=="function"?au:iu)(n)):this.node().textContent}function lo(){this.innerHTML=""}function Ja(n){return function(){this.innerHTML=n}}function su(n){return function(){var i=n.apply(this,arguments);this.innerHTML=i==null?"":i}}function Qa(n){return arguments.length?this.each(n==null?lo:(typeof n=="function"?su:Ja)(n)):this.node().innerHTML}function _l(){this.nextSibling&&this.parentNode.appendChild(this)}function Ls(){return this.each(_l)}function Ea(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zs(){return this.each(Ea)}function wi(n){return function(){var i=this.ownerDocument,u=this.namespaceURI;return u===Rs&&i.documentElement.namespaceURI===Rs?i.createElement(n):i.createElementNS(u,n)}}function Da(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function ts(n){var i=Gi(n);return(i.local?Da:wi)(i)}function ou(n){var i=typeof n=="function"?n:ts(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function es(){return null}function ua(n,i){var u=typeof n=="function"?n:ts(n),c=i==null?es:typeof i=="function"?i:Ht(i);return this.select(function(){return this.insertBefore(u.apply(this,arguments),c.apply(this,arguments)||null)})}function uu(){var n=this.parentNode;n&&n.removeChild(this)}function ns(){return this.each(uu)}function qi(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function ml(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function lu(n){return this.select(n?ml:qi)}function yl(n){return arguments.length?this.property("__data__",n):this.node().__data__}function cu(n){return function(i){n.call(this,i,this.__data__)}}function fu(n){return n.trim().split(/^|\s+/).map(function(i){var u="",c=i.indexOf(".");return c>=0&&(u=i.slice(c+1),i=i.slice(0,c)),{type:i,name:u}})}function li(n){return function(){var i=this.__on;if(!!i){for(var u=0,c=-1,p=i.length,y;u<p;++u)y=i[u],(!n.type||y.type===n.type)&&y.name===n.name?this.removeEventListener(y.type,y.listener,y.options):i[++c]=y;++c?i.length=c:delete this.__on}}}function hu(n,i,u){return function(){var c=this.__on,p,y=cu(i);if(c){for(var v=0,A=c.length;v<A;++v)if((p=c[v]).type===n.type&&p.name===n.name){this.removeEventListener(p.type,p.listener,p.options),this.addEventListener(p.type,p.listener=y,p.options=u),p.value=i;return}}this.addEventListener(n.type,y,u),p={type:n.type,name:n.name,value:i,listener:y,options:u},c?c.push(p):this.__on=[p]}}function vl(n,i,u){var c=fu(n+""),p,y=c.length,v;if(arguments.length<2){var A=this.node().__on;if(A){for(var C=0,R=A.length,P;C<R;++C)for(p=0,P=A[C];p<y;++p)if((v=c[p]).type===P.type&&v.name===P.name)return P.value}return}for(A=i?hu:li,p=0;p<y;++p)this.each(A(c[p],i,u));return this}function Zi(n,i,u){var c=ui(n),p=c.CustomEvent;typeof p=="function"?p=new p(i,u):(p=c.document.createEvent("Event"),u?(p.initEvent(i,u.bubbles,u.cancelable),p.detail=u.detail):p.initEvent(i,!1,!1)),n.dispatchEvent(p)}function Pa(n,i){return function(){return Zi(this,n,i)}}function co(n,i){return function(){return Zi(this,n,i.apply(this,arguments))}}function rs(n,i){return this.each((typeof i=="function"?co:Pa)(n,i))}function*du(){for(var n=this._groups,i=0,u=n.length;i<u;++i)for(var c=n[i],p=0,y=c.length,v;p<y;++p)(v=c[p])&&(yield v)}var Is=[null];function Wr(n,i){this._groups=n,this._parents=i}function Ki(){return new Wr([[document.documentElement]],Is)}function gu(){return this}Wr.prototype=Ki.prototype={constructor:Wr,select:Ot,selectAll:xn,selectChild:Gn,selectChildren:ir,filter:jn,data:Ts,enter:Rr,exit:Sa,join:ia,merge:aa,selection:gu,order:Os,sort:sa,call:Ca,nodes:Ma,node:$i,size:ja,empty:Ta,each:Ko,attr:cl,style:hl,property:Qo,classed:ru,text:Ns,html:Qa,raise:Ls,lower:zs,append:ou,insert:ua,remove:ns,clone:lu,datum:yl,on:vl,dispatch:rs,[Symbol.iterator]:du};var ka=Ki,fo={value:function(){}};function ho(){for(var n=0,i=arguments.length,u={},c;n<i;++n){if(!(c=arguments[n]+"")||c in u||/[\s.]/.test(c))throw new Error("illegal type: "+c);u[c]=[]}return new X(u)}function X(n){this._=n}function ft(n,i){return n.trim().split(/^|\s+/).map(function(u){var c="",p=u.indexOf(".");if(p>=0&&(c=u.slice(p+1),u=u.slice(0,p)),u&&!i.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:c}})}X.prototype=ho.prototype={constructor:X,on:function(i,u){var c=this._,p=ft(i+"",c),y,v=-1,A=p.length;if(arguments.length<2){for(;++v<A;)if((y=(i=p[v]).type)&&(y=ee(c[y],i.name)))return y;return}if(u!=null&&typeof u!="function")throw new Error("invalid callback: "+u);for(;++v<A;)if(y=(i=p[v]).type)c[y]=k(c[y],i.name,u);else if(u==null)for(y in c)c[y]=k(c[y],i.name,null);return this},copy:function(){var i={},u=this._;for(var c in u)i[c]=u[c].slice();return new X(i)},call:function(i,u){if((y=arguments.length-2)>0)for(var c=new Array(y),p=0,y,v;p<y;++p)c[p]=arguments[p+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(v=this._[i],p=0,y=v.length;p<y;++p)v[p].value.apply(u,c)},apply:function(i,u,c){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var p=this._[i],y=0,v=p.length;y<v;++y)p[y].value.apply(u,c)}};function ee(n,i){for(var u=0,c=n.length,p;u<c;++u)if((p=n[u]).name===i)return p.value}function k(n,i,u){for(var c=0,p=n.length;c<p;++c)if(n[c].name===i){n[c]=fo,n=n.slice(0,c).concat(n.slice(c+1));break}return u!=null&&n.push({name:i,value:u}),n}var s=ho,d=0,b=0,T=0,Y=1e3,q,Vt,le=0,Ge=0,en=0,_n=typeof performance=="object"&&performance.now?performance:Date,We=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Jn(){return Ge||(We(je),Ge=_n.now()+en)}function je(){Ge=0}function Nn(){this._call=this._time=this._next=null}Nn.prototype=Je.prototype={constructor:Nn,restart:function(n,i,u){if(typeof n!="function")throw new TypeError("callback is not a function");u=(u==null?Jn():+u)+(i==null?0:+i),!this._next&&Vt!==this&&(Vt?Vt._next=this:q=this,Vt=this),this._call=n,this._time=u,la()},stop:function(){this._call&&(this._call=null,this._time=Infinity,la())}};function Je(n,i,u){var c=new Nn;return c.restart(n,i,u),c}function on(){Jn(),++d;for(var n=q,i;n;)(i=Ge-n._time)>=0&&n._call.call(void 0,i),n=n._next;--d}function Wn(){Ge=(le=_n.now())+en,d=b=0;try{on()}finally{d=0,Qr(),Ge=0}}function Fs(){var n=_n.now(),i=n-le;i>Y&&(en-=i,le=n)}function Qr(){for(var n,i=q,u,c=Infinity;i;)i._call?(c>i._time&&(c=i._time),n=i,i=i._next):(u=i._next,i._next=null,i=n?n._next=u:q=u);Vt=n,la(c)}function la(n){if(!d){b&&(b=clearTimeout(b));var i=n-Ge;i>24?(n<Infinity&&(b=setTimeout(Wn,n-_n.now()-en)),T&&(T=clearInterval(T))):(T||(le=_n.now(),T=setInterval(Fs,Y)),d=1,We(Wn))}}function Hs(n,i,u){var c=new Nn;return i=i==null?0:+i,c.restart(p=>{c.stop(),n(p+i)},i,u),c}var go=s("start","end","cancel","interrupt"),po=[],ci=0,ji=1,Ei=2,Ji=3,mn=4,$r=5,Bs=6;function _o(n,i,u,c,p,y){var v=n.__transition;if(!v)n.__transition={};else if(u in v)return;_u(n,u,{name:i,index:c,group:p,on:go,tween:po,time:y.time,delay:y.delay,duration:y.duration,ease:y.ease,timer:null,state:ci})}function pu(n,i){var u=ti(n,i);if(u.state>ci)throw new Error("too late; already scheduled");return u}function Ai(n,i){var u=ti(n,i);if(u.state>Ji)throw new Error("too late; already running");return u}function ti(n,i){var u=n.__transition;if(!u||!(u=u[i]))throw new Error("transition not found");return u}function _u(n,i,u){var c=n.__transition,p;c[i]=u,u.timer=Je(y,0,u.time);function y(R){u.state=ji,u.timer.restart(v,u.delay,u.time),u.delay<=R&&v(R-u.delay)}function v(R){var P,et,at,vt;if(u.state!==ji)return C();for(P in c)if(vt=c[P],vt.name===u.name){if(vt.state===Ji)return Hs(v);vt.state===mn?(vt.state=Bs,vt.timer.stop(),vt.on.call("interrupt",n,n.__data__,vt.index,vt.group),delete c[P]):+P<i&&(vt.state=Bs,vt.timer.stop(),vt.on.call("cancel",n,n.__data__,vt.index,vt.group),delete c[P])}if(Hs(function(){u.state===Ji&&(u.state=mn,u.timer.restart(A,u.delay,u.time),A(R))}),u.state=Ei,u.on.call("start",n,n.__data__,u.index,u.group),u.state===Ei){for(u.state=Ji,p=new Array(at=u.tween.length),P=0,et=-1;P<at;++P)(vt=u.tween[P].value.call(n,n.__data__,u.index,u.group))&&(p[++et]=vt);p.length=et+1}}function A(R){for(var P=R<u.duration?u.ease.call(null,R/u.duration):(u.timer.restart(C),u.state=$r,1),et=-1,at=p.length;++et<at;)p[et].call(n,P);u.state===$r&&(u.on.call("end",n,n.__data__,u.index,u.group),C())}function C(){u.state=Bs,u.timer.stop(),delete c[i];for(var R in c)return;delete n.__transition}}function bl(n,i){var u=n.__transition,c,p,y=!0,v;if(!!u){i=i==null?null:i+"";for(v in u){if((c=u[v]).name!==i){y=!1;continue}p=c.state>Ei&&c.state<$r,c.state=Bs,c.timer.stop(),c.on.call(p?"interrupt":"cancel",n,n.__data__,c.index,c.group),delete u[v]}y&&delete n.__transition}}function tn(n){return this.each(function(){bl(this,n)})}function Qn(n,i){return n=+n,i=+i,function(u){return n*(1-u)+i*u}}var xl=180/Math.PI,fi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Na(n,i,u,c,p,y){var v,A,C;return(v=Math.sqrt(n*n+i*i))&&(n/=v,i/=v),(C=n*u+i*c)&&(u-=n*C,c-=i*C),(A=Math.sqrt(u*u+c*c))&&(u/=A,c/=A,C/=A),n*c<i*u&&(n=-n,i=-i,C=-C,v=-v),{translateX:p,translateY:y,rotate:Math.atan2(i,n)*xl,skewX:Math.atan(C)*xl,scaleX:v,scaleY:A}}var Ic;function Vy(n){var i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?fi:Na(i.a,i.b,i.c,i.d,i.e,i.f)}function qy(n){return n==null||(Ic||(Ic=document.createElementNS("http://www.w3.org/2000/svg","g")),Ic.setAttribute("transform",n),!(n=Ic.transform.baseVal.consolidate()))?fi:(n=n.matrix,Na(n.a,n.b,n.c,n.d,n.e,n.f))}function Uh(n,i,u,c){function p(R){return R.length?R.pop()+" ":""}function y(R,P,et,at,vt,we){if(R!==et||P!==at){var Ie=vt.push("translate(",null,i,null,u);we.push({i:Ie-4,x:Qn(R,et)},{i:Ie-2,x:Qn(P,at)})}else(et||at)&&vt.push("translate("+et+i+at+u)}function v(R,P,et,at){R!==P?(R-P>180?P+=360:P-R>180&&(R+=360),at.push({i:et.push(p(et)+"rotate(",null,c)-2,x:Qn(R,P)})):P&&et.push(p(et)+"rotate("+P+c)}function A(R,P,et,at){R!==P?at.push({i:et.push(p(et)+"skewX(",null,c)-2,x:Qn(R,P)}):P&&et.push(p(et)+"skewX("+P+c)}function C(R,P,et,at,vt,we){if(R!==et||P!==at){var Ie=vt.push(p(vt)+"scale(",null,",",null,")");we.push({i:Ie-4,x:Qn(R,et)},{i:Ie-2,x:Qn(P,at)})}else(et!==1||at!==1)&&vt.push(p(vt)+"scale("+et+","+at+")")}return function(R,P){var et=[],at=[];return R=n(R),P=n(P),y(R.translateX,R.translateY,P.translateX,P.translateY,et,at),v(R.rotate,P.rotate,et,at),A(R.skewX,P.skewX,et,at),C(R.scaleX,R.scaleY,P.scaleX,P.scaleY,et,at),R=P=null,function(vt){for(var we=-1,Ie=at.length,ne;++we<Ie;)et[(ne=at[we]).i]=ne.x(vt);return et.join("")}}}var Wh=Uh(Vy,"px, ","px)","deg)"),_0=Uh(qy,", ",")",")");function m0(n,i){var u,c;return function(){var p=Ai(this,n),y=p.tween;if(y!==u){c=u=y;for(var v=0,A=c.length;v<A;++v)if(c[v].name===i){c=c.slice(),c.splice(v,1);break}}p.tween=c}}function y0(n,i,u){var c,p;if(typeof u!="function")throw new Error;return function(){var y=Ai(this,n),v=y.tween;if(v!==c){p=(c=v).slice();for(var A={name:i,value:u},C=0,R=p.length;C<R;++C)if(p[C].name===i){p[C]=A;break}C===R&&p.push(A)}y.tween=p}}function Zy(n,i){var u=this._id;if(n+="",arguments.length<2){for(var c=ti(this.node(),u).tween,p=0,y=c.length,v;p<y;++p)if((v=c[p]).name===n)return v.value;return null}return this.each((i==null?m0:y0)(u,n,i))}function $h(n,i,u){var c=n._id;return n.each(function(){var p=Ai(this,c);(p.value||(p.value={}))[i]=u.apply(this,arguments)}),function(p){return ti(p,c).value[i]}}function Gh(n,i,u){n.prototype=i.prototype=u,u.constructor=n}function v0(n,i){var u=Object.create(n.prototype);for(var c in i)u[c]=i[c];return u}function wl(){}var Al=.7,Fc=1/Al,mu="\\s*([+-]?\\d+)\\s*",Sl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",La="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ky=/^#([0-9a-f]{3,8})$/,jy=new RegExp("^rgb\\("+[mu,mu,mu]+"\\)$"),Jy=new RegExp("^rgb\\("+[La,La,La]+"\\)$"),Qy=new RegExp("^rgba\\("+[mu,mu,mu,Sl]+"\\)$"),tv=new RegExp("^rgba\\("+[La,La,La,Sl]+"\\)$"),ev=new RegExp("^hsl\\("+[Sl,La,La]+"\\)$"),nv=new RegExp("^hsla\\("+[Sl,La,La,Sl]+"\\)$"),b0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gh(wl,Ml,{copy:function(i){return Object.assign(new this.constructor,this,i)},displayable:function(){return this.rgb().displayable()},hex:Cl,formatHex:Cl,formatHsl:rv,formatRgb:x0,toString:x0});function Cl(){return this.rgb().formatHex()}function rv(){return M0(this).formatHsl()}function x0(){return this.rgb().formatRgb()}function Ml(n){var i,u;return n=(n+"").trim().toLowerCase(),(i=Ky.exec(n))?(u=i[1].length,i=parseInt(i[1],16),u===6?w0(i):u===3?new Di(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):u===8?Hc(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):u===4?Hc(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=jy.exec(n))?new Di(i[1],i[2],i[3],1):(i=Jy.exec(n))?new Di(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=Qy.exec(n))?Hc(i[1],i[2],i[3],i[4]):(i=tv.exec(n))?Hc(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=ev.exec(n))?C0(i[1],i[2]/100,i[3]/100,1):(i=nv.exec(n))?C0(i[1],i[2]/100,i[3]/100,i[4]):b0.hasOwnProperty(n)?w0(b0[n]):n==="transparent"?new Di(NaN,NaN,NaN,0):null}function w0(n){return new Di(n>>16&255,n>>8&255,n&255,1)}function Hc(n,i,u,c){return c<=0&&(n=i=u=NaN),new Di(n,i,u,c)}function iv(n){return n instanceof wl||(n=Ml(n)),n?(n=n.rgb(),new Di(n.r,n.g,n.b,n.opacity)):new Di}function Bc(n,i,u,c){return arguments.length===1?iv(n):new Di(n,i,u,c==null?1:c)}function Di(n,i,u,c){this.r=+n,this.g=+i,this.b=+u,this.opacity=+c}Gh(Di,Bc,v0(wl,{brighter:function(i){return i=i==null?Fc:Math.pow(Fc,i),new Di(this.r*i,this.g*i,this.b*i,this.opacity)},darker:function(i){return i=i==null?Al:Math.pow(Al,i),new Di(this.r*i,this.g*i,this.b*i,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A0,formatHex:A0,formatRgb:S0,toString:S0}));function A0(){return"#"+Xh(this.r)+Xh(this.g)+Xh(this.b)}function S0(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function Xh(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function C0(n,i,u,c){return c<=0?n=i=u=NaN:u<=0||u>=1?n=i=NaN:i<=0&&(n=NaN),new ca(n,i,u,c)}function M0(n){if(n instanceof ca)return new ca(n.h,n.s,n.l,n.opacity);if(n instanceof wl||(n=Ml(n)),!n)return new ca;if(n instanceof ca)return n;n=n.rgb();var i=n.r/255,u=n.g/255,c=n.b/255,p=Math.min(i,u,c),y=Math.max(i,u,c),v=NaN,A=y-p,C=(y+p)/2;return A?(i===y?v=(u-c)/A+(u<c)*6:u===y?v=(c-i)/A+2:v=(i-u)/A+4,A/=C<.5?y+p:2-y-p,v*=60):A=C>0&&C<1?0:v,new ca(v,A,C,n.opacity)}function av(n,i,u,c){return arguments.length===1?M0(n):new ca(n,i,u,c==null?1:c)}function ca(n,i,u,c){this.h=+n,this.s=+i,this.l=+u,this.opacity=+c}Gh(ca,av,v0(wl,{brighter:function(i){return i=i==null?Fc:Math.pow(Fc,i),new ca(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?Al:Math.pow(Al,i),new ca(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=this.h%360+(this.h<0)*360,u=isNaN(i)||isNaN(this.s)?0:this.s,c=this.l,p=c+(c<.5?c:1-c)*u,y=2*c-p;return new Di(Vh(i>=240?i-240:i+120,y,p),Vh(i,y,p),Vh(i<120?i+240:i-120,y,p),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var i=this.opacity;return i=isNaN(i)?1:Math.max(0,Math.min(1,i)),(i===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(i===1?")":", "+i+")")}}));function Vh(n,i,u){return(n<60?i+(u-i)*n/60:n<180?u:n<240?i+(u-i)*(240-n)/60:i)*255}function T0(n,i,u,c,p){var y=n*n,v=y*n;return((1-3*n+3*y-v)*i+(4-6*y+3*v)*u+(1+3*n+3*y-3*v)*c+v*p)/6}function sv(n){var i=n.length-1;return function(u){var c=u<=0?u=0:u>=1?(u=1,i-1):Math.floor(u*i),p=n[c],y=n[c+1],v=c>0?n[c-1]:2*p-y,A=c<i-1?n[c+2]:2*y-p;return T0((u-c/i)*i,v,p,y,A)}}function ov(n){var i=n.length;return function(u){var c=Math.floor(((u%=1)<0?++u:u)*i),p=n[(c+i-1)%i],y=n[c%i],v=n[(c+1)%i],A=n[(c+2)%i];return T0((u-c/i)*i,p,y,v,A)}}var Yc=function(n){return function(){return n}};function Gr(n,i){return function(u){return n+u*i}}function O0(n,i,u){return n=Math.pow(n,u),i=Math.pow(i,u)-n,u=1/u,function(c){return Math.pow(n+c*i,u)}}function c2(n,i){var u=i-n;return u?Gr(n,u>180||u<-180?u-360*Math.round(u/360):u):constant(isNaN(n)?i:n)}function yu(n){return(n=+n)==1?Xr:function(i,u){return u-i?O0(i,u,n):Yc(isNaN(i)?u:i)}}function Xr(n,i){var u=i-n;return u?Gr(n,u):Yc(isNaN(n)?i:n)}var Uc=function n(i){var u=yu(i);function c(p,y){var v=u((p=Bc(p)).r,(y=Bc(y)).r),A=u(p.g,y.g),C=u(p.b,y.b),R=Xr(p.opacity,y.opacity);return function(P){return p.r=v(P),p.g=A(P),p.b=C(P),p.opacity=R(P),p+""}}return c.gamma=n,c}(1);function mo(n){return function(i){var u=i.length,c=new Array(u),p=new Array(u),y=new Array(u),v,A;for(v=0;v<u;++v)A=Bc(i[v]),c[v]=A.r||0,p[v]=A.g||0,y[v]=A.b||0;return c=n(c),p=n(p),y=n(y),A.opacity=1,function(C){return A.r=c(C),A.g=p(C),A.b=y(C),A+""}}}var qh=mo(sv),Zh=mo(ov),Ys=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yo=new RegExp(Ys.source,"g");function Us(n){return function(){return n}}function vo(n){return function(i){return n(i)+""}}function vu(n,i){var u=Ys.lastIndex=yo.lastIndex=0,c,p,y,v=-1,A=[],C=[];for(n=n+"",i=i+"";(c=Ys.exec(n))&&(p=yo.exec(i));)(y=p.index)>u&&(y=i.slice(u,y),A[v]?A[v]+=y:A[++v]=y),(c=c[0])===(p=p[0])?A[v]?A[v]+=p:A[++v]=p:(A[++v]=null,C.push({i:v,x:Qn(c,p)})),u=yo.lastIndex;return u<i.length&&(y=i.slice(u),A[v]?A[v]+=y:A[++v]=y),A.length<2?C[0]?vo(C[0].x):Us(i):(i=C.length,function(R){for(var P=0,et;P<i;++P)A[(et=C[P]).i]=et.x(R);return A.join("")})}function bo(n,i){var u;return(typeof i=="number"?Qn:i instanceof Ml?Uc:(u=Ml(i))?(i=u,Uc):vu)(n,i)}function Tl(n){return function(){this.removeAttribute(n)}}function za(n){return function(){this.removeAttributeNS(n.space,n.local)}}function uv(n,i,u){var c,p=u+"",y;return function(){var v=this.getAttribute(n);return v===p?null:v===c?y:y=i(c=v,u)}}function lv(n,i,u){var c,p=u+"",y;return function(){var v=this.getAttributeNS(n.space,n.local);return v===p?null:v===c?y:y=i(c=v,u)}}function cv(n,i,u){var c,p,y;return function(){var v,A=u(this),C;return A==null?void this.removeAttribute(n):(v=this.getAttribute(n),C=A+"",v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A)))}}function fv(n,i,u){var c,p,y;return function(){var v,A=u(this),C;return A==null?void this.removeAttributeNS(n.space,n.local):(v=this.getAttributeNS(n.space,n.local),C=A+"",v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A)))}}function hv(n,i){var u=Gi(n),c=u==="transform"?_0:bo;return this.attrTween(n,typeof i=="function"?(u.local?fv:cv)(u,c,$h(this,"attr."+n,i)):i==null?(u.local?za:Tl)(u):(u.local?lv:uv)(u,c,i))}function dv(n,i){return function(u){this.setAttribute(n,i.call(this,u))}}function gv(n,i){return function(u){this.setAttributeNS(n.space,n.local,i.call(this,u))}}function R0(n,i){var u,c;function p(){var y=i.apply(this,arguments);return y!==c&&(u=(c=y)&&gv(n,y)),u}return p._value=i,p}function E0(n,i){var u,c;function p(){var y=i.apply(this,arguments);return y!==c&&(u=(c=y)&&dv(n,y)),u}return p._value=i,p}function pv(n,i){var u="attr."+n;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(i==null)return this.tween(u,null);if(typeof i!="function")throw new Error;var c=Gi(n);return this.tween(u,(c.local?R0:E0)(c,i))}function D0(n,i){return function(){pu(this,n).delay=+i.apply(this,arguments)}}function Ws(n,i){return i=+i,function(){pu(this,n).delay=i}}function P0(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?D0:Ws)(i,n)):ti(this.node(),i).delay}function Wc(n,i){return function(){Ai(this,n).duration=+i.apply(this,arguments)}}function Kh(n,i){return i=+i,function(){Ai(this,n).duration=i}}function bu(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?Wc:Kh)(i,n)):ti(this.node(),i).duration}function Vr(n,i){if(typeof i!="function")throw new Error;return function(){Ai(this,n).ease=i}}function k0(n){var i=this._id;return arguments.length?this.each(Vr(i,n)):ti(this.node(),i).ease}function N0(n,i){return function(){var u=i.apply(this,arguments);if(typeof u!="function")throw new Error;Ai(this,n).ease=u}}function jh(n){if(typeof n!="function")throw new Error;return this.each(N0(this._id,n))}function L0(n){typeof n!="function"&&(n=En(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=[],C,R=0;R<v;++R)(C=y[R])&&n.call(C,C.__data__,R,y)&&A.push(C);return new fa(c,this._parents,this._name,this._id)}function z0(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,u=n._groups,c=i.length,p=u.length,y=Math.min(c,p),v=new Array(c),A=0;A<y;++A)for(var C=i[A],R=u[A],P=C.length,et=v[A]=new Array(P),at,vt=0;vt<P;++vt)(at=C[vt]||R[vt])&&(et[vt]=at);for(;A<c;++A)v[A]=i[A];return new fa(v,this._parents,this._name,this._id)}function $c(n){return(n+"").trim().split(/^|\s+/).every(function(i){var u=i.indexOf(".");return u>=0&&(i=i.slice(0,u)),!i||i==="start"})}function Ia(n,i,u){var c,p,y=$c(i)?pu:Ai;return function(){var v=y(this,n),A=v.on;A!==c&&(p=(c=A).copy()).on(i,u),v.on=p}}function Jh(n,i){var u=this._id;return arguments.length<2?ti(this.node(),u).on.on(n):this.each(Ia(u,n,i))}function I0(n){return function(){var i=this.parentNode;for(var u in this.__transition)if(+u!==n)return;i&&i.removeChild(this)}}function F0(){return this.on("end.remove",I0(this._id))}function H0(n){var i=this._name,u=this._id;typeof n!="function"&&(n=Ht(n));for(var c=this._groups,p=c.length,y=new Array(p),v=0;v<p;++v)for(var A=c[v],C=A.length,R=y[v]=new Array(C),P,et,at=0;at<C;++at)(P=A[at])&&(et=n.call(P,P.__data__,at,A))&&("__data__"in P&&(et.__data__=P.__data__),R[at]=et,_o(R[at],i,u,at,R,ti(P,u)));return new fa(y,this._parents,i,u)}function Gc(n){var i=this._name,u=this._id;typeof n!="function"&&(n=He(n));for(var c=this._groups,p=c.length,y=[],v=[],A=0;A<p;++A)for(var C=c[A],R=C.length,P,et=0;et<R;++et)if(P=C[et]){for(var at=n.call(P,P.__data__,et,C),vt,we=ti(P,u),Ie=0,ne=at.length;Ie<ne;++Ie)(vt=at[Ie])&&_o(vt,i,u,Ie,at,we);y.push(at),v.push(P)}return new fa(y,v,i,u)}var B0=ka.prototype.constructor;function _v(){return new B0(this._groups,this._parents)}function Xc(n,i){var u,c,p;return function(){var y=Oa(this,n),v=(this.style.removeProperty(n),Oa(this,n));return y===v?null:y===u&&v===c?p:p=i(u=y,c=v)}}function Y0(n){return function(){this.style.removeProperty(n)}}function Er(n,i,u){var c,p=u+"",y;return function(){var v=Oa(this,n);return v===p?null:v===c?y:y=i(c=v,u)}}function Ol(n,i,u){var c,p,y;return function(){var v=Oa(this,n),A=u(this),C=A+"";return A==null&&(C=A=(this.style.removeProperty(n),Oa(this,n))),v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A))}}function U0(n,i){var u,c,p,y="style."+i,v="end."+y,A;return function(){var C=Ai(this,n),R=C.on,P=C.value[y]==null?A||(A=Y0(i)):void 0;(R!==u||p!==P)&&(c=(u=R).copy()).on(v,p=P),C.on=c}}function W0(n,i,u){var c=(n+="")==="transform"?Wh:bo;return i==null?this.styleTween(n,Xc(n,c)).on("end.style."+n,Y0(n)):typeof i=="function"?this.styleTween(n,Ol(n,c,$h(this,"style."+n,i))).each(U0(this._id,n)):this.styleTween(n,Er(n,c,i),u).on("end.style."+n,null)}function mv(n,i,u){return function(c){this.style.setProperty(n,i.call(this,c),u)}}function Qh(n,i,u){var c,p;function y(){var v=i.apply(this,arguments);return v!==p&&(c=(p=v)&&mv(n,v,u)),c}return y._value=i,y}function $0(n,i,u){var c="style."+(n+="");if(arguments.length<2)return(c=this.tween(c))&&c._value;if(i==null)return this.tween(c,null);if(typeof i!="function")throw new Error;return this.tween(c,Qh(n,i,u==null?"":u))}function yv(n){return function(){this.textContent=n}}function G0(n){return function(){var i=n(this);this.textContent=i==null?"":i}}function X0(n){return this.tween("text",typeof n=="function"?G0($h(this,"text",n)):yv(n==null?"":n+""))}function Qi(n){return function(i){this.textContent=n.call(this,i)}}function V0(n){var i,u;function c(){var p=n.apply(this,arguments);return p!==u&&(i=(u=p)&&Qi(p)),i}return c._value=n,c}function td(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,V0(n))}function ed(){for(var n=this._name,i=this._id,u=nd(),c=this._groups,p=c.length,y=0;y<p;++y)for(var v=c[y],A=v.length,C,R=0;R<A;++R)if(C=v[R]){var P=ti(C,i);_o(C,n,u,R,v,{time:P.time+P.delay+P.duration,delay:0,duration:P.duration,ease:P.ease})}return new fa(c,this._parents,n,u)}function vv(){var n,i,u=this,c=u._id,p=u.size();return new Promise(function(y,v){var A={value:v},C={value:function(){--p==0&&y()}};u.each(function(){var R=Ai(this,c),P=R.on;P!==n&&(i=(n=P).copy(),i._.cancel.push(A),i._.interrupt.push(A),i._.end.push(C)),R.on=i}),p===0&&y()})}var bv=0;function fa(n,i,u,c){this._groups=n,this._parents=i,this._name=u,this._id=c}function $s(n){return ka().transition(n)}function nd(){return++bv}var br=ka.prototype;fa.prototype=$s.prototype={constructor:fa,select:H0,selectAll:Gc,selectChild:br.selectChild,selectChildren:br.selectChildren,filter:L0,merge:z0,selection:_v,transition:ed,call:br.call,nodes:br.nodes,node:br.node,size:br.size,empty:br.empty,each:br.each,on:Jh,attr:hv,attrTween:pv,style:W0,styleTween:$0,text:X0,textTween:td,remove:F0,tween:Zy,delay:P0,duration:bu,ease:k0,easeVarying:jh,end:vv,[Symbol.iterator]:br[Symbol.iterator]};function Rl(n){return n*n*n}function Vc(n){return--n*n*n+1}function El(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var q0={time:null,delay:0,duration:250,ease:El};function qc(n,i){for(var u;!(u=n.__transition)||!(u=u[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return u}function Dl(n){var i,u;n instanceof fa?(i=n._id,n=n._name):(i=nd(),(u=q0).time=Jn(),n=n==null?null:n+"");for(var c=this._groups,p=c.length,y=0;y<p;++y)for(var v=c[y],A=v.length,C,R=0;R<A;++R)(C=v[R])&&_o(C,n,i,R,v,u||qc(C,i));return new fa(c,this._parents,n,i)}ka.prototype.interrupt=tn,ka.prototype.transition=Dl;var Pl={name:"drag"},is={name:"space"},as={name:"handle"},Fa={name:"center"};const{abs:rd,max:wr,min:ei}=Math;function xu(n){return[+n[0],+n[1]]}function kl(n){return[xu(n[0]),xu(n[1])]}var Nl={name:"x",handles:["w","e"].map(wu),input:function(n,i){return n==null?null:[[+n[0],i[0][1]],[+n[1],i[1][1]]]},output:function(n){return n&&[n[0][0],n[1][0]]}},Ll={name:"y",handles:["n","s"].map(wu),input:function(n,i){return n==null?null:[[i[0][0],+n[0]],[i[1][0],+n[1]]]},output:function(n){return n&&[n[0][1],n[1][1]]}},xv={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(wu),input:function(n){return n==null?null:kl(n)},output:function(n){return n}},ss={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Zc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Kc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},wv={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Av={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function wu(n){return{type:n}}function id(n){return!n.ctrlKey&&!n.button}function ad(){var n=this.ownerSVGElement||this;return n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]}function jc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jc(n){for(;!n.__brush;)if(!(n=n.parentNode))return;return n.__brush}function sd(n){return n[0][0]===n[1][0]||n[0][1]===n[1][1]}function od(n){var i=n.__brush;return i?i.dim.output(i.selection):null}function ud(){return Pi(Nl)}function Z0(){return Pi(Ll)}function os(){return Pi(xv)}function Pi(n){var i=ad,u=id,c=jc,p=!0,y=dispatch("start","brush","end"),v=6,A;function C(ne){var oe=ne.property("__brush",Ie).selectAll(".overlay").data([wu("overlay")]);oe.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ss.overlay).merge(oe).each(function(){var Lt=Jc(this).extent;select(this).attr("x",Lt[0][0]).attr("y",Lt[0][1]).attr("width",Lt[1][0]-Lt[0][0]).attr("height",Lt[1][1]-Lt[0][1])}),ne.selectAll(".selection").data([wu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ss.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Se=ne.selectAll(".handle").data(n.handles,function(Lt){return Lt.type});Se.exit().remove(),Se.enter().append("rect").attr("class",function(Lt){return"handle handle--"+Lt.type}).attr("cursor",function(Lt){return ss[Lt.type]}),ne.each(R).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",at).filter(c).on("touchstart.brush",at).on("touchmove.brush",vt).on("touchend.brush touchcancel.brush",we).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.move=function(ne,oe,Se){ne.tween?ne.on("start.brush",function(Lt){P(this,arguments).beforestart().start(Lt)}).on("interrupt.brush end.brush",function(Lt){P(this,arguments).end(Lt)}).tween("brush",function(){var Lt=this,kt=Lt.__brush,xe=P(Lt,arguments),_e=kt.selection,Te=n.input(typeof oe=="function"?oe.apply(this,arguments):oe,kt.extent),Ye=interpolate(_e,Te);function Le(bn){kt.selection=bn===1&&Te===null?null:Ye(bn),R.call(Lt),xe.brush()}return _e!==null&&Te!==null?Le:Le(1)}):ne.each(function(){var Lt=this,kt=arguments,xe=Lt.__brush,_e=n.input(typeof oe=="function"?oe.apply(Lt,kt):oe,xe.extent),Te=P(Lt,kt).beforestart();interrupt(Lt),xe.selection=_e===null?null:_e,R.call(Lt),Te.start(Se).brush(Se).end(Se)})},C.clear=function(ne,oe){C.move(ne,null,oe)};function R(){var ne=select(this),oe=Jc(this).selection;oe?(ne.selectAll(".selection").style("display",null).attr("x",oe[0][0]).attr("y",oe[0][1]).attr("width",oe[1][0]-oe[0][0]).attr("height",oe[1][1]-oe[0][1]),ne.selectAll(".handle").style("display",null).attr("x",function(Se){return Se.type[Se.type.length-1]==="e"?oe[1][0]-v/2:oe[0][0]-v/2}).attr("y",function(Se){return Se.type[0]==="s"?oe[1][1]-v/2:oe[0][1]-v/2}).attr("width",function(Se){return Se.type==="n"||Se.type==="s"?oe[1][0]-oe[0][0]+v:v}).attr("height",function(Se){return Se.type==="e"||Se.type==="w"?oe[1][1]-oe[0][1]+v:v})):ne.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function P(ne,oe,Se){var Lt=ne.__brush.emitter;return Lt&&(!Se||!Lt.clean)?Lt:new et(ne,oe,Se)}function et(ne,oe,Se){this.that=ne,this.args=oe,this.state=ne.__brush,this.active=0,this.clean=Se}et.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(ne,oe){return this.starting?(this.starting=!1,this.emit("start",ne,oe)):this.emit("brush",ne),this},brush:function(ne,oe){return this.emit("brush",ne,oe),this},end:function(ne,oe){return--this.active==0&&(delete this.state.emitter,this.emit("end",ne,oe)),this},emit:function(ne,oe,Se){var Lt=select(this.that).datum();y.call(ne,this.that,new BrushEvent(ne,{sourceEvent:oe,target:C,selection:n.output(this.state.selection),mode:Se,dispatch:y}),Lt)}};function at(ne){if(A&&!ne.touches||!u.apply(this,arguments))return;var oe=this,Se=ne.target.__data__.type,Lt=(p&&ne.metaKey?Se="overlay":Se)==="selection"?Pl:p&&ne.altKey?Fa:as,kt=n===Ll?null:wv[Se],xe=n===Nl?null:Av[Se],_e=Jc(oe),Te=_e.extent,Ye=_e.selection,Le=Te[0][0],bn,Xe,an=Te[0][1],un,bt,pe=Te[1][0],Nt,Kt,ze=Te[1][1],ve,Ee,Fe=0,Ue=0,Vn,On=kt&&xe&&p&&ne.shiftKey,Ln,Bn,Cn=Array.from(ne.touches||[ne],Ze=>{const nr=Ze.identifier;return Ze=pointer(Ze,oe),Ze.point0=Ze.slice(),Ze.identifier=nr,Ze});interrupt(oe);var tr=P(oe,arguments,!0).beforestart();if(Se==="overlay"){Ye&&(Vn=!0);const Ze=[Cn[0],Cn[1]||Cn[0]];_e.selection=Ye=[[bn=n===Ll?Le:ei(Ze[0][0],Ze[1][0]),un=n===Nl?an:ei(Ze[0][1],Ze[1][1])],[Nt=n===Ll?pe:wr(Ze[0][0],Ze[1][0]),ve=n===Nl?ze:wr(Ze[0][1],Ze[1][1])]],Cn.length>1&&er(ne)}else bn=Ye[0][0],un=Ye[0][1],Nt=Ye[1][0],ve=Ye[1][1];Xe=bn,bt=un,Kt=Nt,Ee=ve;var Me=select(oe).attr("pointer-events","none"),nn=Me.selectAll(".overlay").attr("cursor",ss[Se]);if(ne.touches)tr.moved=ue,tr.ended=Pn;else{var gn=select(ne.view).on("mousemove.brush",ue,!0).on("mouseup.brush",Pn,!0);p&&gn.on("keydown.brush",sr,!0).on("keyup.brush",zr,!0),dragDisable(ne.view)}R.call(oe),tr.start(ne,Lt.name);function ue(Ze){for(const nr of Ze.changedTouches||[Ze])for(const Cs of Cn)Cs.identifier===nr.identifier&&(Cs.cur=pointer(nr,oe));if(On&&!Ln&&!Bn&&Cn.length===1){const nr=Cn[0];rd(nr.cur[0]-nr[0])>rd(nr.cur[1]-nr[1])?Bn=!0:Ln=!0}for(const nr of Cn)nr.cur&&(nr[0]=nr.cur[0],nr[1]=nr.cur[1]);Vn=!0,noevent(Ze),er(Ze)}function er(Ze){const nr=Cn[0],Cs=nr.point0;var Aa;switch(Fe=nr[0]-Cs[0],Ue=nr[1]-Cs[1],Lt){case is:case Pl:{kt&&(Fe=wr(Le-bn,ei(pe-Nt,Fe)),Xe=bn+Fe,Kt=Nt+Fe),xe&&(Ue=wr(an-un,ei(ze-ve,Ue)),bt=un+Ue,Ee=ve+Ue);break}case as:{Cn[1]?(kt&&(Xe=wr(Le,ei(pe,Cn[0][0])),Kt=wr(Le,ei(pe,Cn[1][0])),kt=1),xe&&(bt=wr(an,ei(ze,Cn[0][1])),Ee=wr(an,ei(ze,Cn[1][1])),xe=1)):(kt<0?(Fe=wr(Le-bn,ei(pe-bn,Fe)),Xe=bn+Fe,Kt=Nt):kt>0&&(Fe=wr(Le-Nt,ei(pe-Nt,Fe)),Xe=bn,Kt=Nt+Fe),xe<0?(Ue=wr(an-un,ei(ze-un,Ue)),bt=un+Ue,Ee=ve):xe>0&&(Ue=wr(an-ve,ei(ze-ve,Ue)),bt=un,Ee=ve+Ue));break}case Fa:{kt&&(Xe=wr(Le,ei(pe,bn-Fe*kt)),Kt=wr(Le,ei(pe,Nt+Fe*kt))),xe&&(bt=wr(an,ei(ze,un-Ue*xe)),Ee=wr(an,ei(ze,ve+Ue*xe)));break}}Kt<Xe&&(kt*=-1,Aa=bn,bn=Nt,Nt=Aa,Aa=Xe,Xe=Kt,Kt=Aa,Se in Zc&&nn.attr("cursor",ss[Se=Zc[Se]])),Ee<bt&&(xe*=-1,Aa=un,un=ve,ve=Aa,Aa=bt,bt=Ee,Ee=Aa,Se in Kc&&nn.attr("cursor",ss[Se=Kc[Se]])),_e.selection&&(Ye=_e.selection),Ln&&(Xe=Ye[0][0],Kt=Ye[1][0]),Bn&&(bt=Ye[0][1],Ee=Ye[1][1]),(Ye[0][0]!==Xe||Ye[0][1]!==bt||Ye[1][0]!==Kt||Ye[1][1]!==Ee)&&(_e.selection=[[Xe,bt],[Kt,Ee]],R.call(oe),tr.brush(Ze,Lt.name))}function Pn(Ze){if(nopropagation(Ze),Ze.touches){if(Ze.touches.length)return;A&&clearTimeout(A),A=setTimeout(function(){A=null},500)}else dragEnable(Ze.view,Vn),gn.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Me.attr("pointer-events","all"),nn.attr("cursor",ss.overlay),_e.selection&&(Ye=_e.selection),sd(Ye)&&(_e.selection=null,R.call(oe)),tr.end(Ze,Lt.name)}function sr(Ze){switch(Ze.keyCode){case 16:{On=kt&&xe;break}case 18:{Lt===as&&(kt&&(Nt=Kt-Fe*kt,bn=Xe+Fe*kt),xe&&(ve=Ee-Ue*xe,un=bt+Ue*xe),Lt=Fa,er(Ze));break}case 32:{(Lt===as||Lt===Fa)&&(kt<0?Nt=Kt-Fe:kt>0&&(bn=Xe-Fe),xe<0?ve=Ee-Ue:xe>0&&(un=bt-Ue),Lt=is,nn.attr("cursor",ss.selection),er(Ze));break}default:return}noevent(Ze)}function zr(Ze){switch(Ze.keyCode){case 16:{On&&(Ln=Bn=On=!1,er(Ze));break}case 18:{Lt===Fa&&(kt<0?Nt=Kt:kt>0&&(bn=Xe),xe<0?ve=Ee:xe>0&&(un=bt),Lt=as,er(Ze));break}case 32:{Lt===is&&(Ze.altKey?(kt&&(Nt=Kt-Fe*kt,bn=Xe+Fe*kt),xe&&(ve=Ee-Ue*xe,un=bt+Ue*xe),Lt=Fa):(kt<0?Nt=Kt:kt>0&&(bn=Xe),xe<0?ve=Ee:xe>0&&(un=bt),Lt=as),nn.attr("cursor",ss[Se]),er(Ze));break}default:return}noevent(Ze)}}function vt(ne){P(this,arguments).moved(ne)}function we(ne){P(this,arguments).ended(ne)}function Ie(){var ne=this.__brush||{selection:null};return ne.extent=kl(i.apply(this,arguments)),ne.dim=n,ne}return C.extent=function(ne){return arguments.length?(i=typeof ne=="function"?ne:constant(kl(ne)),C):i},C.filter=function(ne){return arguments.length?(u=typeof ne=="function"?ne:constant(!!ne),C):u},C.touchable=function(ne){return arguments.length?(c=typeof ne=="function"?ne:constant(!!ne),C):c},C.handleSize=function(ne){return arguments.length?(v=+ne,C):v},C.keyModifiers=function(ne){return arguments.length?(p=!!ne,C):p},C.on=function(){var ne=y.on.apply(y,arguments);return ne===y?C:ne},C}function ld(n,i){return n==null||i==null?NaN:n<i?-1:n>i?1:n>=i?0:NaN}function us(n){let i=n,u=n,c=n;n.length!==2&&(i=(A,C)=>n(A)-C,u=ld,c=(A,C)=>ld(n(A),C));function p(A,C,R=0,P=A.length){if(R<P){if(u(C,C)!==0)return P;do{const et=R+P>>>1;c(A[et],C)<0?R=et+1:P=et}while(R<P)}return R}function y(A,C,R=0,P=A.length){if(R<P){if(u(C,C)!==0)return P;do{const et=R+P>>>1;c(A[et],C)<=0?R=et+1:P=et}while(R<P)}return R}function v(A,C,R=0,P=A.length){const et=p(A,C,R,P-1);return et>R&&i(A[et-1],C)>-i(A[et],C)?et-1:et}return{left:p,center:v,right:y}}var cd=Math.sqrt(50),Qc=Math.sqrt(10),zl=Math.sqrt(2);function Sv(n,i,u){var c,p=-1,y,v,A;if(i=+i,n=+n,u=+u,n===i&&u>0)return[n];if((c=i<n)&&(y=n,n=i,i=y),(A=tf(n,i,u))===0||!isFinite(A))return[];if(A>0){let C=Math.round(n/A),R=Math.round(i/A);for(C*A<n&&++C,R*A>i&&--R,v=new Array(y=R-C+1);++p<y;)v[p]=(C+p)*A}else{A=-A;let C=Math.round(n*A),R=Math.round(i*A);for(C/A<n&&++C,R/A>i&&--R,v=new Array(y=R-C+1);++p<y;)v[p]=(C+p)/A}return c&&v.reverse(),v}function tf(n,i,u){var c=(i-n)/Math.max(0,u),p=Math.floor(Math.log(c)/Math.LN10),y=c/Math.pow(10,p);return p>=0?(y>=cd?10:y>=Qc?5:y>=zl?2:1)*Math.pow(10,p):-Math.pow(10,-p)/(y>=cd?10:y>=Qc?5:y>=zl?2:1)}function K0(n,i,u){var c=Math.abs(i-n)/Math.max(0,u),p=Math.pow(10,Math.floor(Math.log(c)/Math.LN10)),y=c/p;return y>=cd?p*=10:y>=Qc?p*=5:y>=zl&&(p*=2),i<n?-p:p}const ls=1e3,ki=ls*60,Ha=ki*60,Gs=Ha*24,fd=Gs*7,j0=Gs*30,hd=Gs*365;var Il=new Date,ef=new Date;function Dr(n,i,u,c){function p(y){return n(y=arguments.length===0?new Date:new Date(+y)),y}return p.floor=function(y){return n(y=new Date(+y)),y},p.ceil=function(y){return n(y=new Date(y-1)),i(y,1),n(y),y},p.round=function(y){var v=p(y),A=p.ceil(y);return y-v<A-y?v:A},p.offset=function(y,v){return i(y=new Date(+y),v==null?1:Math.floor(v)),y},p.range=function(y,v,A){var C=[],R;if(y=p.ceil(y),A=A==null?1:Math.floor(A),!(y<v)||!(A>0))return C;do C.push(R=new Date(+y)),i(y,A),n(y);while(R<y&&y<v);return C},p.filter=function(y){return Dr(function(v){if(v>=v)for(;n(v),!y(v);)v.setTime(v-1)},function(v,A){if(v>=v)if(A<0)for(;++A<=0;)for(;i(v,-1),!y(v););else for(;--A>=0;)for(;i(v,1),!y(v););})},u&&(p.count=function(y,v){return Il.setTime(+y),ef.setTime(+v),n(Il),n(ef),Math.floor(u(Il,ef))},p.every=function(y){return y=Math.floor(y),!isFinite(y)||!(y>0)?null:y>1?p.filter(c?function(v){return c(v)%y==0}:function(v){return p.count(0,v)%y==0}):p}),p}var nf=Dr(function(){},function(n,i){n.setTime(+n+i)},function(n,i){return i-n});nf.every=function(n){return n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Dr(function(i){i.setTime(Math.floor(i/n)*n)},function(i,u){i.setTime(+i+u*n)},function(i,u){return(u-i)/n}):nf};var Cv=nf,f2=nf.range,J0=Dr(function(n){n.setTime(n-n.getMilliseconds())},function(n,i){n.setTime(+n+i*ls)},function(n,i){return(i-n)/ls},function(n){return n.getUTCSeconds()}),Fl=J0,h2=J0.range,Q0=Dr(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*ls)},function(n,i){n.setTime(+n+i*ki)},function(n,i){return(i-n)/ki},function(n){return n.getMinutes()}),tp=Q0,d2=Q0.range,ep=Dr(function(n){n.setTime(n-n.getMilliseconds()-n.getSeconds()*ls-n.getMinutes()*ki)},function(n,i){n.setTime(+n+i*Ha)},function(n,i){return(i-n)/Ha},function(n){return n.getHours()}),np=ep,g2=ep.range,rp=Dr(n=>n.setHours(0,0,0,0),(n,i)=>n.setDate(n.getDate()+i),(n,i)=>(i-n-(i.getTimezoneOffset()-n.getTimezoneOffset())*ki)/Gs,n=>n.getDate()-1),rf=rp,p2=rp.range;function xo(n){return Dr(function(i){i.setDate(i.getDate()-(i.getDay()+7-n)%7),i.setHours(0,0,0,0)},function(i,u){i.setDate(i.getDate()+u*7)},function(i,u){return(u-i-(u.getTimezoneOffset()-i.getTimezoneOffset())*ki)/fd})}var af=xo(0),sf=xo(1),Mv=xo(2),Tv=xo(3),Au=xo(4),Ov=xo(5),Rv=xo(6),_2=af.range,m2=sf.range,y2=Mv.range,v2=Tv.range,b2=Au.range,x2=Ov.range,w2=Rv.range,ip=Dr(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,i){n.setMonth(n.getMonth()+i)},function(n,i){return i.getMonth()-n.getMonth()+(i.getFullYear()-n.getFullYear())*12},function(n){return n.getMonth()}),of=ip,Ev=ip.range,uf=Dr(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,i){n.setFullYear(n.getFullYear()+i)},function(n,i){return i.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});uf.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:Dr(function(i){i.setFullYear(Math.floor(i.getFullYear()/n)*n),i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,u){i.setFullYear(i.getFullYear()+u*n)})};var Xs=uf,A2=uf.range,ap=Dr(function(n){n.setUTCSeconds(0,0)},function(n,i){n.setTime(+n+i*ki)},function(n,i){return(i-n)/ki},function(n){return n.getUTCMinutes()}),Dv=ap,S2=ap.range,sp=Dr(function(n){n.setUTCMinutes(0,0,0)},function(n,i){n.setTime(+n+i*Ha)},function(n,i){return(i-n)/Ha},function(n){return n.getUTCHours()}),Pv=sp,C2=sp.range,op=Dr(function(n){n.setUTCHours(0,0,0,0)},function(n,i){n.setUTCDate(n.getUTCDate()+i)},function(n,i){return(i-n)/Gs},function(n){return n.getUTCDate()-1}),dd=op,M2=op.range;function wo(n){return Dr(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-n)%7),i.setUTCHours(0,0,0,0)},function(i,u){i.setUTCDate(i.getUTCDate()+u*7)},function(i,u){return(u-i)/fd})}var gd=wo(0),lf=wo(1),kv=wo(2),Nv=wo(3),hi=wo(4),up=wo(5),lp=wo(6),Su=gd.range,T2=lf.range,O2=kv.range,cp=Nv.range,R2=hi.range,E2=up.range,D2=lp.range,fp=Dr(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,i){n.setUTCMonth(n.getUTCMonth()+i)},function(n,i){return i.getUTCMonth()-n.getUTCMonth()+(i.getUTCFullYear()-n.getUTCFullYear())*12},function(n){return n.getUTCMonth()}),Lv=fp,hp=fp.range,pd=Dr(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,i){n.setUTCFullYear(n.getUTCFullYear()+i)},function(n,i){return i.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});pd.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:Dr(function(i){i.setUTCFullYear(Math.floor(i.getUTCFullYear()/n)*n),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,u){i.setUTCFullYear(i.getUTCFullYear()+u*n)})};var Cu=pd,dp=pd.range;function _d(n,i,u,c,p,y){const v=[[Fl,1,ls],[Fl,5,5*ls],[Fl,15,15*ls],[Fl,30,30*ls],[y,1,ki],[y,5,5*ki],[y,15,15*ki],[y,30,30*ki],[p,1,Ha],[p,3,3*Ha],[p,6,6*Ha],[p,12,12*Ha],[c,1,Gs],[c,2,2*Gs],[u,1,fd],[i,1,j0],[i,3,3*j0],[n,1,hd]];function A(R,P,et){const at=P<R;at&&([R,P]=[P,R]);const vt=et&&typeof et.range=="function"?et:C(R,P,et),we=vt?vt.range(R,+P+1):[];return at?we.reverse():we}function C(R,P,et){const at=Math.abs(P-R)/et,vt=us(([,,ne])=>ne).right(v,at);if(vt===v.length)return n.every(K0(R/hd,P/hd,et));if(vt===0)return Cv.every(Math.max(K0(R,P,et),1));const[we,Ie]=v[at/v[vt-1][2]<v[vt][2]/at?vt-1:vt];return we.every(Ie)}return[A,C]}const[gp,Hl]=_d(Cu,Lv,gd,dd,Pv,Dv),[Mu,pp]=_d(Xs,of,af,rf,np,tp);function Pr(n){if(0<=n.y&&n.y<100){var i=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return i.setFullYear(n.y),i}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function kr(n){if(0<=n.y&&n.y<100){var i=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return i.setUTCFullYear(n.y),i}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Tu(n,i,u){return{y:n,m:i,d:u,H:0,M:0,S:0,L:0}}function md(n){var i=n.dateTime,u=n.date,c=n.time,p=n.periods,y=n.days,v=n.shortDays,A=n.months,C=n.shortMonths,R=Yl(p),P=Ul(p),et=Yl(y),at=Ul(y),vt=Yl(v),we=Ul(v),Ie=Yl(A),ne=Ul(A),oe=Yl(C),Se=Ul(C),Lt={a:Kt,A:ze,b:ve,B:Ee,c:null,d:Ap,e:Ap,f:xd,g:Cp,G:jv,H:Wv,I:$v,j:Gv,L:hf,m:wd,M:So,p:Fe,q:Ue,Q:_f,s:Td,S:Xv,u:Ad,U:Sp,V:Vv,w:Co,W:qv,x:null,X:null,y:Zv,Y:Kv,Z:Jv,"%":pf},kt={a:Vn,A:On,b:Ln,B:Bn,c:null,d:Mp,e:Mp,f:Op,g:gf,G:Cd,H:Tp,I:Qv,j:t1,L:Sd,m:df,M:Rp,p:Cn,q:tr,Q:_f,s:Td,S:Ep,u:Dp,U:Pp,V:kp,w:e1,W:Np,x:null,X:null,y:n1,Y:ha,Z:Md,"%":pf},xe={a:bn,A:Xe,b:an,B:un,c:bt,d:cf,e:cf,f:xp,g:yp,G:mp,H:Ao,I:Ao,j:vp,L:ff,m:Uv,M:Ou,p:Le,q:Yv,Q:vd,s:bd,S:bp,u:Iv,U:Fv,V:Hv,w:Wl,W:yd,x:pe,X:Nt,y:yp,Y:mp,Z:Bv,"%":wp};Lt.x=_e(u,Lt),Lt.X=_e(c,Lt),Lt.c=_e(i,Lt),kt.x=_e(u,kt),kt.X=_e(c,kt),kt.c=_e(i,kt);function _e(Me,nn){return function(gn){var ue=[],er=-1,Pn=0,sr=Me.length,zr,Ze,nr;for(gn instanceof Date||(gn=new Date(+gn));++er<sr;)Me.charCodeAt(er)===37&&(ue.push(Me.slice(Pn,er)),(Ze=Bl[zr=Me.charAt(++er)])!=null?zr=Me.charAt(++er):Ze=zr==="e"?" ":"0",(nr=nn[zr])&&(zr=nr(gn,Ze)),ue.push(zr),Pn=er+1);return ue.push(Me.slice(Pn,er)),ue.join("")}}function Te(Me,nn){return function(gn){var ue=Tu(1900,void 0,1),er=Ye(ue,Me,gn+="",0),Pn,sr;if(er!=gn.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(nn&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Pn=kr(Tu(ue.y,0,1)),sr=Pn.getUTCDay(),Pn=sr>4||sr===0?lf.ceil(Pn):lf(Pn),Pn=dd.offset(Pn,(ue.V-1)*7),ue.y=Pn.getUTCFullYear(),ue.m=Pn.getUTCMonth(),ue.d=Pn.getUTCDate()+(ue.w+6)%7):(Pn=Pr(Tu(ue.y,0,1)),sr=Pn.getDay(),Pn=sr>4||sr===0?sf.ceil(Pn):sf(Pn),Pn=rf.offset(Pn,(ue.V-1)*7),ue.y=Pn.getFullYear(),ue.m=Pn.getMonth(),ue.d=Pn.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),sr="Z"in ue?kr(Tu(ue.y,0,1)).getUTCDay():Pr(Tu(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(sr+5)%7:ue.w+ue.U*7-(sr+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,kr(ue)):Pr(ue)}}function Ye(Me,nn,gn,ue){for(var er=0,Pn=nn.length,sr=gn.length,zr,Ze;er<Pn;){if(ue>=sr)return-1;if(zr=nn.charCodeAt(er++),zr===37){if(zr=nn.charAt(er++),Ze=xe[zr in Bl?nn.charAt(er++):zr],!Ze||(ue=Ze(Me,gn,ue))<0)return-1}else if(zr!=gn.charCodeAt(ue++))return-1}return ue}function Le(Me,nn,gn){var ue=R.exec(nn.slice(gn));return ue?(Me.p=P.get(ue[0].toLowerCase()),gn+ue[0].length):-1}function bn(Me,nn,gn){var ue=vt.exec(nn.slice(gn));return ue?(Me.w=we.get(ue[0].toLowerCase()),gn+ue[0].length):-1}function Xe(Me,nn,gn){var ue=et.exec(nn.slice(gn));return ue?(Me.w=at.get(ue[0].toLowerCase()),gn+ue[0].length):-1}function an(Me,nn,gn){var ue=oe.exec(nn.slice(gn));return ue?(Me.m=Se.get(ue[0].toLowerCase()),gn+ue[0].length):-1}function un(Me,nn,gn){var ue=Ie.exec(nn.slice(gn));return ue?(Me.m=ne.get(ue[0].toLowerCase()),gn+ue[0].length):-1}function bt(Me,nn,gn){return Ye(Me,i,nn,gn)}function pe(Me,nn,gn){return Ye(Me,u,nn,gn)}function Nt(Me,nn,gn){return Ye(Me,c,nn,gn)}function Kt(Me){return v[Me.getDay()]}function ze(Me){return y[Me.getDay()]}function ve(Me){return C[Me.getMonth()]}function Ee(Me){return A[Me.getMonth()]}function Fe(Me){return p[+(Me.getHours()>=12)]}function Ue(Me){return 1+~~(Me.getMonth()/3)}function Vn(Me){return v[Me.getUTCDay()]}function On(Me){return y[Me.getUTCDay()]}function Ln(Me){return C[Me.getUTCMonth()]}function Bn(Me){return A[Me.getUTCMonth()]}function Cn(Me){return p[+(Me.getUTCHours()>=12)]}function tr(Me){return 1+~~(Me.getUTCMonth()/3)}return{format:function(Me){var nn=_e(Me+="",Lt);return nn.toString=function(){return Me},nn},parse:function(Me){var nn=Te(Me+="",!1);return nn.toString=function(){return Me},nn},utcFormat:function(Me){var nn=_e(Me+="",kt);return nn.toString=function(){return Me},nn},utcParse:function(Me){var nn=Te(Me+="",!0);return nn.toString=function(){return Me},nn}}}var Bl={"-":"",_:" ","0":"0"},xr=/^\s*\d+/,zv=/^%/,cs=/[\\^$*+?|[\]().{}]/g;function Dn(n,i,u){var c=n<0?"-":"",p=(c?-n:n)+"",y=p.length;return c+(y<u?new Array(u-y+1).join(i)+p:p)}function _p(n){return n.replace(cs,"\\$&")}function Yl(n){return new RegExp("^(?:"+n.map(_p).join("|")+")","i")}function Ul(n){return new Map(n.map((i,u)=>[i.toLowerCase(),u]))}function Wl(n,i,u){var c=xr.exec(i.slice(u,u+1));return c?(n.w=+c[0],u+c[0].length):-1}function Iv(n,i,u){var c=xr.exec(i.slice(u,u+1));return c?(n.u=+c[0],u+c[0].length):-1}function Fv(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.U=+c[0],u+c[0].length):-1}function Hv(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.V=+c[0],u+c[0].length):-1}function yd(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.W=+c[0],u+c[0].length):-1}function mp(n,i,u){var c=xr.exec(i.slice(u,u+4));return c?(n.y=+c[0],u+c[0].length):-1}function yp(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.y=+c[0]+(+c[0]>68?1900:2e3),u+c[0].length):-1}function Bv(n,i,u){var c=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(u,u+6));return c?(n.Z=c[1]?0:-(c[2]+(c[3]||"00")),u+c[0].length):-1}function Yv(n,i,u){var c=xr.exec(i.slice(u,u+1));return c?(n.q=c[0]*3-3,u+c[0].length):-1}function Uv(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.m=c[0]-1,u+c[0].length):-1}function cf(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.d=+c[0],u+c[0].length):-1}function vp(n,i,u){var c=xr.exec(i.slice(u,u+3));return c?(n.m=0,n.d=+c[0],u+c[0].length):-1}function Ao(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.H=+c[0],u+c[0].length):-1}function Ou(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.M=+c[0],u+c[0].length):-1}function bp(n,i,u){var c=xr.exec(i.slice(u,u+2));return c?(n.S=+c[0],u+c[0].length):-1}function ff(n,i,u){var c=xr.exec(i.slice(u,u+3));return c?(n.L=+c[0],u+c[0].length):-1}function xp(n,i,u){var c=xr.exec(i.slice(u,u+6));return c?(n.L=Math.floor(c[0]/1e3),u+c[0].length):-1}function wp(n,i,u){var c=zv.exec(i.slice(u,u+1));return c?u+c[0].length:-1}function vd(n,i,u){var c=xr.exec(i.slice(u));return c?(n.Q=+c[0],u+c[0].length):-1}function bd(n,i,u){var c=xr.exec(i.slice(u));return c?(n.s=+c[0],u+c[0].length):-1}function Ap(n,i){return Dn(n.getDate(),i,2)}function Wv(n,i){return Dn(n.getHours(),i,2)}function $v(n,i){return Dn(n.getHours()%12||12,i,2)}function Gv(n,i){return Dn(1+rf.count(Xs(n),n),i,3)}function hf(n,i){return Dn(n.getMilliseconds(),i,3)}function xd(n,i){return hf(n,i)+"000"}function wd(n,i){return Dn(n.getMonth()+1,i,2)}function So(n,i){return Dn(n.getMinutes(),i,2)}function Xv(n,i){return Dn(n.getSeconds(),i,2)}function Ad(n){var i=n.getDay();return i===0?7:i}function Sp(n,i){return Dn(af.count(Xs(n)-1,n),i,2)}function Vs(n){var i=n.getDay();return i>=4||i===0?Au(n):Au.ceil(n)}function Vv(n,i){return n=Vs(n),Dn(Au.count(Xs(n),n)+(Xs(n).getDay()===4),i,2)}function Co(n){return n.getDay()}function qv(n,i){return Dn(sf.count(Xs(n)-1,n),i,2)}function Zv(n,i){return Dn(n.getFullYear()%100,i,2)}function Cp(n,i){return n=Vs(n),Dn(n.getFullYear()%100,i,2)}function Kv(n,i){return Dn(n.getFullYear()%1e4,i,4)}function jv(n,i){var u=n.getDay();return n=u>=4||u===0?Au(n):Au.ceil(n),Dn(n.getFullYear()%1e4,i,4)}function Jv(n){var i=n.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+Dn(i/60|0,"0",2)+Dn(i%60,"0",2)}function Mp(n,i){return Dn(n.getUTCDate(),i,2)}function Tp(n,i){return Dn(n.getUTCHours(),i,2)}function Qv(n,i){return Dn(n.getUTCHours()%12||12,i,2)}function t1(n,i){return Dn(1+dd.count(Cu(n),n),i,3)}function Sd(n,i){return Dn(n.getUTCMilliseconds(),i,3)}function Op(n,i){return Sd(n,i)+"000"}function df(n,i){return Dn(n.getUTCMonth()+1,i,2)}function Rp(n,i){return Dn(n.getUTCMinutes(),i,2)}function Ep(n,i){return Dn(n.getUTCSeconds(),i,2)}function Dp(n){var i=n.getUTCDay();return i===0?7:i}function Pp(n,i){return Dn(gd.count(Cu(n)-1,n),i,2)}function Mo(n){var i=n.getUTCDay();return i>=4||i===0?hi(n):hi.ceil(n)}function kp(n,i){return n=Mo(n),Dn(hi.count(Cu(n),n)+(Cu(n).getUTCDay()===4),i,2)}function e1(n){return n.getUTCDay()}function Np(n,i){return Dn(lf.count(Cu(n)-1,n),i,2)}function n1(n,i){return Dn(n.getUTCFullYear()%100,i,2)}function gf(n,i){return n=Mo(n),Dn(n.getUTCFullYear()%100,i,2)}function ha(n,i){return Dn(n.getUTCFullYear()%1e4,i,4)}function Cd(n,i){var u=n.getUTCDay();return n=u>=4||u===0?hi(n):hi.ceil(n),Dn(n.getUTCFullYear()%1e4,i,4)}function Md(){return"+0000"}function pf(){return"%"}function _f(n){return+n}function Td(n){return Math.floor(+n/1e3)}var Ru,$l,da,Lp,zp;Od({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Od(n){return Ru=md(n),$l=Ru.format,da=Ru.parse,Lp=Ru.utcFormat,zp=Ru.utcParse,Ru}function Rd(n){return n===null?NaN:+n}function*Ed(n,i){if(i===void 0)for(let u of n)u!=null&&(u=+u)>=u&&(yield u);else{let u=-1;for(let c of n)(c=i(c,++u,n))!=null&&(c=+c)>=c&&(yield c)}}const Eu=us(ld),Ip=Eu.right,r1=Eu.left,i1=us(Rd).center;var a1=Ip;function Ni(n,i,u){n.prototype=i.prototype=u,u.constructor=n}function qs(n,i){var u=Object.create(n.prototype);for(var c in i)u[c]=i[c];return u}function Gl(){}var Du=.7,mf=1/Du,Pu="\\s*([+-]?\\d+)\\s*",ta="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s1=/^#([0-9a-f]{3,8})$/,o1=new RegExp("^rgb\\("+[Pu,Pu,Pu]+"\\)$"),u1=new RegExp("^rgb\\("+[Ba,Ba,Ba]+"\\)$"),l1=new RegExp("^rgba\\("+[Pu,Pu,Pu,ta]+"\\)$"),c1=new RegExp("^rgba\\("+[Ba,Ba,Ba,ta]+"\\)$"),fs=new RegExp("^hsl\\("+[ta,Ba,Ba]+"\\)$"),Fp=new RegExp("^hsla\\("+[ta,Ba,Ba,ta]+"\\)$"),yf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ni(Gl,To,{copy:function(i){return Object.assign(new this.constructor,this,i)},displayable:function(){return this.rgb().displayable()},hex:vf,formatHex:vf,formatHsl:f1,formatRgb:Hp,toString:Hp});function vf(){return this.rgb().formatHex()}function f1(){return Up(this).formatHsl()}function Hp(){return this.rgb().formatRgb()}function To(n){var i,u;return n=(n+"").trim().toLowerCase(),(i=s1.exec(n))?(u=i[1].length,i=parseInt(i[1],16),u===6?Bp(i):u===3?new Li(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):u===8?Xl(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):u===4?Xl(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=o1.exec(n))?new Li(i[1],i[2],i[3],1):(i=u1.exec(n))?new Li(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=l1.exec(n))?Xl(i[1],i[2],i[3],i[4]):(i=c1.exec(n))?Xl(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=fs.exec(n))?Yp(i[1],i[2]/100,i[3]/100,1):(i=Fp.exec(n))?Yp(i[1],i[2]/100,i[3]/100,i[4]):yf.hasOwnProperty(n)?Bp(yf[n]):n==="transparent"?new Li(NaN,NaN,NaN,0):null}function Bp(n){return new Li(n>>16&255,n>>8&255,n&255,1)}function Xl(n,i,u,c){return c<=0&&(n=i=u=NaN),new Li(n,i,u,c)}function bf(n){return n instanceof Gl||(n=To(n)),n?(n=n.rgb(),new Li(n.r,n.g,n.b,n.opacity)):new Li}function Oo(n,i,u,c){return arguments.length===1?bf(n):new Li(n,i,u,c==null?1:c)}function Li(n,i,u,c){this.r=+n,this.g=+i,this.b=+u,this.opacity=+c}Ni(Li,Oo,qs(Gl,{brighter:function(i){return i=i==null?mf:Math.pow(mf,i),new Li(this.r*i,this.g*i,this.b*i,this.opacity)},darker:function(i){return i=i==null?Du:Math.pow(Du,i),new Li(this.r*i,this.g*i,this.b*i,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xf,formatHex:xf,formatRgb:wf,toString:wf}));function xf(){return"#"+ku(this.r)+ku(this.g)+ku(this.b)}function wf(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function ku(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function Yp(n,i,u,c){return c<=0?n=i=u=NaN:u<=0||u>=1?n=i=NaN:i<=0&&(n=NaN),new di(n,i,u,c)}function Up(n){if(n instanceof di)return new di(n.h,n.s,n.l,n.opacity);if(n instanceof Gl||(n=To(n)),!n)return new di;if(n instanceof di)return n;n=n.rgb();var i=n.r/255,u=n.g/255,c=n.b/255,p=Math.min(i,u,c),y=Math.max(i,u,c),v=NaN,A=y-p,C=(y+p)/2;return A?(i===y?v=(u-c)/A+(u<c)*6:u===y?v=(c-i)/A+2:v=(i-u)/A+4,A/=C<.5?y+p:2-y-p,v*=60):A=C>0&&C<1?0:v,new di(v,A,C,n.opacity)}function h1(n,i,u,c){return arguments.length===1?Up(n):new di(n,i,u,c==null?1:c)}function di(n,i,u,c){this.h=+n,this.s=+i,this.l=+u,this.opacity=+c}Ni(di,h1,qs(Gl,{brighter:function(i){return i=i==null?mf:Math.pow(mf,i),new di(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?Du:Math.pow(Du,i),new di(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=this.h%360+(this.h<0)*360,u=isNaN(i)||isNaN(this.s)?0:this.s,c=this.l,p=c+(c<.5?c:1-c)*u,y=2*c-p;return new Li(Ro(i>=240?i-240:i+120,y,p),Ro(i,y,p),Ro(i<120?i+240:i-120,y,p),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var i=this.opacity;return i=isNaN(i)?1:Math.max(0,Math.min(1,i)),(i===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(i===1?")":", "+i+")")}}));function Ro(n,i,u){return(n<60?i+(u-i)*n/60:n<180?u:n<240?i+(u-i)*(240-n)/60:i)*255}function Wp(n,i,u,c,p){var y=n*n,v=y*n;return((1-3*n+3*y-v)*i+(4-6*y+3*v)*u+(1+3*n+3*y-3*v)*c+v*p)/6}function d1(n){var i=n.length-1;return function(u){var c=u<=0?u=0:u>=1?(u=1,i-1):Math.floor(u*i),p=n[c],y=n[c+1],v=c>0?n[c-1]:2*p-y,A=c<i-1?n[c+2]:2*y-p;return Wp((u-c/i)*i,v,p,y,A)}}function $p(n){var i=n.length;return function(u){var c=Math.floor(((u%=1)<0?++u:u)*i),p=n[(c+i-1)%i],y=n[c%i],v=n[(c+1)%i],A=n[(c+2)%i];return Wp((u-c/i)*i,p,y,v,A)}}var hs=function(n){return function(){return n}};function Af(n,i){return function(u){return n+u*i}}function Gp(n,i,u){return n=Math.pow(n,u),i=Math.pow(i,u)-n,u=1/u,function(c){return Math.pow(n+c*i,u)}}function P2(n,i){var u=i-n;return u?Af(n,u>180||u<-180?u-360*Math.round(u/360):u):constant(isNaN(n)?i:n)}function Nu(n){return(n=+n)==1?Xp:function(i,u){return u-i?Gp(i,u,n):hs(isNaN(i)?u:i)}}function Xp(n,i){var u=i-n;return u?Af(n,u):hs(isNaN(n)?i:n)}var Sf=function n(i){var u=Nu(i);function c(p,y){var v=u((p=Oo(p)).r,(y=Oo(y)).r),A=u(p.g,y.g),C=u(p.b,y.b),R=Xp(p.opacity,y.opacity);return function(P){return p.r=v(P),p.g=A(P),p.b=C(P),p.opacity=R(P),p+""}}return c.gamma=n,c}(1);function Vp(n){return function(i){var u=i.length,c=new Array(u),p=new Array(u),y=new Array(u),v,A;for(v=0;v<u;++v)A=Oo(i[v]),c[v]=A.r||0,p[v]=A.g||0,y[v]=A.b||0;return c=n(c),p=n(p),y=n(y),A.opacity=1,function(C){return A.r=c(C),A.g=p(C),A.b=y(C),A+""}}}var k2=Vp(d1),qp=Vp($p);function N2(n,i){return(isNumberArray(i)?numberArray:Zp)(n,i)}function Zp(n,i){var u=i?i.length:0,c=n?Math.min(u,n.length):0,p=new Array(c),y=new Array(u),v;for(v=0;v<c;++v)p[v]=Eo(n[v],i[v]);for(;v<u;++v)y[v]=i[v];return function(A){for(v=0;v<c;++v)y[v]=p[v](A);return y}}function Cf(n,i){var u=new Date;return n=+n,i=+i,function(c){return u.setTime(n*(1-c)+i*c),u}}function zi(n,i){return n=+n,i=+i,function(u){return n*(1-u)+i*u}}function g1(n,i){var u={},c={},p;(n===null||typeof n!="object")&&(n={}),(i===null||typeof i!="object")&&(i={});for(p in i)p in n?u[p]=Eo(n[p],i[p]):c[p]=i[p];return function(y){for(p in u)c[p]=u[p](y);return c}}var Dd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pd=new RegExp(Dd.source,"g");function p1(n){return function(){return n}}function _1(n){return function(i){return n(i)+""}}function kd(n,i){var u=Dd.lastIndex=Pd.lastIndex=0,c,p,y,v=-1,A=[],C=[];for(n=n+"",i=i+"";(c=Dd.exec(n))&&(p=Pd.exec(i));)(y=p.index)>u&&(y=i.slice(u,y),A[v]?A[v]+=y:A[++v]=y),(c=c[0])===(p=p[0])?A[v]?A[v]+=p:A[++v]=p:(A[++v]=null,C.push({i:v,x:zi(c,p)})),u=Pd.lastIndex;return u<i.length&&(y=i.slice(u),A[v]?A[v]+=y:A[++v]=y),A.length<2?C[0]?_1(C[0].x):p1(i):(i=C.length,function(R){for(var P=0,et;P<i;++P)A[(et=C[P]).i]=et.x(R);return A.join("")})}function Nd(n,i){i||(i=[]);var u=n?Math.min(i.length,n.length):0,c=i.slice(),p;return function(y){for(p=0;p<u;++p)c[p]=n[p]*(1-y)+i[p]*y;return c}}function Ld(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Eo(n,i){var u=typeof i,c;return i==null||u==="boolean"?hs(i):(u==="number"?zi:u==="string"?(c=To(i))?(i=c,Sf):kd:i instanceof To?Sf:i instanceof Date?Cf:Ld(i)?Nd:Array.isArray(i)?Zp:typeof i.valueOf!="function"&&typeof i.toString!="function"||isNaN(i)?g1:zi)(n,i)}function zd(n,i){return n=+n,i=+i,function(u){return Math.round(n*(1-u)+i*u)}}function Kp(n){return function(){return n}}function m1(n){return+n}var Id=[0,1];function Tr(n){return n}function Fd(n,i){return(i-=n=+n)?function(u){return(u-n)/i}:Kp(isNaN(i)?NaN:.5)}function y1(n,i){var u;return n>i&&(u=n,n=i,i=u),function(c){return Math.max(n,Math.min(i,c))}}function Mf(n,i,u){var c=n[0],p=n[1],y=i[0],v=i[1];return p<c?(c=Fd(p,c),y=u(v,y)):(c=Fd(c,p),y=u(y,v)),function(A){return y(c(A))}}function Do(n,i,u){var c=Math.min(n.length,i.length)-1,p=new Array(c),y=new Array(c),v=-1;for(n[c]<n[0]&&(n=n.slice().reverse(),i=i.slice().reverse());++v<c;)p[v]=Fd(n[v],n[v+1]),y[v]=u(i[v],i[v+1]);return function(A){var C=a1(n,A,1,c)-1;return y[C](p[C](A))}}function jp(n,i){return i.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function v1(){var n=Id,i=Id,u=Eo,c,p,y,v=Tr,A,C,R;function P(){var at=Math.min(n.length,i.length);return v!==Tr&&(v=y1(n[0],n[at-1])),A=at>2?Do:Mf,C=R=null,et}function et(at){return at==null||isNaN(at=+at)?y:(C||(C=A(n.map(c),i,u)))(c(v(at)))}return et.invert=function(at){return v(p((R||(R=A(i,n.map(c),zi)))(at)))},et.domain=function(at){return arguments.length?(n=Array.from(at,m1),P()):n.slice()},et.range=function(at){return arguments.length?(i=Array.from(at),P()):i.slice()},et.rangeRound=function(at){return i=Array.from(at),u=zd,P()},et.clamp=function(at){return arguments.length?(v=at?!0:Tr,P()):v!==Tr},et.interpolate=function(at){return arguments.length?(u=at,P()):u},et.unknown=function(at){return arguments.length?(y=at,et):y},function(at,vt){return c=at,p=vt,P()}}function b1(){return v1()(Tr,Tr)}function x1(n,i){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(i).domain(n);break}return this}function L2(n,i){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof i=="function"?this.interpolator(i):this.range(i);break}}return this}function w1(n,i){n=n.slice();var u=0,c=n.length-1,p=n[u],y=n[c],v;return y<p&&(v=u,u=c,c=v,v=p,p=y,y=v),n[u]=i.floor(p),n[c]=i.ceil(y),n}function A1(n){return new Date(n)}function Po(n){return n instanceof Date?+n:+new Date(+n)}function Hd(n,i,u,c,p,y,v,A,C,R){var P=b1(),et=P.invert,at=P.domain,vt=R(".%L"),we=R(":%S"),Ie=R("%I:%M"),ne=R("%I %p"),oe=R("%a %d"),Se=R("%b %d"),Lt=R("%B"),kt=R("%Y");function xe(_e){return(C(_e)<_e?vt:A(_e)<_e?we:v(_e)<_e?Ie:y(_e)<_e?ne:c(_e)<_e?p(_e)<_e?oe:Se:u(_e)<_e?Lt:kt)(_e)}return P.invert=function(_e){return new Date(et(_e))},P.domain=function(_e){return arguments.length?at(Array.from(_e,Po)):at().map(A1)},P.ticks=function(_e){var Te=at();return n(Te[0],Te[Te.length-1],_e==null?10:_e)},P.tickFormat=function(_e,Te){return Te==null?xe:R(Te)},P.nice=function(_e){var Te=at();return(!_e||typeof _e.range!="function")&&(_e=i(Te[0],Te[Te.length-1],_e==null?10:_e)),_e?at(w1(Te,_e)):P},P.copy=function(){return jp(P,Hd(n,i,u,c,p,y,v,A,C,R))},P}function S1(){return x1.apply(Hd(Mu,pp,Xs,of,af,rf,np,tp,Fl,$l).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C1(){}function Bd(n){return n==null?C1:function(){return this.querySelector(n)}}function M1(n){typeof n!="function"&&(n=Bd(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=new Array(v),C,R,P=0;P<v;++P)(C=y[P])&&(R=n.call(C,C.__data__,P,y))&&("__data__"in C&&(R.__data__=C.__data__),A[P]=R);return new Si(c,this._parents)}function T1(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function O1(){return[]}function Jp(n){return n==null?O1:function(){return this.querySelectorAll(n)}}function R1(n){return function(){return T1(n.apply(this,arguments))}}function E1(n){typeof n=="function"?n=R1(n):n=Jp(n);for(var i=this._groups,u=i.length,c=[],p=[],y=0;y<u;++y)for(var v=i[y],A=v.length,C,R=0;R<A;++R)(C=v[R])&&(c.push(n.call(C,C.__data__,R,v)),p.push(C));return new Si(c,p)}function Qp(n){return function(){return this.matches(n)}}function t_(n){return function(i){return i.matches(n)}}var e_=Array.prototype.find;function Yd(n){return function(){return e_.call(this.children,n)}}function D1(){return this.firstElementChild}function P1(n){return this.select(n==null?D1:Yd(typeof n=="function"?n:t_(n)))}var n_=Array.prototype.filter;function r_(){return Array.from(this.children)}function i_(n){return function(){return n_.call(this.children,n)}}function k1(n){return this.selectAll(n==null?r_:i_(typeof n=="function"?n:t_(n)))}function N1(n){typeof n!="function"&&(n=Qp(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=[],C,R=0;R<v;++R)(C=y[R])&&n.call(C,C.__data__,R,y)&&A.push(C);return new Si(c,this._parents)}function Ud(n){return new Array(n.length)}function Zs(){return new Si(this._enter||this._groups.map(Ud),this._parents)}function Tf(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}Tf.prototype={constructor:Tf,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function L1(n){return function(){return n}}function a_(n,i,u,c,p,y){for(var v=0,A,C=i.length,R=y.length;v<R;++v)(A=i[v])?(A.__data__=y[v],c[v]=A):u[v]=new Tf(n,y[v]);for(;v<C;++v)(A=i[v])&&(p[v]=A)}function z1(n,i,u,c,p,y,v){var A,C,R=new Map,P=i.length,et=y.length,at=new Array(P),vt;for(A=0;A<P;++A)(C=i[A])&&(at[A]=vt=v.call(C,C.__data__,A,i)+"",R.has(vt)?p[A]=C:R.set(vt,C));for(A=0;A<et;++A)vt=v.call(n,y[A],A,y)+"",(C=R.get(vt))?(c[A]=C,C.__data__=y[A],R.delete(vt)):u[A]=new Tf(n,y[A]);for(A=0;A<P;++A)(C=i[A])&&R.get(at[A])===C&&(p[A]=C)}function I1(n){return n.__data__}function s_(n,i){if(!arguments.length)return Array.from(this,I1);var u=i?z1:a_,c=this._parents,p=this._groups;typeof n!="function"&&(n=L1(n));for(var y=p.length,v=new Array(y),A=new Array(y),C=new Array(y),R=0;R<y;++R){var P=c[R],et=p[R],at=et.length,vt=Wd(n.call(P,P&&P.__data__,R,c)),we=vt.length,Ie=A[R]=new Array(we),ne=v[R]=new Array(we),oe=C[R]=new Array(at);u(P,et,Ie,ne,oe,vt,i);for(var Se=0,Lt=0,kt,xe;Se<we;++Se)if(kt=Ie[Se]){for(Se>=Lt&&(Lt=Se+1);!(xe=ne[Lt])&&++Lt<we;);kt._next=xe||null}}return v=new Si(v,c),v._enter=A,v._exit=C,v}function Wd(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function F1(){return new Si(this._exit||this._groups.map(Ud),this._parents)}function H1(n,i,u){var c=this.enter(),p=this,y=this.exit();return typeof n=="function"?(c=n(c),c&&(c=c.selection())):c=c.append(n+""),i!=null&&(p=i(p),p&&(p=p.selection())),u==null?y.remove():u(y),c&&p?c.merge(p).order():p}function B1(n){for(var i=n.selection?n.selection():n,u=this._groups,c=i._groups,p=u.length,y=c.length,v=Math.min(p,y),A=new Array(p),C=0;C<v;++C)for(var R=u[C],P=c[C],et=R.length,at=A[C]=new Array(et),vt,we=0;we<et;++we)(vt=R[we]||P[we])&&(at[we]=vt);for(;C<p;++C)A[C]=u[C];return new Si(A,this._parents)}function Y1(){for(var n=this._groups,i=-1,u=n.length;++i<u;)for(var c=n[i],p=c.length-1,y=c[p],v;--p>=0;)(v=c[p])&&(y&&v.compareDocumentPosition(y)^4&&y.parentNode.insertBefore(v,y),y=v);return this}function U1(n){n||(n=W1);function i(et,at){return et&&at?n(et.__data__,at.__data__):!et-!at}for(var u=this._groups,c=u.length,p=new Array(c),y=0;y<c;++y){for(var v=u[y],A=v.length,C=p[y]=new Array(A),R,P=0;P<A;++P)(R=v[P])&&(C[P]=R);C.sort(i)}return new Si(p,this._parents).order()}function W1(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function $1(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function G1(){return Array.from(this)}function Of(){for(var n=this._groups,i=0,u=n.length;i<u;++i)for(var c=n[i],p=0,y=c.length;p<y;++p){var v=c[p];if(v)return v}return null}function X1(){let n=0;for(const i of this)++n;return n}function Vl(){return!this.node()}function V1(n){for(var i=this._groups,u=0,c=i.length;u<c;++u)for(var p=i[u],y=0,v=p.length,A;y<v;++y)(A=p[y])&&n.call(A,A.__data__,y,p);return this}var ql="http://www.w3.org/1999/xhtml",o_={svg:"http://www.w3.org/2000/svg",xhtml:ql,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rf(n){var i=n+="",u=i.indexOf(":");return u>=0&&(i=n.slice(0,u))!=="xmlns"&&(n=n.slice(u+1)),o_.hasOwnProperty(i)?{space:o_[i],local:n}:n}function u_(n){return function(){this.removeAttribute(n)}}function Lu(n){return function(){this.removeAttributeNS(n.space,n.local)}}function $d(n,i){return function(){this.setAttribute(n,i)}}function Gd(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function q1(n,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttribute(n):this.setAttribute(n,u)}}function l_(n,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,u)}}function Z1(n,i){var u=Rf(n);if(arguments.length<2){var c=this.node();return u.local?c.getAttributeNS(u.space,u.local):c.getAttribute(u)}return this.each((i==null?u.local?Lu:u_:typeof i=="function"?u.local?l_:q1:u.local?Gd:$d)(u,i))}function c_(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function K1(n){return function(){this.style.removeProperty(n)}}function j1(n,i,u){return function(){this.style.setProperty(n,i,u)}}function J1(n,i,u){return function(){var c=i.apply(this,arguments);c==null?this.style.removeProperty(n):this.style.setProperty(n,c,u)}}function Q1(n,i,u){return arguments.length>1?this.each((i==null?K1:typeof i=="function"?J1:j1)(n,i,u==null?"":u)):ds(this.node(),n)}function ds(n,i){return n.style.getPropertyValue(i)||c_(n).getComputedStyle(n,null).getPropertyValue(i)}function f_(n){return function(){delete this[n]}}function tb(n,i){return function(){this[n]=i}}function eb(n,i){return function(){var u=i.apply(this,arguments);u==null?delete this[n]:this[n]=u}}function nb(n,i){return arguments.length>1?this.each((i==null?f_:typeof i=="function"?eb:tb)(n,i)):this.node()[n]}function h_(n){return n.trim().split(/^|\s+/)}function Xd(n){return n.classList||new d_(n)}function d_(n){this._node=n,this._names=h_(n.getAttribute("class")||"")}d_.prototype={add:function(n){var i=this._names.indexOf(n);i<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Ef(n,i){for(var u=Xd(n),c=-1,p=i.length;++c<p;)u.add(i[c])}function g_(n,i){for(var u=Xd(n),c=-1,p=i.length;++c<p;)u.remove(i[c])}function rb(n){return function(){Ef(this,n)}}function ib(n){return function(){g_(this,n)}}function ab(n,i){return function(){(i.apply(this,arguments)?Ef:g_)(this,n)}}function sb(n,i){var u=h_(n+"");if(arguments.length<2){for(var c=Xd(this.node()),p=-1,y=u.length;++p<y;)if(!c.contains(u[p]))return!1;return!0}return this.each((typeof i=="function"?ab:i?rb:ib)(u,i))}function ob(){this.textContent=""}function ub(n){return function(){this.textContent=n}}function Df(n){return function(){var i=n.apply(this,arguments);this.textContent=i==null?"":i}}function lb(n){return arguments.length?this.each(n==null?ob:(typeof n=="function"?Df:ub)(n)):this.node().textContent}function cb(){this.innerHTML=""}function fb(n){return function(){this.innerHTML=n}}function hb(n){return function(){var i=n.apply(this,arguments);this.innerHTML=i==null?"":i}}function db(n){return arguments.length?this.each(n==null?cb:(typeof n=="function"?hb:fb)(n)):this.node().innerHTML}function Pf(){this.nextSibling&&this.parentNode.appendChild(this)}function zu(){return this.each(Pf)}function gb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pb(){return this.each(gb)}function _b(n){return function(){var i=this.ownerDocument,u=this.namespaceURI;return u===ql&&i.documentElement.namespaceURI===ql?i.createElement(n):i.createElementNS(u,n)}}function Zl(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Kl(n){var i=Rf(n);return(i.local?Zl:_b)(i)}function mb(n){var i=typeof n=="function"?n:Kl(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function p_(){return null}function yb(n,i){var u=typeof n=="function"?n:Kl(n),c=i==null?p_:typeof i=="function"?i:Bd(i);return this.select(function(){return this.insertBefore(u.apply(this,arguments),c.apply(this,arguments)||null)})}function __(){var n=this.parentNode;n&&n.removeChild(this)}function m_(){return this.each(__)}function y_(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function v_(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function b_(n){return this.select(n?v_:y_)}function x_(n){return arguments.length?this.property("__data__",n):this.node().__data__}function kf(n){return function(i){n.call(this,i,this.__data__)}}function Nf(n){return n.trim().split(/^|\s+/).map(function(i){var u="",c=i.indexOf(".");return c>=0&&(u=i.slice(c+1),i=i.slice(0,c)),{type:i,name:u}})}function Vd(n){return function(){var i=this.__on;if(!!i){for(var u=0,c=-1,p=i.length,y;u<p;++u)y=i[u],(!n.type||y.type===n.type)&&y.name===n.name?this.removeEventListener(y.type,y.listener,y.options):i[++c]=y;++c?i.length=c:delete this.__on}}}function w_(n,i,u){return function(){var c=this.__on,p,y=kf(i);if(c){for(var v=0,A=c.length;v<A;++v)if((p=c[v]).type===n.type&&p.name===n.name){this.removeEventListener(p.type,p.listener,p.options),this.addEventListener(p.type,p.listener=y,p.options=u),p.value=i;return}}this.addEventListener(n.type,y,u),p={type:n.type,name:n.name,value:i,listener:y,options:u},c?c.push(p):this.__on=[p]}}function A_(n,i,u){var c=Nf(n+""),p,y=c.length,v;if(arguments.length<2){var A=this.node().__on;if(A){for(var C=0,R=A.length,P;C<R;++C)for(p=0,P=A[C];p<y;++p)if((v=c[p]).type===P.type&&v.name===P.name)return P.value}return}for(A=i?w_:Vd,p=0;p<y;++p)this.each(A(c[p],i,u));return this}function qd(n,i,u){var c=c_(n),p=c.CustomEvent;typeof p=="function"?p=new p(i,u):(p=c.document.createEvent("Event"),u?(p.initEvent(i,u.bubbles,u.cancelable),p.detail=u.detail):p.initEvent(i,!1,!1)),n.dispatchEvent(p)}function S_(n,i){return function(){return qd(this,n,i)}}function qe(n,i){return function(){return qd(this,n,i.apply(this,arguments))}}function jl(n,i){return this.each((typeof i=="function"?qe:S_)(n,i))}function*yn(){for(var n=this._groups,i=0,u=n.length;i<u;++i)for(var c=n[i],p=0,y=c.length,v;p<y;++p)(v=c[p])&&(yield v)}var mr=[null];function Si(n,i){this._groups=n,this._parents=i}function ni(){return new Si([[document.documentElement]],mr)}function Xn(){return this}Si.prototype=ni.prototype={constructor:Si,select:M1,selectAll:E1,selectChild:P1,selectChildren:k1,filter:N1,data:s_,enter:Zs,exit:F1,join:H1,merge:B1,selection:Xn,order:Y1,sort:U1,call:$1,nodes:G1,node:Of,size:X1,empty:Vl,each:V1,attr:Z1,style:Q1,property:nb,classed:sb,text:lb,html:db,raise:zu,lower:pb,append:mb,insert:yb,remove:m_,clone:b_,datum:x_,on:A_,dispatch:jl,[Symbol.iterator]:yn};var $e=ni,Tn={value:function(){}};function ko(){for(var n=0,i=arguments.length,u={},c;n<i;++n){if(!(c=arguments[n]+"")||c in u||/[\s.]/.test(c))throw new Error("illegal type: "+c);u[c]=[]}return new Nr(u)}function Nr(n){this._=n}function Be(n,i){return n.trim().split(/^|\s+/).map(function(u){var c="",p=u.indexOf(".");if(p>=0&&(c=u.slice(p+1),u=u.slice(0,p)),u&&!i.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:c}})}Nr.prototype=ko.prototype={constructor:Nr,on:function(i,u){var c=this._,p=Be(i+"",c),y,v=-1,A=p.length;if(arguments.length<2){for(;++v<A;)if((y=(i=p[v]).type)&&(y=Lf(c[y],i.name)))return y;return}if(u!=null&&typeof u!="function")throw new Error("invalid callback: "+u);for(;++v<A;)if(y=(i=p[v]).type)c[y]=Zd(c[y],i.name,u);else if(u==null)for(y in c)c[y]=Zd(c[y],i.name,null);return this},copy:function(){var i={},u=this._;for(var c in u)i[c]=u[c].slice();return new Nr(i)},call:function(i,u){if((y=arguments.length-2)>0)for(var c=new Array(y),p=0,y,v;p<y;++p)c[p]=arguments[p+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(v=this._[i],p=0,y=v.length;p<y;++p)v[p].value.apply(u,c)},apply:function(i,u,c){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var p=this._[i],y=0,v=p.length;y<v;++y)p[y].value.apply(u,c)}};function Lf(n,i){for(var u=0,c=n.length,p;u<c;++u)if((p=n[u]).name===i)return p.value}function Zd(n,i,u){for(var c=0,p=n.length;c<p;++c)if(n[c].name===i){n[c]=Tn,n=n.slice(0,c).concat(n.slice(c+1));break}return u!=null&&n.push({name:i,value:u}),n}var z2=ko,Ks=0,js=0,No=0,Oe=1e3,gi,yr,Iu=0,Js=0,Lr=0,Fu=typeof performance=="object"&&performance.now?performance:Date,lr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Hu(){return Js||(lr(C_),Js=Fu.now()+Lr)}function C_(){Js=0}function Jl(){this._call=this._time=this._next=null}Jl.prototype=zf.prototype={constructor:Jl,restart:function(n,i,u){if(typeof n!="function")throw new TypeError("callback is not a function");u=(u==null?Hu():+u)+(i==null?0:+i),!this._next&&yr!==this&&(yr?yr._next=this:gi=this,yr=this),this._call=n,this._time=u,Hf()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Hf())}};function zf(n,i,u){var c=new Jl;return c.restart(n,i,u),c}function M_(){Hu(),++Ks;for(var n=gi,i;n;)(i=Js-n._time)>=0&&n._call.call(void 0,i),n=n._next;--Ks}function ea(){Js=(Iu=Fu.now())+Lr,Ks=js=0;try{M_()}finally{Ks=0,Ff(),Js=0}}function If(){var n=Fu.now(),i=n-Iu;i>Oe&&(Lr-=i,Iu=n)}function Ff(){for(var n,i=gi,u,c=Infinity;i;)i._call?(c>i._time&&(c=i._time),n=i,i=i._next):(u=i._next,i._next=null,i=n?n._next=u:gi=u);yr=n,Hf(c)}function Hf(n){if(!Ks){js&&(js=clearTimeout(js));var i=n-Js;i>24?(n<Infinity&&(js=setTimeout(ea,n-Fu.now()-Lr)),No&&(No=clearInterval(No))):(No||(Iu=Fu.now(),No=setInterval(If,Oe)),Ks=1,lr(ea))}}function Kd(n,i,u){var c=new Jl;return i=i==null?0:+i,c.restart(p=>{c.stop(),n(p+i)},i,u),c}var jd=z2("start","end","cancel","interrupt"),Jd=[],Bf=0,ga=1,Qd=2,Yf=3,T_=4,Uf=5,Wf=6;function Lo(n,i,u,c,p,y){var v=n.__transition;if(!v)n.__transition={};else if(u in v)return;tg(n,u,{name:i,index:c,group:p,on:jd,tween:Jd,time:y.time,delay:y.delay,duration:y.duration,ease:y.ease,timer:null,state:Bf})}function gs(n,i){var u=ri(n,i);if(u.state>Bf)throw new Error("too late; already scheduled");return u}function Ii(n,i){var u=ri(n,i);if(u.state>Yf)throw new Error("too late; already running");return u}function ri(n,i){var u=n.__transition;if(!u||!(u=u[i]))throw new Error("transition not found");return u}function tg(n,i,u){var c=n.__transition,p;c[i]=u,u.timer=zf(y,0,u.time);function y(R){u.state=ga,u.timer.restart(v,u.delay,u.time),u.delay<=R&&v(R-u.delay)}function v(R){var P,et,at,vt;if(u.state!==ga)return C();for(P in c)if(vt=c[P],vt.name===u.name){if(vt.state===Yf)return Kd(v);vt.state===T_?(vt.state=Wf,vt.timer.stop(),vt.on.call("interrupt",n,n.__data__,vt.index,vt.group),delete c[P]):+P<i&&(vt.state=Wf,vt.timer.stop(),vt.on.call("cancel",n,n.__data__,vt.index,vt.group),delete c[P])}if(Kd(function(){u.state===Yf&&(u.state=T_,u.timer.restart(A,u.delay,u.time),A(R))}),u.state=Qd,u.on.call("start",n,n.__data__,u.index,u.group),u.state===Qd){for(u.state=Yf,p=new Array(at=u.tween.length),P=0,et=-1;P<at;++P)(vt=u.tween[P].value.call(n,n.__data__,u.index,u.group))&&(p[++et]=vt);p.length=et+1}}function A(R){for(var P=R<u.duration?u.ease.call(null,R/u.duration):(u.timer.restart(C),u.state=Uf,1),et=-1,at=p.length;++et<at;)p[et].call(n,P);u.state===Uf&&(u.on.call("end",n,n.__data__,u.index,u.group),C())}function C(){u.state=Wf,u.timer.stop(),delete c[i];for(var R in c)return;delete n.__transition}}function $f(n,i){var u=n.__transition,c,p,y=!0,v;if(!!u){i=i==null?null:i+"";for(v in u){if((c=u[v]).name!==i){y=!1;continue}p=c.state>Qd&&c.state<Uf,c.state=Wf,c.timer.stop(),c.on.call(p?"interrupt":"cancel",n,n.__data__,c.index,c.group),delete u[v]}y&&delete n.__transition}}function Gf(n){return this.each(function(){$f(this,n)})}var cr=180/Math.PI,ii={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dr(n,i,u,c,p,y){var v,A,C;return(v=Math.sqrt(n*n+i*i))&&(n/=v,i/=v),(C=n*u+i*c)&&(u-=n*C,c-=i*C),(A=Math.sqrt(u*u+c*c))&&(u/=A,c/=A,C/=A),n*c<i*u&&(n=-n,i=-i,C=-C,v=-v),{translateX:p,translateY:y,rotate:Math.atan2(i,n)*cr,skewX:Math.atan(C)*cr,scaleX:v,scaleY:A}}var ai;function zo(n){var i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?ii:dr(i.a,i.b,i.c,i.d,i.e,i.f)}function O_(n){return n==null||(ai||(ai=document.createElementNS("http://www.w3.org/2000/svg","g")),ai.setAttribute("transform",n),!(n=ai.transform.baseVal.consolidate()))?ii:(n=n.matrix,dr(n.a,n.b,n.c,n.d,n.e,n.f))}function eg(n,i,u,c){function p(R){return R.length?R.pop()+" ":""}function y(R,P,et,at,vt,we){if(R!==et||P!==at){var Ie=vt.push("translate(",null,i,null,u);we.push({i:Ie-4,x:zi(R,et)},{i:Ie-2,x:zi(P,at)})}else(et||at)&&vt.push("translate("+et+i+at+u)}function v(R,P,et,at){R!==P?(R-P>180?P+=360:P-R>180&&(R+=360),at.push({i:et.push(p(et)+"rotate(",null,c)-2,x:zi(R,P)})):P&&et.push(p(et)+"rotate("+P+c)}function A(R,P,et,at){R!==P?at.push({i:et.push(p(et)+"skewX(",null,c)-2,x:zi(R,P)}):P&&et.push(p(et)+"skewX("+P+c)}function C(R,P,et,at,vt,we){if(R!==et||P!==at){var Ie=vt.push(p(vt)+"scale(",null,",",null,")");we.push({i:Ie-4,x:zi(R,et)},{i:Ie-2,x:zi(P,at)})}else(et!==1||at!==1)&&vt.push(p(vt)+"scale("+et+","+at+")")}return function(R,P){var et=[],at=[];return R=n(R),P=n(P),y(R.translateX,R.translateY,P.translateX,P.translateY,et,at),v(R.rotate,P.rotate,et,at),A(R.skewX,P.skewX,et,at),C(R.scaleX,R.scaleY,P.scaleX,P.scaleY,et,at),R=P=null,function(vt){for(var we=-1,Ie=at.length,ne;++we<Ie;)et[(ne=at[we]).i]=ne.x(vt);return et.join("")}}}var Bu=eg(zo,"px, ","px)","deg)"),Ql=eg(O_,", ",")",")");function Qs(n,i){var u,c;return function(){var p=Ii(this,n),y=p.tween;if(y!==u){c=u=y;for(var v=0,A=c.length;v<A;++v)if(c[v].name===i){c=c.slice(),c.splice(v,1);break}}p.tween=c}}function ps(n,i,u){var c,p;if(typeof u!="function")throw new Error;return function(){var y=Ii(this,n),v=y.tween;if(v!==c){p=(c=v).slice();for(var A={name:i,value:u},C=0,R=p.length;C<R;++C)if(p[C].name===i){p[C]=A;break}C===R&&p.push(A)}y.tween=p}}function _s(n,i){var u=this._id;if(n+="",arguments.length<2){for(var c=ri(this.node(),u).tween,p=0,y=c.length,v;p<y;++p)if((v=c[p]).name===n)return v.value;return null}return this.each((i==null?Qs:ps)(u,n,i))}function tc(n,i,u){var c=n._id;return n.each(function(){var p=Ii(this,c);(p.value||(p.value={}))[i]=u.apply(this,arguments)}),function(p){return ri(p,c).value[i]}}function ng(n,i){var u;return(typeof i=="number"?zi:i instanceof To?Sf:(u=To(i))?(i=u,Sf):kd)(n,i)}function R_(n){return function(){this.removeAttribute(n)}}function E_(n){return function(){this.removeAttributeNS(n.space,n.local)}}function D_(n,i,u){var c,p=u+"",y;return function(){var v=this.getAttribute(n);return v===p?null:v===c?y:y=i(c=v,u)}}function vb(n,i,u){var c,p=u+"",y;return function(){var v=this.getAttributeNS(n.space,n.local);return v===p?null:v===c?y:y=i(c=v,u)}}function bb(n,i,u){var c,p,y;return function(){var v,A=u(this),C;return A==null?void this.removeAttribute(n):(v=this.getAttribute(n),C=A+"",v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A)))}}function Fi(n,i,u){var c,p,y;return function(){var v,A=u(this),C;return A==null?void this.removeAttributeNS(n.space,n.local):(v=this.getAttributeNS(n.space,n.local),C=A+"",v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A)))}}function xb(n,i){var u=Rf(n),c=u==="transform"?Ql:ng;return this.attrTween(n,typeof i=="function"?(u.local?Fi:bb)(u,c,tc(this,"attr."+n,i)):i==null?(u.local?E_:R_)(u):(u.local?vb:D_)(u,c,i))}function P_(n,i){return function(u){this.setAttribute(n,i.call(this,u))}}function wb(n,i){return function(u){this.setAttributeNS(n.space,n.local,i.call(this,u))}}function ec(n,i){var u,c;function p(){var y=i.apply(this,arguments);return y!==c&&(u=(c=y)&&wb(n,y)),u}return p._value=i,p}function Xf(n,i){var u,c;function p(){var y=i.apply(this,arguments);return y!==c&&(u=(c=y)&&P_(n,y)),u}return p._value=i,p}function Vf(n,i){var u="attr."+n;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(i==null)return this.tween(u,null);if(typeof i!="function")throw new Error;var c=Rf(n);return this.tween(u,(c.local?ec:Xf)(c,i))}function qf(n,i){return function(){gs(this,n).delay=+i.apply(this,arguments)}}function Zf(n,i){return i=+i,function(){gs(this,n).delay=i}}function Kf(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?qf:Zf)(i,n)):ri(this.node(),i).delay}function jf(n,i){return function(){Ii(this,n).duration=+i.apply(this,arguments)}}function Jf(n,i){return i=+i,function(){Ii(this,n).duration=i}}function rg(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?jf:Jf)(i,n)):ri(this.node(),i).duration}function ig(n,i){if(typeof i!="function")throw new Error;return function(){Ii(this,n).ease=i}}function ag(n){var i=this._id;return arguments.length?this.each(ig(i,n)):ri(this.node(),i).ease}function k_(n,i){return function(){var u=i.apply(this,arguments);if(typeof u!="function")throw new Error;Ii(this,n).ease=u}}function N_(n){if(typeof n!="function")throw new Error;return this.each(k_(this._id,n))}function pi(n){typeof n!="function"&&(n=Qp(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=[],C,R=0;R<v;++R)(C=y[R])&&n.call(C,C.__data__,R,y)&&A.push(C);return new Ya(c,this._parents,this._name,this._id)}function _i(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,u=n._groups,c=i.length,p=u.length,y=Math.min(c,p),v=new Array(c),A=0;A<y;++A)for(var C=i[A],R=u[A],P=C.length,et=v[A]=new Array(P),at,vt=0;vt<P;++vt)(at=C[vt]||R[vt])&&(et[vt]=at);for(;A<c;++A)v[A]=i[A];return new Ya(v,this._parents,this._name,this._id)}function mi(n){return(n+"").trim().split(/^|\s+/).every(function(i){var u=i.indexOf(".");return u>=0&&(i=i.slice(0,u)),!i||i==="start"})}function pa(n,i,u){var c,p,y=mi(i)?gs:Ii;return function(){var v=y(this,n),A=v.on;A!==c&&(p=(c=A).copy()).on(i,u),v.on=p}}function sg(n,i){var u=this._id;return arguments.length<2?ri(this.node(),u).on.on(n):this.each(pa(u,n,i))}function nc(n){return function(){var i=this.parentNode;for(var u in this.__transition)if(+u!==n)return;i&&i.removeChild(this)}}function L_(){return this.on("end.remove",nc(this._id))}function Ab(n){var i=this._name,u=this._id;typeof n!="function"&&(n=Bd(n));for(var c=this._groups,p=c.length,y=new Array(p),v=0;v<p;++v)for(var A=c[v],C=A.length,R=y[v]=new Array(C),P,et,at=0;at<C;++at)(P=A[at])&&(et=n.call(P,P.__data__,at,A))&&("__data__"in P&&(et.__data__=P.__data__),R[at]=et,Lo(R[at],i,u,at,R,ri(P,u)));return new Ya(y,this._parents,i,u)}function Sb(n){var i=this._name,u=this._id;typeof n!="function"&&(n=Jp(n));for(var c=this._groups,p=c.length,y=[],v=[],A=0;A<p;++A)for(var C=c[A],R=C.length,P,et=0;et<R;++et)if(P=C[et]){for(var at=n.call(P,P.__data__,et,C),vt,we=ri(P,u),Ie=0,ne=at.length;Ie<ne;++Ie)(vt=at[Ie])&&Lo(vt,i,u,Ie,at,we);y.push(at),v.push(P)}return new Ya(y,v,i,u)}var z_=$e.prototype.constructor;function Cb(){return new z_(this._groups,this._parents)}function Mb(n,i){var u,c,p;return function(){var y=ds(this,n),v=(this.style.removeProperty(n),ds(this,n));return y===v?null:y===u&&v===c?p:p=i(u=y,c=v)}}function I_(n){return function(){this.style.removeProperty(n)}}function F_(n,i,u){var c,p=u+"",y;return function(){var v=ds(this,n);return v===p?null:v===c?y:y=i(c=v,u)}}function Tb(n,i,u){var c,p,y;return function(){var v=ds(this,n),A=u(this),C=A+"";return A==null&&(C=A=(this.style.removeProperty(n),ds(this,n))),v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A))}}function Yu(n,i){var u,c,p,y="style."+i,v="end."+y,A;return function(){var C=Ii(this,n),R=C.on,P=C.value[y]==null?A||(A=I_(i)):void 0;(R!==u||p!==P)&&(c=(u=R).copy()).on(v,p=P),C.on=c}}function og(n,i,u){var c=(n+="")==="transform"?Bu:ng;return i==null?this.styleTween(n,Mb(n,c)).on("end.style."+n,I_(n)):typeof i=="function"?this.styleTween(n,Tb(n,c,tc(this,"style."+n,i))).each(Yu(this._id,n)):this.styleTween(n,F_(n,c,i),u).on("end.style."+n,null)}function ug(n,i,u){return function(c){this.style.setProperty(n,i.call(this,c),u)}}function lg(n,i,u){var c,p;function y(){var v=i.apply(this,arguments);return v!==p&&(c=(p=v)&&ug(n,v,u)),c}return y._value=i,y}function H_(n,i,u){var c="style."+(n+="");if(arguments.length<2)return(c=this.tween(c))&&c._value;if(i==null)return this.tween(c,null);if(typeof i!="function")throw new Error;return this.tween(c,lg(n,i,u==null?"":u))}function B_(n){return function(){this.textContent=n}}function Y_(n){return function(){var i=n(this);this.textContent=i==null?"":i}}function U_(n){return this.tween("text",typeof n=="function"?Y_(tc(this,"text",n)):B_(n==null?"":n+""))}function W_(n){return function(i){this.textContent=n.call(this,i)}}function $_(n){var i,u;function c(){var p=n.apply(this,arguments);return p!==u&&(i=(u=p)&&W_(p)),i}return c._value=n,c}function Ob(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,$_(n))}function G_(){for(var n=this._name,i=this._id,u=eh(),c=this._groups,p=c.length,y=0;y<p;++y)for(var v=c[y],A=v.length,C,R=0;R<A;++R)if(C=v[R]){var P=ri(C,i);Lo(C,n,u,R,v,{time:P.time+P.delay+P.duration,delay:0,duration:P.duration,ease:P.ease})}return new Ya(c,this._parents,n,u)}function Qf(){var n,i,u=this,c=u._id,p=u.size();return new Promise(function(y,v){var A={value:v},C={value:function(){--p==0&&y()}};u.each(function(){var R=Ii(this,c),P=R.on;P!==n&&(i=(n=P).copy(),i._.cancel.push(A),i._.interrupt.push(A),i._.end.push(C)),R.on=i}),p===0&&y()})}var th=0;function Ya(n,i,u,c){this._groups=n,this._parents=i,this._name=u,this._id=c}function X_(n){return $e().transition(n)}function eh(){return++th}var Ua=$e.prototype;Ya.prototype=X_.prototype={constructor:Ya,select:Ab,selectAll:Sb,selectChild:Ua.selectChild,selectChildren:Ua.selectChildren,filter:pi,merge:_i,selection:Cb,transition:G_,call:Ua.call,nodes:Ua.nodes,node:Ua.node,size:Ua.size,empty:Ua.empty,each:Ua.each,on:sg,attr:xb,attrTween:Vf,style:og,styleTween:H_,text:U_,textTween:Ob,remove:L_,tween:_s,delay:Kf,duration:rg,ease:ag,easeVarying:N_,end:Qf,[Symbol.iterator]:Ua[Symbol.iterator]};function Rb(n){return n*n*n}function I2(n){return--n*n*n+1}function Eb(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var cg={time:null,delay:0,duration:250,ease:Eb};function Db(n,i){for(var u;!(u=n.__transition)||!(u=u[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return u}function Pb(n){var i,u;n instanceof Ya?(i=n._id,n=n._name):(i=eh(),(u=cg).time=Hu(),n=n==null?null:n+"");for(var c=this._groups,p=c.length,y=0;y<p;++y)for(var v=c[y],A=v.length,C,R=0;R<A;++R)(C=v[R])&&Lo(C,n,i,R,v,u||Db(C,i));return new Ya(c,this._parents,n,i)}$e.prototype.interrupt=Gf,$e.prototype.transition=Pb;function kb(){}function nh(n){return n==null?kb:function(){return this.querySelector(n)}}function Nb(n){typeof n!="function"&&(n=nh(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=new Array(v),C,R,P=0;P<v;++P)(C=y[P])&&(R=n.call(C,C.__data__,P,y))&&("__data__"in C&&(R.__data__=C.__data__),A[P]=R);return new ma(c,this._parents)}function rc(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function rh(){return[]}function ic(n){return n==null?rh:function(){return this.querySelectorAll(n)}}function Lb(n){return function(){return rc(n.apply(this,arguments))}}function fg(n){typeof n=="function"?n=Lb(n):n=ic(n);for(var i=this._groups,u=i.length,c=[],p=[],y=0;y<u;++y)for(var v=i[y],A=v.length,C,R=0;R<A;++R)(C=v[R])&&(c.push(n.call(C,C.__data__,R,v)),p.push(C));return new ma(c,p)}function ih(n){return function(){return this.matches(n)}}function ac(n){return function(i){return i.matches(n)}}var ah=Array.prototype.find;function Uu(n){return function(){return ah.call(this.children,n)}}function zb(){return this.firstElementChild}function Ib(n){return this.select(n==null?zb:Uu(typeof n=="function"?n:ac(n)))}var Fb=Array.prototype.filter;function Hb(){return Array.from(this.children)}function V_(n){return function(){return Fb.call(this.children,n)}}function hg(n){return this.selectAll(n==null?Hb:V_(typeof n=="function"?n:ac(n)))}function Bb(n){typeof n!="function"&&(n=ih(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=[],C,R=0;R<v;++R)(C=y[R])&&n.call(C,C.__data__,R,y)&&A.push(C);return new ma(c,this._parents)}function sc(n){return new Array(n.length)}function q_(){return new ma(this._enter||this._groups.map(sc),this._parents)}function oc(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}oc.prototype={constructor:oc,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function sh(n){return function(){return n}}function Z_(n,i,u,c,p,y){for(var v=0,A,C=i.length,R=y.length;v<R;++v)(A=i[v])?(A.__data__=y[v],c[v]=A):u[v]=new oc(n,y[v]);for(;v<C;++v)(A=i[v])&&(p[v]=A)}function K_(n,i,u,c,p,y,v){var A,C,R=new Map,P=i.length,et=y.length,at=new Array(P),vt;for(A=0;A<P;++A)(C=i[A])&&(at[A]=vt=v.call(C,C.__data__,A,i)+"",R.has(vt)?p[A]=C:R.set(vt,C));for(A=0;A<et;++A)vt=v.call(n,y[A],A,y)+"",(C=R.get(vt))?(c[A]=C,C.__data__=y[A],R.delete(vt)):u[A]=new oc(n,y[A]);for(A=0;A<P;++A)(C=i[A])&&R.get(at[A])===C&&(p[A]=C)}function j_(n){return n.__data__}function Yb(n,i){if(!arguments.length)return Array.from(this,j_);var u=i?K_:Z_,c=this._parents,p=this._groups;typeof n!="function"&&(n=sh(n));for(var y=p.length,v=new Array(y),A=new Array(y),C=new Array(y),R=0;R<y;++R){var P=c[R],et=p[R],at=et.length,vt=J_(n.call(P,P&&P.__data__,R,c)),we=vt.length,Ie=A[R]=new Array(we),ne=v[R]=new Array(we),oe=C[R]=new Array(at);u(P,et,Ie,ne,oe,vt,i);for(var Se=0,Lt=0,kt,xe;Se<we;++Se)if(kt=Ie[Se]){for(Se>=Lt&&(Lt=Se+1);!(xe=ne[Lt])&&++Lt<we;);kt._next=xe||null}}return v=new ma(v,c),v._enter=A,v._exit=C,v}function J_(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Ub(){return new ma(this._exit||this._groups.map(sc),this._parents)}function Q_(n,i,u){var c=this.enter(),p=this,y=this.exit();return typeof n=="function"?(c=n(c),c&&(c=c.selection())):c=c.append(n+""),i!=null&&(p=i(p),p&&(p=p.selection())),u==null?y.remove():u(y),c&&p?c.merge(p).order():p}function tm(n){for(var i=n.selection?n.selection():n,u=this._groups,c=i._groups,p=u.length,y=c.length,v=Math.min(p,y),A=new Array(p),C=0;C<v;++C)for(var R=u[C],P=c[C],et=R.length,at=A[C]=new Array(et),vt,we=0;we<et;++we)(vt=R[we]||P[we])&&(at[we]=vt);for(;C<p;++C)A[C]=u[C];return new ma(A,this._parents)}function em(){for(var n=this._groups,i=-1,u=n.length;++i<u;)for(var c=n[i],p=c.length-1,y=c[p],v;--p>=0;)(v=c[p])&&(y&&v.compareDocumentPosition(y)^4&&y.parentNode.insertBefore(v,y),y=v);return this}function Wb(n){n||(n=$b);function i(et,at){return et&&at?n(et.__data__,at.__data__):!et-!at}for(var u=this._groups,c=u.length,p=new Array(c),y=0;y<c;++y){for(var v=u[y],A=v.length,C=p[y]=new Array(A),R,P=0;P<A;++P)(R=v[P])&&(C[P]=R);C.sort(i)}return new ma(p,this._parents).order()}function $b(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function uc(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function dg(){return Array.from(this)}function gg(){for(var n=this._groups,i=0,u=n.length;i<u;++i)for(var c=n[i],p=0,y=c.length;p<y;++p){var v=c[p];if(v)return v}return null}function nm(){let n=0;for(const i of this)++n;return n}function rm(){return!this.node()}function pg(n){for(var i=this._groups,u=0,c=i.length;u<c;++u)for(var p=i[u],y=0,v=p.length,A;y<v;++y)(A=p[y])&&n.call(A,A.__data__,y,p);return this}var lc="http://www.w3.org/1999/xhtml",ms={svg:"http://www.w3.org/2000/svg",xhtml:lc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oh(n){var i=n+="",u=i.indexOf(":");return u>=0&&(i=n.slice(0,u))!=="xmlns"&&(n=n.slice(u+1)),ms.hasOwnProperty(i)?{space:ms[i],local:n}:n}function Gb(n){return function(){this.removeAttribute(n)}}function im(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Xb(n,i){return function(){this.setAttribute(n,i)}}function am(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function Wu(n,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttribute(n):this.setAttribute(n,u)}}function uh(n,i){return function(){var u=i.apply(this,arguments);u==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,u)}}function cc(n,i){var u=oh(n);if(arguments.length<2){var c=this.node();return u.local?c.getAttributeNS(u.space,u.local):c.getAttribute(u)}return this.each((i==null?u.local?im:Gb:typeof i=="function"?u.local?uh:Wu:u.local?am:Xb)(u,i))}function fc(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Vb(n){return function(){this.style.removeProperty(n)}}function qb(n,i,u){return function(){this.style.setProperty(n,i,u)}}function lh(n,i,u){return function(){var c=i.apply(this,arguments);c==null?this.style.removeProperty(n):this.style.setProperty(n,c,u)}}function _g(n,i,u){return arguments.length>1?this.each((i==null?Vb:typeof i=="function"?lh:qb)(n,i,u==null?"":u)):to(this.node(),n)}function to(n,i){return n.style.getPropertyValue(i)||fc(n).getComputedStyle(n,null).getPropertyValue(i)}function hc(n){return function(){delete this[n]}}function ch(n,i){return function(){this[n]=i}}function fh(n,i){return function(){var u=i.apply(this,arguments);u==null?delete this[n]:this[n]=u}}function $u(n,i){return arguments.length>1?this.each((i==null?hc:typeof i=="function"?fh:ch)(n,i)):this.node()[n]}function hh(n){return n.trim().split(/^|\s+/)}function dc(n){return n.classList||new Gu(n)}function Gu(n){this._node=n,this._names=hh(n.getAttribute("class")||"")}Gu.prototype={add:function(n){var i=this._names.indexOf(n);i<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function mg(n,i){for(var u=dc(n),c=-1,p=i.length;++c<p;)u.add(i[c])}function yg(n,i){for(var u=dc(n),c=-1,p=i.length;++c<p;)u.remove(i[c])}function Wa(n){return function(){mg(this,n)}}function $a(n){return function(){yg(this,n)}}function _a(n,i){return function(){(i.apply(this,arguments)?mg:yg)(this,n)}}function Io(n,i){var u=hh(n+"");if(arguments.length<2){for(var c=dc(this.node()),p=-1,y=u.length;++p<y;)if(!c.contains(u[p]))return!1;return!0}return this.each((typeof i=="function"?_a:i?Wa:$a)(u,i))}function sm(){this.textContent=""}function Zb(n){return function(){this.textContent=n}}function Kb(n){return function(){var i=n.apply(this,arguments);this.textContent=i==null?"":i}}function om(n){return arguments.length?this.each(n==null?sm:(typeof n=="function"?Kb:Zb)(n)):this.node().textContent}function jb(){this.innerHTML=""}function Jb(n){return function(){this.innerHTML=n}}function Qb(n){return function(){var i=n.apply(this,arguments);this.innerHTML=i==null?"":i}}function um(n){return arguments.length?this.each(n==null?jb:(typeof n=="function"?Qb:Jb)(n)):this.node().innerHTML}function lm(){this.nextSibling&&this.parentNode.appendChild(this)}function cm(){return this.each(lm)}function vg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bg(){return this.each(vg)}function fm(n){return function(){var i=this.ownerDocument,u=this.namespaceURI;return u===lc&&i.documentElement.namespaceURI===lc?i.createElement(n):i.createElementNS(u,n)}}function hm(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Xu(n){var i=oh(n);return(i.local?hm:fm)(i)}function gc(n){var i=typeof n=="function"?n:Xu(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function dh(){return null}function tx(n,i){var u=typeof n=="function"?n:Xu(n),c=i==null?dh:typeof i=="function"?i:nh(i);return this.select(function(){return this.insertBefore(u.apply(this,arguments),c.apply(this,arguments)||null)})}function dm(){var n=this.parentNode;n&&n.removeChild(this)}function gm(){return this.each(dm)}function pm(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function _m(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function ex(n){return this.select(n?_m:pm)}function nx(n){return arguments.length?this.property("__data__",n):this.node().__data__}function pc(n){return function(i){n.call(this,i,this.__data__)}}function xg(n){return n.trim().split(/^|\s+/).map(function(i){var u="",c=i.indexOf(".");return c>=0&&(u=i.slice(c+1),i=i.slice(0,c)),{type:i,name:u}})}function wg(n){return function(){var i=this.__on;if(!!i){for(var u=0,c=-1,p=i.length,y;u<p;++u)y=i[u],(!n.type||y.type===n.type)&&y.name===n.name?this.removeEventListener(y.type,y.listener,y.options):i[++c]=y;++c?i.length=c:delete this.__on}}}function gh(n,i,u){return function(){var c=this.__on,p,y=pc(i);if(c){for(var v=0,A=c.length;v<A;++v)if((p=c[v]).type===n.type&&p.name===n.name){this.removeEventListener(p.type,p.listener,p.options),this.addEventListener(p.type,p.listener=y,p.options=u),p.value=i;return}}this.addEventListener(n.type,y,u),p={type:n.type,name:n.name,value:i,listener:y,options:u},c?c.push(p):this.__on=[p]}}function Ag(n,i,u){var c=xg(n+""),p,y=c.length,v;if(arguments.length<2){var A=this.node().__on;if(A){for(var C=0,R=A.length,P;C<R;++C)for(p=0,P=A[C];p<y;++p)if((v=c[p]).type===P.type&&v.name===P.name)return P.value}return}for(A=i?gh:wg,p=0;p<y;++p)this.each(A(c[p],i,u));return this}function ph(n,i,u){var c=fc(n),p=c.CustomEvent;typeof p=="function"?p=new p(i,u):(p=c.document.createEvent("Event"),u?(p.initEvent(i,u.bubbles,u.cancelable),p.detail=u.detail):p.initEvent(i,!1,!1)),n.dispatchEvent(p)}function Sg(n,i){return function(){return ph(this,n,i)}}function mm(n,i){return function(){return ph(this,n,i.apply(this,arguments))}}function rx(n,i){return this.each((typeof i=="function"?mm:Sg)(n,i))}function*ym(){for(var n=this._groups,i=0,u=n.length;i<u;++i)for(var c=n[i],p=0,y=c.length,v;p<y;++p)(v=c[p])&&(yield v)}var ix=[null];function ma(n,i){this._groups=n,this._parents=i}function vm(){return new ma([[document.documentElement]],ix)}function ax(){return this}ma.prototype=vm.prototype={constructor:ma,select:Nb,selectAll:fg,selectChild:Ib,selectChildren:hg,filter:Bb,data:Yb,enter:q_,exit:Ub,join:Q_,merge:tm,selection:ax,order:em,sort:Wb,call:uc,nodes:dg,node:gg,size:nm,empty:rm,each:pg,attr:cc,style:_g,property:$u,classed:Io,text:om,html:um,raise:cm,lower:bg,append:gc,insert:tx,remove:gm,clone:ex,datum:nx,on:Ag,dispatch:rx,[Symbol.iterator]:ym};var _c=vm,bm={value:function(){}};function ya(){for(var n=0,i=arguments.length,u={},c;n<i;++n){if(!(c=arguments[n]+"")||c in u||/[\s.]/.test(c))throw new Error("illegal type: "+c);u[c]=[]}return new Vu(u)}function Vu(n){this._=n}function Cg(n,i){return n.trim().split(/^|\s+/).map(function(u){var c="",p=u.indexOf(".");if(p>=0&&(c=u.slice(p+1),u=u.slice(0,p)),u&&!i.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:c}})}Vu.prototype=ya.prototype={constructor:Vu,on:function(i,u){var c=this._,p=Cg(i+"",c),y,v=-1,A=p.length;if(arguments.length<2){for(;++v<A;)if((y=(i=p[v]).type)&&(y=sx(c[y],i.name)))return y;return}if(u!=null&&typeof u!="function")throw new Error("invalid callback: "+u);for(;++v<A;)if(y=(i=p[v]).type)c[y]=Mg(c[y],i.name,u);else if(u==null)for(y in c)c[y]=Mg(c[y],i.name,null);return this},copy:function(){var i={},u=this._;for(var c in u)i[c]=u[c].slice();return new Vu(i)},call:function(i,u){if((y=arguments.length-2)>0)for(var c=new Array(y),p=0,y,v;p<y;++p)c[p]=arguments[p+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(v=this._[i],p=0,y=v.length;p<y;++p)v[p].value.apply(u,c)},apply:function(i,u,c){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var p=this._[i],y=0,v=p.length;y<v;++y)p[y].value.apply(u,c)}};function sx(n,i){for(var u=0,c=n.length,p;u<c;++u)if((p=n[u]).name===i)return p.value}function Mg(n,i,u){for(var c=0,p=n.length;c<p;++c)if(n[c].name===i){n[c]=bm,n=n.slice(0,c).concat(n.slice(c+1));break}return u!=null&&n.push({name:i,value:u}),n}var _h=ya,Fo=0,mc=0,yc=0,Tg=1e3,eo,Ho,mh=0,ys=0,yh=0,vs=typeof performance=="object"&&performance.now?performance:Date,xm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function vh(){return ys||(xm(bh),ys=vs.now()+yh)}function bh(){ys=0}function vc(){this._call=this._time=this._next=null}vc.prototype=wm.prototype={constructor:vc,restart:function(n,i,u){if(typeof n!="function")throw new TypeError("callback is not a function");u=(u==null?vh():+u)+(i==null?0:+i),!this._next&&Ho!==this&&(Ho?Ho._next=this:eo=this,Ho=this),this._call=n,this._time=u,Bo()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Bo())}};function wm(n,i,u){var c=new vc;return c.restart(n,i,u),c}function bc(){vh(),++Fo;for(var n=eo,i;n;)(i=ys-n._time)>=0&&n._call.call(void 0,i),n=n._next;--Fo}function Am(){ys=(mh=vs.now())+yh,Fo=mc=0;try{bc()}finally{Fo=0,ox(),ys=0}}function Sm(){var n=vs.now(),i=n-mh;i>Tg&&(yh-=i,mh=n)}function ox(){for(var n,i=eo,u,c=Infinity;i;)i._call?(c>i._time&&(c=i._time),n=i,i=i._next):(u=i._next,i._next=null,i=n?n._next=u:eo=u);Ho=n,Bo(c)}function Bo(n){if(!Fo){mc&&(mc=clearTimeout(mc));var i=n-ys;i>24?(n<Infinity&&(mc=setTimeout(Am,n-vs.now()-yh)),yc&&(yc=clearInterval(yc))):(yc||(mh=vs.now(),yc=setInterval(Sm,Tg)),Fo=1,xm(Am))}}function qu(n,i,u){var c=new vc;return i=i==null?0:+i,c.restart(p=>{c.stop(),n(p+i)},i,u),c}var xc=_h("start","end","cancel","interrupt"),wc=[],Ac=0,Cm=1,Sc=2,xh=3,wh=4,Og=5,Ah=6;function Zu(n,i,u,c,p,y){var v=n.__transition;if(!v)n.__transition={};else if(u in v)return;Eg(n,u,{name:i,index:c,group:p,on:xc,tween:wc,time:y.time,delay:y.delay,duration:y.duration,ease:y.ease,timer:null,state:Ac})}function Rg(n,i){var u=va(n,i);if(u.state>Ac)throw new Error("too late; already scheduled");return u}function na(n,i){var u=va(n,i);if(u.state>xh)throw new Error("too late; already running");return u}function va(n,i){var u=n.__transition;if(!u||!(u=u[i]))throw new Error("transition not found");return u}function Eg(n,i,u){var c=n.__transition,p;c[i]=u,u.timer=wm(y,0,u.time);function y(R){u.state=Cm,u.timer.restart(v,u.delay,u.time),u.delay<=R&&v(R-u.delay)}function v(R){var P,et,at,vt;if(u.state!==Cm)return C();for(P in c)if(vt=c[P],vt.name===u.name){if(vt.state===xh)return qu(v);vt.state===wh?(vt.state=Ah,vt.timer.stop(),vt.on.call("interrupt",n,n.__data__,vt.index,vt.group),delete c[P]):+P<i&&(vt.state=Ah,vt.timer.stop(),vt.on.call("cancel",n,n.__data__,vt.index,vt.group),delete c[P])}if(qu(function(){u.state===xh&&(u.state=wh,u.timer.restart(A,u.delay,u.time),A(R))}),u.state=Sc,u.on.call("start",n,n.__data__,u.index,u.group),u.state===Sc){for(u.state=xh,p=new Array(at=u.tween.length),P=0,et=-1;P<at;++P)(vt=u.tween[P].value.call(n,n.__data__,u.index,u.group))&&(p[++et]=vt);p.length=et+1}}function A(R){for(var P=R<u.duration?u.ease.call(null,R/u.duration):(u.timer.restart(C),u.state=Og,1),et=-1,at=p.length;++et<at;)p[et].call(n,P);u.state===Og&&(u.on.call("end",n,n.__data__,u.index,u.group),C())}function C(){u.state=Ah,u.timer.stop(),delete c[i];for(var R in c)return;delete n.__transition}}function ux(n,i){var u=n.__transition,c,p,y=!0,v;if(!!u){i=i==null?null:i+"";for(v in u){if((c=u[v]).name!==i){y=!1;continue}p=c.state>Sc&&c.state<Og,c.state=Ah,c.timer.stop(),c.on.call(p?"interrupt":"cancel",n,n.__data__,c.index,c.group),delete u[v]}y&&delete n.__transition}}function Dg(n){return this.each(function(){ux(this,n)})}function no(n,i){return n=+n,i=+i,function(u){return n*(1-u)+i*u}}var Mm=180/Math.PI,Pg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tm(n,i,u,c,p,y){var v,A,C;return(v=Math.sqrt(n*n+i*i))&&(n/=v,i/=v),(C=n*u+i*c)&&(u-=n*C,c-=i*C),(A=Math.sqrt(u*u+c*c))&&(u/=A,c/=A,C/=A),n*c<i*u&&(n=-n,i=-i,C=-C,v=-v),{translateX:p,translateY:y,rotate:Math.atan2(i,n)*Mm,skewX:Math.atan(C)*Mm,scaleX:v,scaleY:A}}var Sh;function lx(n){var i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?Pg:Tm(i.a,i.b,i.c,i.d,i.e,i.f)}function cx(n){return n==null||(Sh||(Sh=document.createElementNS("http://www.w3.org/2000/svg","g")),Sh.setAttribute("transform",n),!(n=Sh.transform.baseVal.consolidate()))?Pg:(n=n.matrix,Tm(n.a,n.b,n.c,n.d,n.e,n.f))}function Om(n,i,u,c){function p(R){return R.length?R.pop()+" ":""}function y(R,P,et,at,vt,we){if(R!==et||P!==at){var Ie=vt.push("translate(",null,i,null,u);we.push({i:Ie-4,x:no(R,et)},{i:Ie-2,x:no(P,at)})}else(et||at)&&vt.push("translate("+et+i+at+u)}function v(R,P,et,at){R!==P?(R-P>180?P+=360:P-R>180&&(R+=360),at.push({i:et.push(p(et)+"rotate(",null,c)-2,x:no(R,P)})):P&&et.push(p(et)+"rotate("+P+c)}function A(R,P,et,at){R!==P?at.push({i:et.push(p(et)+"skewX(",null,c)-2,x:no(R,P)}):P&&et.push(p(et)+"skewX("+P+c)}function C(R,P,et,at,vt,we){if(R!==et||P!==at){var Ie=vt.push(p(vt)+"scale(",null,",",null,")");we.push({i:Ie-4,x:no(R,et)},{i:Ie-2,x:no(P,at)})}else(et!==1||at!==1)&&vt.push(p(vt)+"scale("+et+","+at+")")}return function(R,P){var et=[],at=[];return R=n(R),P=n(P),y(R.translateX,R.translateY,P.translateX,P.translateY,et,at),v(R.rotate,P.rotate,et,at),A(R.skewX,P.skewX,et,at),C(R.scaleX,R.scaleY,P.scaleX,P.scaleY,et,at),R=P=null,function(vt){for(var we=-1,Ie=at.length,ne;++we<Ie;)et[(ne=at[we]).i]=ne.x(vt);return et.join("")}}}var fx=Om(lx,"px, ","px)","deg)"),hx=Om(cx,", ",")",")");function dx(n,i){var u,c;return function(){var p=na(this,n),y=p.tween;if(y!==u){c=u=y;for(var v=0,A=c.length;v<A;++v)if(c[v].name===i){c=c.slice(),c.splice(v,1);break}}p.tween=c}}function gx(n,i,u){var c,p;if(typeof u!="function")throw new Error;return function(){var y=na(this,n),v=y.tween;if(v!==c){p=(c=v).slice();for(var A={name:i,value:u},C=0,R=p.length;C<R;++C)if(p[C].name===i){p[C]=A;break}C===R&&p.push(A)}y.tween=p}}function px(n,i){var u=this._id;if(n+="",arguments.length<2){for(var c=va(this.node(),u).tween,p=0,y=c.length,v;p<y;++p)if((v=c[p]).name===n)return v.value;return null}return this.each((i==null?dx:gx)(u,n,i))}function kg(n,i,u){var c=n._id;return n.each(function(){var p=na(this,c);(p.value||(p.value={}))[i]=u.apply(this,arguments)}),function(p){return va(p,c).value[i]}}function Ng(n,i,u){n.prototype=i.prototype=u,u.constructor=n}function Rm(n,i){var u=Object.create(n.prototype);for(var c in i)u[c]=i[c];return u}function Cc(){}var Mc=.7,Ch=1/Mc,Ku="\\s*([+-]?\\d+)\\s*",Tc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ga="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_x=/^#([0-9a-f]{3,8})$/,mx=new RegExp("^rgb\\("+[Ku,Ku,Ku]+"\\)$"),yx=new RegExp("^rgb\\("+[Ga,Ga,Ga]+"\\)$"),Em=new RegExp("^rgba\\("+[Ku,Ku,Ku,Tc]+"\\)$"),Lg=new RegExp("^rgba\\("+[Ga,Ga,Ga,Tc]+"\\)$"),vx=new RegExp("^hsl\\("+[Tc,Ga,Ga]+"\\)$"),bx=new RegExp("^hsla\\("+[Tc,Ga,Ga,Tc]+"\\)$"),Dm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ng(Cc,Oc,{copy:function(i){return Object.assign(new this.constructor,this,i)},displayable:function(){return this.rgb().displayable()},hex:Pm,formatHex:Pm,formatHsl:km,formatRgb:Yo,toString:Yo});function Pm(){return this.rgb().formatHex()}function km(){return Ig(this).formatHsl()}function Yo(){return this.rgb().formatRgb()}function Oc(n){var i,u;return n=(n+"").trim().toLowerCase(),(i=_x.exec(n))?(u=i[1].length,i=parseInt(i[1],16),u===6?Nm(i):u===3?new Ci(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):u===8?Rc(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):u===4?Rc(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=mx.exec(n))?new Ci(i[1],i[2],i[3],1):(i=yx.exec(n))?new Ci(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=Em.exec(n))?Rc(i[1],i[2],i[3],i[4]):(i=Lg.exec(n))?Rc(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=vx.exec(n))?ju(i[1],i[2]/100,i[3]/100,1):(i=bx.exec(n))?ju(i[1],i[2]/100,i[3]/100,i[4]):Dm.hasOwnProperty(n)?Nm(Dm[n]):n==="transparent"?new Ci(NaN,NaN,NaN,0):null}function Nm(n){return new Ci(n>>16&255,n>>8&255,n&255,1)}function Rc(n,i,u,c){return c<=0&&(n=i=u=NaN),new Ci(n,i,u,c)}function xx(n){return n instanceof Cc||(n=Oc(n)),n?(n=n.rgb(),new Ci(n.r,n.g,n.b,n.opacity)):new Ci}function Uo(n,i,u,c){return arguments.length===1?xx(n):new Ci(n,i,u,c==null?1:c)}function Ci(n,i,u,c){this.r=+n,this.g=+i,this.b=+u,this.opacity=+c}Ng(Ci,Uo,Rm(Cc,{brighter:function(i){return i=i==null?Ch:Math.pow(Ch,i),new Ci(this.r*i,this.g*i,this.b*i,this.opacity)},darker:function(i){return i=i==null?Mc:Math.pow(Mc,i),new Ci(this.r*i,this.g*i,this.b*i,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mh,formatHex:Mh,formatRgb:Lm,toString:Lm}));function Mh(){return"#"+zg(this.r)+zg(this.g)+zg(this.b)}function Lm(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function zg(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function ju(n,i,u,c){return c<=0?n=i=u=NaN:u<=0||u>=1?n=i=NaN:i<=0&&(n=NaN),new ba(n,i,u,c)}function Ig(n){if(n instanceof ba)return new ba(n.h,n.s,n.l,n.opacity);if(n instanceof Cc||(n=Oc(n)),!n)return new ba;if(n instanceof ba)return n;n=n.rgb();var i=n.r/255,u=n.g/255,c=n.b/255,p=Math.min(i,u,c),y=Math.max(i,u,c),v=NaN,A=y-p,C=(y+p)/2;return A?(i===y?v=(u-c)/A+(u<c)*6:u===y?v=(c-i)/A+2:v=(i-u)/A+4,A/=C<.5?y+p:2-y-p,v*=60):A=C>0&&C<1?0:v,new ba(v,A,C,n.opacity)}function zm(n,i,u,c){return arguments.length===1?Ig(n):new ba(n,i,u,c==null?1:c)}function ba(n,i,u,c){this.h=+n,this.s=+i,this.l=+u,this.opacity=+c}Ng(ba,zm,Rm(Cc,{brighter:function(i){return i=i==null?Ch:Math.pow(Ch,i),new ba(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?Mc:Math.pow(Mc,i),new ba(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=this.h%360+(this.h<0)*360,u=isNaN(i)||isNaN(this.s)?0:this.s,c=this.l,p=c+(c<.5?c:1-c)*u,y=2*c-p;return new Ci(Th(i>=240?i-240:i+120,y,p),Th(i,y,p),Th(i<120?i+240:i-120,y,p),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var i=this.opacity;return i=isNaN(i)?1:Math.max(0,Math.min(1,i)),(i===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(i===1?")":", "+i+")")}}));function Th(n,i,u){return(n<60?i+(u-i)*n/60:n<180?u:n<240?i+(u-i)*(240-n)/60:i)*255}function Ec(n,i,u,c,p){var y=n*n,v=y*n;return((1-3*n+3*y-v)*i+(4-6*y+3*v)*u+(1+3*n+3*y-3*v)*c+v*p)/6}function Im(n){var i=n.length-1;return function(u){var c=u<=0?u=0:u>=1?(u=1,i-1):Math.floor(u*i),p=n[c],y=n[c+1],v=c>0?n[c-1]:2*p-y,A=c<i-1?n[c+2]:2*y-p;return Ec((u-c/i)*i,v,p,y,A)}}function wx(n){var i=n.length;return function(u){var c=Math.floor(((u%=1)<0?++u:u)*i),p=n[(c+i-1)%i],y=n[c%i],v=n[(c+1)%i],A=n[(c+2)%i];return Ec((u-c/i)*i,p,y,v,A)}}var Fm=function(n){return function(){return n}};function Dc(n,i){return function(u){return n+u*i}}function Wo(n,i,u){return n=Math.pow(n,u),i=Math.pow(i,u)-n,u=1/u,function(c){return Math.pow(n+c*i,u)}}function Pc(n,i){var u=i-n;return u?Dc(n,u>180||u<-180?u-360*Math.round(u/360):u):constant(isNaN(n)?i:n)}function Ax(n){return(n=+n)==1?Hm:function(i,u){return u-i?Wo(i,u,n):Fm(isNaN(i)?u:i)}}function Hm(n,i){var u=i-n;return u?Dc(n,u):Fm(isNaN(n)?i:n)}var Fg=function n(i){var u=Ax(i);function c(p,y){var v=u((p=Uo(p)).r,(y=Uo(y)).r),A=u(p.g,y.g),C=u(p.b,y.b),R=Hm(p.opacity,y.opacity);return function(P){return p.r=v(P),p.g=A(P),p.b=C(P),p.opacity=R(P),p+""}}return c.gamma=n,c}(1);function Oh(n){return function(i){var u=i.length,c=new Array(u),p=new Array(u),y=new Array(u),v,A;for(v=0;v<u;++v)A=Uo(i[v]),c[v]=A.r||0,p[v]=A.g||0,y[v]=A.b||0;return c=n(c),p=n(p),y=n(y),A.opacity=1,function(C){return A.r=c(C),A.g=p(C),A.b=y(C),A+""}}}var Sx=Oh(Im),Cx=Oh(wx),$o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hg=new RegExp($o.source,"g");function Mx(n){return function(){return n}}function Bm(n){return function(i){return n(i)+""}}function Tx(n,i){var u=$o.lastIndex=Hg.lastIndex=0,c,p,y,v=-1,A=[],C=[];for(n=n+"",i=i+"";(c=$o.exec(n))&&(p=Hg.exec(i));)(y=p.index)>u&&(y=i.slice(u,y),A[v]?A[v]+=y:A[++v]=y),(c=c[0])===(p=p[0])?A[v]?A[v]+=p:A[++v]=p:(A[++v]=null,C.push({i:v,x:no(c,p)})),u=Hg.lastIndex;return u<i.length&&(y=i.slice(u),A[v]?A[v]+=y:A[++v]=y),A.length<2?C[0]?Bm(C[0].x):Mx(i):(i=C.length,function(R){for(var P=0,et;P<i;++P)A[(et=C[P]).i]=et.x(R);return A.join("")})}function Ym(n,i){var u;return(typeof i=="number"?no:i instanceof Oc?Fg:(u=Oc(i))?(i=u,Fg):Tx)(n,i)}function Ox(n){return function(){this.removeAttribute(n)}}function Rx(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Bg(n,i,u){var c,p=u+"",y;return function(){var v=this.getAttribute(n);return v===p?null:v===c?y:y=i(c=v,u)}}function Yg(n,i,u){var c,p=u+"",y;return function(){var v=this.getAttributeNS(n.space,n.local);return v===p?null:v===c?y:y=i(c=v,u)}}function Ex(n,i,u){var c,p,y;return function(){var v,A=u(this),C;return A==null?void this.removeAttribute(n):(v=this.getAttribute(n),C=A+"",v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A)))}}function Dx(n,i,u){var c,p,y;return function(){var v,A=u(this),C;return A==null?void this.removeAttributeNS(n.space,n.local):(v=this.getAttributeNS(n.space,n.local),C=A+"",v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A)))}}function Px(n,i){var u=oh(n),c=u==="transform"?hx:Ym;return this.attrTween(n,typeof i=="function"?(u.local?Dx:Ex)(u,c,kg(this,"attr."+n,i)):i==null?(u.local?Rx:Ox)(u):(u.local?Yg:Bg)(u,c,i))}function Rh(n,i){return function(u){this.setAttribute(n,i.call(this,u))}}function kx(n,i){return function(u){this.setAttributeNS(n.space,n.local,i.call(this,u))}}function Nx(n,i){var u,c;function p(){var y=i.apply(this,arguments);return y!==c&&(u=(c=y)&&kx(n,y)),u}return p._value=i,p}function Eh(n,i){var u,c;function p(){var y=i.apply(this,arguments);return y!==c&&(u=(c=y)&&Rh(n,y)),u}return p._value=i,p}function Um(n,i){var u="attr."+n;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(i==null)return this.tween(u,null);if(typeof i!="function")throw new Error;var c=oh(n);return this.tween(u,(c.local?Nx:Eh)(c,i))}function Wm(n,i){return function(){Rg(this,n).delay=+i.apply(this,arguments)}}function $m(n,i){return i=+i,function(){Rg(this,n).delay=i}}function Lx(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?Wm:$m)(i,n)):va(this.node(),i).delay}function zx(n,i){return function(){na(this,n).duration=+i.apply(this,arguments)}}function Ix(n,i){return i=+i,function(){na(this,n).duration=i}}function Fx(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?zx:Ix)(i,n)):va(this.node(),i).duration}function Hx(n,i){if(typeof i!="function")throw new Error;return function(){na(this,n).ease=i}}function Bx(n){var i=this._id;return arguments.length?this.each(Hx(i,n)):va(this.node(),i).ease}function Dh(n,i){return function(){var u=i.apply(this,arguments);if(typeof u!="function")throw new Error;na(this,n).ease=u}}function Yx(n){if(typeof n!="function")throw new Error;return this.each(Dh(this._id,n))}function Gm(n){typeof n!="function"&&(n=ih(n));for(var i=this._groups,u=i.length,c=new Array(u),p=0;p<u;++p)for(var y=i[p],v=y.length,A=c[p]=[],C,R=0;R<v;++R)(C=y[R])&&n.call(C,C.__data__,R,y)&&A.push(C);return new bs(c,this._parents,this._name,this._id)}function Ux(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,u=n._groups,c=i.length,p=u.length,y=Math.min(c,p),v=new Array(c),A=0;A<y;++A)for(var C=i[A],R=u[A],P=C.length,et=v[A]=new Array(P),at,vt=0;vt<P;++vt)(at=C[vt]||R[vt])&&(et[vt]=at);for(;A<c;++A)v[A]=i[A];return new bs(v,this._parents,this._name,this._id)}function Wx(n){return(n+"").trim().split(/^|\s+/).every(function(i){var u=i.indexOf(".");return u>=0&&(i=i.slice(0,u)),!i||i==="start"})}function Xm(n,i,u){var c,p,y=Wx(i)?Rg:na;return function(){var v=y(this,n),A=v.on;A!==c&&(p=(c=A).copy()).on(i,u),v.on=p}}function Vm(n,i){var u=this._id;return arguments.length<2?va(this.node(),u).on.on(n):this.each(Xm(u,n,i))}function $x(n){return function(){var i=this.parentNode;for(var u in this.__transition)if(+u!==n)return;i&&i.removeChild(this)}}function Gx(){return this.on("end.remove",$x(this._id))}function Xx(n){var i=this._name,u=this._id;typeof n!="function"&&(n=nh(n));for(var c=this._groups,p=c.length,y=new Array(p),v=0;v<p;++v)for(var A=c[v],C=A.length,R=y[v]=new Array(C),P,et,at=0;at<C;++at)(P=A[at])&&(et=n.call(P,P.__data__,at,A))&&("__data__"in P&&(et.__data__=P.__data__),R[at]=et,Zu(R[at],i,u,at,R,va(P,u)));return new bs(y,this._parents,i,u)}function qm(n){var i=this._name,u=this._id;typeof n!="function"&&(n=ic(n));for(var c=this._groups,p=c.length,y=[],v=[],A=0;A<p;++A)for(var C=c[A],R=C.length,P,et=0;et<R;++et)if(P=C[et]){for(var at=n.call(P,P.__data__,et,C),vt,we=va(P,u),Ie=0,ne=at.length;Ie<ne;++Ie)(vt=at[Ie])&&Zu(vt,i,u,Ie,at,we);y.push(at),v.push(P)}return new bs(y,v,i,u)}var Vx=_c.prototype.constructor;function qx(){return new Vx(this._groups,this._parents)}function Zm(n,i){var u,c,p;return function(){var y=to(this,n),v=(this.style.removeProperty(n),to(this,n));return y===v?null:y===u&&v===c?p:p=i(u=y,c=v)}}function Km(n){return function(){this.style.removeProperty(n)}}function Ph(n,i,u){var c,p=u+"",y;return function(){var v=to(this,n);return v===p?null:v===c?y:y=i(c=v,u)}}function jm(n,i,u){var c,p,y;return function(){var v=to(this,n),A=u(this),C=A+"";return A==null&&(C=A=(this.style.removeProperty(n),to(this,n))),v===C?null:v===c&&C===p?y:(p=C,y=i(c=v,A))}}function Zx(n,i){var u,c,p,y="style."+i,v="end."+y,A;return function(){var C=na(this,n),R=C.on,P=C.value[y]==null?A||(A=Km(i)):void 0;(R!==u||p!==P)&&(c=(u=R).copy()).on(v,p=P),C.on=c}}function Kx(n,i,u){var c=(n+="")==="transform"?fx:Ym;return i==null?this.styleTween(n,Zm(n,c)).on("end.style."+n,Km(n)):typeof i=="function"?this.styleTween(n,jm(n,c,kg(this,"style."+n,i))).each(Zx(this._id,n)):this.styleTween(n,Ph(n,c,i),u).on("end.style."+n,null)}function jx(n,i,u){return function(c){this.style.setProperty(n,i.call(this,c),u)}}function Jx(n,i,u){var c,p;function y(){var v=i.apply(this,arguments);return v!==p&&(c=(p=v)&&jx(n,v,u)),c}return y._value=i,y}function Qx(n,i,u){var c="style."+(n+="");if(arguments.length<2)return(c=this.tween(c))&&c._value;if(i==null)return this.tween(c,null);if(typeof i!="function")throw new Error;return this.tween(c,Jx(n,i,u==null?"":u))}function Jm(n){return function(){this.textContent=n}}function tw(n){return function(){var i=n(this);this.textContent=i==null?"":i}}function ew(n){return this.tween("text",typeof n=="function"?tw(kg(this,"text",n)):Jm(n==null?"":n+""))}function nw(n){return function(i){this.textContent=n.call(this,i)}}function rw(n){var i,u;function c(){var p=n.apply(this,arguments);return p!==u&&(i=(u=p)&&nw(p)),i}return c._value=n,c}function Qm(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,rw(n))}function iw(){for(var n=this._name,i=this._id,u=ty(),c=this._groups,p=c.length,y=0;y<p;++y)for(var v=c[y],A=v.length,C,R=0;R<A;++R)if(C=v[R]){var P=va(C,i);Zu(C,n,u,R,v,{time:P.time+P.delay+P.duration,delay:0,duration:P.duration,ease:P.ease})}return new bs(c,this._parents,n,u)}function aw(){var n,i,u=this,c=u._id,p=u.size();return new Promise(function(y,v){var A={value:v},C={value:function(){--p==0&&y()}};u.each(function(){var R=na(this,c),P=R.on;P!==n&&(i=(n=P).copy(),i._.cancel.push(A),i._.interrupt.push(A),i._.end.push(C)),R.on=i}),p===0&&y()})}var sw=0;function bs(n,i,u,c){this._groups=n,this._parents=i,this._name=u,this._id=c}function yi(n){return _c().transition(n)}function ty(){return++sw}var xs=_c.prototype;bs.prototype=yi.prototype={constructor:bs,select:Xx,selectAll:qm,selectChild:xs.selectChild,selectChildren:xs.selectChildren,filter:Gm,merge:Ux,selection:qx,transition:iw,call:xs.call,nodes:xs.nodes,node:xs.node,size:xs.size,empty:xs.empty,each:xs.each,on:Vm,attr:Px,attrTween:Um,style:Kx,styleTween:Qx,text:ew,textTween:Qm,remove:Gx,tween:px,delay:Lx,duration:Fx,ease:Bx,easeVarying:Yx,end:aw,[Symbol.iterator]:xs[Symbol.iterator]};function F2(n){return n*n*n}function H2(n){return--n*n*n+1}function ow(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var uw={time:null,delay:0,duration:250,ease:ow};function lw(n,i){for(var u;!(u=n.__transition)||!(u=u[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return u}function cw(n){var i,u;n instanceof bs?(i=n._id,n=n._name):(i=ty(),(u=uw).time=vh(),n=n==null?null:n+"");for(var c=this._groups,p=c.length,y=0;y<p;++y)for(var v=c[y],A=v.length,C,R=0;R<A;++R)(C=v[R])&&Zu(C,n,i,R,v,u||lw(C,i));return new bs(c,this._parents,n,i)}_c.prototype.interrupt=Dg,_c.prototype.transition=cw;function Ju(n,i,u){this.k=n,this.x=i,this.y=u}Ju.prototype={constructor:Ju,scale:function(n){return n===1?this:new Ju(this.k*n,this.x,this.y)},translate:function(n,i){return n===0&i===0?this:new Ju(this.k,this.x+this.k*n,this.y+this.k*i)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var fw=new Ju(1,0,0);hw.prototype=Ju.prototype;function hw(n){for(;!n.__zoom;)if(!(n=n.parentNode))return fw;return n.__zoom}function ey(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Ug(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Wg(){return this.__zoom||identity}function vi(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function qr(){return navigator.maxTouchPoints||"ontouchstart"in this}function dw(n,i,u){var c=n.invertX(i[0][0])-u[0][0],p=n.invertX(i[1][0])-u[1][0],y=n.invertY(i[0][1])-u[0][1],v=n.invertY(i[1][1])-u[1][1];return n.translate(p>c?(c+p)/2:Math.min(0,c)||Math.max(0,p),v>y?(y+v)/2:Math.min(0,y)||Math.max(0,v))}function B2(){var n=ey,i=Ug,u=dw,c=vi,p=qr,y=[0,Infinity],v=[[-Infinity,-Infinity],[Infinity,Infinity]],A=250,C=interpolateZoom,R=dispatch("start","zoom","end"),P,et,at,vt=500,we=150,Ie=0,ne=10;function oe(bt){bt.property("__zoom",Wg).on("wheel.zoom",Ye,{passive:!1}).on("mousedown.zoom",Le).on("dblclick.zoom",bn).filter(p).on("touchstart.zoom",Xe).on("touchmove.zoom",an).on("touchend.zoom touchcancel.zoom",un).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}oe.transform=function(bt,pe,Nt,Kt){var ze=bt.selection?bt.selection():bt;ze.property("__zoom",Wg),bt!==ze?xe(bt,pe,Nt,Kt):ze.interrupt().each(function(){_e(this,arguments).event(Kt).start().zoom(null,typeof pe=="function"?pe.apply(this,arguments):pe).end()})},oe.scaleBy=function(bt,pe,Nt,Kt){oe.scaleTo(bt,function(){var ze=this.__zoom.k,ve=typeof pe=="function"?pe.apply(this,arguments):pe;return ze*ve},Nt,Kt)},oe.scaleTo=function(bt,pe,Nt,Kt){oe.transform(bt,function(){var ze=i.apply(this,arguments),ve=this.__zoom,Ee=Nt==null?kt(ze):typeof Nt=="function"?Nt.apply(this,arguments):Nt,Fe=ve.invert(Ee),Ue=typeof pe=="function"?pe.apply(this,arguments):pe;return u(Lt(Se(ve,Ue),Ee,Fe),ze,v)},Nt,Kt)},oe.translateBy=function(bt,pe,Nt,Kt){oe.transform(bt,function(){return u(this.__zoom.translate(typeof pe=="function"?pe.apply(this,arguments):pe,typeof Nt=="function"?Nt.apply(this,arguments):Nt),i.apply(this,arguments),v)},null,Kt)},oe.translateTo=function(bt,pe,Nt,Kt,ze){oe.transform(bt,function(){var ve=i.apply(this,arguments),Ee=this.__zoom,Fe=Kt==null?kt(ve):typeof Kt=="function"?Kt.apply(this,arguments):Kt;return u(identity.translate(Fe[0],Fe[1]).scale(Ee.k).translate(typeof pe=="function"?-pe.apply(this,arguments):-pe,typeof Nt=="function"?-Nt.apply(this,arguments):-Nt),ve,v)},Kt,ze)};function Se(bt,pe){return pe=Math.max(y[0],Math.min(y[1],pe)),pe===bt.k?bt:new Transform(pe,bt.x,bt.y)}function Lt(bt,pe,Nt){var Kt=pe[0]-Nt[0]*bt.k,ze=pe[1]-Nt[1]*bt.k;return Kt===bt.x&&ze===bt.y?bt:new Transform(bt.k,Kt,ze)}function kt(bt){return[(+bt[0][0]+ +bt[1][0])/2,(+bt[0][1]+ +bt[1][1])/2]}function xe(bt,pe,Nt,Kt){bt.on("start.zoom",function(){_e(this,arguments).event(Kt).start()}).on("interrupt.zoom end.zoom",function(){_e(this,arguments).event(Kt).end()}).tween("zoom",function(){var ze=this,ve=arguments,Ee=_e(ze,ve).event(Kt),Fe=i.apply(ze,ve),Ue=Nt==null?kt(Fe):typeof Nt=="function"?Nt.apply(ze,ve):Nt,Vn=Math.max(Fe[1][0]-Fe[0][0],Fe[1][1]-Fe[0][1]),On=ze.__zoom,Ln=typeof pe=="function"?pe.apply(ze,ve):pe,Bn=C(On.invert(Ue).concat(Vn/On.k),Ln.invert(Ue).concat(Vn/Ln.k));return function(Cn){if(Cn===1)Cn=Ln;else{var tr=Bn(Cn),Me=Vn/tr[2];Cn=new Transform(Me,Ue[0]-tr[0]*Me,Ue[1]-tr[1]*Me)}Ee.zoom(null,Cn)}})}function _e(bt,pe,Nt){return!Nt&&bt.__zooming||new Te(bt,pe)}function Te(bt,pe){this.that=bt,this.args=pe,this.active=0,this.sourceEvent=null,this.extent=i.apply(bt,pe),this.taps=0}Te.prototype={event:function(bt){return bt&&(this.sourceEvent=bt),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(bt,pe){return this.mouse&&bt!=="mouse"&&(this.mouse[1]=pe.invert(this.mouse[0])),this.touch0&&bt!=="touch"&&(this.touch0[1]=pe.invert(this.touch0[0])),this.touch1&&bt!=="touch"&&(this.touch1[1]=pe.invert(this.touch1[0])),this.that.__zoom=pe,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(bt){var pe=select(this.that).datum();R.call(bt,this.that,new ZoomEvent(bt,{sourceEvent:this.sourceEvent,target:oe,type:bt,transform:this.that.__zoom,dispatch:R}),pe)}};function Ye(bt,...pe){if(!n.apply(this,arguments))return;var Nt=_e(this,pe).event(bt),Kt=this.__zoom,ze=Math.max(y[0],Math.min(y[1],Kt.k*Math.pow(2,c.apply(this,arguments)))),ve=pointer(bt);if(Nt.wheel)(Nt.mouse[0][0]!==ve[0]||Nt.mouse[0][1]!==ve[1])&&(Nt.mouse[1]=Kt.invert(Nt.mouse[0]=ve)),clearTimeout(Nt.wheel);else{if(Kt.k===ze)return;Nt.mouse=[ve,Kt.invert(ve)],interrupt(this),Nt.start()}noevent(bt),Nt.wheel=setTimeout(Ee,we),Nt.zoom("mouse",u(Lt(Se(Kt,ze),Nt.mouse[0],Nt.mouse[1]),Nt.extent,v));function Ee(){Nt.wheel=null,Nt.end()}}function Le(bt,...pe){if(at||!n.apply(this,arguments))return;var Nt=bt.currentTarget,Kt=_e(this,pe,!0).event(bt),ze=select(bt.view).on("mousemove.zoom",Ue,!0).on("mouseup.zoom",Vn,!0),ve=pointer(bt,Nt),Ee=bt.clientX,Fe=bt.clientY;dragDisable(bt.view),nopropagation(bt),Kt.mouse=[ve,this.__zoom.invert(ve)],interrupt(this),Kt.start();function Ue(On){if(noevent(On),!Kt.moved){var Ln=On.clientX-Ee,Bn=On.clientY-Fe;Kt.moved=Ln*Ln+Bn*Bn>Ie}Kt.event(On).zoom("mouse",u(Lt(Kt.that.__zoom,Kt.mouse[0]=pointer(On,Nt),Kt.mouse[1]),Kt.extent,v))}function Vn(On){ze.on("mousemove.zoom mouseup.zoom",null),dragEnable(On.view,Kt.moved),noevent(On),Kt.event(On).end()}}function bn(bt,...pe){if(!!n.apply(this,arguments)){var Nt=this.__zoom,Kt=pointer(bt.changedTouches?bt.changedTouches[0]:bt,this),ze=Nt.invert(Kt),ve=Nt.k*(bt.shiftKey?.5:2),Ee=u(Lt(Se(Nt,ve),Kt,ze),i.apply(this,pe),v);noevent(bt),A>0?select(this).transition().duration(A).call(xe,Ee,Kt,bt):select(this).call(oe.transform,Ee,Kt,bt)}}function Xe(bt,...pe){if(!!n.apply(this,arguments)){var Nt=bt.touches,Kt=Nt.length,ze=_e(this,pe,bt.changedTouches.length===Kt).event(bt),ve,Ee,Fe,Ue;for(nopropagation(bt),Ee=0;Ee<Kt;++Ee)Fe=Nt[Ee],Ue=pointer(Fe,this),Ue=[Ue,this.__zoom.invert(Ue),Fe.identifier],ze.touch0?!ze.touch1&&ze.touch0[2]!==Ue[2]&&(ze.touch1=Ue,ze.taps=0):(ze.touch0=Ue,ve=!0,ze.taps=1+!!P);P&&(P=clearTimeout(P)),ve&&(ze.taps<2&&(et=Ue[0],P=setTimeout(function(){P=null},vt)),interrupt(this),ze.start())}}function an(bt,...pe){if(!!this.__zooming){var Nt=_e(this,pe).event(bt),Kt=bt.changedTouches,ze=Kt.length,ve,Ee,Fe,Ue;for(noevent(bt),ve=0;ve<ze;++ve)Ee=Kt[ve],Fe=pointer(Ee,this),Nt.touch0&&Nt.touch0[2]===Ee.identifier?Nt.touch0[0]=Fe:Nt.touch1&&Nt.touch1[2]===Ee.identifier&&(Nt.touch1[0]=Fe);if(Ee=Nt.that.__zoom,Nt.touch1){var Vn=Nt.touch0[0],On=Nt.touch0[1],Ln=Nt.touch1[0],Bn=Nt.touch1[1],Cn=(Cn=Ln[0]-Vn[0])*Cn+(Cn=Ln[1]-Vn[1])*Cn,tr=(tr=Bn[0]-On[0])*tr+(tr=Bn[1]-On[1])*tr;Ee=Se(Ee,Math.sqrt(Cn/tr)),Fe=[(Vn[0]+Ln[0])/2,(Vn[1]+Ln[1])/2],Ue=[(On[0]+Bn[0])/2,(On[1]+Bn[1])/2]}else if(Nt.touch0)Fe=Nt.touch0[0],Ue=Nt.touch0[1];else return;Nt.zoom("touch",u(Lt(Ee,Fe,Ue),Nt.extent,v))}}function un(bt,...pe){if(!!this.__zooming){var Nt=_e(this,pe).event(bt),Kt=bt.changedTouches,ze=Kt.length,ve,Ee;for(nopropagation(bt),at&&clearTimeout(at),at=setTimeout(function(){at=null},vt),ve=0;ve<ze;++ve)Ee=Kt[ve],Nt.touch0&&Nt.touch0[2]===Ee.identifier?delete Nt.touch0:Nt.touch1&&Nt.touch1[2]===Ee.identifier&&delete Nt.touch1;if(Nt.touch1&&!Nt.touch0&&(Nt.touch0=Nt.touch1,delete Nt.touch1),Nt.touch0)Nt.touch0[1]=this.__zoom.invert(Nt.touch0[0]);else if(Nt.end(),Nt.taps===2&&(Ee=pointer(Ee,this),Math.hypot(et[0]-Ee[0],et[1]-Ee[1])<ne)){var Fe=select(this).on("dblclick.zoom");Fe&&Fe.apply(this,arguments)}}}return oe.wheelDelta=function(bt){return arguments.length?(c=typeof bt=="function"?bt:constant(+bt),oe):c},oe.filter=function(bt){return arguments.length?(n=typeof bt=="function"?bt:constant(!!bt),oe):n},oe.touchable=function(bt){return arguments.length?(p=typeof bt=="function"?bt:constant(!!bt),oe):p},oe.extent=function(bt){return arguments.length?(i=typeof bt=="function"?bt:constant([[+bt[0][0],+bt[0][1]],[+bt[1][0],+bt[1][1]]]),oe):i},oe.scaleExtent=function(bt){return arguments.length?(y[0]=+bt[0],y[1]=+bt[1],oe):[y[0],y[1]]},oe.translateExtent=function(bt){return arguments.length?(v[0][0]=+bt[0][0],v[1][0]=+bt[1][0],v[0][1]=+bt[0][1],v[1][1]=+bt[1][1],oe):[[v[0][0],v[0][1]],[v[1][0],v[1][1]]]},oe.constrain=function(bt){return arguments.length?(u=bt,oe):u},oe.duration=function(bt){return arguments.length?(A=+bt,oe):A},oe.interpolate=function(bt){return arguments.length?(C=bt,oe):C},oe.on=function(){var bt=R.on.apply(R,arguments);return bt===R?oe:bt},oe.clickDistance=function(bt){return arguments.length?(Ie=(bt=+bt)*bt,oe):Math.sqrt(Ie)},oe.tapDistance=function(bt){return arguments.length?(ne=+bt,oe):ne},oe}var fr=K(79688),gw=["filterHandler","showControls","id"];function ny(n,i){if(n==null)return{};var u=pw(n,i),c,p;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(n);for(p=0;p<y.length;p++)c=y[p],!(i.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,c)||(u[c]=n[c]))}return u}function pw(n,i){if(n==null)return{};var u={},c=Object.keys(n),p,y;for(y=0;y<c.length;y++)p=c[y],!(i.indexOf(p)>=0)&&(u[p]=n[p]);return u}var _w=["onRenderlet","onPreTransition","onPreRender","onPostRender","onPreRedraw","onPostRedraw","onFiltered","onZoomed"];function $g(n,i){var u=i.filterHandler,c=i.showControls,p=i.id,y=ny(i,gw);return u&&n.addFilterHandler(u),_w.forEach(function(v){return v in y&&n.on(v,y[v])}),y}function ry(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return function(i,u){var c=n.reduce(function(p,y){return y(i,p)},u);Object.keys(c).forEach(function(p){return p in i&&i[p](c[p])})}}function iy(n,i){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ry([$g]),c=(0,it.useRef)(null),p=(0,it.useRef)(null),y=(0,it.useRef)(!1);return(0,it.useEffect)(function(){p.current=n(c.current),y.current=!1},[n]),(0,it.useEffect)(function(){if(!!p.current)if(u&&u(p.current,i),y.current)p.current.redraw();else try{p.current.render(),y.current=!0}catch(v){if(!(v instanceof fr.InvalidStateException))throw v}},[n,u,i]),[p,c]}var Gg=["stacks","stack"];function ay(n,i){if(n==null)return{};var u=sy(n,i),c,p;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(n);for(p=0;p<y.length;p++)c=y[p],!(i.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,c)||(u[c]=n[c]))}return u}function sy(n,i){if(n==null)return{};var u={},c=Object.keys(n),p,y;for(y=0;y<c.length;y++)p=c[y],!(i.indexOf(p)>=0)&&(u[p]=n[p]);return u}function mw(n,i){var u=i.stacks,c=i.stack,p=ay(i,Gg),y=u||c&&[c];return y&&y.forEach(function(v){return n.stack(v.group,v.name,v.accessor)}),p}function Qu(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(u){return typeof u}:Qu=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Qu(n)}function yw(n,i){if(n==null)return{};var u=vw(n,i),c,p;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(n);for(p=0;p<y.length;p++)c=y[p],!(i.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,c)||(u[c]=n[c]))}return u}function vw(n,i){if(n==null)return{};var u={},c=Object.keys(n),p,y;for(y=0;y<c.length;y++)p=c[y],!(i.indexOf(p)>=0)&&(u[p]=n[p]);return u}function bw(n){var i=xw(n,"string");return Qu(i)==="symbol"?i:String(i)}function xw(n,i){if(Qu(n)!=="object"||n===null)return n;var u=n[Symbol.toPrimitive];if(u!==void 0){var c=u.call(n,i||"default");if(Qu(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}function Xg(n,i){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);i&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable})),u.push.apply(u,c)}return u}function oy(n){for(var i=1;i<arguments.length;i++){var u=arguments[i]!=null?arguments[i]:{};i%2?Xg(Object(u),!0).forEach(function(c){Hi(n,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):Xg(Object(u)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(u,c))})}return n}function Hi(n,i,u){return i in n?Object.defineProperty(n,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[i]=u,n}function ws(n,i){return ww(n)||uy(n,i)||qg(n,i)||Vg()}function Vg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qg(n,i){if(!!n){if(typeof n=="string")return kh(n,i);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return kh(n,i)}}function kh(n,i){(i==null||i>n.length)&&(i=n.length);for(var u=0,c=new Array(i);u<i;u++)c[u]=n[u];return c}function uy(n,i){var u=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var c=[],p=!0,y=!1,v,A;try{for(u=u.call(n);!(p=(v=u.next()).done)&&(c.push(v.value),!(i&&c.length===i));p=!0);}catch(C){y=!0,A=C}finally{try{!p&&u.return!=null&&u.return()}finally{if(y)throw A}}return c}}function ww(n){if(Array.isArray(n))return n}function Aw(n){var i=n.children,u=(0,it.useReducer)(Nh,{}),c=ws(u,2),p=c[0],y=c[1];return it.createElement(Zg.Provider,{value:{charts:p,dispatch:y}},i)}function Nh(n,i){switch(i.type){case"register":return oy(oy({},n),{},Hi({},i.id,i.chart));case"remove":var u=i.id,c=n[u],p=yw(n,[u].map(bw));return p;default:throw new Error("Unknown chart action")}}var Zg=(0,it.createContext)(null);function bi(n,i){return kc(n)||Cw(n,i)||Sw(n,i)||Kg()}function Kg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sw(n,i){if(!!n){if(typeof n=="string")return ly(n,i);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return ly(n,i)}}function ly(n,i){(i==null||i>n.length)&&(i=n.length);for(var u=0,c=new Array(i);u<i;u++)c[u]=n[u];return c}function Cw(n,i){var u=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(u!=null){var c=[],p=!0,y=!1,v,A;try{for(u=u.call(n);!(p=(v=u.next()).done)&&(c.push(v.value),!(i&&c.length===i));p=!0);}catch(C){y=!0,A=C}finally{try{!p&&u.return!=null&&u.return()}finally{if(y)throw A}}return c}}function kc(n){if(Array.isArray(n))return n}function hr(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[$g],u=ry(i);return function(p){var y=iy(n,p,u),v=bi(y,2),A=v[0],C=v[1],R=(0,it.useContext)(Zg)||{},P=R.dispatch;return(0,it.useEffect)(function(){if(P&&p.id)return P({type:"register",chart:A,id:p.id}),function(){return P({type:"remove",chart:A,id:p.id})}},[p.id,A,P]),it.createElement("div",{ref:C})}}var jg=null;function Jg(n,i){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);i&&(c=c.filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable})),u.push.apply(u,c)}return u}function As(n){for(var i=1;i<arguments.length;i++){var u=arguments[i]!=null?arguments[i]:{};i%2?Jg(Object(u),!0).forEach(function(c){cy(n,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):Jg(Object(u)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(u,c))})}return n}function cy(n,i,u){return i in n?Object.defineProperty(n,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[i]=u,n}function fy(n,i){if(n==null)return{};var u=hy(n,i),c,p;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(n);for(p=0;p<y.length;p++)c=y[p],!(i.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,c)||(u[c]=n[c]))}return u}function hy(n,i){if(n==null)return{};var u={},c=Object.keys(n),p,y;for(y=0;y<c.length;y++)p=c[y],!(i.indexOf(p)>=0)&&(u[p]=n[p]);return u}function Mw(n){var i=n.rangeChart,u=fy(n,jg),c=useContext(ChartRegistry)||{},p=c.charts,y=i&&p[i],v=y?As(As({},u),{},{rangeChart:y.current}):u;return BaseChart(lineChart,[baseMixin,stackMixin])(v)}var dy=hr(fr.barChart,[$g,mw]),Y2=hr(fr.boxPlot),U2=hr(fr.bubbleChart),Tw=hr(fr.pieChart),W2=hr(fr.bubbleOverlay),$2=hr(fr.cboxMenu),Ow=hr(fr.compositeChart),gy=hr(fr.dataCount),Rw=hr(fr.dataTable),Ew=hr(fr.geoChoroplethChart),Dw=hr(fr.heatMap),py=hr(fr.htmlLegend),Pw=hr(fr.legend),kw=hr(fr.numberDisplay),G2=hr(fr.rowChart),X2=hr(fr.scatterPlot),_y=hr(fr.selectMenu),my=hr(fr.seriesChart),V2=hr(fr.sunburstChart),Nw=hr(fr.textFilterWidget),Lw=hr(fr.wordcloudChart),Qg=K(69968),yy=K(32059),zw=function(i){var u={};if(K.g.localStorage)try{var c=K.g.localStorage.getItem("rgl-7");c!=null&&(u=JSON.parse(c)||{})}catch(p){}return u[i]},vy=function(i,u){K.g.localStorage&&K.g.localStorage.setItem("rgl-7",JSON.stringify((0,yy.Z)({},i,u)))},xa=function(i,u){var c=u.filter(function(p){return p.i==i});return c?[c[0].w,c[0].h]:[]},wa=K(58024),Ss=K(39144),tl=K(59250),t0=K(13013),Iw=K(30887),el=K(99210),e0=K(44545),n0=K(53411),Ar=K.n(n0),ar=K(85893),r0=(0,ar.jsxs)(el.Z,{children:[(0,ar.jsx)(el.Z.Item,{children:"Reset"}),(0,ar.jsx)(el.Z.Item,{children:"Copy"}),(0,ar.jsx)(el.Z.Item,{children:"Delete"})]}),by=(0,ar.jsx)("span",{className:Ar().iconGroup,children:(0,ar.jsx)(t0.Z,{overlay:r0,placement:"bottomRight",children:(0,ar.jsx)(e0.Z,{})})}),xy=function(i){return(0,ar.jsx)("div",{className:"dc-chartcard",children:(0,ar.jsx)(Ss.Z,{loading:i.loading,bordered:!1,title:i.title,className:Ar().chartcard,extra:by,style:{height:"100%"},children:i.children})})},Xa=xy,wy=K(3182),Ay=K(94043),Lh=K.n(Ay);function Fw(n){return zh.apply(this,arguments)}function zh(){return zh=(0,wy.Z)(Lh().mark(function n(i){return Lh().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("Start request charts data"),c.abrupt("return",(0,Xt.WY)("/api/charts",{params:i}));case 2:case"end":return c.stop()}},n)})),zh.apply(this,arguments)}var i0=(0,Qg.WidthProvider)(Qg.Responsive),Hw=function(){var i=[{i:"pieChart",x:0,y:0,w:3,h:2},{i:"barChart",x:3,y:0,w:3,h:2},{i:"wordChart",x:6,y:0,w:3,h:2}],u=(0,it.useState)(i),c=(0,H.Z)(u,2),p=c[0],y=c[1],v=(0,Xt.QT)(function(){return Fw({count:8})}),A=v.data,C=v.loading;if(C)return(0,ar.jsx)("div",{children:"loading..."});var R="%m/%d/%Y",P=da(R);A==null||A.list.forEach(function(Lt){Lt.dd=P(Lt.date),Lt.month=of(Lt.dd),Lt.close=+Lt.close,Lt.open=+Lt.open});var et=$(A==null?void 0:A.list),at=et.dimension(function(Lt){return Lt.month}),vt=at.group().reduceSum(function(Lt){return Lt.volume/5e5}),we=et.dimension(function(Lt){return Lt.open>Lt.close?"Loss":"Gain"}),Ie=we.group(),ne=et.dimension(function(Lt){return Xs(Lt.dd).getFullYear()}),oe=ne.group().reduceCount(),Se=function(kt){vy("layout",kt),y(kt)};return(0,ar.jsx)(me.ZP,{breadcrumbRender:!1,children:(0,ar.jsx)(Aw,{children:(0,ar.jsxs)(i0,{className:"layout",layouts:{lg:p},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},isDraggable:!0,isResizable:!0,onLayoutChange:Se,children:[(0,ar.jsx)("div",{children:(0,ar.jsx)(Xa,{loading:C,title:"\u70ED\u95E8\u641C\u7D22",size:xa("pieChart",p),children:(0,ar.jsx)(Tw,{dimension:we,group:Ie,innerRadius:60})})},"pieChart"),(0,ar.jsx)("div",{"data-grid":i.filter(function(Lt){return Lt.i=="barChart"}),children:(0,ar.jsx)(Xa,{loading:C,title:"\u8D44\u6E90\u5269\u4F59",size:xa("barChart",p),children:(0,ar.jsx)(dy,{id:"testing",dimension:at,group:vt,radius:80,centerBar:!0,gap:1,x:S1().domain([new Date(1985,0,1),new Date(2012,11,31)]),round:of.round,alwaysUseRounding:!0,xUnits:Ev})})},"barChart"),(0,ar.jsx)("div",{"data-grid":i.filter(function(Lt){return Lt.i=="wordChart"}),children:(0,ar.jsx)(Xa,{loading:C,title:"\u8D44\u6E90\u5269\u4F59",size:xa("wordChart",p),children:(0,ar.jsx)(Lw,{minX:"0",minY:"0",relativeSize:"5",dimension:ne,group:oe,valueAccessor:function(kt){return kt.value}})})},"wordChart")]})})})},Sy=Hw},39144:function(Ke,St,K){"use strict";K.d(St,{Z:function(){return j}});var H=K(96156),Xt=K(22122),it=K(67294),me=K(94184),mt=K.n(me),Dt=K(98423),lt=K(65632),Et=function(tt,Tt){var $t={};for(var dt in tt)Object.prototype.hasOwnProperty.call(tt,dt)&&Tt.indexOf(dt)<0&&($t[dt]=tt[dt]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,dt=Object.getOwnPropertySymbols(tt);Q<dt.length;Q++)Tt.indexOf(dt[Q])<0&&Object.prototype.propertyIsEnumerable.call(tt,dt[Q])&&($t[dt[Q]]=tt[dt[Q]]);return $t},te=function(Tt){var $t=Tt.prefixCls,dt=Tt.className,Q=Tt.hoverable,yt=Q===void 0?!0:Q,I=Et(Tt,["prefixCls","className","hoverable"]);return it.createElement(lt.C,null,function(G){var _t=G.getPrefixCls,Ct=_t("card",$t),B=mt()("".concat(Ct,"-grid"),dt,(0,H.Z)({},"".concat(Ct,"-grid-hoverable"),yt));return it.createElement("div",(0,Xt.Z)({},I,{className:B}))})},qt=te,re=function(tt,Tt){var $t={};for(var dt in tt)Object.prototype.hasOwnProperty.call(tt,dt)&&Tt.indexOf(dt)<0&&($t[dt]=tt[dt]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,dt=Object.getOwnPropertySymbols(tt);Q<dt.length;Q++)Tt.indexOf(dt[Q])<0&&Object.prototype.propertyIsEnumerable.call(tt,dt[Q])&&($t[dt[Q]]=tt[dt[Q]]);return $t},Ft=function(Tt){return it.createElement(lt.C,null,function($t){var dt=$t.getPrefixCls,Q=Tt.prefixCls,yt=Tt.className,I=Tt.avatar,G=Tt.title,_t=Tt.description,Ct=re(Tt,["prefixCls","className","avatar","title","description"]),B=dt("card",Q),nt=mt()("".concat(B,"-meta"),yt),ut=I?it.createElement("div",{className:"".concat(B,"-meta-avatar")},I):null,Z=G?it.createElement("div",{className:"".concat(B,"-meta-title")},G):null,Rt=_t?it.createElement("div",{className:"".concat(B,"-meta-description")},_t):null,ie=Z||Rt?it.createElement("div",{className:"".concat(B,"-meta-detail")},Z,Rt):null;return it.createElement("div",(0,Xt.Z)({},Ct,{className:nt}),ut,ie)})},fe=Ft,ye=K(51752),se=K(71230),Yt=K(15746),Jt=K(97647),zt=function(tt,Tt){var $t={};for(var dt in tt)Object.prototype.hasOwnProperty.call(tt,dt)&&Tt.indexOf(dt)<0&&($t[dt]=tt[dt]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,dt=Object.getOwnPropertySymbols(tt);Q<dt.length;Q++)Tt.indexOf(dt[Q])<0&&Object.prototype.propertyIsEnumerable.call(tt,dt[Q])&&($t[dt[Q]]=tt[dt[Q]]);return $t};function It(tt){var Tt=tt.map(function($t,dt){return it.createElement("li",{style:{width:"".concat(100/tt.length,"%")},key:"action-".concat(dt)},it.createElement("span",null,$t))});return Tt}var Pt=function(Tt){var $t,dt,Q=it.useContext(lt.E_),yt=Q.getPrefixCls,I=Q.direction,G=it.useContext(Jt.Z),_t=function(oi){var vr;(vr=Tt.onTabChange)===null||vr===void 0||vr.call(Tt,oi)},Ct=function(){var oi;return it.Children.forEach(Tt.children,function(vr){vr&&vr.type&&vr.type===qt&&(oi=!0)}),oi},B=Tt.prefixCls,nt=Tt.className,ut=Tt.extra,Z=Tt.headStyle,Rt=Z===void 0?{}:Z,ie=Tt.bodyStyle,U=ie===void 0?{}:ie,V=Tt.title,M=Tt.loading,E=Tt.bordered,$=E===void 0?!0:E,J=Tt.size,At=Tt.type,ct=Tt.cover,wt=Tt.actions,Gt=Tt.tabList,Ht=Tt.children,Ot=Tt.activeTabKey,Qe=Tt.defaultActiveTabKey,sn=Tt.tabBarExtraContent,He=Tt.hoverable,rn=Tt.tabProps,xn=rn===void 0?{}:rn,En=zt(Tt,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),Re=yt("card",B),zn=U.padding===0||U.padding==="0px"?{padding:24}:void 0,wn=it.createElement("div",{className:"".concat(Re,"-loading-block")}),pn=it.createElement("div",{className:"".concat(Re,"-loading-content"),style:zn},it.createElement(se.Z,{gutter:8},it.createElement(Yt.Z,{span:22},wn)),it.createElement(se.Z,{gutter:8},it.createElement(Yt.Z,{span:8},wn),it.createElement(Yt.Z,{span:15},wn)),it.createElement(se.Z,{gutter:8},it.createElement(Yt.Z,{span:6},wn),it.createElement(Yt.Z,{span:18},wn)),it.createElement(se.Z,{gutter:8},it.createElement(Yt.Z,{span:13},wn),it.createElement(Yt.Z,{span:9},wn)),it.createElement(se.Z,{gutter:8},it.createElement(Yt.Z,{span:4},wn),it.createElement(Yt.Z,{span:3},wn),it.createElement(Yt.Z,{span:16},wn))),Gn=Ot!==void 0,Rn=(0,Xt.Z)((0,Xt.Z)({},xn),($t={},(0,H.Z)($t,Gn?"activeKey":"defaultActiveKey",Gn?Ot:Qe),(0,H.Z)($t,"tabBarExtraContent",sn),$t)),Un,Hn=Gt&&Gt.length?it.createElement(ye.Z,(0,Xt.Z)({size:"large"},Rn,{className:"".concat(Re,"-head-tabs"),onChange:_t}),Gt.map(function(jr){return it.createElement(ye.Z.TabPane,{tab:jr.tab,disabled:jr.disabled,key:jr.key})})):null;(V||ut||Hn)&&(Un=it.createElement("div",{className:"".concat(Re,"-head"),style:Rt},it.createElement("div",{className:"".concat(Re,"-head-wrapper")},V&&it.createElement("div",{className:"".concat(Re,"-head-title")},V),ut&&it.createElement("div",{className:"".concat(Re,"-extra")},ut)),Hn));var ir=ct?it.createElement("div",{className:"".concat(Re,"-cover")},ct):null,jn=it.createElement("div",{className:"".concat(Re,"-body"),style:U},M?pn:Ht),pr=wt&&wt.length?it.createElement("ul",{className:"".concat(Re,"-actions")},It(wt)):null,Rr=(0,Dt.Z)(En,["onTabChange"]),_r=J||G,ra=mt()(Re,(dt={},(0,H.Z)(dt,"".concat(Re,"-loading"),M),(0,H.Z)(dt,"".concat(Re,"-bordered"),$),(0,H.Z)(dt,"".concat(Re,"-hoverable"),He),(0,H.Z)(dt,"".concat(Re,"-contain-grid"),Ct()),(0,H.Z)(dt,"".concat(Re,"-contain-tabs"),Gt&&Gt.length),(0,H.Z)(dt,"".concat(Re,"-").concat(_r),_r),(0,H.Z)(dt,"".concat(Re,"-type-").concat(At),!!At),(0,H.Z)(dt,"".concat(Re,"-rtl"),I==="rtl"),dt),nt);return it.createElement("div",(0,Xt.Z)({},Rr,{className:ra}),Un,ir,jn,pr)};Pt.Grid=qt,Pt.Meta=fe;var j=Pt},58024:function(Ke,St,K){"use strict";var H=K(65056),Xt=K.n(H),it=K(70347),me=K.n(it),mt=K(18106),Dt=K(13062),lt=K(89032)},15746:function(Ke,St,K){"use strict";var H=K(21584);St.Z=H.Z},89032:function(Ke,St,K){"use strict";var H=K(65056),Xt=K.n(H),it=K(6999)},71230:function(Ke,St,K){"use strict";var H=K(92820);St.Z=H.Z},13062:function(Ke,St,K){"use strict";var H=K(65056),Xt=K.n(H),it=K(6999)},86010:function(Ke,St,K){"use strict";K.r(St),K.d(St,{default:function(){return Xt}});function H(it){var me,mt,Dt="";if(typeof it=="string"||typeof it=="number")Dt+=it;else if(typeof it=="object")if(Array.isArray(it))for(me=0;me<it.length;me++)it[me]&&(mt=H(it[me]))&&(Dt&&(Dt+=" "),Dt+=mt);else for(me in it)it[me]&&(Dt&&(Dt+=" "),Dt+=me);return Dt}function Xt(){for(var it=0,me,mt,Dt="";it<arguments.length;)(me=arguments[it++])&&(mt=H(me))&&(Dt&&(Dt+=" "),Dt+=mt);return Dt}},76929:function(Ke,St,K){var H=K(74594).W,Xt=Math.PI/180,it=1<<11>>5,me=1<<11;Ke.exports=function(){var j=[256,256],tt=mt,Tt=Dt,$t=Et,dt=lt,Q=lt,yt=te,I=qt,G=se,_t=[],Ct=Infinity,B=H("word","end"),nt=null,ut=Math.random,Z={},Rt=zt;Z.canvas=function(V){return arguments.length?(Rt=It(V),Z):Rt},Z.start=function(){var V=ie(Rt()),M=Jt((j[0]>>5)*j[1]),E=null,$=_t.length,J=-1,At=[],ct=_t.map(function(Gt,Ht){return Gt.text=tt.call(this,Gt,Ht),Gt.font=Tt.call(this,Gt,Ht),Gt.style=dt.call(this,Gt,Ht),Gt.weight=Q.call(this,Gt,Ht),Gt.rotate=yt.call(this,Gt,Ht),Gt.size=~~$t.call(this,Gt,Ht),Gt.padding=I.call(this,Gt,Ht),Gt}).sort(function(Gt,Ht){return Ht.size-Gt.size});return nt&&clearInterval(nt),nt=setInterval(wt,0),wt(),Z;function wt(){for(var Gt=Date.now();Date.now()-Gt<Ct&&++J<$&&nt;){var Ht=ct[J];Ht.x=j[0]*(ut()+.5)>>1,Ht.y=j[1]*(ut()+.5)>>1,re(V,Ht,ct,J),Ht.hasText&&U(M,Ht,E)&&(At.push(Ht),B.call("word",Z,Ht),E?fe(E,Ht):E=[{x:Ht.x+Ht.x0,y:Ht.y+Ht.y0},{x:Ht.x+Ht.x1,y:Ht.y+Ht.y1}],Ht.x-=j[0]>>1,Ht.y-=j[1]>>1)}J>=$&&(Z.stop(),B.call("end",Z,At,E))}},Z.stop=function(){return nt&&(clearInterval(nt),nt=null),Z};function ie(V){V.width=V.height=1;var M=Math.sqrt(V.getContext("2d").getImageData(0,0,1,1).data.length>>2);V.width=(it<<5)/M,V.height=me/M;var E=V.getContext("2d");return E.fillStyle=E.strokeStyle="red",E.textAlign="center",{context:E,ratio:M}}function U(V,M,E){for(var $=[{x:0,y:0},{x:j[0],y:j[1]}],J=M.x,At=M.y,ct=Math.sqrt(j[0]*j[0]+j[1]*j[1]),wt=G(j),Gt=ut()<.5?1:-1,Ht=-Gt,Ot,Qe,sn;(Ot=wt(Ht+=Gt))&&(Qe=~~Ot[0],sn=~~Ot[1],!(Math.min(Math.abs(Qe),Math.abs(sn))>=ct));)if(M.x=J+Qe,M.y=At+sn,!(M.x+M.x0<0||M.y+M.y0<0||M.x+M.x1>j[0]||M.y+M.y1>j[1])&&(!E||!Ft(M,V,j[0]))&&(!E||ye(M,E))){for(var He=M.sprite,rn=M.width>>5,xn=j[0]>>5,En=M.x-(rn<<4),Re=En&127,zn=32-Re,wn=M.y1-M.y0,pn=(M.y+M.y0)*xn+(En>>5),Gn,Rn=0;Rn<wn;Rn++){Gn=0;for(var Un=0;Un<=rn;Un++)V[pn+Un]|=Gn<<zn|(Un<rn?(Gn=He[Rn*rn+Un])>>>Re:0);pn+=xn}return delete M.sprite,!0}return!1}return Z.timeInterval=function(V){return arguments.length?(Ct=V==null?Infinity:V,Z):Ct},Z.words=function(V){return arguments.length?(_t=V,Z):_t},Z.size=function(V){return arguments.length?(j=[+V[0],+V[1]],Z):j},Z.font=function(V){return arguments.length?(Tt=It(V),Z):Tt},Z.fontStyle=function(V){return arguments.length?(dt=It(V),Z):dt},Z.fontWeight=function(V){return arguments.length?(Q=It(V),Z):Q},Z.rotate=function(V){return arguments.length?(yt=It(V),Z):yt},Z.text=function(V){return arguments.length?(tt=It(V),Z):tt},Z.spiral=function(V){return arguments.length?(G=Pt[V]||V,Z):G},Z.fontSize=function(V){return arguments.length?($t=It(V),Z):$t},Z.padding=function(V){return arguments.length?(I=It(V),Z):I},Z.random=function(V){return arguments.length?(ut=V,Z):ut},Z.on=function(){var V=B.on.apply(B,arguments);return V===B?Z:V},Z};function mt(j){return j.text}function Dt(){return"serif"}function lt(){return"normal"}function Et(j){return Math.sqrt(j.value)}function te(){return(~~(Math.random()*6)-3)*30}function qt(){return 1}function re(j,tt,Tt,$t){if(!tt.sprite){var dt=j.context,Q=j.ratio;dt.clearRect(0,0,(it<<5)/Q,me/Q);var yt=0,I=0,G=0,_t=Tt.length;for(--$t;++$t<_t;){tt=Tt[$t],dt.save(),dt.font=tt.style+" "+tt.weight+" "+~~((tt.size+1)/Q)+"px "+tt.font;var Ct=dt.measureText(tt.text+"m").width*Q,B=tt.size<<1;if(tt.rotate){var nt=Math.sin(tt.rotate*Xt),ut=Math.cos(tt.rotate*Xt),Z=Ct*ut,Rt=Ct*nt,ie=B*ut,U=B*nt;Ct=Math.max(Math.abs(Z+U),Math.abs(Z-U))+31>>5<<5,B=~~Math.max(Math.abs(Rt+ie),Math.abs(Rt-ie))}else Ct=Ct+31>>5<<5;if(B>G&&(G=B),yt+Ct>=it<<5&&(yt=0,I+=G,G=0),I+B>=me)break;dt.translate((yt+(Ct>>1))/Q,(I+(B>>1))/Q),tt.rotate&&dt.rotate(tt.rotate*Xt),dt.fillText(tt.text,0,0),tt.padding&&(dt.lineWidth=2*tt.padding,dt.strokeText(tt.text,0,0)),dt.restore(),tt.width=Ct,tt.height=B,tt.xoff=yt,tt.yoff=I,tt.x1=Ct>>1,tt.y1=B>>1,tt.x0=-tt.x1,tt.y0=-tt.y1,tt.hasText=!0,yt+=Ct}for(var V=dt.getImageData(0,0,(it<<5)/Q,me/Q).data,M=[];--$t>=0;)if(tt=Tt[$t],!!tt.hasText){for(var Ct=tt.width,E=Ct>>5,B=tt.y1-tt.y0,$=0;$<B*E;$++)M[$]=0;if(yt=tt.xoff,yt==null)return;I=tt.yoff;for(var J=0,At=-1,ct=0;ct<B;ct++){for(var $=0;$<Ct;$++){var wt=E*ct+($>>5),Gt=V[(I+ct)*(it<<5)+(yt+$)<<2]?1<<31-$%32:0;M[wt]|=Gt,J|=Gt}J?At=ct:(tt.y0++,B--,ct--,I++)}tt.y1=tt.y0+At,tt.sprite=M.slice(0,(tt.y1-tt.y0)*E)}}}function Ft(j,tt,Tt){Tt>>=5;for(var $t=j.sprite,dt=j.width>>5,Q=j.x-(dt<<4),yt=Q&127,I=32-yt,G=j.y1-j.y0,_t=(j.y+j.y0)*Tt+(Q>>5),Ct,B=0;B<G;B++){Ct=0;for(var nt=0;nt<=dt;nt++)if((Ct<<I|(nt<dt?(Ct=$t[B*dt+nt])>>>yt:0))&tt[_t+nt])return!0;_t+=Tt}return!1}function fe(j,tt){var Tt=j[0],$t=j[1];tt.x+tt.x0<Tt.x&&(Tt.x=tt.x+tt.x0),tt.y+tt.y0<Tt.y&&(Tt.y=tt.y+tt.y0),tt.x+tt.x1>$t.x&&($t.x=tt.x+tt.x1),tt.y+tt.y1>$t.y&&($t.y=tt.y+tt.y1)}function ye(j,tt){return j.x+j.x1>tt[0].x&&j.x+j.x0<tt[1].x&&j.y+j.y1>tt[0].y&&j.y+j.y0<tt[1].y}function se(j){var tt=j[0]/j[1];return function(Tt){return[tt*(Tt*=.1)*Math.cos(Tt),Tt*Math.sin(Tt)]}}function Yt(j){var tt=4,Tt=tt*j[0]/j[1],$t=0,dt=0;return function(Q){var yt=Q<0?-1:1;switch(Math.sqrt(1+4*yt*Q)-yt&3){case 0:$t+=Tt;break;case 1:dt+=tt;break;case 2:$t-=Tt;break;default:dt-=tt;break}return[$t,dt]}}function Jt(j){for(var tt=[],Tt=-1;++Tt<j;)tt[Tt]=0;return tt}function zt(){return document.createElement("canvas")}function It(j){return typeof j=="function"?j:function(){return j}}var Pt={archimedean:se,rectangular:Yt}},74594:function(Ke,St,K){"use strict";K.d(St,{W:function(){return lt}});var H={value:function(){}};function Xt(){for(var Et=0,te=arguments.length,qt={},re;Et<te;++Et){if(!(re=arguments[Et]+"")||re in qt||/[\s.]/.test(re))throw new Error("illegal type: "+re);qt[re]=[]}return new it(qt)}function it(Et){this._=Et}function me(Et,te){return Et.trim().split(/^|\s+/).map(function(qt){var re="",Ft=qt.indexOf(".");if(Ft>=0&&(re=qt.slice(Ft+1),qt=qt.slice(0,Ft)),qt&&!te.hasOwnProperty(qt))throw new Error("unknown type: "+qt);return{type:qt,name:re}})}it.prototype=Xt.prototype={constructor:it,on:function(Et,te){var qt=this._,re=me(Et+"",qt),Ft,fe=-1,ye=re.length;if(arguments.length<2){for(;++fe<ye;)if((Ft=(Et=re[fe]).type)&&(Ft=mt(qt[Ft],Et.name)))return Ft;return}if(te!=null&&typeof te!="function")throw new Error("invalid callback: "+te);for(;++fe<ye;)if(Ft=(Et=re[fe]).type)qt[Ft]=Dt(qt[Ft],Et.name,te);else if(te==null)for(Ft in qt)qt[Ft]=Dt(qt[Ft],Et.name,null);return this},copy:function(){var Et={},te=this._;for(var qt in te)Et[qt]=te[qt].slice();return new it(Et)},call:function(Et,te){if((Ft=arguments.length-2)>0)for(var qt=new Array(Ft),re=0,Ft,fe;re<Ft;++re)qt[re]=arguments[re+2];if(!this._.hasOwnProperty(Et))throw new Error("unknown type: "+Et);for(fe=this._[Et],re=0,Ft=fe.length;re<Ft;++re)fe[re].value.apply(te,qt)},apply:function(Et,te,qt){if(!this._.hasOwnProperty(Et))throw new Error("unknown type: "+Et);for(var re=this._[Et],Ft=0,fe=re.length;Ft<fe;++Ft)re[Ft].value.apply(te,qt)}};function mt(Et,te){for(var qt=0,re=Et.length,Ft;qt<re;++qt)if((Ft=Et[qt]).name===te)return Ft.value}function Dt(Et,te,qt){for(var re=0,Ft=Et.length;re<Ft;++re)if(Et[re].name===te){Et[re]=H,Et=Et.slice(0,re).concat(Et.slice(re+1));break}return qt!=null&&Et.push({name:te,value:qt}),Et}var lt=Xt},72307:function(Ke,St,K){Ke=K.nmd(Ke);var H=200,Xt="__lodash_hash_undefined__",it=1,me=2,mt=9007199254740991,Dt="[object Arguments]",lt="[object Array]",Et="[object AsyncFunction]",te="[object Boolean]",qt="[object Date]",re="[object Error]",Ft="[object Function]",fe="[object GeneratorFunction]",ye="[object Map]",se="[object Number]",Yt="[object Null]",Jt="[object Object]",zt="[object Promise]",It="[object Proxy]",Pt="[object RegExp]",j="[object Set]",tt="[object String]",Tt="[object Symbol]",$t="[object Undefined]",dt="[object WeakMap]",Q="[object ArrayBuffer]",yt="[object DataView]",I="[object Float32Array]",G="[object Float64Array]",_t="[object Int8Array]",Ct="[object Int16Array]",B="[object Int32Array]",nt="[object Uint8Array]",ut="[object Uint8ClampedArray]",Z="[object Uint16Array]",Rt="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,M={};M[I]=M[G]=M[_t]=M[Ct]=M[B]=M[nt]=M[ut]=M[Z]=M[Rt]=!0,M[Dt]=M[lt]=M[Q]=M[te]=M[yt]=M[qt]=M[re]=M[Ft]=M[ye]=M[se]=M[Jt]=M[Pt]=M[j]=M[tt]=M[dt]=!1;var E=typeof K.g=="object"&&K.g&&K.g.Object===Object&&K.g,$=typeof self=="object"&&self&&self.Object===Object&&self,J=E||$||Function("return this")(),At=St&&!St.nodeType&&St,ct=At&&!0&&Ke&&!Ke.nodeType&&Ke,wt=ct&&ct.exports===At,Gt=wt&&E.process,Ht=function(){try{return Gt&&Gt.binding&&Gt.binding("util")}catch(X){}}(),Ot=Ht&&Ht.isTypedArray;function Qe(X,ft){for(var ee=-1,k=X==null?0:X.length,s=0,d=[];++ee<k;){var b=X[ee];ft(b,ee,X)&&(d[s++]=b)}return d}function sn(X,ft){for(var ee=-1,k=ft.length,s=X.length;++ee<k;)X[s+ee]=ft[ee];return X}function He(X,ft){for(var ee=-1,k=X==null?0:X.length;++ee<k;)if(ft(X[ee],ee,X))return!0;return!1}function rn(X,ft){for(var ee=-1,k=Array(X);++ee<X;)k[ee]=ft(ee);return k}function xn(X){return function(ft){return X(ft)}}function En(X,ft){return X.has(ft)}function Re(X,ft){return X==null?void 0:X[ft]}function zn(X){var ft=-1,ee=Array(X.size);return X.forEach(function(k,s){ee[++ft]=[s,k]}),ee}function wn(X,ft){return function(ee){return X(ft(ee))}}function pn(X){var ft=-1,ee=Array(X.size);return X.forEach(function(k){ee[++ft]=k}),ee}var Gn=Array.prototype,Rn=Function.prototype,Un=Object.prototype,Hn=J["__core-js_shared__"],ir=Rn.toString,jn=Un.hasOwnProperty,pr=function(){var X=/[^.]+$/.exec(Hn&&Hn.keys&&Hn.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}(),Rr=Un.toString,_r=RegExp("^"+ir.call(jn).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ra=wt?J.Buffer:void 0,jr=J.Symbol,oi=J.Uint8Array,vr=Un.propertyIsEnumerable,Ts=Gn.splice,Ri=jr?jr.toStringTag:void 0,Sa=Object.getOwnPropertySymbols,ia=ra?ra.isBuffer:void 0,aa=wn(Object.keys,Object),Os=ua(J,"DataView"),sa=ua(J,"Map"),Ka=ua(J,"Promise"),Ca=ua(J,"Set"),Ma=ua(J,"WeakMap"),$i=ua(Object,"create"),ja=li(Os),Ta=li(sa),Ko=li(Ka),Rs=li(Ca),jo=li(Ma),Gi=jr?jr.prototype:void 0,Es=Gi?Gi.valueOf:void 0;function oa(X){var ft=-1,ee=X==null?0:X.length;for(this.clear();++ft<ee;){var k=X[ft];this.set(k[0],k[1])}}function ll(){this.__data__=$i?$i(null):{},this.size=0}function Ds(X){var ft=this.has(X)&&delete this.__data__[X];return this.size-=ft?1:0,ft}function Ps(X){var ft=this.__data__;if($i){var ee=ft[X];return ee===Xt?void 0:ee}return jn.call(ft,X)?ft[X]:void 0}function Jo(X){var ft=this.__data__;return $i?ft[X]!==void 0:jn.call(ft,X)}function cl(X,ft){var ee=this.__data__;return this.size+=this.has(X)?0:1,ee[X]=$i&&ft===void 0?Xt:ft,this}oa.prototype.clear=ll,oa.prototype.delete=Ds,oa.prototype.get=Ps,oa.prototype.has=Jo,oa.prototype.set=cl;function ui(X){var ft=-1,ee=X==null?0:X.length;for(this.clear();++ft<ee;){var k=X[ft];this.set(k[0],k[1])}}function Jr(){this.__data__=[],this.size=0}function fl(X){var ft=this.__data__,ee=Ns(ft,X);if(ee<0)return!1;var k=ft.length-1;return ee==k?ft.pop():Ts.call(ft,ee,1),--this.size,!0}function so(X){var ft=this.__data__,ee=Ns(ft,X);return ee<0?void 0:ft[ee][1]}function hl(X){return Ns(this.__data__,X)>-1}function Oa(X,ft){var ee=this.__data__,k=Ns(ee,X);return k<0?(++this.size,ee.push([X,ft])):ee[k][1]=ft,this}ui.prototype.clear=Jr,ui.prototype.delete=fl,ui.prototype.get=so,ui.prototype.has=hl,ui.prototype.set=Oa;function Xi(X){var ft=-1,ee=X==null?0:X.length;for(this.clear();++ft<ee;){var k=X[ft];this.set(k[0],k[1])}}function dl(){this.size=0,this.__data__={hash:new oa,map:new(sa||ui),string:new oa}}function ks(X){var ft=es(this,X).delete(X);return this.size-=ft?1:0,ft}function Qo(X){return es(this,X).get(X)}function oo(X){return es(this,X).has(X)}function uo(X,ft){var ee=es(this,X),k=ee.size;return ee.set(X,ft),this.size+=ee.size==k?0:1,this}Xi.prototype.clear=dl,Xi.prototype.delete=ks,Xi.prototype.get=Qo,Xi.prototype.has=oo,Xi.prototype.set=uo;function Ra(X){var ft=-1,ee=X==null?0:X.length;for(this.__data__=new Xi;++ft<ee;)this.add(X[ft])}function tu(X){return this.__data__.set(X,Xt),this}function eu(X){return this.__data__.has(X)}Ra.prototype.add=Ra.prototype.push=tu,Ra.prototype.has=eu;function Vi(X){var ft=this.__data__=new ui(X);this.size=ft.size}function nu(){this.__data__=new ui,this.size=0}function gl(X){var ft=this.__data__,ee=ft.delete(X);return this.size=ft.size,ee}function ru(X){return this.__data__.get(X)}function pl(X){return this.__data__.has(X)}function iu(X,ft){var ee=this.__data__;if(ee instanceof ui){var k=ee.__data__;if(!sa||k.length<H-1)return k.push([X,ft]),this.size=++ee.size,this;ee=this.__data__=new Xi(k)}return ee.set(X,ft),this.size=ee.size,this}Vi.prototype.clear=nu,Vi.prototype.delete=gl,Vi.prototype.get=ru,Vi.prototype.has=pl,Vi.prototype.set=iu;function au(X,ft){var ee=Zi(X),k=!ee&&vl(X),s=!ee&&!k&&co(X),d=!ee&&!k&&!s&&gu(X),b=ee||k||s||d,T=b?rn(X.length,String):[],Y=T.length;for(var q in X)(ft||jn.call(X,q))&&!(b&&(q=="length"||s&&(q=="offset"||q=="parent")||d&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||ml(q,Y)))&&T.push(q);return T}function Ns(X,ft){for(var ee=X.length;ee--;)if(hu(X[ee][0],ft))return ee;return-1}function lo(X,ft,ee){var k=ft(X);return Zi(X)?k:sn(k,ee(X))}function Ja(X){return X==null?X===void 0?$t:Yt:Ri&&Ri in Object(X)?uu(X):fu(X)}function su(X){return Ki(X)&&Ja(X)==Dt}function Qa(X,ft,ee,k,s){return X===ft?!0:X==null||ft==null||!Ki(X)&&!Ki(ft)?X!==X&&ft!==ft:_l(X,ft,ee,k,Qa,s)}function _l(X,ft,ee,k,s,d){var b=Zi(X),T=Zi(ft),Y=b?lt:qi(X),q=T?lt:qi(ft);Y=Y==Dt?Jt:Y,q=q==Dt?Jt:q;var Vt=Y==Jt,le=q==Jt,Ge=Y==q;if(Ge&&co(X)){if(!co(ft))return!1;b=!0,Vt=!1}if(Ge&&!Vt)return d||(d=new Vi),b||gu(X)?wi(X,ft,ee,k,s,d):Da(X,ft,Y,ee,k,s,d);if(!(ee&it)){var en=Vt&&jn.call(X,"__wrapped__"),_n=le&&jn.call(ft,"__wrapped__");if(en||_n){var We=en?X.value():X,Jn=_n?ft.value():ft;return d||(d=new Vi),s(We,Jn,ee,k,d)}}return Ge?(d||(d=new Vi),ts(X,ft,ee,k,s,d)):!1}function Ls(X){if(!Wr(X)||yl(X))return!1;var ft=du(X)?_r:U;return ft.test(li(X))}function Ea(X){return Ki(X)&&Is(X.length)&&!!M[Ja(X)]}function zs(X){if(!cu(X))return aa(X);var ft=[];for(var ee in Object(X))jn.call(X,ee)&&ee!="constructor"&&ft.push(ee);return ft}function wi(X,ft,ee,k,s,d){var b=ee&it,T=X.length,Y=ft.length;if(T!=Y&&!(b&&Y>T))return!1;var q=d.get(X);if(q&&d.get(ft))return q==ft;var Vt=-1,le=!0,Ge=ee&me?new Ra:void 0;for(d.set(X,ft),d.set(ft,X);++Vt<T;){var en=X[Vt],_n=ft[Vt];if(k)var We=b?k(_n,en,Vt,ft,X,d):k(en,_n,Vt,X,ft,d);if(We!==void 0){if(We)continue;le=!1;break}if(Ge){if(!He(ft,function(Jn,je){if(!En(Ge,je)&&(en===Jn||s(en,Jn,ee,k,d)))return Ge.push(je)})){le=!1;break}}else if(!(en===_n||s(en,_n,ee,k,d))){le=!1;break}}return d.delete(X),d.delete(ft),le}function Da(X,ft,ee,k,s,d,b){switch(ee){case yt:if(X.byteLength!=ft.byteLength||X.byteOffset!=ft.byteOffset)return!1;X=X.buffer,ft=ft.buffer;case Q:return!(X.byteLength!=ft.byteLength||!d(new oi(X),new oi(ft)));case te:case qt:case se:return hu(+X,+ft);case re:return X.name==ft.name&&X.message==ft.message;case Pt:case tt:return X==ft+"";case ye:var T=zn;case j:var Y=k&it;if(T||(T=pn),X.size!=ft.size&&!Y)return!1;var q=b.get(X);if(q)return q==ft;k|=me,b.set(X,ft);var Vt=wi(T(X),T(ft),k,s,d,b);return b.delete(X),Vt;case Tt:if(Es)return Es.call(X)==Es.call(ft)}return!1}function ts(X,ft,ee,k,s,d){var b=ee&it,T=ou(X),Y=T.length,q=ou(ft),Vt=q.length;if(Y!=Vt&&!b)return!1;for(var le=Y;le--;){var Ge=T[le];if(!(b?Ge in ft:jn.call(ft,Ge)))return!1}var en=d.get(X);if(en&&d.get(ft))return en==ft;var _n=!0;d.set(X,ft),d.set(ft,X);for(var We=b;++le<Y;){Ge=T[le];var Jn=X[Ge],je=ft[Ge];if(k)var Nn=b?k(je,Jn,Ge,ft,X,d):k(Jn,je,Ge,X,ft,d);if(!(Nn===void 0?Jn===je||s(Jn,je,ee,k,d):Nn)){_n=!1;break}We||(We=Ge=="constructor")}if(_n&&!We){var Je=X.constructor,on=ft.constructor;Je!=on&&"constructor"in X&&"constructor"in ft&&!(typeof Je=="function"&&Je instanceof Je&&typeof on=="function"&&on instanceof on)&&(_n=!1)}return d.delete(X),d.delete(ft),_n}function ou(X){return lo(X,ka,ns)}function es(X,ft){var ee=X.__data__;return lu(ft)?ee[typeof ft=="string"?"string":"hash"]:ee.map}function ua(X,ft){var ee=Re(X,ft);return Ls(ee)?ee:void 0}function uu(X){var ft=jn.call(X,Ri),ee=X[Ri];try{X[Ri]=void 0;var k=!0}catch(d){}var s=Rr.call(X);return k&&(ft?X[Ri]=ee:delete X[Ri]),s}var ns=Sa?function(X){return X==null?[]:(X=Object(X),Qe(Sa(X),function(ft){return vr.call(X,ft)}))}:fo,qi=Ja;(Os&&qi(new Os(new ArrayBuffer(1)))!=yt||sa&&qi(new sa)!=ye||Ka&&qi(Ka.resolve())!=zt||Ca&&qi(new Ca)!=j||Ma&&qi(new Ma)!=dt)&&(qi=function(X){var ft=Ja(X),ee=ft==Jt?X.constructor:void 0,k=ee?li(ee):"";if(k)switch(k){case ja:return yt;case Ta:return ye;case Ko:return zt;case Rs:return j;case jo:return dt}return ft});function ml(X,ft){return ft=ft==null?mt:ft,!!ft&&(typeof X=="number"||V.test(X))&&X>-1&&X%1==0&&X<ft}function lu(X){var ft=typeof X;return ft=="string"||ft=="number"||ft=="symbol"||ft=="boolean"?X!=="__proto__":X===null}function yl(X){return!!pr&&pr in X}function cu(X){var ft=X&&X.constructor,ee=typeof ft=="function"&&ft.prototype||Un;return X===ee}function fu(X){return Rr.call(X)}function li(X){if(X!=null){try{return ir.call(X)}catch(ft){}try{return X+""}catch(ft){}}return""}function hu(X,ft){return X===ft||X!==X&&ft!==ft}var vl=su(function(){return arguments}())?su:function(X){return Ki(X)&&jn.call(X,"callee")&&!vr.call(X,"callee")},Zi=Array.isArray;function Pa(X){return X!=null&&Is(X.length)&&!du(X)}var co=ia||ho;function rs(X,ft){return Qa(X,ft)}function du(X){if(!Wr(X))return!1;var ft=Ja(X);return ft==Ft||ft==fe||ft==Et||ft==It}function Is(X){return typeof X=="number"&&X>-1&&X%1==0&&X<=mt}function Wr(X){var ft=typeof X;return X!=null&&(ft=="object"||ft=="function")}function Ki(X){return X!=null&&typeof X=="object"}var gu=Ot?xn(Ot):Ea;function ka(X){return Pa(X)?au(X):zs(X)}function fo(){return[]}function ho(){return!1}Ke.exports=rs},75668:function(Ke,St,K){"use strict";function H(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(M){return typeof M}:H=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},H(U)}Object.defineProperty(St,"__esModule",{value:!0}),Object.defineProperty(St,"DraggableCore",{enumerable:!0,get:function(){return te.default}}),St.default=void 0;var Xt=ye(K(67294)),it=Ft(K(45697)),me=Ft(K(73935)),mt=Ft(K(86010)),Dt=K(81825),lt=K(2849),Et=K(9280),te=Ft(K(80783)),qt=Ft(K(55904)),re=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function Ft(U){return U&&U.__esModule?U:{default:U}}function fe(U){if(typeof WeakMap!="function")return null;var V=new WeakMap,M=new WeakMap;return(fe=function($){return $?M:V})(U)}function ye(U,V){if(!V&&U&&U.__esModule)return U;if(U===null||H(U)!=="object"&&typeof U!="function")return{default:U};var M=fe(V);if(M&&M.has(U))return M.get(U);var E={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in U)if(J!=="default"&&Object.prototype.hasOwnProperty.call(U,J)){var At=$?Object.getOwnPropertyDescriptor(U,J):null;At&&(At.get||At.set)?Object.defineProperty(E,J,At):E[J]=U[J]}return E.default=U,M&&M.set(U,E),E}function se(){return se=Object.assign||function(U){for(var V=1;V<arguments.length;V++){var M=arguments[V];for(var E in M)Object.prototype.hasOwnProperty.call(M,E)&&(U[E]=M[E])}return U},se.apply(this,arguments)}function Yt(U,V){if(U==null)return{};var M=Jt(U,V),E,$;if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(U);for($=0;$<J.length;$++)E=J[$],!(V.indexOf(E)>=0)&&(!Object.prototype.propertyIsEnumerable.call(U,E)||(M[E]=U[E]))}return M}function Jt(U,V){if(U==null)return{};var M={},E=Object.keys(U),$,J;for(J=0;J<E.length;J++)$=E[J],!(V.indexOf($)>=0)&&(M[$]=U[$]);return M}function zt(U,V){var M=Object.keys(U);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(U);V&&(E=E.filter(function($){return Object.getOwnPropertyDescriptor(U,$).enumerable})),M.push.apply(M,E)}return M}function It(U){for(var V=1;V<arguments.length;V++){var M=arguments[V]!=null?arguments[V]:{};V%2?zt(Object(M),!0).forEach(function(E){Rt(U,E,M[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(M)):zt(Object(M)).forEach(function(E){Object.defineProperty(U,E,Object.getOwnPropertyDescriptor(M,E))})}return U}function Pt(U,V){return dt(U)||$t(U,V)||tt(U,V)||j()}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tt(U,V){if(!!U){if(typeof U=="string")return Tt(U,V);var M=Object.prototype.toString.call(U).slice(8,-1);if(M==="Object"&&U.constructor&&(M=U.constructor.name),M==="Map"||M==="Set")return Array.from(U);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return Tt(U,V)}}function Tt(U,V){(V==null||V>U.length)&&(V=U.length);for(var M=0,E=new Array(V);M<V;M++)E[M]=U[M];return E}function $t(U,V){var M=U==null?null:typeof Symbol!="undefined"&&U[Symbol.iterator]||U["@@iterator"];if(M!=null){var E=[],$=!0,J=!1,At,ct;try{for(M=M.call(U);!($=(At=M.next()).done)&&(E.push(At.value),!(V&&E.length===V));$=!0);}catch(wt){J=!0,ct=wt}finally{try{!$&&M.return!=null&&M.return()}finally{if(J)throw ct}}return E}}function dt(U){if(Array.isArray(U))return U}function Q(U,V){if(!(U instanceof V))throw new TypeError("Cannot call a class as a function")}function yt(U,V){for(var M=0;M<V.length;M++){var E=V[M];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(U,E.key,E)}}function I(U,V,M){return V&&yt(U.prototype,V),M&&yt(U,M),U}function G(U,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(V&&V.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),V&&_t(U,V)}function _t(U,V){return _t=Object.setPrototypeOf||function(E,$){return E.__proto__=$,E},_t(U,V)}function Ct(U){var V=ut();return function(){var E=Z(U),$;if(V){var J=Z(this).constructor;$=Reflect.construct(E,arguments,J)}else $=E.apply(this,arguments);return B(this,$)}}function B(U,V){if(V&&(H(V)==="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(U)}function nt(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function ut(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(U){return!1}}function Z(U){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},Z(U)}function Rt(U,V,M){return V in U?Object.defineProperty(U,V,{value:M,enumerable:!0,configurable:!0,writable:!0}):U[V]=M,U}var ie=function(U){G(M,U);var V=Ct(M);function M(E){var $;return Q(this,M),$=V.call(this,E),Rt(nt($),"onDragStart",function(J,At){(0,qt.default)("Draggable: onDragStart: %j",At);var ct=$.props.onStart(J,(0,lt.createDraggableData)(nt($),At));if(ct===!1)return!1;$.setState({dragging:!0,dragged:!0})}),Rt(nt($),"onDrag",function(J,At){if(!$.state.dragging)return!1;(0,qt.default)("Draggable: onDrag: %j",At);var ct=(0,lt.createDraggableData)(nt($),At),wt={x:ct.x,y:ct.y};if($.props.bounds){var Gt=wt.x,Ht=wt.y;wt.x+=$.state.slackX,wt.y+=$.state.slackY;var Ot=(0,lt.getBoundPosition)(nt($),wt.x,wt.y),Qe=Pt(Ot,2),sn=Qe[0],He=Qe[1];wt.x=sn,wt.y=He,wt.slackX=$.state.slackX+(Gt-wt.x),wt.slackY=$.state.slackY+(Ht-wt.y),ct.x=wt.x,ct.y=wt.y,ct.deltaX=wt.x-$.state.x,ct.deltaY=wt.y-$.state.y}var rn=$.props.onDrag(J,ct);if(rn===!1)return!1;$.setState(wt)}),Rt(nt($),"onDragStop",function(J,At){if(!$.state.dragging)return!1;var ct=$.props.onStop(J,(0,lt.createDraggableData)(nt($),At));if(ct===!1)return!1;(0,qt.default)("Draggable: onDragStop: %j",At);var wt={dragging:!1,slackX:0,slackY:0},Gt=Boolean($.props.position);if(Gt){var Ht=$.props.position,Ot=Ht.x,Qe=Ht.y;wt.x=Ot,wt.y=Qe}$.setState(wt)}),$.state={dragging:!1,dragged:!1,x:E.position?E.position.x:E.defaultPosition.x,y:E.position?E.position.y:E.defaultPosition.y,prevPropsPosition:It({},E.position),slackX:0,slackY:0,isElementSVG:!1},E.position&&!(E.onDrag||E.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),$}return I(M,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var $,J,At;return($=(J=this.props)===null||J===void 0||(At=J.nodeRef)===null||At===void 0?void 0:At.current)!==null&&$!==void 0?$:me.default.findDOMNode(this)}},{key:"render",value:function(){var $,J=this.props,At=J.axis,ct=J.bounds,wt=J.children,Gt=J.defaultPosition,Ht=J.defaultClassName,Ot=J.defaultClassNameDragging,Qe=J.defaultClassNameDragged,sn=J.position,He=J.positionOffset,rn=J.scale,xn=Yt(J,re),En={},Re=null,zn=Boolean(sn),wn=!zn||this.state.dragging,pn=sn||Gt,Gn={x:(0,lt.canDragX)(this)&&wn?this.state.x:pn.x,y:(0,lt.canDragY)(this)&&wn?this.state.y:pn.y};this.state.isElementSVG?Re=(0,Dt.createSVGTransform)(Gn,He):En=(0,Dt.createCSSTransform)(Gn,He);var Rn=(0,mt.default)(wt.props.className||"",Ht,($={},Rt($,Ot,this.state.dragging),Rt($,Qe,this.state.dragged),$));return Xt.createElement(te.default,se({},xn,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),Xt.cloneElement(Xt.Children.only(wt),{className:Rn,style:It(It({},wt.props.style),En),transform:Re}))}}],[{key:"getDerivedStateFromProps",value:function($,J){var At=$.position,ct=J.prevPropsPosition;return At&&(!ct||At.x!==ct.x||At.y!==ct.y)?((0,qt.default)("Draggable: getDerivedStateFromProps %j",{position:At,prevPropsPosition:ct}),{x:At.x,y:At.y,prevPropsPosition:It({},At)}):null}}]),M}(Xt.Component);St.default=ie,Rt(ie,"displayName","Draggable"),Rt(ie,"propTypes",It(It({},te.default.propTypes),{},{axis:it.default.oneOf(["both","x","y","none"]),bounds:it.default.oneOfType([it.default.shape({left:it.default.number,right:it.default.number,top:it.default.number,bottom:it.default.number}),it.default.string,it.default.oneOf([!1])]),defaultClassName:it.default.string,defaultClassNameDragging:it.default.string,defaultClassNameDragged:it.default.string,defaultPosition:it.default.shape({x:it.default.number,y:it.default.number}),positionOffset:it.default.shape({x:it.default.oneOfType([it.default.number,it.default.string]),y:it.default.oneOfType([it.default.number,it.default.string])}),position:it.default.shape({x:it.default.number,y:it.default.number}),className:Et.dontSetMe,style:Et.dontSetMe,transform:Et.dontSetMe})),Rt(ie,"defaultProps",It(It({},te.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},80783:function(Ke,St,K){"use strict";function H(B){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(ut){return typeof ut}:H=function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut},H(B)}Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var Xt=re(K(67294)),it=te(K(45697)),me=te(K(73935)),mt=K(81825),Dt=K(2849),lt=K(9280),Et=te(K(55904));function te(B){return B&&B.__esModule?B:{default:B}}function qt(B){if(typeof WeakMap!="function")return null;var nt=new WeakMap,ut=new WeakMap;return(qt=function(Rt){return Rt?ut:nt})(B)}function re(B,nt){if(!nt&&B&&B.__esModule)return B;if(B===null||H(B)!=="object"&&typeof B!="function")return{default:B};var ut=qt(nt);if(ut&&ut.has(B))return ut.get(B);var Z={},Rt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ie in B)if(ie!=="default"&&Object.prototype.hasOwnProperty.call(B,ie)){var U=Rt?Object.getOwnPropertyDescriptor(B,ie):null;U&&(U.get||U.set)?Object.defineProperty(Z,ie,U):Z[ie]=B[ie]}return Z.default=B,ut&&ut.set(B,Z),Z}function Ft(B,nt){return Jt(B)||Yt(B,nt)||ye(B,nt)||fe()}function fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ye(B,nt){if(!!B){if(typeof B=="string")return se(B,nt);var ut=Object.prototype.toString.call(B).slice(8,-1);if(ut==="Object"&&B.constructor&&(ut=B.constructor.name),ut==="Map"||ut==="Set")return Array.from(B);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return se(B,nt)}}function se(B,nt){(nt==null||nt>B.length)&&(nt=B.length);for(var ut=0,Z=new Array(nt);ut<nt;ut++)Z[ut]=B[ut];return Z}function Yt(B,nt){var ut=B==null?null:typeof Symbol!="undefined"&&B[Symbol.iterator]||B["@@iterator"];if(ut!=null){var Z=[],Rt=!0,ie=!1,U,V;try{for(ut=ut.call(B);!(Rt=(U=ut.next()).done)&&(Z.push(U.value),!(nt&&Z.length===nt));Rt=!0);}catch(M){ie=!0,V=M}finally{try{!Rt&&ut.return!=null&&ut.return()}finally{if(ie)throw V}}return Z}}function Jt(B){if(Array.isArray(B))return B}function zt(B,nt){if(!(B instanceof nt))throw new TypeError("Cannot call a class as a function")}function It(B,nt){for(var ut=0;ut<nt.length;ut++){var Z=nt[ut];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(B,Z.key,Z)}}function Pt(B,nt,ut){return nt&&It(B.prototype,nt),ut&&It(B,ut),B}function j(B,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(nt&&nt.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),nt&&tt(B,nt)}function tt(B,nt){return tt=Object.setPrototypeOf||function(Z,Rt){return Z.__proto__=Rt,Z},tt(B,nt)}function Tt(B){var nt=Q();return function(){var Z=yt(B),Rt;if(nt){var ie=yt(this).constructor;Rt=Reflect.construct(Z,arguments,ie)}else Rt=Z.apply(this,arguments);return $t(this,Rt)}}function $t(B,nt){if(nt&&(H(nt)==="object"||typeof nt=="function"))return nt;if(nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dt(B)}function dt(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function Q(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(B){return!1}}function yt(B){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},yt(B)}function I(B,nt,ut){return nt in B?Object.defineProperty(B,nt,{value:ut,enumerable:!0,configurable:!0,writable:!0}):B[nt]=ut,B}var G={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},_t=G.mouse,Ct=function(B){j(ut,B);var nt=Tt(ut);function ut(){var Z;zt(this,ut);for(var Rt=arguments.length,ie=new Array(Rt),U=0;U<Rt;U++)ie[U]=arguments[U];return Z=nt.call.apply(nt,[this].concat(ie)),I(dt(Z),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),I(dt(Z),"mounted",!1),I(dt(Z),"handleDragStart",function(V){if(Z.props.onMouseDown(V),!Z.props.allowAnyClick&&typeof V.button=="number"&&V.button!==0)return!1;var M=Z.findDOMNode();if(!M||!M.ownerDocument||!M.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var E=M.ownerDocument;if(!(Z.props.disabled||!(V.target instanceof E.defaultView.Node)||Z.props.handle&&!(0,mt.matchesSelectorAndParentsTo)(V.target,Z.props.handle,M)||Z.props.cancel&&(0,mt.matchesSelectorAndParentsTo)(V.target,Z.props.cancel,M))){V.type==="touchstart"&&V.preventDefault();var $=(0,mt.getTouchIdentifier)(V);Z.setState({touchIdentifier:$});var J=(0,Dt.getControlPosition)(V,$,dt(Z));if(J!=null){var At=J.x,ct=J.y,wt=(0,Dt.createCoreData)(dt(Z),At,ct);(0,Et.default)("DraggableCore: handleDragStart: %j",wt),(0,Et.default)("calling",Z.props.onStart);var Gt=Z.props.onStart(V,wt);Gt===!1||Z.mounted===!1||(Z.props.enableUserSelectHack&&(0,mt.addUserSelectStyles)(E),Z.setState({dragging:!0,lastX:At,lastY:ct}),(0,mt.addEvent)(E,_t.move,Z.handleDrag),(0,mt.addEvent)(E,_t.stop,Z.handleDragStop))}}}),I(dt(Z),"handleDrag",function(V){var M=(0,Dt.getControlPosition)(V,Z.state.touchIdentifier,dt(Z));if(M!=null){var E=M.x,$=M.y;if(Array.isArray(Z.props.grid)){var J=E-Z.state.lastX,At=$-Z.state.lastY,ct=(0,Dt.snapToGrid)(Z.props.grid,J,At),wt=Ft(ct,2);if(J=wt[0],At=wt[1],!J&&!At)return;E=Z.state.lastX+J,$=Z.state.lastY+At}var Gt=(0,Dt.createCoreData)(dt(Z),E,$);(0,Et.default)("DraggableCore: handleDrag: %j",Gt);var Ht=Z.props.onDrag(V,Gt);if(Ht===!1||Z.mounted===!1){try{Z.handleDragStop(new MouseEvent("mouseup"))}catch(Qe){var Ot=document.createEvent("MouseEvents");Ot.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Z.handleDragStop(Ot)}return}Z.setState({lastX:E,lastY:$})}}),I(dt(Z),"handleDragStop",function(V){if(!!Z.state.dragging){var M=(0,Dt.getControlPosition)(V,Z.state.touchIdentifier,dt(Z));if(M!=null){var E=M.x,$=M.y,J=(0,Dt.createCoreData)(dt(Z),E,$),At=Z.props.onStop(V,J);if(At===!1||Z.mounted===!1)return!1;var ct=Z.findDOMNode();ct&&Z.props.enableUserSelectHack&&(0,mt.removeUserSelectStyles)(ct.ownerDocument),(0,Et.default)("DraggableCore: handleDragStop: %j",J),Z.setState({dragging:!1,lastX:NaN,lastY:NaN}),ct&&((0,Et.default)("DraggableCore: Removing handlers"),(0,mt.removeEvent)(ct.ownerDocument,_t.move,Z.handleDrag),(0,mt.removeEvent)(ct.ownerDocument,_t.stop,Z.handleDragStop))}}}),I(dt(Z),"onMouseDown",function(V){return _t=G.mouse,Z.handleDragStart(V)}),I(dt(Z),"onMouseUp",function(V){return _t=G.mouse,Z.handleDragStop(V)}),I(dt(Z),"onTouchStart",function(V){return _t=G.touch,Z.handleDragStart(V)}),I(dt(Z),"onTouchEnd",function(V){return _t=G.touch,Z.handleDragStop(V)}),Z}return Pt(ut,[{key:"componentDidMount",value:function(){this.mounted=!0;var Rt=this.findDOMNode();Rt&&(0,mt.addEvent)(Rt,G.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var Rt=this.findDOMNode();if(Rt){var ie=Rt.ownerDocument;(0,mt.removeEvent)(ie,G.mouse.move,this.handleDrag),(0,mt.removeEvent)(ie,G.touch.move,this.handleDrag),(0,mt.removeEvent)(ie,G.mouse.stop,this.handleDragStop),(0,mt.removeEvent)(ie,G.touch.stop,this.handleDragStop),(0,mt.removeEvent)(Rt,G.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,mt.removeUserSelectStyles)(ie)}}},{key:"findDOMNode",value:function(){var Rt,ie,U;return(Rt=(ie=this.props)===null||ie===void 0||(U=ie.nodeRef)===null||U===void 0?void 0:U.current)!==null&&Rt!==void 0?Rt:me.default.findDOMNode(this)}},{key:"render",value:function(){return Xt.cloneElement(Xt.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),ut}(Xt.Component);St.default=Ct,I(Ct,"displayName","DraggableCore"),I(Ct,"propTypes",{allowAnyClick:it.default.bool,disabled:it.default.bool,enableUserSelectHack:it.default.bool,offsetParent:function(nt,ut){if(nt[ut]&&nt[ut].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:it.default.arrayOf(it.default.number),handle:it.default.string,cancel:it.default.string,nodeRef:it.default.object,onStart:it.default.func,onDrag:it.default.func,onStop:it.default.func,onMouseDown:it.default.func,scale:it.default.number,className:lt.dontSetMe,style:lt.dontSetMe,transform:lt.dontSetMe}),I(Ct,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},61193:function(Ke,St,K){"use strict";var H=K(75668),Xt=H.default,it=H.DraggableCore;Ke.exports=Xt,Ke.exports.default=Xt,Ke.exports.DraggableCore=it},81825:function(Ke,St,K){"use strict";function H(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(_t){return typeof _t}:H=function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t},H(I)}Object.defineProperty(St,"__esModule",{value:!0}),St.matchesSelector=qt,St.matchesSelectorAndParentsTo=re,St.addEvent=Ft,St.removeEvent=fe,St.outerHeight=ye,St.outerWidth=se,St.innerHeight=Yt,St.innerWidth=Jt,St.offsetXYFromParent=zt,St.createCSSTransform=It,St.createSVGTransform=Pt,St.getTranslation=j,St.getTouch=tt,St.getTouchIdentifier=Tt,St.addUserSelectStyles=$t,St.removeUserSelectStyles=dt,St.addClassName=Q,St.removeClassName=yt;var Xt=K(9280),it=mt(K(38650));function me(I){if(typeof WeakMap!="function")return null;var G=new WeakMap,_t=new WeakMap;return(me=function(B){return B?_t:G})(I)}function mt(I,G){if(!G&&I&&I.__esModule)return I;if(I===null||H(I)!=="object"&&typeof I!="function")return{default:I};var _t=me(G);if(_t&&_t.has(I))return _t.get(I);var Ct={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var nt in I)if(nt!=="default"&&Object.prototype.hasOwnProperty.call(I,nt)){var ut=B?Object.getOwnPropertyDescriptor(I,nt):null;ut&&(ut.get||ut.set)?Object.defineProperty(Ct,nt,ut):Ct[nt]=I[nt]}return Ct.default=I,_t&&_t.set(I,Ct),Ct}function Dt(I,G){var _t=Object.keys(I);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(I);G&&(Ct=Ct.filter(function(B){return Object.getOwnPropertyDescriptor(I,B).enumerable})),_t.push.apply(_t,Ct)}return _t}function lt(I){for(var G=1;G<arguments.length;G++){var _t=arguments[G]!=null?arguments[G]:{};G%2?Dt(Object(_t),!0).forEach(function(Ct){Et(I,Ct,_t[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(_t)):Dt(Object(_t)).forEach(function(Ct){Object.defineProperty(I,Ct,Object.getOwnPropertyDescriptor(_t,Ct))})}return I}function Et(I,G,_t){return G in I?Object.defineProperty(I,G,{value:_t,enumerable:!0,configurable:!0,writable:!0}):I[G]=_t,I}var te="";function qt(I,G){return te||(te=(0,Xt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(_t){return(0,Xt.isFunction)(I[_t])})),(0,Xt.isFunction)(I[te])?I[te](G):!1}function re(I,G,_t){var Ct=I;do{if(qt(Ct,G))return!0;if(Ct===_t)return!1;Ct=Ct.parentNode}while(Ct);return!1}function Ft(I,G,_t,Ct){if(!!I){var B=lt({capture:!0},Ct);I.addEventListener?I.addEventListener(G,_t,B):I.attachEvent?I.attachEvent("on"+G,_t):I["on"+G]=_t}}function fe(I,G,_t,Ct){if(!!I){var B=lt({capture:!0},Ct);I.removeEventListener?I.removeEventListener(G,_t,B):I.detachEvent?I.detachEvent("on"+G,_t):I["on"+G]=null}}function ye(I){var G=I.clientHeight,_t=I.ownerDocument.defaultView.getComputedStyle(I);return G+=(0,Xt.int)(_t.borderTopWidth),G+=(0,Xt.int)(_t.borderBottomWidth),G}function se(I){var G=I.clientWidth,_t=I.ownerDocument.defaultView.getComputedStyle(I);return G+=(0,Xt.int)(_t.borderLeftWidth),G+=(0,Xt.int)(_t.borderRightWidth),G}function Yt(I){var G=I.clientHeight,_t=I.ownerDocument.defaultView.getComputedStyle(I);return G-=(0,Xt.int)(_t.paddingTop),G-=(0,Xt.int)(_t.paddingBottom),G}function Jt(I){var G=I.clientWidth,_t=I.ownerDocument.defaultView.getComputedStyle(I);return G-=(0,Xt.int)(_t.paddingLeft),G-=(0,Xt.int)(_t.paddingRight),G}function zt(I,G,_t){var Ct=G===G.ownerDocument.body,B=Ct?{left:0,top:0}:G.getBoundingClientRect(),nt=(I.clientX+G.scrollLeft-B.left)/_t,ut=(I.clientY+G.scrollTop-B.top)/_t;return{x:nt,y:ut}}function It(I,G){var _t=j(I,G,"px");return Et({},(0,it.browserPrefixToKey)("transform",it.default),_t)}function Pt(I,G){var _t=j(I,G,"");return _t}function j(I,G,_t){var Ct=I.x,B=I.y,nt="translate(".concat(Ct).concat(_t,",").concat(B).concat(_t,")");if(G){var ut="".concat(typeof G.x=="string"?G.x:G.x+_t),Z="".concat(typeof G.y=="string"?G.y:G.y+_t);nt="translate(".concat(ut,", ").concat(Z,")")+nt}return nt}function tt(I,G){return I.targetTouches&&(0,Xt.findInArray)(I.targetTouches,function(_t){return G===_t.identifier})||I.changedTouches&&(0,Xt.findInArray)(I.changedTouches,function(_t){return G===_t.identifier})}function Tt(I){if(I.targetTouches&&I.targetTouches[0])return I.targetTouches[0].identifier;if(I.changedTouches&&I.changedTouches[0])return I.changedTouches[0].identifier}function $t(I){if(!!I){var G=I.getElementById("react-draggable-style-el");G||(G=I.createElement("style"),G.type="text/css",G.id="react-draggable-style-el",G.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,G.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,I.getElementsByTagName("head")[0].appendChild(G)),I.body&&Q(I.body,"react-draggable-transparent-selection")}}function dt(I){if(!!I)try{if(I.body&&yt(I.body,"react-draggable-transparent-selection"),I.selection)I.selection.empty();else{var G=(I.defaultView||window).getSelection();G&&G.type!=="Caret"&&G.removeAllRanges()}}catch(_t){}}function Q(I,G){I.classList?I.classList.add(G):I.className.match(new RegExp("(?:^|\\s)".concat(G,"(?!\\S)")))||(I.className+=" ".concat(G))}function yt(I,G){I.classList?I.classList.remove(G):I.className=I.className.replace(new RegExp("(?:^|\\s)".concat(G,"(?!\\S)"),"g"),"")}},38650:function(Ke,St){"use strict";Object.defineProperty(St,"__esModule",{value:!0}),St.getPrefix=H,St.browserPrefixToKey=Xt,St.browserPrefixToStyle=it,St.default=void 0;var K=["Moz","Webkit","O","ms"];function H(){var Dt,lt,Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var te=(Dt=window.document)===null||Dt===void 0||(lt=Dt.documentElement)===null||lt===void 0?void 0:lt.style;if(!te||Et in te)return"";for(var qt=0;qt<K.length;qt++)if(Xt(Et,K[qt])in te)return K[qt];return""}function Xt(Dt,lt){return lt?"".concat(lt).concat(me(Dt)):Dt}function it(Dt,lt){return lt?"-".concat(lt.toLowerCase(),"-").concat(Dt):Dt}function me(Dt){for(var lt="",Et=!0,te=0;te<Dt.length;te++)Et?(lt+=Dt[te].toUpperCase(),Et=!1):Dt[te]==="-"?Et=!0:lt+=Dt[te];return lt}var mt=H();St.default=mt},55904:function(Ke,St){"use strict";Object.defineProperty(St,"__esModule",{value:!0}),St.default=K;function K(){var H}},2849:function(Ke,St,K){"use strict";Object.defineProperty(St,"__esModule",{value:!0}),St.getBoundPosition=it,St.snapToGrid=me,St.canDragX=mt,St.canDragY=Dt,St.getControlPosition=lt,St.createCoreData=Et,St.createDraggableData=te;var H=K(9280),Xt=K(81825);function it(Ft,fe,ye){if(!Ft.props.bounds)return[fe,ye];var se=Ft.props.bounds;se=typeof se=="string"?se:qt(se);var Yt=re(Ft);if(typeof se=="string"){var Jt=Yt.ownerDocument,zt=Jt.defaultView,It;if(se==="parent"?It=Yt.parentNode:It=Jt.querySelector(se),!(It instanceof zt.HTMLElement))throw new Error('Bounds selector "'+se+'" could not find an element.');var Pt=It,j=zt.getComputedStyle(Yt),tt=zt.getComputedStyle(Pt);se={left:-Yt.offsetLeft+(0,H.int)(tt.paddingLeft)+(0,H.int)(j.marginLeft),top:-Yt.offsetTop+(0,H.int)(tt.paddingTop)+(0,H.int)(j.marginTop),right:(0,Xt.innerWidth)(Pt)-(0,Xt.outerWidth)(Yt)-Yt.offsetLeft+(0,H.int)(tt.paddingRight)-(0,H.int)(j.marginRight),bottom:(0,Xt.innerHeight)(Pt)-(0,Xt.outerHeight)(Yt)-Yt.offsetTop+(0,H.int)(tt.paddingBottom)-(0,H.int)(j.marginBottom)}}return(0,H.isNum)(se.right)&&(fe=Math.min(fe,se.right)),(0,H.isNum)(se.bottom)&&(ye=Math.min(ye,se.bottom)),(0,H.isNum)(se.left)&&(fe=Math.max(fe,se.left)),(0,H.isNum)(se.top)&&(ye=Math.max(ye,se.top)),[fe,ye]}function me(Ft,fe,ye){var se=Math.round(fe/Ft[0])*Ft[0],Yt=Math.round(ye/Ft[1])*Ft[1];return[se,Yt]}function mt(Ft){return Ft.props.axis==="both"||Ft.props.axis==="x"}function Dt(Ft){return Ft.props.axis==="both"||Ft.props.axis==="y"}function lt(Ft,fe,ye){var se=typeof fe=="number"?(0,Xt.getTouch)(Ft,fe):null;if(typeof fe=="number"&&!se)return null;var Yt=re(ye),Jt=ye.props.offsetParent||Yt.offsetParent||Yt.ownerDocument.body;return(0,Xt.offsetXYFromParent)(se||Ft,Jt,ye.props.scale)}function Et(Ft,fe,ye){var se=Ft.state,Yt=!(0,H.isNum)(se.lastX),Jt=re(Ft);return Yt?{node:Jt,deltaX:0,deltaY:0,lastX:fe,lastY:ye,x:fe,y:ye}:{node:Jt,deltaX:fe-se.lastX,deltaY:ye-se.lastY,lastX:se.lastX,lastY:se.lastY,x:fe,y:ye}}function te(Ft,fe){var ye=Ft.props.scale;return{node:fe.node,x:Ft.state.x+fe.deltaX/ye,y:Ft.state.y+fe.deltaY/ye,deltaX:fe.deltaX/ye,deltaY:fe.deltaY/ye,lastX:Ft.state.x,lastY:Ft.state.y}}function qt(Ft){return{left:Ft.left,top:Ft.top,right:Ft.right,bottom:Ft.bottom}}function re(Ft){var fe=Ft.findDOMNode();if(!fe)throw new Error("<DraggableCore>: Unmounted during event!");return fe}},9280:function(Ke,St){"use strict";Object.defineProperty(St,"__esModule",{value:!0}),St.findInArray=K,St.isFunction=H,St.isNum=Xt,St.int=it,St.dontSetMe=me;function K(mt,Dt){for(var lt=0,Et=mt.length;lt<Et;lt++)if(Dt.apply(Dt,[mt[lt],lt,mt]))return mt[lt]}function H(mt){return typeof mt=="function"||Object.prototype.toString.call(mt)==="[object Function]"}function Xt(mt){return typeof mt=="number"&&!isNaN(mt)}function it(mt){return parseInt(mt,10)}function me(mt,Dt,lt){if(mt[Dt])return new Error("Invalid prop ".concat(Dt," passed to ").concat(lt," - do not set this, set it on the child."))}},75966:function(Ke,St,K){"use strict";function H(dt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(yt){return typeof yt}:H=function(yt){return yt&&typeof Symbol=="function"&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt},H(dt)}Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var Xt=qt(K(67294)),it=qt(K(45697)),me=K(61193),mt=K(1706),Dt=K(67493),lt=K(7373),Et=K(92886),te=qt(K(94184));function qt(dt){return dt&&dt.__esModule?dt:{default:dt}}function re(dt,Q){var yt=Object.keys(dt);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(dt);Q&&(I=I.filter(function(G){return Object.getOwnPropertyDescriptor(dt,G).enumerable})),yt.push.apply(yt,I)}return yt}function Ft(dt){for(var Q=1;Q<arguments.length;Q++){var yt=arguments[Q]!=null?arguments[Q]:{};Q%2?re(Object(yt),!0).forEach(function(I){Tt(dt,I,yt[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors(yt)):re(Object(yt)).forEach(function(I){Object.defineProperty(dt,I,Object.getOwnPropertyDescriptor(yt,I))})}return dt}function fe(dt,Q){if(!(dt instanceof Q))throw new TypeError("Cannot call a class as a function")}function ye(dt,Q){for(var yt=0;yt<Q.length;yt++){var I=Q[yt];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(dt,I.key,I)}}function se(dt,Q,yt){return Q&&ye(dt.prototype,Q),yt&&ye(dt,yt),dt}function Yt(dt,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");dt.prototype=Object.create(Q&&Q.prototype,{constructor:{value:dt,writable:!0,configurable:!0}}),Q&&Jt(dt,Q)}function Jt(dt,Q){return Jt=Object.setPrototypeOf||function(I,G){return I.__proto__=G,I},Jt(dt,Q)}function zt(dt){var Q=j();return function(){var I=tt(dt),G;if(Q){var _t=tt(this).constructor;G=Reflect.construct(I,arguments,_t)}else G=I.apply(this,arguments);return It(this,G)}}function It(dt,Q){if(Q&&(H(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pt(dt)}function Pt(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt}function j(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(dt){return!1}}function tt(dt){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(yt){return yt.__proto__||Object.getPrototypeOf(yt)},tt(dt)}function Tt(dt,Q,yt){return Q in dt?Object.defineProperty(dt,Q,{value:yt,enumerable:!0,configurable:!0,writable:!0}):dt[Q]=yt,dt}var $t=function(dt){Yt(yt,dt);var Q=zt(yt);function yt(){var I;fe(this,yt);for(var G=arguments.length,_t=new Array(G),Ct=0;Ct<G;Ct++)_t[Ct]=arguments[Ct];return I=Q.call.apply(Q,[this].concat(_t)),Tt(Pt(I),"state",{resizing:null,dragging:null,className:""}),Tt(Pt(I),"elementRef",Xt.default.createRef()),Tt(Pt(I),"onDragStart",function(B,nt){var ut=nt.node,Z=I.props,Rt=Z.onDragStart,ie=Z.transformScale;if(!!Rt){var U={top:0,left:0},V=ut.offsetParent;if(!!V){var M=V.getBoundingClientRect(),E=ut.getBoundingClientRect(),$=E.left/ie,J=M.left/ie,At=E.top/ie,ct=M.top/ie;U.left=$-J+V.scrollLeft,U.top=At-ct+V.scrollTop,I.setState({dragging:U});var wt=(0,lt.calcXY)(I.getPositionParams(),U.top,U.left,I.props.w,I.props.h),Gt=wt.x,Ht=wt.y;return Rt.call(Pt(I),I.props.i,Gt,Ht,{e:B,node:ut,newPosition:U})}}}),Tt(Pt(I),"onDrag",function(B,nt){var ut=nt.node,Z=nt.deltaX,Rt=nt.deltaY,ie=I.props.onDrag;if(!!ie){if(!I.state.dragging)throw new Error("onDrag called before onDragStart.");var U=I.state.dragging.top+Rt,V=I.state.dragging.left+Z,M=I.props,E=M.isBounded,$=M.i,J=M.w,At=M.h,ct=M.containerWidth,wt=I.getPositionParams();if(E){var Gt=ut.offsetParent;if(Gt){var Ht=I.props,Ot=Ht.margin,Qe=Ht.rowHeight,sn=Gt.clientHeight-(0,lt.calcGridItemWHPx)(At,Qe,Ot[1]);U=(0,lt.clamp)(U,0,sn);var He=(0,lt.calcGridColWidth)(wt),rn=ct-(0,lt.calcGridItemWHPx)(J,He,Ot[0]);V=(0,lt.clamp)(V,0,rn)}}var xn={top:U,left:V};I.setState({dragging:xn});var En=(0,lt.calcXY)(wt,U,V,J,At),Re=En.x,zn=En.y;return ie.call(Pt(I),$,Re,zn,{e:B,node:ut,newPosition:xn})}}),Tt(Pt(I),"onDragStop",function(B,nt){var ut=nt.node,Z=I.props.onDragStop;if(!!Z){if(!I.state.dragging)throw new Error("onDragEnd called before onDragStart.");var Rt=I.props,ie=Rt.w,U=Rt.h,V=Rt.i,M=I.state.dragging,E=M.left,$=M.top,J={top:$,left:E};I.setState({dragging:null});var At=(0,lt.calcXY)(I.getPositionParams(),$,E,ie,U),ct=At.x,wt=At.y;return Z.call(Pt(I),V,ct,wt,{e:B,node:ut,newPosition:J})}}),Tt(Pt(I),"onResizeStop",function(B,nt){I.onResizeHandler(B,nt,"onResizeStop")}),Tt(Pt(I),"onResizeStart",function(B,nt){I.onResizeHandler(B,nt,"onResizeStart")}),Tt(Pt(I),"onResize",function(B,nt){I.onResizeHandler(B,nt,"onResize")}),I}return se(yt,[{key:"shouldComponentUpdate",value:function(G,_t){if(this.props.children!==G.children||this.props.droppingPosition!==G.droppingPosition)return!0;var Ct=(0,lt.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),B=(0,lt.calcGridItemPosition)(this.getPositionParams(G),G.x,G.y,G.w,G.h,_t);return!(0,Dt.fastPositionEqual)(Ct,B)||this.props.useCSSTransforms!==G.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(G){this.moveDroppingItem(G)}},{key:"moveDroppingItem",value:function(G){var _t=this.props.droppingPosition;if(!!_t){var Ct=this.elementRef.current;if(!!Ct){var B=G.droppingPosition||{left:0,top:0},nt=this.state.dragging,ut=nt&&_t.left!==B.left||_t.top!==B.top;if(!nt)this.onDragStart(_t.e,{node:Ct,deltaX:_t.left,deltaY:_t.top});else if(ut){var Z=_t.left-nt.left,Rt=_t.top-nt.top;this.onDrag(_t.e,{node:Ct,deltaX:Z,deltaY:Rt})}}}}},{key:"getPositionParams",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:G.cols,containerPadding:G.containerPadding,containerWidth:G.containerWidth,margin:G.margin,maxRows:G.maxRows,rowHeight:G.rowHeight}}},{key:"createStyle",value:function(G){var _t=this.props,Ct=_t.usePercentages,B=_t.containerWidth,nt=_t.useCSSTransforms,ut;return nt?ut=(0,Dt.setTransform)(G):(ut=(0,Dt.setTopLeft)(G),Ct&&(ut.left=(0,Dt.perc)(G.left/B),ut.width=(0,Dt.perc)(G.width/B))),ut}},{key:"mixinDraggable",value:function(G,_t){return Xt.default.createElement(me.DraggableCore,{disabled:!_t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},G)}},{key:"mixinResizable",value:function(G,_t,Ct){var B=this.props,nt=B.cols,ut=B.x,Z=B.minW,Rt=B.minH,ie=B.maxW,U=B.maxH,V=B.transformScale,M=B.resizeHandles,E=B.resizeHandle,$=this.getPositionParams(),J=(0,lt.calcGridItemPosition)($,0,0,nt-ut,0).width,At=(0,lt.calcGridItemPosition)($,0,0,Z,Rt),ct=(0,lt.calcGridItemPosition)($,0,0,ie,U),wt=[At.width,At.height],Gt=[Math.min(ct.width,J),Math.min(ct.height,Infinity)];return Xt.default.createElement(mt.Resizable,{draggableOpts:{disabled:!Ct},className:Ct?void 0:"react-resizable-hide",width:_t.width,height:_t.height,minConstraints:wt,maxConstraints:Gt,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:V,resizeHandles:M,handle:E},G)}},{key:"onResizeHandler",value:function(G,_t,Ct){var B=_t.node,nt=_t.size,ut=this.props[Ct];if(!!ut){var Z=this.props,Rt=Z.cols,ie=Z.x,U=Z.y,V=Z.i,M=Z.maxH,E=Z.minH,$=this.props,J=$.minW,At=$.maxW,ct=(0,lt.calcWH)(this.getPositionParams(),nt.width,nt.height,ie,U),wt=ct.w,Gt=ct.h;J=Math.max(J,1),At=Math.min(At,Rt-ie),wt=(0,lt.clamp)(wt,J,At),Gt=(0,lt.clamp)(Gt,E,M),this.setState({resizing:Ct==="onResizeStop"?null:nt}),ut.call(this,V,wt,Gt,{e:G,node:B,size:nt})}}},{key:"render",value:function(){var G=this.props,_t=G.x,Ct=G.y,B=G.w,nt=G.h,ut=G.isDraggable,Z=G.isResizable,Rt=G.droppingPosition,ie=G.useCSSTransforms,U=(0,lt.calcGridItemPosition)(this.getPositionParams(),_t,Ct,B,nt,this.state),V=Xt.default.Children.only(this.props.children),M=Xt.default.cloneElement(V,{ref:this.elementRef,className:(0,te.default)("react-grid-item",V.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":ut,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(Rt),cssTransforms:ie}),style:Ft(Ft(Ft({},this.props.style),V.props.style),this.createStyle(U))});return M=this.mixinResizable(M,U,Z),M=this.mixinDraggable(M,ut),M}}]),yt}(Xt.default.Component);St.default=$t,Tt($t,"propTypes",{children:it.default.element,cols:it.default.number.isRequired,containerWidth:it.default.number.isRequired,rowHeight:it.default.number.isRequired,margin:it.default.array.isRequired,maxRows:it.default.number.isRequired,containerPadding:it.default.array.isRequired,x:it.default.number.isRequired,y:it.default.number.isRequired,w:it.default.number.isRequired,h:it.default.number.isRequired,minW:function(Q,yt){var I=Q[yt];if(typeof I!="number")return new Error("minWidth not Number");if(I>Q.w||I>Q.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(Q,yt){var I=Q[yt];if(typeof I!="number")return new Error("maxWidth not Number");if(I<Q.w||I<Q.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(Q,yt){var I=Q[yt];if(typeof I!="number")return new Error("minHeight not Number");if(I>Q.h||I>Q.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(Q,yt){var I=Q[yt];if(typeof I!="number")return new Error("maxHeight not Number");if(I<Q.h||I<Q.minH)return new Error("maxHeight smaller than item height/minHeight")},i:it.default.string.isRequired,resizeHandles:Et.resizeHandleAxesType,resizeHandle:Et.resizeHandleType,onDragStop:it.default.func,onDragStart:it.default.func,onDrag:it.default.func,onResizeStop:it.default.func,onResizeStart:it.default.func,onResize:it.default.func,isDraggable:it.default.bool.isRequired,isResizable:it.default.bool.isRequired,isBounded:it.default.bool.isRequired,static:it.default.bool,useCSSTransforms:it.default.bool.isRequired,transformScale:it.default.number,className:it.default.string,handle:it.default.string,cancel:it.default.string,droppingPosition:it.default.shape({e:it.default.object.isRequired,left:it.default.number.isRequired,top:it.default.number.isRequired})}),Tt($t,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:Infinity,maxW:Infinity,transformScale:1})},49580:function(Ke,St,K){"use strict";function H(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(M){return typeof M}:H=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},H(U)}Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var Xt=re(K(67294)),it=te(K(72307)),me=te(K(94184)),mt=K(67493),Dt=K(7373),lt=te(K(75966)),Et=te(K(92886));function te(U){return U&&U.__esModule?U:{default:U}}function qt(U){if(typeof WeakMap!="function")return null;var V=new WeakMap,M=new WeakMap;return(qt=function($){return $?M:V})(U)}function re(U,V){if(!V&&U&&U.__esModule)return U;if(U===null||H(U)!=="object"&&typeof U!="function")return{default:U};var M=qt(V);if(M&&M.has(U))return M.get(U);var E={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in U)if(J!=="default"&&Object.prototype.hasOwnProperty.call(U,J)){var At=$?Object.getOwnPropertyDescriptor(U,J):null;At&&(At.get||At.set)?Object.defineProperty(E,J,At):E[J]=U[J]}return E.default=U,M&&M.set(U,E),E}function Ft(U){return se(U)||ye(U)||Pt(U)||fe()}function fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ye(U){if(typeof Symbol!="undefined"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}function se(U){if(Array.isArray(U))return j(U)}function Yt(U,V){var M=Object.keys(U);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(U);V&&(E=E.filter(function($){return Object.getOwnPropertyDescriptor(U,$).enumerable})),M.push.apply(M,E)}return M}function Jt(U){for(var V=1;V<arguments.length;V++){var M=arguments[V]!=null?arguments[V]:{};V%2?Yt(Object(M),!0).forEach(function(E){ut(U,E,M[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(M)):Yt(Object(M)).forEach(function(E){Object.defineProperty(U,E,Object.getOwnPropertyDescriptor(M,E))})}return U}function zt(U,V){return Tt(U)||tt(U,V)||Pt(U,V)||It()}function It(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pt(U,V){if(!!U){if(typeof U=="string")return j(U,V);var M=Object.prototype.toString.call(U).slice(8,-1);if(M==="Object"&&U.constructor&&(M=U.constructor.name),M==="Map"||M==="Set")return Array.from(U);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return j(U,V)}}function j(U,V){(V==null||V>U.length)&&(V=U.length);for(var M=0,E=new Array(V);M<V;M++)E[M]=U[M];return E}function tt(U,V){var M=U==null?null:typeof Symbol!="undefined"&&U[Symbol.iterator]||U["@@iterator"];if(M!=null){var E=[],$=!0,J=!1,At,ct;try{for(M=M.call(U);!($=(At=M.next()).done)&&(E.push(At.value),!(V&&E.length===V));$=!0);}catch(wt){J=!0,ct=wt}finally{try{!$&&M.return!=null&&M.return()}finally{if(J)throw ct}}return E}}function Tt(U){if(Array.isArray(U))return U}function $t(U,V){if(!(U instanceof V))throw new TypeError("Cannot call a class as a function")}function dt(U,V){for(var M=0;M<V.length;M++){var E=V[M];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(U,E.key,E)}}function Q(U,V,M){return V&&dt(U.prototype,V),M&&dt(U,M),U}function yt(U,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(V&&V.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),V&&I(U,V)}function I(U,V){return I=Object.setPrototypeOf||function(E,$){return E.__proto__=$,E},I(U,V)}function G(U){var V=B();return function(){var E=nt(U),$;if(V){var J=nt(this).constructor;$=Reflect.construct(E,arguments,J)}else $=E.apply(this,arguments);return _t(this,$)}}function _t(U,V){if(V&&(H(V)==="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ct(U)}function Ct(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function B(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(U){return!1}}function nt(U){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},nt(U)}function ut(U,V,M){return V in U?Object.defineProperty(U,V,{value:M,enumerable:!0,configurable:!0,writable:!0}):U[V]=M,U}var Z="react-grid-layout",Rt=!1;try{Rt=/firefox/i.test(navigator.userAgent)}catch(U){}var ie=function(U){yt(M,U);var V=G(M);function M(){var E;$t(this,M);for(var $=arguments.length,J=new Array($),At=0;At<$;At++)J[At]=arguments[At];return E=V.call.apply(V,[this].concat(J)),ut(Ct(E),"state",{activeDrag:null,layout:(0,mt.synchronizeLayoutWithChildren)(E.props.layout,E.props.children,E.props.cols,(0,mt.compactType)(E.props),E.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),ut(Ct(E),"dragEnterCounter",0),ut(Ct(E),"onDragStart",function(ct,wt,Gt,Ht){var Ot=Ht.e,Qe=Ht.node,sn=E.state.layout,He=(0,mt.getLayoutItem)(sn,ct);if(!!He)return E.setState({oldDragItem:(0,mt.cloneLayoutItem)(He),oldLayout:E.state.layout}),E.props.onDragStart(sn,He,He,null,Ot,Qe)}),ut(Ct(E),"onDrag",function(ct,wt,Gt,Ht){var Ot=Ht.e,Qe=Ht.node,sn=E.state.oldDragItem,He=E.state.layout,rn=E.props,xn=rn.cols,En=rn.allowOverlap,Re=(0,mt.getLayoutItem)(He,ct);if(!!Re){var zn={w:Re.w,h:Re.h,x:Re.x,y:Re.y,placeholder:!0,i:ct},wn=!0;He=(0,mt.moveElement)(He,Re,wt,Gt,wn,E.props.preventCollision,(0,mt.compactType)(E.props),xn,En),E.props.onDrag(He,sn,Re,zn,Ot,Qe),E.setState({layout:En?He:(0,mt.compact)(He,(0,mt.compactType)(E.props),xn),activeDrag:zn})}}),ut(Ct(E),"onDragStop",function(ct,wt,Gt,Ht){var Ot=Ht.e,Qe=Ht.node;if(!!E.state.activeDrag){var sn=E.state.oldDragItem,He=E.state.layout,rn=E.props,xn=rn.cols,En=rn.preventCollision,Re=rn.allowOverlap,zn=(0,mt.getLayoutItem)(He,ct);if(!!zn){var wn=!0;He=(0,mt.moveElement)(He,zn,wt,Gt,wn,En,(0,mt.compactType)(E.props),xn,Re),E.props.onDragStop(He,sn,zn,null,Ot,Qe);var pn=Re?He:(0,mt.compact)(He,(0,mt.compactType)(E.props),xn),Gn=E.state.oldLayout;E.setState({activeDrag:null,layout:pn,oldDragItem:null,oldLayout:null}),E.onLayoutMaybeChanged(pn,Gn)}}}),ut(Ct(E),"onResizeStart",function(ct,wt,Gt,Ht){var Ot=Ht.e,Qe=Ht.node,sn=E.state.layout,He=(0,mt.getLayoutItem)(sn,ct);!He||(E.setState({oldResizeItem:(0,mt.cloneLayoutItem)(He),oldLayout:E.state.layout}),E.props.onResizeStart(sn,He,He,null,Ot,Qe))}),ut(Ct(E),"onResize",function(ct,wt,Gt,Ht){var Ot=Ht.e,Qe=Ht.node,sn=E.state,He=sn.layout,rn=sn.oldResizeItem,xn=E.props,En=xn.cols,Re=xn.preventCollision,zn=xn.allowOverlap,wn=(0,mt.withLayoutItem)(He,ct,function(Hn){var ir;if(Re&&!zn){var jn=(0,mt.getAllCollisions)(He,Jt(Jt({},Hn),{},{w:wt,h:Gt})).filter(function(_r){return _r.i!==Hn.i});if(ir=jn.length>0,ir){var pr=Infinity,Rr=Infinity;jn.forEach(function(_r){_r.x>Hn.x&&(pr=Math.min(pr,_r.x)),_r.y>Hn.y&&(Rr=Math.min(Rr,_r.y))}),Number.isFinite(pr)&&(Hn.w=pr-Hn.x),Number.isFinite(Rr)&&(Hn.h=Rr-Hn.y)}}return ir||(Hn.w=wt,Hn.h=Gt),Hn}),pn=zt(wn,2),Gn=pn[0],Rn=pn[1];if(!!Rn){var Un={w:Rn.w,h:Rn.h,x:Rn.x,y:Rn.y,static:!0,i:ct};E.props.onResize(Gn,rn,Rn,Un,Ot,Qe),E.setState({layout:zn?Gn:(0,mt.compact)(Gn,(0,mt.compactType)(E.props),En),activeDrag:Un})}}),ut(Ct(E),"onResizeStop",function(ct,wt,Gt,Ht){var Ot=Ht.e,Qe=Ht.node,sn=E.state,He=sn.layout,rn=sn.oldResizeItem,xn=E.props,En=xn.cols,Re=xn.allowOverlap,zn=(0,mt.getLayoutItem)(He,ct);E.props.onResizeStop(He,rn,zn,null,Ot,Qe);var wn=Re?He:(0,mt.compact)(He,(0,mt.compactType)(E.props),En),pn=E.state.oldLayout;E.setState({activeDrag:null,layout:wn,oldResizeItem:null,oldLayout:null}),E.onLayoutMaybeChanged(wn,pn)}),ut(Ct(E),"onDragOver",function(ct){var wt;if(ct.preventDefault(),ct.stopPropagation(),Rt&&!((wt=ct.nativeEvent.target)!==null&&wt!==void 0&&wt.classList.contains(Z)))return!1;var Gt=E.props,Ht=Gt.droppingItem,Ot=Gt.onDropDragOver,Qe=Gt.margin,sn=Gt.cols,He=Gt.rowHeight,rn=Gt.maxRows,xn=Gt.width,En=Gt.containerPadding,Re=Gt.transformScale,zn=Ot==null?void 0:Ot(ct);if(zn===!1)return E.state.droppingDOMNode&&E.removeDroppingPlaceholder(),!1;var wn=Jt(Jt({},Ht),zn),pn=E.state.layout,Gn=ct.nativeEvent,Rn=Gn.layerX,Un=Gn.layerY,Hn={left:Rn/Re,top:Un/Re,e:ct};if(E.state.droppingDOMNode){if(E.state.droppingPosition){var pr=E.state.droppingPosition,Rr=pr.left,_r=pr.top,ra=Rr!=Rn||_r!=Un;ra&&E.setState({droppingPosition:Hn})}}else{var ir={cols:sn,margin:Qe,maxRows:rn,rowHeight:He,containerWidth:xn,containerPadding:En||Qe},jn=(0,Dt.calcXY)(ir,Un,Rn,wn.w,wn.h);E.setState({droppingDOMNode:Xt.createElement("div",{key:wn.i}),droppingPosition:Hn,layout:[].concat(Ft(pn),[Jt(Jt({},wn),{},{x:jn.x,y:jn.y,static:!1,isDraggable:!0})])})}}),ut(Ct(E),"removeDroppingPlaceholder",function(){var ct=E.props,wt=ct.droppingItem,Gt=ct.cols,Ht=E.state.layout,Ot=(0,mt.compact)(Ht.filter(function(Qe){return Qe.i!==wt.i}),(0,mt.compactType)(E.props),Gt);E.setState({layout:Ot,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),ut(Ct(E),"onDragLeave",function(ct){ct.preventDefault(),E.dragEnterCounter--,E.dragEnterCounter===0&&E.removeDroppingPlaceholder()}),ut(Ct(E),"onDragEnter",function(ct){ct.preventDefault(),E.dragEnterCounter++}),ut(Ct(E),"onDrop",function(ct){ct.preventDefault();var wt=E.props.droppingItem,Gt=E.state.layout,Ht=Gt.find(function(Ot){return Ot.i===wt.i});E.dragEnterCounter=0,E.removeDroppingPlaceholder(),E.props.onDrop(Gt,Ht,ct)}),E}return Q(M,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function($,J){return this.props.children!==$.children||!(0,mt.fastRGLPropsEqual)(this.props,$,it.default)||this.state.activeDrag!==J.activeDrag||this.state.mounted!==J.mounted||this.state.droppingPosition!==J.droppingPosition}},{key:"componentDidUpdate",value:function($,J){if(!this.state.activeDrag){var At=this.state.layout,ct=J.layout;this.onLayoutMaybeChanged(At,ct)}}},{key:"containerHeight",value:function(){if(!!this.props.autoSize){var $=(0,mt.bottom)(this.state.layout),J=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return $*this.props.rowHeight+($-1)*this.props.margin[1]+J*2+"px"}}},{key:"onLayoutMaybeChanged",value:function($,J){J||(J=this.state.layout),(0,it.default)(J,$)||this.props.onLayoutChange($)}},{key:"placeholder",value:function(){var $=this.state.activeDrag;if(!$)return null;var J=this.props,At=J.width,ct=J.cols,wt=J.margin,Gt=J.containerPadding,Ht=J.rowHeight,Ot=J.maxRows,Qe=J.useCSSTransforms,sn=J.transformScale;return Xt.createElement(lt.default,{w:$.w,h:$.h,x:$.x,y:$.y,i:$.i,className:"react-grid-placeholder",containerWidth:At,cols:ct,margin:wt,containerPadding:Gt||wt,maxRows:Ot,rowHeight:Ht,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:Qe,transformScale:sn},Xt.createElement("div",null))}},{key:"processGridItem",value:function($,J){if(!(!$||!$.key)){var At=(0,mt.getLayoutItem)(this.state.layout,String($.key));if(!At)return null;var ct=this.props,wt=ct.width,Gt=ct.cols,Ht=ct.margin,Ot=ct.containerPadding,Qe=ct.rowHeight,sn=ct.maxRows,He=ct.isDraggable,rn=ct.isResizable,xn=ct.isBounded,En=ct.useCSSTransforms,Re=ct.transformScale,zn=ct.draggableCancel,wn=ct.draggableHandle,pn=ct.resizeHandles,Gn=ct.resizeHandle,Rn=this.state,Un=Rn.mounted,Hn=Rn.droppingPosition,ir=typeof At.isDraggable=="boolean"?At.isDraggable:!At.static&&He,jn=typeof At.isResizable=="boolean"?At.isResizable:!At.static&&rn,pr=At.resizeHandles||pn,Rr=ir&&xn&&At.isBounded!==!1;return Xt.createElement(lt.default,{containerWidth:wt,cols:Gt,margin:Ht,containerPadding:Ot||Ht,maxRows:sn,rowHeight:Qe,cancel:zn,handle:wn,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:ir,isResizable:jn,isBounded:Rr,useCSSTransforms:En&&Un,usePercentages:!Un,transformScale:Re,w:At.w,h:At.h,x:At.x,y:At.y,i:At.i,minH:At.minH,minW:At.minW,maxH:At.maxH,maxW:At.maxW,static:At.static,droppingPosition:J?Hn:void 0,resizeHandles:pr,resizeHandle:Gn},$)}}},{key:"render",value:function(){var $=this,J=this.props,At=J.className,ct=J.style,wt=J.isDroppable,Gt=J.innerRef,Ht=(0,me.default)(Z,At),Ot=Jt({height:this.containerHeight()},ct);return Xt.createElement("div",{ref:Gt,className:Ht,style:Ot,onDrop:wt?this.onDrop:mt.noop,onDragLeave:wt?this.onDragLeave:mt.noop,onDragEnter:wt?this.onDragEnter:mt.noop,onDragOver:wt?this.onDragOver:mt.noop},Xt.Children.map(this.props.children,function(Qe){return $.processGridItem(Qe)}),wt&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}],[{key:"getDerivedStateFromProps",value:function($,J){var At;if(J.activeDrag)return null;if(!(0,it.default)($.layout,J.propsLayout)||$.compactType!==J.compactType?At=$.layout:(0,mt.childrenEqual)($.children,J.children)||(At=J.layout),At){var ct=(0,mt.synchronizeLayoutWithChildren)(At,$.children,$.cols,(0,mt.compactType)($),$.allowOverlap);return{layout:ct,compactType:$.compactType,children:$.children,propsLayout:$.layout}}return null}}]),M}(Xt.Component);St.default=ie,ut(ie,"displayName","ReactGridLayout"),ut(ie,"propTypes",Et.default),ut(ie,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:Infinity,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:mt.noop,onDragStart:mt.noop,onDrag:mt.noop,onDragStop:mt.noop,onResizeStart:mt.noop,onResize:mt.noop,onResizeStop:mt.noop,onDrop:mt.noop,onDropDragOver:mt.noop})},92886:function(Ke,St,K){"use strict";Object.defineProperty(St,"__esModule",{value:!0}),St.default=St.resizeHandleType=St.resizeHandleAxesType=void 0;var H=it(K(45697)),Xt=it(K(67294));function it(lt){return lt&&lt.__esModule?lt:{default:lt}}var me=H.default.arrayOf(H.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));St.resizeHandleAxesType=me;var mt=H.default.oneOfType([H.default.node,H.default.func]);St.resizeHandleType=mt;var Dt={className:H.default.string,style:H.default.object,width:H.default.number,autoSize:H.default.bool,cols:H.default.number,draggableCancel:H.default.string,draggableHandle:H.default.string,verticalCompact:function(Et){Et.verticalCompact},compactType:H.default.oneOf(["vertical","horizontal"]),layout:function(Et){var te=Et.layout;te!==void 0&&K(67493).validateLayout(te,"layout")},margin:H.default.arrayOf(H.default.number),containerPadding:H.default.arrayOf(H.default.number),rowHeight:H.default.number,maxRows:H.default.number,isBounded:H.default.bool,isDraggable:H.default.bool,isResizable:H.default.bool,allowOverlap:H.default.bool,preventCollision:H.default.bool,useCSSTransforms:H.default.bool,transformScale:H.default.number,isDroppable:H.default.bool,resizeHandles:me,resizeHandle:mt,onLayoutChange:H.default.func,onDragStart:H.default.func,onDrag:H.default.func,onDragStop:H.default.func,onResizeStart:H.default.func,onResize:H.default.func,onResizeStop:H.default.func,onDrop:H.default.func,droppingItem:H.default.shape({i:H.default.string.isRequired,w:H.default.number.isRequired,h:H.default.number.isRequired}),children:function(Et,te){var qt=Et[te],re={};Xt.default.Children.forEach(qt,function(Ft){if((Ft==null?void 0:Ft.key)!=null){if(re[Ft.key])throw new Error('Duplicate child key "'+Ft.key+'" found! This will cause problems in ReactGridLayout.');re[Ft.key]=!0}})},innerRef:H.default.any};St.default=Dt},65966:function(Ke,St,K){"use strict";var H;function Xt(B){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xt=function(ut){return typeof ut}:Xt=function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut},Xt(B)}H={value:!0},St.default=void 0;var it=Ft(K(67294)),me=qt(K(45697)),mt=qt(K(72307)),Dt=K(67493),lt=K(5651),Et=qt(K(49580)),te=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function qt(B){return B&&B.__esModule?B:{default:B}}function re(B){if(typeof WeakMap!="function")return null;var nt=new WeakMap,ut=new WeakMap;return(re=function(Rt){return Rt?ut:nt})(B)}function Ft(B,nt){if(!nt&&B&&B.__esModule)return B;if(B===null||Xt(B)!=="object"&&typeof B!="function")return{default:B};var ut=re(nt);if(ut&&ut.has(B))return ut.get(B);var Z={},Rt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ie in B)if(ie!=="default"&&Object.prototype.hasOwnProperty.call(B,ie)){var U=Rt?Object.getOwnPropertyDescriptor(B,ie):null;U&&(U.get||U.set)?Object.defineProperty(Z,ie,U):Z[ie]=B[ie]}return Z.default=B,ut&&ut.set(B,Z),Z}function fe(){return fe=Object.assign||function(B){for(var nt=1;nt<arguments.length;nt++){var ut=arguments[nt];for(var Z in ut)Object.prototype.hasOwnProperty.call(ut,Z)&&(B[Z]=ut[Z])}return B},fe.apply(this,arguments)}function ye(B,nt){if(B==null)return{};var ut=se(B,nt),Z,Rt;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(B);for(Rt=0;Rt<ie.length;Rt++)Z=ie[Rt],!(nt.indexOf(Z)>=0)&&(!Object.prototype.propertyIsEnumerable.call(B,Z)||(ut[Z]=B[Z]))}return ut}function se(B,nt){if(B==null)return{};var ut={},Z=Object.keys(B),Rt,ie;for(ie=0;ie<Z.length;ie++)Rt=Z[ie],!(nt.indexOf(Rt)>=0)&&(ut[Rt]=B[Rt]);return ut}function Yt(B,nt){var ut=Object.keys(B);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(B);nt&&(Z=Z.filter(function(Rt){return Object.getOwnPropertyDescriptor(B,Rt).enumerable})),ut.push.apply(ut,Z)}return ut}function Jt(B){for(var nt=1;nt<arguments.length;nt++){var ut=arguments[nt]!=null?arguments[nt]:{};nt%2?Yt(Object(ut),!0).forEach(function(Z){I(B,Z,ut[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(ut)):Yt(Object(ut)).forEach(function(Z){Object.defineProperty(B,Z,Object.getOwnPropertyDescriptor(ut,Z))})}return B}function zt(B,nt){if(!(B instanceof nt))throw new TypeError("Cannot call a class as a function")}function It(B,nt){for(var ut=0;ut<nt.length;ut++){var Z=nt[ut];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(B,Z.key,Z)}}function Pt(B,nt,ut){return nt&&It(B.prototype,nt),ut&&It(B,ut),B}function j(B,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(nt&&nt.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),nt&&tt(B,nt)}function tt(B,nt){return tt=Object.setPrototypeOf||function(Z,Rt){return Z.__proto__=Rt,Z},tt(B,nt)}function Tt(B){var nt=Q();return function(){var Z=yt(B),Rt;if(nt){var ie=yt(this).constructor;Rt=Reflect.construct(Z,arguments,ie)}else Rt=Z.apply(this,arguments);return $t(this,Rt)}}function $t(B,nt){if(nt&&(Xt(nt)==="object"||typeof nt=="function"))return nt;if(nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dt(B)}function dt(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function Q(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(B){return!1}}function yt(B){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},yt(B)}function I(B,nt,ut){return nt in B?Object.defineProperty(B,nt,{value:ut,enumerable:!0,configurable:!0,writable:!0}):B[nt]=ut,B}var G=function(nt){return Object.prototype.toString.call(nt)};function _t(B,nt){return B==null?null:Array.isArray(B)?B:B[nt]}var Ct=function(B){j(ut,B);var nt=Tt(ut);function ut(){var Z;zt(this,ut);for(var Rt=arguments.length,ie=new Array(Rt),U=0;U<Rt;U++)ie[U]=arguments[U];return Z=nt.call.apply(nt,[this].concat(ie)),I(dt(Z),"state",Z.generateInitialState()),I(dt(Z),"onLayoutChange",function(V){Z.props.onLayoutChange(V,Jt(Jt({},Z.props.layouts),{},I({},Z.state.breakpoint,V)))}),Z}return Pt(ut,[{key:"generateInitialState",value:function(){var Rt=this.props,ie=Rt.width,U=Rt.breakpoints,V=Rt.layouts,M=Rt.cols,E=(0,lt.getBreakpointFromWidth)(U,ie),$=(0,lt.getColsFromBreakpoint)(E,M),J=this.props.verticalCompact===!1?null:this.props.compactType,At=(0,lt.findOrGenerateResponsiveLayout)(V,U,E,E,$,J);return{layout:At,breakpoint:E,cols:$}}},{key:"componentDidUpdate",value:function(Rt){(this.props.width!=Rt.width||this.props.breakpoint!==Rt.breakpoint||!(0,mt.default)(this.props.breakpoints,Rt.breakpoints)||!(0,mt.default)(this.props.cols,Rt.cols))&&this.onWidthChange(Rt)}},{key:"onWidthChange",value:function(Rt){var ie=this.props,U=ie.breakpoints,V=ie.cols,M=ie.layouts,E=ie.compactType,$=this.props.breakpoint||(0,lt.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),J=this.state.breakpoint,At=(0,lt.getColsFromBreakpoint)($,V),ct=Jt({},M);if(J!==$||Rt.breakpoints!==U||Rt.cols!==V){J in ct||(ct[J]=(0,Dt.cloneLayout)(this.state.layout));var wt=(0,lt.findOrGenerateResponsiveLayout)(ct,U,$,J,At,E);wt=(0,Dt.synchronizeLayoutWithChildren)(wt,this.props.children,At,E,this.props.allowOverlap),ct[$]=wt,this.props.onLayoutChange(wt,ct),this.props.onBreakpointChange($,At),this.setState({breakpoint:$,layout:wt,cols:At})}var Gt=_t(this.props.margin,$),Ht=_t(this.props.containerPadding,$);this.props.onWidthChange(this.props.width,Gt,At,Ht)}},{key:"render",value:function(){var Rt=this.props,ie=Rt.breakpoint,U=Rt.breakpoints,V=Rt.cols,M=Rt.layouts,E=Rt.margin,$=Rt.containerPadding,J=Rt.onBreakpointChange,At=Rt.onLayoutChange,ct=Rt.onWidthChange,wt=ye(Rt,te);return it.createElement(Et.default,fe({},wt,{margin:_t(E,this.state.breakpoint),containerPadding:_t($,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}],[{key:"getDerivedStateFromProps",value:function(Rt,ie){if(!(0,mt.default)(Rt.layouts,ie.layouts)){var U=ie.breakpoint,V=ie.cols,M=(0,lt.findOrGenerateResponsiveLayout)(Rt.layouts,Rt.breakpoints,U,U,V,Rt.compactType);return{layout:M,layouts:Rt.layouts}}return null}}]),ut}(it.Component);St.default=Ct,I(Ct,"propTypes",{breakpoint:me.default.string,breakpoints:me.default.object,allowOverlap:me.default.bool,cols:me.default.object,margin:me.default.oneOfType([me.default.array,me.default.object]),containerPadding:me.default.oneOfType([me.default.array,me.default.object]),layouts:function(nt,ut){if(G(nt[ut])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+G(nt[ut]));Object.keys(nt[ut]).forEach(function(Z){if(!(Z in nt.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Dt.validateLayout)(nt.layouts[Z],"layouts."+Z)})},width:me.default.number.isRequired,onBreakpointChange:me.default.func,onLayoutChange:me.default.func,onWidthChange:me.default.func}),I(Ct,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Dt.noop,onLayoutChange:Dt.noop,onWidthChange:Dt.noop})},7373:function(Ke,St){"use strict";Object.defineProperty(St,"__esModule",{value:!0}),St.calcGridColWidth=K,St.calcGridItemWHPx=H,St.calcGridItemPosition=Xt,St.calcXY=it,St.calcWH=me,St.clamp=mt;function K(Dt){var lt=Dt.margin,Et=Dt.containerPadding,te=Dt.containerWidth,qt=Dt.cols;return(te-lt[0]*(qt-1)-Et[0]*2)/qt}function H(Dt,lt,Et){return Number.isFinite(Dt)?Math.round(lt*Dt+Math.max(0,Dt-1)*Et):Dt}function Xt(Dt,lt,Et,te,qt,re){var Ft=Dt.margin,fe=Dt.containerPadding,ye=Dt.rowHeight,se=K(Dt),Yt={};return re&&re.resizing?(Yt.width=Math.round(re.resizing.width),Yt.height=Math.round(re.resizing.height)):(Yt.width=H(te,se,Ft[0]),Yt.height=H(qt,ye,Ft[1])),re&&re.dragging?(Yt.top=Math.round(re.dragging.top),Yt.left=Math.round(re.dragging.left)):(Yt.top=Math.round((ye+Ft[1])*Et+fe[1]),Yt.left=Math.round((se+Ft[0])*lt+fe[0])),Yt}function it(Dt,lt,Et,te,qt){var re=Dt.margin,Ft=Dt.cols,fe=Dt.rowHeight,ye=Dt.maxRows,se=K(Dt),Yt=Math.round((Et-re[0])/(se+re[0])),Jt=Math.round((lt-re[1])/(fe+re[1]));return Yt=mt(Yt,0,Ft-te),Jt=mt(Jt,0,ye-qt),{x:Yt,y:Jt}}function me(Dt,lt,Et,te,qt){var re=Dt.margin,Ft=Dt.maxRows,fe=Dt.cols,ye=Dt.rowHeight,se=K(Dt),Yt=Math.round((lt+re[0])/(se+re[0])),Jt=Math.round((Et+re[1])/(ye+re[1]));return Yt=mt(Yt,0,fe-te),Jt=mt(Jt,0,Ft-qt),{w:Yt,h:Jt}}function mt(Dt,lt,Et){return Math.max(Math.min(Dt,Et),lt)}},27135:function(Ke,St,K){"use strict";var H;function Xt(Q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xt=function(I){return typeof I}:Xt=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},Xt(Q)}H={value:!0},St.default=dt;var it=te(K(67294)),me=lt(K(45697)),mt=lt(K(94184)),Dt=["measureBeforeMount"];function lt(Q){return Q&&Q.__esModule?Q:{default:Q}}function Et(Q){if(typeof WeakMap!="function")return null;var yt=new WeakMap,I=new WeakMap;return(Et=function(_t){return _t?I:yt})(Q)}function te(Q,yt){if(!yt&&Q&&Q.__esModule)return Q;if(Q===null||Xt(Q)!=="object"&&typeof Q!="function")return{default:Q};var I=Et(yt);if(I&&I.has(Q))return I.get(Q);var G={},_t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ct in Q)if(Ct!=="default"&&Object.prototype.hasOwnProperty.call(Q,Ct)){var B=_t?Object.getOwnPropertyDescriptor(Q,Ct):null;B&&(B.get||B.set)?Object.defineProperty(G,Ct,B):G[Ct]=Q[Ct]}return G.default=Q,I&&I.set(Q,G),G}function qt(){return qt=Object.assign||function(Q){for(var yt=1;yt<arguments.length;yt++){var I=arguments[yt];for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&(Q[G]=I[G])}return Q},qt.apply(this,arguments)}function re(Q,yt){if(Q==null)return{};var I=Ft(Q,yt),G,_t;if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(Q);for(_t=0;_t<Ct.length;_t++)G=Ct[_t],!(yt.indexOf(G)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Q,G)||(I[G]=Q[G]))}return I}function Ft(Q,yt){if(Q==null)return{};var I={},G=Object.keys(Q),_t,Ct;for(Ct=0;Ct<G.length;Ct++)_t=G[Ct],!(yt.indexOf(_t)>=0)&&(I[_t]=Q[_t]);return I}function fe(Q,yt){if(!(Q instanceof yt))throw new TypeError("Cannot call a class as a function")}function ye(Q,yt){for(var I=0;I<yt.length;I++){var G=yt[I];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(Q,G.key,G)}}function se(Q,yt,I){return yt&&ye(Q.prototype,yt),I&&ye(Q,I),Q}function Yt(Q,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(yt&&yt.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),yt&&Jt(Q,yt)}function Jt(Q,yt){return Jt=Object.setPrototypeOf||function(G,_t){return G.__proto__=_t,G},Jt(Q,yt)}function zt(Q){var yt=j();return function(){var G=tt(Q),_t;if(yt){var Ct=tt(this).constructor;_t=Reflect.construct(G,arguments,Ct)}else _t=G.apply(this,arguments);return It(this,_t)}}function It(Q,yt){if(yt&&(Xt(yt)==="object"||typeof yt=="function"))return yt;if(yt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pt(Q)}function Pt(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function j(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Q){return!1}}function tt(Q){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},tt(Q)}function Tt(Q,yt,I){return yt in Q?Object.defineProperty(Q,yt,{value:I,enumerable:!0,configurable:!0,writable:!0}):Q[yt]=I,Q}var $t="react-grid-layout";function dt(Q){var yt,I;return I=yt=function(G){Yt(Ct,G);var _t=zt(Ct);function Ct(){var B;fe(this,Ct);for(var nt=arguments.length,ut=new Array(nt),Z=0;Z<nt;Z++)ut[Z]=arguments[Z];return B=_t.call.apply(_t,[this].concat(ut)),Tt(Pt(B),"state",{width:1280}),Tt(Pt(B),"elementRef",it.createRef()),Tt(Pt(B),"mounted",!1),Tt(Pt(B),"onWindowResize",function(){if(!!B.mounted){var Rt=B.elementRef.current;Rt instanceof HTMLElement&&Rt.offsetWidth&&B.setState({width:Rt.offsetWidth})}}),B}return se(Ct,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var nt=this.props,ut=nt.measureBeforeMount,Z=re(nt,Dt);return ut&&!this.mounted?it.createElement("div",{className:(0,mt.default)(this.props.className,$t),style:this.props.style,ref:this.elementRef}):it.createElement(Q,qt({innerRef:this.elementRef},Z,this.state))}}]),Ct}(it.Component),Tt(yt,"defaultProps",{measureBeforeMount:!1}),Tt(yt,"propTypes",{measureBeforeMount:me.default.bool}),I}},31362:function(Ke){Ke.exports=function(K,H,Xt){return K===H?!0:K.className===H.className&&Xt(K.style,H.style)&&K.width===H.width&&K.autoSize===H.autoSize&&K.cols===H.cols&&K.draggableCancel===H.draggableCancel&&K.draggableHandle===H.draggableHandle&&Xt(K.verticalCompact,H.verticalCompact)&&Xt(K.compactType,H.compactType)&&Xt(K.layout,H.layout)&&Xt(K.margin,H.margin)&&Xt(K.containerPadding,H.containerPadding)&&K.rowHeight===H.rowHeight&&K.maxRows===H.maxRows&&K.isBounded===H.isBounded&&K.isDraggable===H.isDraggable&&K.isResizable===H.isResizable&&K.allowOverlap===H.allowOverlap&&K.preventCollision===H.preventCollision&&K.useCSSTransforms===H.useCSSTransforms&&K.transformScale===H.transformScale&&K.isDroppable===H.isDroppable&&Xt(K.resizeHandles,H.resizeHandles)&&Xt(K.resizeHandle,H.resizeHandle)&&K.onLayoutChange===H.onLayoutChange&&K.onDragStart===H.onDragStart&&K.onDrag===H.onDrag&&K.onDragStop===H.onDragStop&&K.onResizeStart===H.onResizeStart&&K.onResize===H.onResize&&K.onResizeStop===H.onResizeStop&&K.onDrop===H.onDrop&&Xt(K.droppingItem,H.droppingItem)&&Xt(K.innerRef,H.innerRef)}},5651:function(Ke,St,K){"use strict";Object.defineProperty(St,"__esModule",{value:!0}),St.getBreakpointFromWidth=Xt,St.getColsFromBreakpoint=it,St.findOrGenerateResponsiveLayout=me,St.sortBreakpoints=mt;var H=K(67493);function Xt(Dt,lt){for(var Et=mt(Dt),te=Et[0],qt=1,re=Et.length;qt<re;qt++){var Ft=Et[qt];lt>Dt[Ft]&&(te=Ft)}return te}function it(Dt,lt){if(!lt[Dt])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+Dt+" is missing!");return lt[Dt]}function me(Dt,lt,Et,te,qt,re){if(Dt[Et])return(0,H.cloneLayout)(Dt[Et]);for(var Ft=Dt[te],fe=mt(lt),ye=fe.slice(fe.indexOf(Et)),se=0,Yt=ye.length;se<Yt;se++){var Jt=ye[se];if(Dt[Jt]){Ft=Dt[Jt];break}}return Ft=(0,H.cloneLayout)(Ft||[]),(0,H.compact)((0,H.correctBounds)(Ft,{cols:qt}),re,qt)}function mt(Dt){var lt=Object.keys(Dt);return lt.sort(function(Et,te){return Dt[Et]-Dt[te]})}},67493:function(Ke,St,K){"use strict";Object.defineProperty(St,"__esModule",{value:!0}),St.bottom=te,St.cloneLayout=qt,St.modifyLayout=re,St.withLayoutItem=Ft,St.cloneLayoutItem=fe,St.childrenEqual=ye,St.fastPositionEqual=Yt,St.collides=Jt,St.compact=zt,St.compactItem=j,St.correctBounds=tt,St.getLayoutItem=Tt,St.getFirstCollision=$t,St.getAllCollisions=dt,St.getStatics=Q,St.moveElement=yt,St.moveElementAwayFromCollision=I,St.perc=G,St.setTransform=_t,St.setTopLeft=Ct,St.sortLayoutItems=B,St.sortLayoutItemsByRowCol=nt,St.sortLayoutItemsByColRow=ut,St.synchronizeLayoutWithChildren=Z,St.validateLayout=Rt,St.compactType=ie,St.noop=St.fastRGLPropsEqual=void 0;var H=it(K(72307)),Xt=it(K(67294));function it(M){return M&&M.__esModule?M:{default:M}}function me(M,E){var $=Object.keys(M);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(M);E&&(J=J.filter(function(At){return Object.getOwnPropertyDescriptor(M,At).enumerable})),$.push.apply($,J)}return $}function mt(M){for(var E=1;E<arguments.length;E++){var $=arguments[E]!=null?arguments[E]:{};E%2?me(Object($),!0).forEach(function(J){Dt(M,J,$[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors($)):me(Object($)).forEach(function(J){Object.defineProperty(M,J,Object.getOwnPropertyDescriptor($,J))})}return M}function Dt(M,E,$){return E in M?Object.defineProperty(M,E,{value:$,enumerable:!0,configurable:!0,writable:!0}):M[E]=$,M}var lt=!0,Et=!1;function te(M){for(var E=0,$,J=0,At=M.length;J<At;J++)$=M[J].y+M[J].h,$>E&&(E=$);return E}function qt(M){for(var E=Array(M.length),$=0,J=M.length;$<J;$++)E[$]=fe(M[$]);return E}function re(M,E){for(var $=Array(M.length),J=0,At=M.length;J<At;J++)E.i===M[J].i?$[J]=E:$[J]=M[J];return $}function Ft(M,E,$){var J=Tt(M,E);return J?(J=$(fe(J)),M=re(M,J),[M,J]):[M,null]}function fe(M){return{w:M.w,h:M.h,x:M.x,y:M.y,i:M.i,minW:M.minW,maxW:M.maxW,minH:M.minH,maxH:M.maxH,moved:Boolean(M.moved),static:Boolean(M.static),isDraggable:M.isDraggable,isResizable:M.isResizable,resizeHandles:M.resizeHandles,isBounded:M.isBounded}}function ye(M,E){return(0,H.default)(Xt.default.Children.map(M,function($){return $==null?void 0:$.key}),Xt.default.Children.map(E,function($){return $==null?void 0:$.key}))}var se=K(31362);St.fastRGLPropsEqual=se;function Yt(M,E){return M.left===E.left&&M.top===E.top&&M.width===E.width&&M.height===E.height}function Jt(M,E){return!(M.i===E.i||M.x+M.w<=E.x||M.x>=E.x+E.w||M.y+M.h<=E.y||M.y>=E.y+E.h)}function zt(M,E,$){for(var J=Q(M),At=B(M,E),ct=Array(M.length),wt=0,Gt=At.length;wt<Gt;wt++){var Ht=fe(At[wt]);Ht.static||(Ht=j(J,Ht,E,$,At),J.push(Ht)),ct[M.indexOf(At[wt])]=Ht,Ht.moved=!1}return ct}var It={x:"w",y:"h"};function Pt(M,E,$,J){var At=It[J];E[J]+=1;for(var ct=M.map(function(Ht){return Ht.i}).indexOf(E.i),wt=ct+1;wt<M.length;wt++){var Gt=M[wt];if(!Gt.static){if(Gt.y>E.y+E.h)break;Jt(E,Gt)&&Pt(M,Gt,$+E[At],J)}}E[J]=$}function j(M,E,$,J,At){var ct=$==="vertical",wt=$==="horizontal";if(ct)for(E.y=Math.min(te(M),E.y);E.y>0&&!$t(M,E);)E.y--;else if(wt)for(;E.x>0&&!$t(M,E);)E.x--;for(var Gt;Gt=$t(M,E);)wt?Pt(At,E,Gt.x+Gt.w,"x"):Pt(At,E,Gt.y+Gt.h,"y"),wt&&E.x+E.w>J&&(E.x=J-E.w,E.y++);return E.y=Math.max(E.y,0),E.x=Math.max(E.x,0),E}function tt(M,E){for(var $=Q(M),J=0,At=M.length;J<At;J++){var ct=M[J];if(ct.x+ct.w>E.cols&&(ct.x=E.cols-ct.w),ct.x<0&&(ct.x=0,ct.w=E.cols),!ct.static)$.push(ct);else for(;$t($,ct);)ct.y++}return M}function Tt(M,E){for(var $=0,J=M.length;$<J;$++)if(M[$].i===E)return M[$]}function $t(M,E){for(var $=0,J=M.length;$<J;$++)if(Jt(M[$],E))return M[$]}function dt(M,E){return M.filter(function($){return Jt($,E)})}function Q(M){return M.filter(function(E){return E.static})}function yt(M,E,$,J,At,ct,wt,Gt,Ht){if(E.static&&E.isDraggable!==!0||E.y===J&&E.x===$)return M;U("Moving element ".concat(E.i," to [").concat(String($),",").concat(String(J),"] from [").concat(E.x,",").concat(E.y,"]"));var Ot=E.x,Qe=E.y;typeof $=="number"&&(E.x=$),typeof J=="number"&&(E.y=J),E.moved=!0;var sn=B(M,wt),He=wt==="vertical"&&typeof J=="number"?Qe>=J:wt==="horizontal"&&typeof $=="number"?Ot>=$:!1;He&&(sn=sn.reverse());var rn=dt(sn,E);if(ct&&rn.length)return Ht||(U("Collision prevented on ".concat(E.i,", reverting.")),E.x=Ot,E.y=Qe,E.moved=!1),M;for(var xn=0,En=rn.length;xn<En;xn++){var Re=rn[xn];U("Resolving collision between ".concat(E.i," at [").concat(E.x,",").concat(E.y,"] and ").concat(Re.i," at [").concat(Re.x,",").concat(Re.y,"]")),!Re.moved&&(Re.static?M=I(M,Re,E,At,wt,Gt):M=I(M,E,Re,At,wt,Gt))}return M}function I(M,E,$,J,At,ct){var wt=At==="horizontal",Gt=At!=="horizontal",Ht=E.static;if(J){J=!1;var Ot={x:wt?Math.max(E.x-$.w,0):$.x,y:Gt?Math.max(E.y-$.h,0):$.y,w:$.w,h:$.h,i:"-1"};if(!$t(M,Ot))return U("Doing reverse collision on ".concat($.i," up to [").concat(Ot.x,",").concat(Ot.y,"].")),yt(M,$,wt?Ot.x:void 0,Gt?Ot.y:void 0,J,Ht,At,ct)}return yt(M,$,wt?$.x+1:void 0,Gt?$.y+1:void 0,J,Ht,At,ct)}function G(M){return M*100+"%"}function _t(M){var E=M.top,$=M.left,J=M.width,At=M.height,ct="translate(".concat($,"px,").concat(E,"px)");return{transform:ct,WebkitTransform:ct,MozTransform:ct,msTransform:ct,OTransform:ct,width:"".concat(J,"px"),height:"".concat(At,"px"),position:"absolute"}}function Ct(M){var E=M.top,$=M.left,J=M.width,At=M.height;return{top:"".concat(E,"px"),left:"".concat($,"px"),width:"".concat(J,"px"),height:"".concat(At,"px"),position:"absolute"}}function B(M,E){return E==="horizontal"?ut(M):E==="vertical"?nt(M):M}function nt(M){return M.slice(0).sort(function(E,$){return E.y>$.y||E.y===$.y&&E.x>$.x?1:E.y===$.y&&E.x===$.x?0:-1})}function ut(M){return M.slice(0).sort(function(E,$){return E.x>$.x||E.x===$.x&&E.y>$.y?1:-1})}function Z(M,E,$,J,At){M=M||[];var ct=[];Xt.default.Children.forEach(E,function(Gt){if((Gt==null?void 0:Gt.key)!=null){var Ht=Tt(M,String(Gt.key));if(Ht)ct.push(fe(Ht));else{!lt&&Gt.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var Ot=Gt.props["data-grid"]||Gt.props._grid;Ot?(lt||Rt([Ot],"ReactGridLayout.children"),ct.push(fe(mt(mt({},Ot),{},{i:Gt.key})))):ct.push(fe({w:1,h:1,x:0,y:te(ct),i:String(Gt.key)}))}}});var wt=tt(ct,{cols:$});return At?wt:zt(wt,J,$)}function Rt(M){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout",$=["x","y","w","h"];if(!Array.isArray(M))throw new Error(E+" must be an array!");for(var J=0,At=M.length;J<At;J++){for(var ct=M[J],wt=0;wt<$.length;wt++)if(typeof ct[$[wt]]!="number")throw new Error("ReactGridLayout: "+E+"["+J+"]."+$[wt]+" must be a number!");if(ct.i&&typeof ct.i!="string")throw new Error("ReactGridLayout: "+E+"["+J+"].i must be a string!");if(ct.static!==void 0&&typeof ct.static!="boolean")throw new Error("ReactGridLayout: "+E+"["+J+"].static must be a boolean!")}}function ie(M){var E=M||{},$=E.verticalCompact,J=E.compactType;return $===!1?null:J}function U(){var M;!Et||(M=console).log.apply(M,arguments)}var V=function(){};St.noop=V},69968:function(Ke,St,K){Ke.exports=K(49580).default,K(67493),Ke.exports.Responsive=K(65966).default,Ke.exports.Responsive.utils=K(5651),Ke.exports.WidthProvider=K(27135).default},22827:function(Ke,St,K){"use strict";St.__esModule=!0,St.default=void 0;var H=lt(K(67294)),Xt=K(61193),it=K(59069),me=K(448),mt=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Dt(Yt){if(typeof WeakMap!="function")return null;var Jt=new WeakMap,zt=new WeakMap;return(Dt=function(Pt){return Pt?zt:Jt})(Yt)}function lt(Yt,Jt){if(!Jt&&Yt&&Yt.__esModule)return Yt;if(Yt===null||typeof Yt!="object"&&typeof Yt!="function")return{default:Yt};var zt=Dt(Jt);if(zt&&zt.has(Yt))return zt.get(Yt);var It={},Pt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in Yt)if(j!=="default"&&Object.prototype.hasOwnProperty.call(Yt,j)){var tt=Pt?Object.getOwnPropertyDescriptor(Yt,j):null;tt&&(tt.get||tt.set)?Object.defineProperty(It,j,tt):It[j]=Yt[j]}return It.default=Yt,zt&&zt.set(Yt,It),It}function Et(){return Et=Object.assign||function(Yt){for(var Jt=1;Jt<arguments.length;Jt++){var zt=arguments[Jt];for(var It in zt)Object.prototype.hasOwnProperty.call(zt,It)&&(Yt[It]=zt[It])}return Yt},Et.apply(this,arguments)}function te(Yt,Jt){if(Yt==null)return{};var zt={},It=Object.keys(Yt),Pt,j;for(j=0;j<It.length;j++)Pt=It[j],!(Jt.indexOf(Pt)>=0)&&(zt[Pt]=Yt[Pt]);return zt}function qt(Yt,Jt){var zt=Object.keys(Yt);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(Yt);Jt&&(It=It.filter(function(Pt){return Object.getOwnPropertyDescriptor(Yt,Pt).enumerable})),zt.push.apply(zt,It)}return zt}function re(Yt){for(var Jt=1;Jt<arguments.length;Jt++){var zt=arguments[Jt]!=null?arguments[Jt]:{};Jt%2?qt(Object(zt),!0).forEach(function(It){Ft(Yt,It,zt[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Yt,Object.getOwnPropertyDescriptors(zt)):qt(Object(zt)).forEach(function(It){Object.defineProperty(Yt,It,Object.getOwnPropertyDescriptor(zt,It))})}return Yt}function Ft(Yt,Jt,zt){return Jt in Yt?Object.defineProperty(Yt,Jt,{value:zt,enumerable:!0,configurable:!0,writable:!0}):Yt[Jt]=zt,Yt}function fe(Yt,Jt){Yt.prototype=Object.create(Jt.prototype),Yt.prototype.constructor=Yt,ye(Yt,Jt)}function ye(Yt,Jt){return ye=Object.setPrototypeOf||function(It,Pt){return It.__proto__=Pt,It},ye(Yt,Jt)}var se=function(Yt){fe(Jt,Yt);function Jt(){for(var It,Pt=arguments.length,j=new Array(Pt),tt=0;tt<Pt;tt++)j[tt]=arguments[tt];return It=Yt.call.apply(Yt,[this].concat(j))||this,It.handleRefs={},It.lastHandleRect=null,It.slack=null,It}var zt=Jt.prototype;return zt.componentWillUnmount=function(){this.resetData()},zt.resetData=function(){this.lastHandleRect=this.slack=null},zt.runConstraints=function(Pt,j){var tt=this.props,Tt=tt.minConstraints,$t=tt.maxConstraints,dt=tt.lockAspectRatio;if(!Tt&&!$t&&!dt)return[Pt,j];if(dt){var Q=this.props.width/this.props.height,yt=Pt-this.props.width,I=j-this.props.height;Math.abs(yt)>Math.abs(I*Q)?j=Pt/Q:Pt=j*Q}var G=Pt,_t=j,Ct=this.slack||[0,0],B=Ct[0],nt=Ct[1];return Pt+=B,j+=nt,Tt&&(Pt=Math.max(Tt[0],Pt),j=Math.max(Tt[1],j)),$t&&(Pt=Math.min($t[0],Pt),j=Math.min($t[1],j)),this.slack=[B+(G-Pt),nt+(_t-j)],[Pt,j]},zt.resizeHandler=function(Pt,j){var tt=this;return function(Tt,$t){var dt=$t.node,Q=$t.deltaX,yt=$t.deltaY;Pt==="onResizeStart"&&tt.resetData();var I=(tt.props.axis==="both"||tt.props.axis==="x")&&j!=="n"&&j!=="s",G=(tt.props.axis==="both"||tt.props.axis==="y")&&j!=="e"&&j!=="w";if(!(!I&&!G)){var _t=j[0],Ct=j[j.length-1],B=dt.getBoundingClientRect();if(tt.lastHandleRect!=null){if(Ct==="w"){var nt=B.left-tt.lastHandleRect.left;Q+=nt}if(_t==="n"){var ut=B.top-tt.lastHandleRect.top;yt+=ut}}tt.lastHandleRect=B,Ct==="w"&&(Q=-Q),_t==="n"&&(yt=-yt);var Z=tt.props.width+(I?Q/tt.props.transformScale:0),Rt=tt.props.height+(G?yt/tt.props.transformScale:0),ie=tt.runConstraints(Z,Rt);Z=ie[0],Rt=ie[1];var U=Z!==tt.props.width||Rt!==tt.props.height,V=typeof tt.props[Pt]=="function"?tt.props[Pt]:null,M=Pt==="onResize"&&!U;V&&!M&&(Tt.persist==null||Tt.persist(),V(Tt,{node:dt,size:{width:Z,height:Rt},handle:j})),Pt==="onResizeStop"&&tt.resetData()}}},zt.renderResizeHandle=function(Pt,j){var tt=this.props.handle;if(!tt)return H.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+Pt,ref:j});if(typeof tt=="function")return tt(Pt,j);var Tt=typeof tt.type=="string",$t=re({ref:j},Tt?{}:{handleAxis:Pt});return H.cloneElement(tt,$t)},zt.render=function(){var Pt=this,j=this.props,tt=j.children,Tt=j.className,$t=j.draggableOpts,dt=j.width,Q=j.height,yt=j.handle,I=j.handleSize,G=j.lockAspectRatio,_t=j.axis,Ct=j.minConstraints,B=j.maxConstraints,nt=j.onResize,ut=j.onResizeStop,Z=j.onResizeStart,Rt=j.resizeHandles,ie=j.transformScale,U=te(j,mt);return(0,it.cloneElement)(tt,re(re({},U),{},{className:(Tt?Tt+" ":"")+"react-resizable",children:[].concat(tt.props.children,Rt.map(function(V){var M,E=(M=Pt.handleRefs[V])!=null?M:Pt.handleRefs[V]=H.createRef();return H.createElement(Xt.DraggableCore,Et({},$t,{nodeRef:E,key:"resizableHandle-"+V,onStop:Pt.resizeHandler("onResizeStop",V),onStart:Pt.resizeHandler("onResizeStart",V),onDrag:Pt.resizeHandler("onResize",V)}),Pt.renderResizeHandle(V,E))}))}))},Jt}(H.Component);St.default=se,se.propTypes=me.resizableProps,se.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[Infinity,Infinity],resizeHandles:["se"],transformScale:1}},8735:function(Ke,St,K){"use strict";var H;H=!0,St.default=void 0;var Xt=te(K(67294)),it=lt(K(45697)),me=lt(K(22827)),mt=K(448),Dt=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function lt(zt){return zt&&zt.__esModule?zt:{default:zt}}function Et(zt){if(typeof WeakMap!="function")return null;var It=new WeakMap,Pt=new WeakMap;return(Et=function(tt){return tt?Pt:It})(zt)}function te(zt,It){if(!It&&zt&&zt.__esModule)return zt;if(zt===null||typeof zt!="object"&&typeof zt!="function")return{default:zt};var Pt=Et(It);if(Pt&&Pt.has(zt))return Pt.get(zt);var j={},tt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Tt in zt)if(Tt!=="default"&&Object.prototype.hasOwnProperty.call(zt,Tt)){var $t=tt?Object.getOwnPropertyDescriptor(zt,Tt):null;$t&&($t.get||$t.set)?Object.defineProperty(j,Tt,$t):j[Tt]=zt[Tt]}return j.default=zt,Pt&&Pt.set(zt,j),j}function qt(){return qt=Object.assign||function(zt){for(var It=1;It<arguments.length;It++){var Pt=arguments[It];for(var j in Pt)Object.prototype.hasOwnProperty.call(Pt,j)&&(zt[j]=Pt[j])}return zt},qt.apply(this,arguments)}function re(zt,It){var Pt=Object.keys(zt);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(zt);It&&(j=j.filter(function(tt){return Object.getOwnPropertyDescriptor(zt,tt).enumerable})),Pt.push.apply(Pt,j)}return Pt}function Ft(zt){for(var It=1;It<arguments.length;It++){var Pt=arguments[It]!=null?arguments[It]:{};It%2?re(Object(Pt),!0).forEach(function(j){fe(zt,j,Pt[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(Pt)):re(Object(Pt)).forEach(function(j){Object.defineProperty(zt,j,Object.getOwnPropertyDescriptor(Pt,j))})}return zt}function fe(zt,It,Pt){return It in zt?Object.defineProperty(zt,It,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):zt[It]=Pt,zt}function ye(zt,It){if(zt==null)return{};var Pt={},j=Object.keys(zt),tt,Tt;for(Tt=0;Tt<j.length;Tt++)tt=j[Tt],!(It.indexOf(tt)>=0)&&(Pt[tt]=zt[tt]);return Pt}function se(zt,It){zt.prototype=Object.create(It.prototype),zt.prototype.constructor=zt,Yt(zt,It)}function Yt(zt,It){return Yt=Object.setPrototypeOf||function(j,tt){return j.__proto__=tt,j},Yt(zt,It)}var Jt=function(zt){se(It,zt);function It(){for(var j,tt=arguments.length,Tt=new Array(tt),$t=0;$t<tt;$t++)Tt[$t]=arguments[$t];return j=zt.call.apply(zt,[this].concat(Tt))||this,j.state={width:j.props.width,height:j.props.height,propsWidth:j.props.width,propsHeight:j.props.height},j.onResize=function(dt,Q){var yt=Q.size;j.props.onResize?(dt.persist==null||dt.persist(),j.setState(yt,function(){return j.props.onResize&&j.props.onResize(dt,Q)})):j.setState(yt)},j}It.getDerivedStateFromProps=function(tt,Tt){return Tt.propsWidth!==tt.width||Tt.propsHeight!==tt.height?{width:tt.width,height:tt.height,propsWidth:tt.width,propsHeight:tt.height}:null};var Pt=It.prototype;return Pt.render=function(){var tt=this.props,Tt=tt.handle,$t=tt.handleSize,dt=tt.onResize,Q=tt.onResizeStart,yt=tt.onResizeStop,I=tt.draggableOpts,G=tt.minConstraints,_t=tt.maxConstraints,Ct=tt.lockAspectRatio,B=tt.axis,nt=tt.width,ut=tt.height,Z=tt.resizeHandles,Rt=tt.style,ie=tt.transformScale,U=ye(tt,Dt);return Xt.createElement(me.default,{axis:B,draggableOpts:I,handle:Tt,handleSize:$t,height:this.state.height,lockAspectRatio:Ct,maxConstraints:_t,minConstraints:G,onResizeStart:Q,onResize:this.onResize,onResizeStop:yt,resizeHandles:Z,transformScale:ie,width:this.state.width},Xt.createElement("div",qt({},U,{style:Ft(Ft({},Rt),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},It}(Xt.Component);St.default=Jt,Jt.propTypes=Ft(Ft({},mt.resizableProps),{},{children:it.default.element})},448:function(Ke,St,K){"use strict";St.__esModule=!0,St.resizableProps=void 0;var H=it(K(45697)),Xt=K(61193);function it(mt){return mt&&mt.__esModule?mt:{default:mt}}var me={axis:H.default.oneOf(["both","x","y","none"]),className:H.default.string,children:H.default.element.isRequired,draggableOpts:H.default.shape({allowAnyClick:H.default.bool,cancel:H.default.string,children:H.default.node,disabled:H.default.bool,enableUserSelectHack:H.default.bool,offsetParent:H.default.node,grid:H.default.arrayOf(H.default.number),handle:H.default.string,nodeRef:H.default.object,onStart:H.default.func,onDrag:H.default.func,onStop:H.default.func,onMouseDown:H.default.func,scale:H.default.number}),height:H.default.number.isRequired,handle:H.default.oneOfType([H.default.node,H.default.func]),handleSize:H.default.arrayOf(H.default.number),lockAspectRatio:H.default.bool,maxConstraints:H.default.arrayOf(H.default.number),minConstraints:H.default.arrayOf(H.default.number),onResizeStop:H.default.func,onResizeStart:H.default.func,onResize:H.default.func,resizeHandles:H.default.arrayOf(H.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:H.default.number,width:H.default.number.isRequired};St.resizableProps=me},59069:function(Ke,St,K){"use strict";St.__esModule=!0,St.cloneElement=Dt;var H=Xt(K(67294));function Xt(lt){return lt&&lt.__esModule?lt:{default:lt}}function it(lt,Et){var te=Object.keys(lt);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(lt);Et&&(qt=qt.filter(function(re){return Object.getOwnPropertyDescriptor(lt,re).enumerable})),te.push.apply(te,qt)}return te}function me(lt){for(var Et=1;Et<arguments.length;Et++){var te=arguments[Et]!=null?arguments[Et]:{};Et%2?it(Object(te),!0).forEach(function(qt){mt(lt,qt,te[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(te)):it(Object(te)).forEach(function(qt){Object.defineProperty(lt,qt,Object.getOwnPropertyDescriptor(te,qt))})}return lt}function mt(lt,Et,te){return Et in lt?Object.defineProperty(lt,Et,{value:te,enumerable:!0,configurable:!0,writable:!0}):lt[Et]=te,lt}function Dt(lt,Et){return Et.style&&lt.props.style&&(Et.style=me(me({},lt.props.style),Et.style)),Et.className&&lt.props.className&&(Et.className=lt.props.className+" "+Et.className),H.default.cloneElement(lt,Et)}},1706:function(Ke,St,K){"use strict";Ke.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Ke.exports.Resizable=K(22827).default,Ke.exports.ResizableBox=K(8735).default}}]);
