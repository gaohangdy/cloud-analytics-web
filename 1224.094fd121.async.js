(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1224],{71224:function(bt,S,d){"use strict";d.d(S,{sg:function(){return p0},yi:function(){return x0},aC:function(){return C0},x1:function(){return O0},Kj:function(){return k0},Ex:function(){return G0},Fk:function(){return X0},TZ:function(){return j0},m:function(){return rm},cQ:function(){return im},kB:function(){return lm}});var w={};d.r(w),d.d(w,{Base:function(){return pa},Circle:function(){return Bb},Ellipse:function(){return Fb},Image:function(){return Nb},Line:function(){return Gb},Marker:function(){return Vb},Path:function(){return tf},Polygon:function(){return tw},Polyline:function(){return rw},Rect:function(){return ow},Text:function(){return lw}});var _={};d.r(_),d.d(_,{Canvas:function(){return Kc},Event:function(){return Ze.Event},Group:function(){return Qu},Shape:function(){return w},__esModule:function(){return uw.X},version:function(){return dw}});var I={};d.r(I),d.d(I,{Base:function(){return ua},Circle:function(){return bw},Dom:function(){return Sw},Ellipse:function(){return Mw},Image:function(){return Aw},Line:function(){return Pw},Marker:function(){return _w},Path:function(){return Iw},Polygon:function(){return Bw},Polyline:function(){return Fw},Rect:function(){return zw},Text:function(){return Uw}});var O={};d.r(O),d.d(O,{Canvas:function(){return iv},Event:function(){return Ze.Event},Group:function(){return rf},Shape:function(){return I},version:function(){return pS}});var P={};d.r(P),d.d(P,{Chart:function(){return F1},ComponentController:function(){return Bo},DIRECTION:function(){return pt},Event:function(){return _r},Facet:function(){return Er},Geometry:function(){return Na},GeometryLabel:function(){return Ks},Interaction:function(){return fo},InteractionAction:function(){return Qr},LAYER:function(){return ot},Types:function(){return hb},Util:function(){return Wv},VERSION:function(){return cb},View:function(){return Yu},getActionClass:function(){return bi},getAnimation:function(){return zu},getEngine:function(){return nt},getFacet:function(){return Yr},getGeometryLabel:function(){return xc},getGeometryLabelLayout:function(){return bc},getInteraction:function(){return ho},getShapeFactory:function(){return Vu},getTheme:function(){return St},registerAction:function(){return Cr},registerAnimation:function(){return Un},registerComponentController:function(){return $r},registerEngine:function(){return rt},registerFacet:function(){return Dr},registerGeometry:function(){return da},registerGeometryLabel:function(){return fs},registerGeometryLabelLayout:function(){return co},registerInteraction:function(){return mn},registerShape:function(){return an},registerShapeFactory:function(){return Qa},registerTheme:function(){return Bt}});var A={};d.r(A),d.d(A,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var C={};d.r(C),d.d(C,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var b={};d.r(b),d.d(b,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var y={};d.r(y),d.d(y,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var x={};d.r(x),d.d(x,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var g={};d.r(g),d.d(g,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var M={};d.r(M),d.d(M,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var L={};d.r(L),d.d(L,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var k={};d.r(k),d.d(k,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var F={};d.r(F),d.d(F,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var W={};d.r(W),d.d(W,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var $={};d.r($),d.d($,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var z={};d.r(z),d.d(z,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var U={};d.r(U),d.d(U,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var et={};d.r(et),d.d(et,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var q={};d.r(q),d.d(q,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var dt={};d.r(dt),d.d(dt,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var ct={};d.r(ct),d.d(ct,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var Mt={};d.r(Mt),d.d(Mt,{EVENT_MAP:function(){return qr},onEvent:function(){return jn}});var D={};d.r(D),d.d(D,{calculationItemsBBox:function(){return hm},cloneEvent:function(){return Ul},formatPadding:function(){return Mh},isNaN:function(){return Wa},isViewportChanged:function(){return fm},processParallelEdges:function(){return qF}});var G={};d.r(G),d.d(G,{getColorsWithSubjectColor:function(){return xm},mixColor:function(){return Ta}});var X={};d.r(X),d.d(X,{Line:function(){return Mo},applyMatrix:function(){return Ls},distance:function(){return _s},floydWarshall:function(){return Lh},fractionToLine:function(){return kh},getAdjMatrix:function(){return _h},getBBoxBoundLine:function(){return Ih},getCircleCenterByPoints:function(){return Ph},getCircleIntersectByPoint:function(){return km},getDegree:function(){return Jl},getEllipseIntersectByPoint:function(){return Bm},getLineIntersect:function(){return Ps},getPointsCenter:function(){return zm},getRectIntersectByPoint:function(){return Im},intersectBBox:function(){return Ym},invertMatrix:function(){return Dm},isPointInPolygon:function(){return Os},isPointsOverlap:function(){return Bh},isPolygonsIntersect:function(){return Oh},itemIntersectByLine:function(){return Gm},move:function(){return Nm},pointLineSquareDist:function(){return Xm},pointRectSquareDist:function(){return Vm},rotate:function(){return kR},scale:function(){return IR},scaleMatrix:function(){return Fm},squareDist:function(){return ql},translate:function(){return Rm}});var N={};d.r(N),d.d(N,{getClosedSpline:function(){return Dh},getControlPoint:function(){return tu},getSpline:function(){return Hm},paddedHull:function(){return $m},pathToPoints:function(){return eu},pointsToPolygon:function(){return Wm},roundedHull:function(){return Km}});var tt={};d.r(tt),d.d(tt,{getBBox:function(){return nu},getChartRegion:function(){return i3},getComboBBox:function(){return Gh},getLabelPosition:function(){return iu},getLetterWidth:function(){return ux},getLoopCfgs:function(){return ox},getTextSize:function(){return fx},plainCombosToTrees:function(){return Nh},radialLayout:function(){return lx},reconstructTree:function(){return Yh},traverseTree:function(){return Xi},traverseTreeUp:function(){return ha}});var Q={};d.r(Q),d.d(Q,{adjMatrix:function(){return bu},breadthFirstSearch:function(){return x8},degree:function(){return Nx},depthFirstSearch:function(){return m1},detectAllCycles:function(){return S8},detectAllDirectedCycle:function(){return S1},detectAllUndirectedCycle:function(){return w1},detectDirectedCycle:function(){return C8},findAllPath:function(){return P8},findShortestPath:function(){return T8},floydWarshall:function(){return Xx},getConnectedComponents:function(){return b1},getPageRank:function(){return R8},minimumSpanningTree:function(){return D8}});var K=d(67294),V=d(67984),H=d(80123),u=d(49242),ot;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(ot||(ot={}));var pt;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(pt||(pt={}));var it;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(it||(it={}));var xt={FORE:3,MID:2,BG:1},gt;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(gt||(gt={}));var wt;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(wt||(wt={}));var Dt;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(Dt||(Dt={}));var Nt=["color","shape","size"],Ot="_origin",Tt=1,at=1,st=.25,Ct={};function nt(i){var r=Ct[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function rt(i,r){Ct[i]=r}var mt=d(6056),Pt=d(45442);function Yt(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Jt(i){return typeof i=="number"&&!isNaN(i)}function de(i,r,t,e){var n=t,a=e;if(r){var o=Yt(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(Jt(n)?n:Tt,Tt),height:Math.max(Jt(a)?a:at,at)}}function Ce(i){var r=i.parentNode;r&&r.removeChild(i)}var ye=d(90494),Se=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(ye.default),Fe=Se,Ze=d(39014),er=d(68060),qe=d(25228),Pr=d(58368),rn=d(13541),Or=d(72469),Wr=d(51441),Zn=Wr.Axis.Line,ei=Wr.Axis.Circle,mi=Wr.Grid.Line,xi=Wr.Grid.Circle,Ht=Wr.Legend.Category,Zt=Wr.Legend.Continuous,ne=Wr.Tooltip.Html,ae=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function ge(i){var r="linear";return ae.test(i)?r="time":(0,u.isString)(i)&&(r="cat"),r}function xe(i,r,t){var e=r||[];if((0,u.isNumber)(i)||(0,u.isNil)((0,u.firstValue)(e,i))&&(0,u.isEmpty)(t)){var n=(0,Or.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,u.valuesOfKey)(e,i),o=(0,u.get)(t,"type",ge(a[0])),s=(0,Or.getScale)(o);return new s((0,H.__assign)({field:i,values:a},t))}function be(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function Te(i){return i.alias||i.field}var ve=d(31437);function We(i){var r,t;switch(i){case pt.TOP:r={x:0,y:1},t={x:1,y:1};break;case pt.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case pt.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case pt.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Be(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function $e(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=We(r):i.isPolar&&(t=Be(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function rr(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function Je(i){var r=i.start,t=i.end;return r.x===t.x}function or(i,r){var t=i.start,e=i.end,n=Je(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function ir(i,r){return(0,u.get)(i,["components","axis",r],{})}function cr(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?ve.angle(o,s):ve.angle(o,s)*-1,f=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:f}}function Qe(i,r){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[r])}function gr(i,r){return(0,u.get)(i,"position",r)}function Ir(i,r){return(0,u.get)(r,["title","text"],Te(i))}var Er=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,u.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(ot.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,u.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,u.each)(r,function(a){var o=a[t];!(0,u.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,u.get)(n,"type","rect");if(o==="rect"&&a.length){(0,u.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),f=l[0],h=l[1],c=Qe(s,f),v=Qe(s,h);c!==!1&&(e.axes[f]=this.getXAxisOption(f,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,u.every)(r,function(e){var n=e.field,a=e.value;return!(0,u.isNil)(a)&&n?t[n]===a:!0})}},i}(),Lr={},Yr=function(i){return Lr[(0,u.lowerCase)(i)]},Dr=function(i,r){Lr[(0,u.lowerCase)(i)]=r},Cn=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,u.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),Qr=Cn,Rn=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(Qr),si=Rn,Kn={};function Ri(i,r){var t=Kn[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function bi(i){var r=Kn[i];return(0,u.get)(r,"ActionClass")}function Cr(i,r,t){Kn[i]={ActionClass:r,cfg:t}}function ri(i){delete Kn[i]}function li(i,r){var t=new si(r);return t.callback=i,t.name="callback",t}function ui(i){if((0,u.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,u.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function pn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function fi(i,r,t,e,n,a){a===void 0&&(a=0);var o=pn(i,r,t,e),s=pn(i,r,t,n),l=pn(i,r,a,e),f=pn(i,r,a,n);if(n-e==Math.PI*2){var h=pn(i,r,t,e+Math.PI),c=pn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,f.x,f.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var m=n-e<=Math.PI?0:1,T=[["M",o.x,o.y],["A",t,t,0,m,1,s.x,s.y],["L",f.x,f.y]];return a&&T.push(["A",a,a,0,m,0,l.x,l.y]),T.push(["L",o.x,o.y]),T.push(["Z"]),T}function Hi(i,r,t,e,n){var a=pn(i,r,t,e),o=pn(i,r,t,n);if((0,u.isNumberEqual)(n-e,Math.PI*2)){var s=pn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function Ni(i,r){var t=i.points,e=ui(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function Yi(i,r){if((0,u.isNumber)(i)&&(0,u.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function Wn(i,r){var t=i.attr(),e=r.attr();return(0,u.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function ta(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function va(i,r,t){if((0,u.isString)(i))return i.padEnd(r,t);if((0,u.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function kt(i,r){return r.forEach(function(t){delete i[t]}),i}function At(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function ft(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function yt(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function Rt(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function Kt(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=ta(r.x,e.x,n.x)&&ta(r.y,e.y,n.y)}else{var a=i.invert(r);t=ta(a.x,0,1)&&ta(a.y,0,1)}return t}function se(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function he(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),f=i.getRadius();return{type:"path",startState:{path:fi(l.x,l.y,f+r,o,o)},endState:function(c){var v=(s-o)*c+o,m=fi(l.x,l.y,f+r,o,v);return{path:m}},attrs:{path:fi(l.x,l.y,f+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function ce(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function De(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function Lt(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],f=e?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,v=h>Math.PI?1:0,m=t.convert(s),T=Rt(t,m);if(T>=.5)if(h===Math.PI*2){var B={x:(s.x+o.x)/2,y:(s.y+o.y)/2},Y=t.convert(B);l.push(["A",T,T,0,v,c,Y.x,Y.y]),l.push(["A",T,T,0,v,c,m.x,m.y])}else l.push(["A",T,T,0,v,c,m.x,m.y]);return l}function _t(i){(0,u.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Gt=function(i,r,t,e){var n=[],a,o,s=!!e,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=ve.min([0,0],l,v),f=ve.max([0,0],f,v)}l=ve.min([0,0],l,e[0]),f=ve.max([0,0],f,e[1])}for(var h=0,m=i.length;h<m;h++){var v=i[h];if(t)a=i[h?h-1:m-1],o=i[(h+1)%m];else if(h===0||h===m-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var T=[0,0];T=ve.sub(T,o,a),T=ve.scale(T,T,r);var B=ve.distance(v,a),Y=ve.distance(v,o),Z=B+Y;Z!==0&&(B/=Z,Y/=Z);var j=ve.scale([0,0],T,-B),ut=ve.scale([0,0],T,Y),ht=ve.add([0,0],v,j),Et=ve.add([0,0],v,ut);s&&(ht=ve.max([0,0],ht,l),ht=ve.min([0,0],ht,f),Et=ve.max([0,0],Et,l),Et=ve.min([0,0],Et,f)),n.push(ht),n.push(Et)}return t&&n.push(n.shift()),n};function qt(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Gt(n,.4,e,t),l=n.length,f=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),f}function Ut(i,r){return ce(i,r)}function fe(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return Ut(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var f=t||[[0,0],[1,1]],h=qt(e,r,f);return h.unshift(["M",n.x,n.y]),h}function Me(i,r){var t=[];return(0,u.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(De(e,i));break;case"z":default:t.push(e);break}}),t}function Oe(i,r){var t=[],e,n,a,o;return(0,u.each)(r,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(De(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(Lt(e,n,i)):t.push(De(s,i));break;case"z":default:t.push(s);break}}),_t(t),t}var Xe=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,u.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,u.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case pt.TOP:case pt.TOP_LEFT:case pt.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case pt.RIGHT:case pt.RIGHT_TOP:case pt.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case pt.BOTTOM:case pt.BOTTOM_LEFT:case pt.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case pt.LEFT:case pt.LEFT_TOP:case pt.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Le=function(i,r){var t=r.start,e=r.end;return new Xe(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function Ae(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var dr=d(70146);function Mr(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function Kr(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function Ur(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function bn(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function Mn(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function ni(i){return i&&i.component&&i.component.isList()}function zn(i){return i&&i.component&&i.component.isSlider()}function hi(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function $n(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=Kr(i,r);return e?Ma(i.view,e):void 0}var n=Mr(i,r);return n?wi(i.view,n):null}function Xn(i,r,t){var e=Mr(i,t);if(!e)return null;var n=i.view,a=oa(n,r,{x:e.x,y:e.y}),o=oa(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return wi(r,s)}function en(i){var r=i.geometries,t=[];return(0,u.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,u.each)(i.views,function(e){t=t.concat(en(e))}),t}function ii(i,r,t){var e=en(i);return e.filter(function(n){return Nn(n,r)===t})}function Qn(i,r){var t=i.geometries,e=[];return(0,u.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function Nn(i,r){var t=i.getModel(),e=t.data,n;return(0,u.isArray)(e)?n=e[0][r]:n=e[r],n}function na(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function wi(i,r){var t=en(i),e=[];return(0,u.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();na(r,o)&&e.push(n)}),e}function Ki(i){var r=[];return(0,u.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function Ma(i,r){var t=en(i),e=Ki(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=Ki(o.attr("path"));else{var l=o.getCanvasBBox();s=Ae(l)}return(0,dr.default)(e,s)});return n}function ia(i){return i.getComponents().map(function(r){return r.component})}function Si(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function aa(i,r){if(i.length<=2)return Ut(i,!1);var t=i[0],e=[];(0,u.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=qt(e,r,null);return n.unshift(["M",t.x,t.y]),n}function _i(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function Jn(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function Wi(i,r){var t=i.getCoordinate();return t.invert(r)}function oa(i,r,t){var e=Wi(i,t);return r.getCoordinate().convert(e)}function Ka(i,r,t,e){var n=!1;return(0,u.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function Ea(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,u.each)(i.views,function(e){if(t=Ea(e,r),t)return!1}),t}var as=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,u.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=ia(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&_i(a,e):_i(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,u.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),_o=as,Hs=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),fo=Hs;function Oo(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||Ri(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function $a(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var Oi={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},os=function(i){(0,H.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,u.each)(this.steps,function(e,n){(0,u.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,u.each)(this.steps,function(e,n){(0,u.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new _o(t);this.context=e;var n=this.steps;(0,u.each)(n,function(a){(0,u.each)(a,function(o){if((0,u.isFunction)(o.action))o.actionObject={action:li(o.action,e),methodName:"execute"};else if((0,u.isString)(o.action))o.actionObject=Oo(o.action,e);else if((0,u.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,u.each)(s,function(l){o.actionObject.push(Oo(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===Oi.SHOW_ENABLE)return!0;if(t===Oi.PROCESSING)return e===Oi.START;if(t===Oi.START)return e!==Oi.PROCESSING;if(t===Oi.END)return e===Oi.PROCESSING||e===Oi.START;if(t===Oi.ROLLBACK){if(n[Oi.END])return e===Oi.END;if(e===Oi.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==Oi.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var f=function(h){a.event=h,n.isAllowExcute(t,e)?((0,u.isArray)(s)?(0,u.each)(s,function(c){a.event=h,$a(c)}):(a.event=h,$a(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,u.debounce)(f,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,u.throttle)(f,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=f}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(fo),ss=os,Io={};function ho(i){return Io[(0,u.lowerCase)(i)]}function mn(i,r){Io[(0,u.lowerCase)(i)]=r}function ls(i,r,t){var e=ho(i);if(!e)return null;if((0,u.isPlainObject)(e)){var n=(0,u.mix)((0,u.clone)(e),t);return new ss(r,n)}else{var a=e;return new a(r,t)}}var Ci=d(7755),yn=d(31506);function ko(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=Ni(o.getModel(),s),f=l.startAngle,h=l.endAngle,c=(f+h)/2,v=7.5,m=v*Math.cos(c),T=v*Math.sin(c);return{matrix:yn.transform(null,[["t",m,T]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,H.__assign)((0,H.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,H.__assign)((0,H.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,H.__assign)((0,H.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,H.__assign)((0,H.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,H.__assign)((0,H.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,H.__assign)((0,H.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,H.__assign)((0,H.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,H.__assign)((0,H.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,u.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,u.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,u.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,u.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,u.deepMix)({},e,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"line"}})}),radius:(0,u.deepMix)({},e,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,u.deepMix)({},a,{layout:"vertical"}),left:(0,u.deepMix)({},a,{layout:"vertical"}),top:(0,u.deepMix)({},a,{layout:"horizontal"}),bottom:(0,u.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+Ci.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+Ci.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+Ci.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+Ci.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+Ci.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+Ci.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var cn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ra={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Vt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],vt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],R={backgroundColor:"transparent",brandColor:Vt[0],paletteQualitative10:Vt,paletteQualitative20:vt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:cn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:cn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:cn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:cn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:cn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:cn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:cn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Vt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:cn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:cn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:cn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:cn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:cn[25],annotationArcBorderColor:cn[15],annotationArcBorder:.5,annotationLineBorderColor:cn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:cn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Ra[95],annotationTextBorder:1.5,annotationRegionFillColor:cn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:cn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:cn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:cn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ra[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:cn[25],pointFillColor:Vt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ra[100],pointBorderOpacity:1,pointActiveBorderColor:cn[100],pointSelectedBorder:2,pointSelectedBorderColor:cn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Vt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Ra[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:cn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:cn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Vt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Vt[0],areaFillOpacity:.25,areaActiveFillColor:Vt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Vt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Vt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:cn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:cn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Vt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:cn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:cn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Vt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ra[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:cn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:cn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},J=ko(R),lt={default:J};function St(i){return(0,u.get)(lt,(0,u.lowerCase)(i),lt.default)}function Bt(i,r){lt[(0,u.lowerCase)(i)]=(0,u.deepMix)({},lt.default,r)}function Xt(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,u.isNumberEqual)(e,n)}function ee(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function ie(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,u.find)(i,function(f){var h=f[Ot];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var pe=(0,u.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function we(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,u.hasKey)(i,e)?i[e]:e}function Re(i){var r=(0,u.values)(i.attributes);return(0,u.filter)(r,function(t){return(0,u.contains)(Nt,t.type)})}function Ve(i){for(var r=Re(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function sr(i,r){var t=r.field,e=i[t];if((0,u.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Ar(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=Ve(r);return Te(a)}function mr(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var f=t.coordinate,h=f.invert(i),c=n.invert(h.x),v=a.invert(h.y),m=Infinity,T=0;T<r.length;T++){var B=r[T],Y=B[Ot],Z=Math.pow(Y[o]-c,2)+Math.pow(Y[s]-v,2);Z<m&&(m=Z,l=B)}return l}var j=r[0],ut=r[r.length-1],ht=ee(i,t),Et=j[Ot][o],Ft=j[Ot][s],jt=ut[Ot][o],$t=a.isLinear&&(0,u.isArray)(Ft);if((0,u.isArray)(Et)){for(var T=0;T<r.length;T++){var Wt=r[T],Y=Wt[Ot];if(n.translate(Y[o][0])<=ht&&n.translate(Y[o][1])>=ht)if($t)(0,u.isArray)(l)||(l=[]),l.push(Wt);else{l=Wt;break}}(0,u.isArray)(l)&&(l=ie(l,i,t))}else{var re=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var T=0;T<r.length;T++){var Wt=r[T],Y=Wt[Ot];if(Xt(Y[o],ht,n))if($t)(0,u.isArray)(l)||(l=[]),l.push(Wt);else{l=Wt;break}else n.translate(Y[o])<=ht&&(ut=Wt,re=r[T+1])}(0,u.isArray)(l)&&(l=ie(l,i,t))}else{if((ht>n.translate(jt)||ht<n.translate(Et))&&(ht>n.max||ht<n.min))return null;for(var ue=0,oe=r.length-1,Ee=void 0;ue<=oe;){Ee=Math.floor((ue+oe)/2);var _e=r[Ee][Ot][o];if(Xt(_e,ht,n))return r[Ee];n.translate(_e)<=n.translate(ht)?(ue=Ee+1,ut=r[Ee],re=r[Ee+1]):(oe===0&&(ut=r[0]),oe=Ee-1)}}ut&&re&&Math.abs(n.translate(ut[Ot][o])-ht)>Math.abs(n.translate(re[Ot][o])-ht)&&(ut=re)}var Pe=pe(t.getXScale());return!l&&Math.abs(n.translate(ut[Ot][o])-ht)<=Pe/2&&(l=ut),l}function Zr(i,r,t){t===void 0&&(t="");var e=i[Ot],n=we(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,f;function h(Ft,jt){if(!(0,u.isNil)(jt)&&jt!==""){var $t={title:n,data:e,mappingData:i,name:Ft,value:jt,color:i.color||o,marker:!0};s.push($t)}}if((0,u.isObject)(a)){var c=a.fields,v=a.callback;if(v){var m=c.map(function(Ft){return i[Ot][Ft]}),T=v.apply(void 0,m),B=(0,H.__assign)({data:i[Ot],mappingData:i,title:n,color:i.color||o,marker:!0},T);s.push(B)}else for(var Y=r.scales,Z=0,j=c;Z<j.length;Z++){var ut=j[Z];if(!(0,u.isNil)(e[ut])){var ht=Y[ut];l=Te(ht),f=ht.getText(e[ut]),h(l,f)}}}else{var Et=Ve(r);(0,u.isNil)(e[Et.field])||(f=sr(e,Et),l=Ar(e,r),h(l,f))}return s}var Jr={};function $r(i,r){Jr[i]=r}function It(i){delete Jr[i]}function te(){return Object.keys(Jr)}function le(i){return Jr[i]}var me=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,u.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,H.__assign)({start:r,end:t},a),l=(0,rn.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,H.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,u.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,u.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),ke=me,tr=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),_r=tr;function fn(i){return!(0,u.isNumber)(i)&&!(0,u.isArray)(i)}function ci(i){i===void 0&&(i=0);var r=(0,u.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,H.__spreadArrays)(r,r);break;case 3:r=(0,H.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var $i=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case pt.TOP:case pt.TOP_LEFT:case pt.TOP_RIGHT:this.top+=n;break;case pt.RIGHT:case pt.RIGHT_TOP:case pt.RIGHT_BOTTOM:this.right+=e;break;case pt.BOTTOM:case pt.BOTTOM_LEFT:case pt.BOTTOM_RIGHT:this.bottom+=n;break;case pt.LEFT:case pt.LEFT_TOP:case pt.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function ea(i){var r=i.padding;if(!fn(r))return ci(r);var t=i.viewBBox,e=i.autoPadding,n=new $i;(0,u.each)(i.getComponents(),function(s){var l=s.component,f=s.type;if(!(f===it.GRID||f===it.TOOLTIP)){var h=l.getLayoutBBox(),c=new Xe(h.x,h.y,h.width,h.height);if(f===it.AXIS){var v=c.exceed(t);n.shrink(v)}else{var m=s.direction;n.inc(c,m)}}});var a=n.getPadding();if(e){var o=ci(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function us(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=ea(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(ci(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var B1=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,u.deepMix)(l,o.scaleDef,e)}var f=xe(r,t,a);return this.cacheScale(f,e,n),f},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,u.each)(t,function(s){var l=r.getScale(s);a=(0,u.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,u.isNumber)(l.min)?Math.min(n,l.min):n,(0,u.each)(l.values,function(f){o.includes(f)||o.push(f)})}),(0,u.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(be(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,u.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,u.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),uc=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,u.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=te(),e.scalePool=new B1,e.layoutFunc=us,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(Y){var Z=Y.name;if(!Z.includes(":")){var j=e.createViewEvent(Y);e.doPlotEvent(j),e.emit(Z,j)}},e.onDelegateEvents=function(Y){var Z=Y.name;if(!!Z.includes(":")){var j=e.createViewEvent(Y);e.emit(Z,j)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,f=t.region,h=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,c=t.padding,v=t.appendPadding,m=t.theme,T=t.options,B=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,H.__assign)((0,H.__assign)({},e.options),T),e.limitInPlot=B,e.themeObject=(0,u.isObject)(m)?(0,u.deepMix)({},St("default"),m):St(m),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new ke(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(gt.BEFORE_RENDER),this.paint(t),this.emit(gt.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(gt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(gt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(gt.BEFORE_DESTROY);var t=this.interactions;(0,u.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,u.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,u.isFunction)(e)?((0,u.set)(this.options,["filters",t],e),this):(!e&&(0,u.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["axes"],t):(0,u.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["legends"],t):(0,u.isString)(t)?(0,u.set)(this.options,["legends",t],e):(0,u.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,u.isString)(t)?(0,u.set)(this.options,["scales",t],e):(0,u.isObject)(t)&&(0,u.each)(t,function(a,o){(0,u.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,u.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,u.isString)(t)?(0,u.set)(this.options,"coordinate",{type:t,cfg:e}):(0,u.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=Yr(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,H.__assign)((0,H.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,u.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,u.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,u.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,u.isObject)(t)?(0,u.deepMix)({},this.themeObject,t):St(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=ls(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(gt.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(gt.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,u.clone)(this.options.scales),axes:(0,u.clone)(this.options.axes),coordinate:(0,u.clone)(this.coordinateController.getOption()),tooltip:(0,u.clone)(this.options.tooltip),legends:(0,u.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,H.__assign)((0,H.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:xt.BG}),middleGroup:this.middleGroup.addGroup({zIndex:xt.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:xt.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,H.__assign)((0,H.__assign)({},e),(0,u.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,u.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===ot.BG?this.backgroundGroup:t===ot.MID?this.middleGroup:t===ot.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return Kt(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,u.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return At((0,u.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,u.each)(t,function(l,f){n[f]&&(o=n[f].scale(l)),a[f]&&(s=a[f].scale(l))}),!(0,u.isNil)(o)&&!(0,u.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,u.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var f=void 0,h=0,c=l.length;h<c;h++){var v=l[h];f=mr(t,v,s),f&&n.push(f)}}for(var m=this.views,a=0,o=m.length;a<o;a++){var T=m[a],B=T.getSnapRecords(t);n=n.concat(B)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,u.size)(e)===0?t:(0,u.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,u.get)(n,t);return(0,u.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,u.isEqual)(e,a)&&(0,u.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(gt.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(gt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,u.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;fn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=he(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,f=s.length;l<f;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,u.get)(this.options.scales,[t]),s=(0,H.__assign)((0,H.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,f=s.end,h=new Xe(t+n*l.x,e+a*l.y,n*(f.x-l.x),a*(f.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new Xe(t+n*l.x,e+a*l.y,n*(f.x-l.x),a*(f.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=le(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new _r(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var f="plot:"+e;t.type=f,this.emit(f,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=wt.MOUSE_LEAVE,this.emit(wt.MOUSE_LEAVE,t)),t.type=wt.LEAVE,this.emit(wt.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=wt.MOUSE_ENTER,this.emit(wt.MOUSE_ENTER,t)),t.type=wt.ENTER,this.emit(wt.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=wt.MOUSE_LEAVE,this.emit(wt.MOUSE_LEAVE,t)),t.type=wt.LEAVE,this.emit(wt.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,u.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var f={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(f):l.init(f)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,f=0,h=t.length;f<h;f++){var c=t[f],v=s[c],m=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,m),this.createdScaleKeys.set(m,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();At(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();At(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,H.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,u.each)(e,function(o){var s=o.field,l=o.values,f=o.isCategory,h=o.isIdentity;if((f||h)&&l&&!(0,u.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var m=1,T=0;yt(n)?n.isTransposed?(m=(0,u.get)(t.theme,"widthRatio.multiplePie",1/1.3),T=1/c*m,v=[T/2,1-T/2]):v=[0,1-1/c]:(T=1/c/2,v=[T,1-T])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,f=t.annotations,h=f===void 0?[]:f,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var m=0;m<o.length;m++){var T=o[m],B=T.type,Y=T.cfg;this.interaction(B,Y)}for(var Z=0;Z<l.length;Z++){var j=l[Z];this.createView(j)}for(var ut=this.getController("annotation"),ht=0;ht<h.length;ht++){var Et=h[ht];ut.annotation(Et)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,u.each)(t,function(s,l){(0,u.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(Fe);function da(i,r){uc.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,H.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var Yu=uc,D1=function(i){(0,H.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,f=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,m=t.pixelRatio,T=t.localRefresh,B=T===void 0?!0:T,Y=t.visible,Z=Y===void 0?!0:Y,j=t.defaultInteractions,ut=j===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:j,ht=t.options,Et=t.limitInPlot,Ft=t.theme,jt=(0,u.isString)(n)?document.getElementById(n):n,$t=(0,mt.Z)('<div style="position:relative;"></div>');jt.appendChild($t);var Wt=de(jt,l,a,o),re=nt(v),ue=new re.Canvas((0,H.__assign)({container:$t,pixelRatio:m,localRefresh:B},Wt));return e=i.call(this,{parent:null,canvas:ue,backgroundGroup:ue.addGroup({zIndex:xt.BG}),middleGroup:ue.addGroup({zIndex:xt.MID}),foregroundGroup:ue.addGroup({zIndex:xt.FORE}),padding:f,appendPadding:h,visible:Z,options:ht,limitInPlot:Et,theme:Ft})||this,e.onResize=(0,u.debounce)(function(){e.forceFit()},300),e.ele=jt,e.canvas=ue,e.width=Wt.width,e.height=Wt.height,e.autoFit=l,e.localRefresh=B,e.renderer=v,e.wrapperElement=$t,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(ut),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,u.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Ce(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=de(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,Pt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Yu),F1=D1,Bo=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,u.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),fc=0,R1=1/2,N1=1/2,Y1=.05,G1=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n;this.adjustNames=a,this.xField=t,this.yField=e}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);u.each(r,function(a,o){u.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return u.each(r,function(e){e[t]===void 0&&(e[t]=fc)}),u.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a={},o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a[l]=u.valuesOfKey(r,l).sort(function(f,h){return f-h})}),!n&&this.isAdjust("y")){var s="y";a[s]=[fc,1]}return a},i}(),Ws=G1,hc={},cc=function(i){return hc[i.toLowerCase()]},js=function(i,r){if(cc(i))throw new Error("Adjust type '"+i+"' existed.");hc[i.toLowerCase()]=r},zt=d(8108),z1=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?R1:n,o=t.dodgeRatio,s=o===void 0?N1:o,l=t.dodgeBy,f=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,m=t.defaultSize,T=t.maxColumnWidth,B=t.minColumnWidth,Y=t.columnWidthRatio;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=f,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=m,e.maxColumnWidth=T,e.minColumnWidth=B,e.columnWidthRatio=Y,e}return r.prototype.process=function(t){var e=u.clone(t),n=u.flatten(e),a=this.dodgeBy,o=a?u.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.getDistribution(t),l=this.groupData(n,t);return u.each(l,function(f,h){var c;e.length===1?c={pre:e[0]-1,next:e[0]+1}:c=o.getAdjustRange(t,parseFloat(h),e),u.each(f,function(v){var m=v[t],T=s[m],B=T.indexOf(a);v[t]=o.getDodgeOffset(c,B,T.length)})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,f=a.dodgePadding,h=t.pre,c=t.next,v=c-h,m;if(!u.isNil(l)&&u.isNil(f)&&l>=0){var T=this.getIntervalOnlyOffset(n,e);m=h+T}else if(!u.isNil(f)&&u.isNil(l)&&f>=0){var T=this.getDodgeOnlyOffset(n,e);m=h+T}else if(!u.isNil(l)&&!u.isNil(f)&&l>=0&&f>=0){var T=this.getIntervalAndDodgeOffset(n,e);m=h+T}else{var B=v*o/n,Y=s*B,T=1/2*(v-n*B-(n-1)*Y)+((e+1)*B+e*Y)-1/2*B-1/2*v;m=(h+c)/2+T}return m},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,m=o/s,T=(1-(l-1)*m)/l*f/(t-1),B=((1-m*(l-1))/l-T*(t-1))/t;if(B=u.isNil(v)?B:1/l/t*v,!u.isNil(h)){var Y=h/s;B=Math.min(B,Y)}if(!u.isNil(c)){var Z=c/s;B=Math.max(B,Z)}B=a?a/s:B,T=((1-(l-1)*m)/l-t*B)/(t-1);var j=((1/2+e)*B+e*T+1/2*m)*l-m/2;return j},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,m=o/s,T=1*f/(l-1),B=((1-T*(l-1))/l-m*(t-1))/t;if(B=v?1/l/t*v:B,!u.isNil(h)){var Y=h/s;B=Math.min(B,Y)}if(!u.isNil(c)){var Z=c/s;B=Math.max(B,Z)}B=a?a/s:B,T=(1-(B*t+m*(t-1))*l)/(l-1);var j=((1/2+e)*B+e*m+1/2*T)*l-T/2;return j},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=a/s,h=o/s,c=((1-f*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*f)*l-f/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},u.each(e,function(o,s){var l=u.valuesOfKey(o,t);l.length||l.push(0),u.each(l,function(f){a[f]||(a[f]=[]),a[f].push(s)})}),n[t]=a),a},r}(Ws),X1=z1;function V1(i,r){return(r-i)*Math.random()+i}var H1=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=u.clone(t),n=u.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return u.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*Y1;return V1(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return u.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(Ws),W1=H1,Gu=u.Cache,j1=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,f=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=f,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new Gu,f=new Gu;return s.map(function(h){return h.map(function(c){var v,m=u.get(c,n,0),T=u.get(c,[a]),B=m.toString();if(T=u.isArray(T)?T[1]:T,!u.isNil(T)){var Y=T>=0?l:f;Y.has(B)||Y.set(B,0);var Z=Y.get(B),j=T+Z;return Y.set(B,j),(0,zt.__assign)((0,zt.__assign)({},c),(v={},v[a]=[Z,j],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",f=s?this.reverse(t):t,h=new Gu;return f.map(function(c){return c.map(function(v){var m,T=e.size,B=v[a],Y=T*2/o;h.has(B)||h.set(B,Y/2);var Z=h.get(B);return h.set(B,Z+Y),(0,zt.__assign)((0,zt.__assign)({},v),(m={},m[l]=Z,m))})})},r}(Ws),U1=j1,Z1=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=u.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(f){return s[f]}));return u.map(t,function(f){return u.map(f,function(h){var c,v,m=h[o],T=h[a];if(u.isArray(m)){var B=(l-s[T])/2;return(0,zt.__assign)((0,zt.__assign)({},h),(c={},c[o]=u.map(m,function(Z){return B+Z}),c))}var Y=(l-m)/2;return(0,zt.__assign)((0,zt.__assign)({},h),(v={},v[o]=[Y,m+Y],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=u.groupBy(t,function(l){return l[a]});return u.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=u.map(t,function(o){return u.get(o,e,[])}),a=u.flatten(n);return Math.max.apply(Math,a)},r}(Ws),K1=Z1;js("Dodge",X1),js("Jitter",W1),js("Stack",U1),js("Symmetric",K1);var vc={};function zu(i){return vc[i.toLowerCase()]}function Un(i,r){vc[i.toLowerCase()]=r}var Do={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},$1={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},dc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Q1(i,r){return{delay:(0,u.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,u.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,u.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function pc(i,r,t){var e=$1[i];return e&&((0,u.isFunction)(e)&&(e=e(r)),e=(0,u.deepMix)({},Do,e),t)?e[t]:e}function Fo(i,r,t){var e=(0,u.get)(i.get("origin"),"data",Ot),n=r.animation,a=Q1(r,e);if(n){var o=zu(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function J1(i,r,t,e,n){if(dc[t]){var a=dc[t](e),o=zu((0,u.get)(a,"animation",""));if(o){var s=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},Do.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var q1=d(31207),tb=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Fo(n,a,{coordinate:e.coordinate,toAttrs:(0,H.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,f=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&f.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&f.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(T){n.syncShapeStyle(f,v,T,null)}):this.syncShapeStyle(f,v,"reset",null),v.remove(!0);var m={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",m),(0,q1.propagationDelegate)(this.shape,"statechange",m)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,u.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,u.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,u.get)(n,[t,"style"],{}),o=a[e]||a;return(0,u.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,u.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=e?"enter":"appear",h=this.getAnimateCfg(f);h&&Fo(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,H.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),f=0;f<s.length;f++)this.syncShapeStyle(s[f],l[f],n,a,o+f);else{if(n&&n!=="reset"){var h=t.get("name");(0,u.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=Wn(t,e);this.animate?a?Fo(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,u.get)(t,"shape");return(0,u.isArray)(e)?e[0]:e},r}(Fe),gc=tb,yc={},mc={};function xc(i){return yc[i.toLowerCase()]}function fs(i,r){yc[i.toLowerCase()]=r}function bc(i){return mc[i.toLowerCase()]}function co(i,r){mc[i.toLowerCase()]=r}var Us=d(57350),eb={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,u.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,u.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},rb={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,Us.parsePathString)(i);return r.isPolar?t=Oe(r,t):t=Me(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},Xu={};function Qa(i,r){var t=(0,u.upperFirst)(i),e=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},eb),r),{geometryType:i});return Xu[t]=e,e}function an(i,r,t){var e=(0,u.upperFirst)(i),n=Xu[e],a=(0,H.__assign)((0,H.__assign)({},rb),t);return n[r]=a,a}function Vu(i){var r=(0,u.upperFirst)(i);return Xu[r]}function nb(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,u.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],f=e["_"+l];f&&n.push(f)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function wc(i,r){return(0,u.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,u.isEqual)(i[t],r[t])})}function hs(i){return(0,u.isArray)(i)?i:i.split("*")}function ib(i,r){var t=[];return(0,u.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var ab=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,f=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,m=t.scales,T=m===void 0?{}:m,B=t.scaleDefs,Y=B===void 0?{}:B;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=f,e.visible=c,e.userTheme=v,e.scales=T,e.scaleDefs=Y,e}return r.prototype.position=function(t){var e=t;(0,u.isPlainObject)(t)||(e={fields:hs(t)});var n=(0,u.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,u.set)(e,"fields",n)),(0,u.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,u.isString)(t)||(0,u.isPlainObject)(t))&&(e=[t]),(0,u.each)(e,function(n,a){(0,u.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,u.isString)(t)){var n=hs(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,u.isString)(t)){var n=hs(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,u.isString)(t)){var a={},o=hs(t);a.fields=o,(0,u.isFunction)(e)?a.callback=e:(0,u.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,u.isEqual)(s,l)?e&&(n||!(0,u.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,u.deepMix)({},pc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,f=o.length;l<f;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,m=this.type,T=this.coordinate,B=(0,u.get)(this.animateOption,"appear"),Y=this.getYScale(),Z=T.convert({x:0,y:Y.scale(this.getYMinValue())});J1(v,B,m,T,Z)}this.labelOption&&this.renderLabels((0,u.flatten)(s),t),this.dataArray=s,(0,u.each)(this.lastElementsMap,function(j){j.animate=e.animateOption,j.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,H.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,u.each)(this.attributes,function(e){Nt.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,u.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],f=l.field;l.isIdentity?n.push(l.values):n.push(e[f])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,u.isArray)(t)?t[0]:t;var e=t[Ot];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),f=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[f];var m;o==="interval"||o==="schema"?m=v:o==="line"||o==="area"||o==="path"?m=o:m=v+"-"+c;for(var T=this.groupScales,a=0,B=T.length;a<B;a++){var Y=T[a],Z=Y.field;m=m+"-"+e[Z]}var j=this.getAdjust("dodge");if(j){var ut=j.dodgeBy;ut&&(m=m+"-"+e[ut])}return this.getAdjust("jitter")&&(m=m+"-"+t.x+"-"+t.y),m},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var f=a[l];f.fields?At(f.fields,t,e):f.values&&At(f.values,t,e)}return o&&o.fields&&At(o.fields,t,e),(0,u.isObject)(s)&&s.fields&&At(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=Nt.length;n<a;n++){var o=Nt[n],s=this.attributeOption[o];s&&s.fields&&At(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[Ot][n])-e.translate(l[Ot][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!Vu(t))return this.shapeFactory||(this.shapeFactory=(0,u.clone)(Vu(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new gc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[Ot],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,u.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=0,h=t.length;f<h;f++){var c=t[f],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+f);var m=o[v];if(!m)m=this.createElement(c,n);else{var T=this.getDrawCfg(c),B=m.getModel();(this.isCoordinateChanged||wc(T,B))&&(m.animate=this.animateOption,m.update(T)),delete o[v]}l.push(m),s[v]=m}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,u.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,u.isNil)(e)||(0,u.isObject)(e))(0,u.isObject)(e)&&(0,u.isEqual)(Object.keys(e),["values"])?(0,u.set)(this.attributeOption,t,{fields:e.values}):(0,u.set)(this.attributeOption,t,e);else{var a={};(0,u.isNumber)(e)?a.values=[e]:a.fields=hs(e),n&&((0,u.isFunction)(n)?a.callback=n:a.values=n),(0,u.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},f=function(v){if(a.hasOwnProperty(v)){var m=a[v];if(!m)return{value:void 0};var T=(0,H.__assign)({},m),B=T.callback,Y=T.values,Z=T.fields,j=Z===void 0?[]:Z,ut=j.map(function(Et){var Ft=t.scales[Et];return Ft.isCategory&&!l[Et]&&Nt.includes(v)&&(t.groupScales.push(Ft),l[Et]=!0),Ft});T.scales=ut,v!=="position"&&ut.length===1&&ut[0].type==="identity"?T.values=ut[0].values:!B&&!Y&&(v==="size"?T.values=o.sizes:v==="shape"?T.values=o.shapes[s]||[]:v==="color"&&(ut.length?T.values=ut[0].values.length<=10?o.colors10:o.colors20:T.values=o.colors10));var ht=(0,Pr.getAttribute)(v);n[v]=new ht(T)}};for(var h in a){var c=f(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(Et){return Et.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var f=a[s],h=[],c=0,v=f.length;c<v;c++){var m=f[c],T={};for(var B in m)T[B]=m[B];T[Ot]=m;for(var Y=0,Z=n;Y<Z.length;Y++){var j=Z[Y],ut=j.field;T[ut]=j.translate(T[ut])}h.push(T)}o.push(h)}var ht=this.adjustData(o);return this.beforeMappingData=ht,ht},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,f=0,h=e.length;f<h;f++){var c=e[f],v=(0,H.__assign)({xField:s,yField:l},c),m=c.type;if(m==="dodge"){var T=[];if(a.isCategory||a.type==="identity")T.push("x");else if(!o)T.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=T,v.dodgeRatio=this.theme.columnWidthRatio}else if(m==="stack"){var B=this.coordinate;if(!o){v.height=B.getHeight();var Y=this.getDefaultValue("size")||3;v.size=Y}!B.isTransposed&&(0,u.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var Z=cc(m),j=new Z(v);n=j.process(n),this.adjusts[m]=j}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],f=l.field;o.push(f),(0,u.get)(n,[f,"values"])&&(a[f]=n[f].values)}return nb(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,u.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var f=n[l],h=Math.min.apply(null,f[a]),c=Math.max.apply(null,f[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,m={};o<t.min&&!(0,u.get)(v,[a,"min"])&&(m.min=o),s>t.max&&!(0,u.get)(v,[a,"max"])&&(m.max=s),t.change(m)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,f=e.getShapePoints(l,s);o.points=f}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,u.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[Ot],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var f=e[l],h=f.names,c=this.getAttributeValues(f,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var m=c[v],T=h[v];s[T]=(0,u.isArray)(m)&&m.length===1?m[0]:m}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,u.isArray)(e)&&(0,u.isArray)(n)){a=[],o=[];for(var f=0,h=0,c=e.length,v=n.length;f<c&&h<v;f+=1,h+=1)s=l.convert({x:e[f],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,u.isArray)(n)){o=[];for(var m=0;m<n.length;m++){var T=n[m];s=l.convert({x:e,y:T}),a&&a!==s.x?((0,u.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,u.isArray)(e)){a=[];for(var m=0;m<e.length;m++){var B=e[m];s=l.convert({x:B,y:n}),o&&o!==s.y?((0,u.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var Y=l.convert({x:e,y:n});a=Y.x,o=Y.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(f){return e[f]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,u.each)(s,function(l,f){l&&l.key&&e.idFields.push(f)})),o&&(this.theme=this.userTheme?(0,u.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=xc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,u.each)(this.elementsMap,function(l,f){var h=ib(f,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],m=v.getChildren(),T=0;T<m.length;T++){var B=m[T];B.cfg.name=["element","label"],B.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,u.get)(this.animateOption,"appear")===void 0||(0,u.get)(this.animateOption,"appear")&&(0,u.get)(this.animateOption,["appear","animation"])===void 0)},r}(Fe),Na=ab,Zs=yn.transform;function Hu(i,r,t){var e=Zs(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Sc(i,r){var t=i.attr(),e=t.x,n=t.y,a=Zs(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function S9(){return[1,0,0,0,1,0,0,0,1]}function ob(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=Zs(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var sb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var f=l[s];f&&this.renderLabel(f,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,u.each)(c,function(v,m){if(v.destroyed)delete c[m];else{if(h[m]){var T=v.get("data"),B=v.get("origin"),Y=v.get("coordinate"),Z=h[m],j=v.get("animateCfg");Z.set("data",T),Z.set("origin",B),Z.set("animateCfg",j),Z.set("coordinate",Y);var ut=(0,u.get)(j,"update"),ht=Z.getChildren();v.getChildren().map(function(Ft,jt){var $t=ht[jt];$t.set("data",T),$t.set("origin",B),$t.set("animateCfg",j),$t.set("coordinate",Y);var Wt=Wn($t,Ft);ut?Fo($t,ut,{toAttrs:Wt,coordinate:Y}):$t.attr(Wt)}),n.shapesMap[m]=Z}else{a.add(v);var Et=(0,u.get)(v.get("animateCfg"),e?"enter":"appear");Et&&Fo(v,Et,{toAttrs:(0,H.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[m]}}),(0,u.each)(h,function(v){var m=(0,u.get)(v.get("animateCfg"),"leave");m?Fo(v,m,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,f={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,H.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,u.deepMix)({},this.animate,s)},f)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),m=v.width,T=v.height,B=(0,u.get)(r,"textAlign","left"),Y=r.x,Z=r.y-T/2;B==="center"?Y=Y-m/2:(B==="right"||B==="end")&&(Y=Y-m),Hu(l,Y,Z),c=l,h.add(l)}else c=h.addShape("text",(0,H.__assign)({attrs:(0,H.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,u.get)(r,"textBaseline","middle"),text:r.content},r.style)},f));r.rotate&&Sc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,u.isArray)(this.layout)?this.layout:[this.layout];(0,u.each)(n,function(a){var o=bc((0,u.get)(a,"type",""));if(o){var s=[],l=[];(0,u.each)(e.shapesMap,function(f,h){s.push(f),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,u.each)(r,function(e){var n=(0,u.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,u.get)(e,"labelLine",{}),l=e.id,f=s.path;if(!f){var h=pn(a.x,a.y,o,e.angle);f=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,H.__assign)({path:f,stroke:e.color?e.color:(0,u.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,u.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),lb=sb;function ub(i){var r=0;return(0,u.each)(i,function(t){r+=t}),r/i.length}var fb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,u.each)(r,function(a,o){var s=n[o];if(!s||(0,u.isNil)(a.x)||(0,u.isNil)(a.y)){e.push(null);return}var l=(0,u.isArray)(s.content)?s.content:[s.content];s.content=l;var f=l.length;(0,u.each)(l,function(h,c){if((0,u.isNil)(h)||h===""){e.push(null);return}var v=(0,H.__assign)((0,H.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,f)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,f={x:0,y:0};return t>0||e===1?f[s]=n*l:f[s]=n*l*-1,f},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(B,Y){var Z=B;return(0,u.isArray)(Z)&&(r.content.length===1?Z.length<=2?Z=Z[B.length-1]:Z=ub(Z):Z=Z[Y]),Z}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=Yi(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var f=(0,u.isArray)(t.shape)?t.shape[0]:t.shape;if(f==="funnel"||f==="pyramid"){var h=(0,u.get)(t,"nextPoints"),c=(0,u.get)(t,"points");if(h){var v=n.convert(c[1]),m=n.convert(h[1]);s.x=(v.x+m.x)/2,s.y=(v.y+m.y)/2}else if(f==="pyramid"){var v=n.convert(c[1]),m=n.convert(c[2]);s.x=(v.x+m.x)/2,s.y=(v.y+m.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var T=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=T.x,s.y+=T.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[Ot],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new lb({container:t,layout:(0,u.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?pc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,f=e.coordinate,h=s,c=h.fields,v=h.callback,m=h.cfg,T=c.map(function(Y){return l[Y]}),B=[];return(0,u.each)(r,function(Y,Z){var j=Y[Ot],ut=t.getLabelText(j,T),ht;if(v){var Et=c.map(function($t){return j[$t]});if(ht=v.apply(void 0,Et),(0,u.isNil)(ht)){B.push(null);return}}var Ft=(0,H.__assign)((0,H.__assign)({id:t.getLabelId(Y),data:j,mappingData:Y,coordinate:f},m),ht),jt=Ft.content;(0,u.isFunction)(jt)?Ft.content=jt(j,Y,Z):(0,u.isUndefined)(jt)&&(Ft.content=ut[0]),(0,u.isFunction)(Ft.position)&&(Ft.position=Ft.position(j,Y,Z)),a==="polygon"||Ft.offset<0&&!["line","point","path"].includes(a)?Ft=(0,u.deepMix)({},n,o.innerLabels,Ft):Ft=(0,u.deepMix)({},n,o.labels,Ft),B.push(Ft)}),B},i.prototype.getLabelText=function(r,t){var e=[];return(0,u.each)(t,function(n){var a=r[n.field];(0,u.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,u.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,u.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,u.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),Ks=fb,hb=d(61102),cb="4.0.15",vo={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Pn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},sa=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],vb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],db={backgroundColor:"#141414",brandColor:sa[0],paletteQualitative10:sa,paletteQualitative20:vb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Pn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Pn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Pn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Pn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Pn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Pn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Pn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:sa[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Pn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Pn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Pn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:vo[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:vo[25],annotationArcBorderColor:Pn[15],annotationArcBorder:.5,annotationLineBorderColor:Pn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Pn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:vo[95],annotationTextBorder:1.5,annotationRegionFillColor:Pn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Pn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Pn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Pn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:vo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Pn[25],pointFillColor:sa[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:vo[100],pointBorderOpacity:1,pointActiveBorderColor:Pn[100],pointSelectedBorder:2,pointSelectedBorderColor:Pn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:sa[0],hollowPointBorderOpacity:.95,hollowPointFillColor:vo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Pn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Pn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:sa[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:sa[0],areaFillOpacity:.25,areaActiveFillColor:sa[0],areaActiveFillOpacity:.5,areaSelectedFillColor:sa[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:sa[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Pn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Pn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:sa[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Pn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Pn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:sa[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:vo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Pn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Pn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},pr=d(70655),Mi=d(73890),un=d(21830),$s=d(46812),Ei=d(66631),gn=d(27154),pb=d(9217),gb=d(5253),C9=d(39984),yb=d(98229),mb=d(35755);function xb(){return window?window.devicePixelRatio:1}function Cc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function po(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function Wu(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function bb(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Mc(i,r){return i[0]===r[0]&&i[1]===r[1]}var M9=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,E9=/[^\s\,]+/gi,wb=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Sb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Cb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ec=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Ac(i,r){var t=i.match(Ec);(0,gn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function Mb(i,r,t){var e=wb.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var f=Math.tan(n),h=f*f,c=(l.x-s.x+f*(l.y-s.y))/(h+1)+s.x,v=f*(l.x-s.x+f*(l.y-s.y))/(h+1)+s.y,m=i.createLinearGradient(s.x,s.y,c,v);return Ac(a,m),m}function Eb(i,r,t){var e=Sb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Ec);return l[l.length-1].split(":")[1]}var f=r.getBBox(),h=f.maxX-f.minX,c=f.maxY-f.minY,v=Math.sqrt(h*h+c*c)/2,m=i.createRadialGradient(f.minX+h*n,f.minY+c*a,0,f.minX+h/2,f.minY+c/2,o*v);return Ac(s,m),m}function Ab(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Cb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function Tb(i,r,t){if((0,un.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Mb(i,r,t);if(t[0]==="r")return Eb(i,r,t);if(t[0]==="p")return Ab(i,r,t)}return t}}function Pb(i){var r=0,t=0,e=0,n=0;return(0,Ei.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function Qs(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function ju(i,r){return Qs(i)*Qs(r)?(i[0]*r[0]+i[1]*r[1])/(Qs(i)*Qs(r)):1}function Tc(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(ju(i,r))}function Pc(i,r){var t=r[1],e=r[2],n=(0,gb.default)((0,pb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],f=r[6],h=r[7],c=Math.cos(n)*(s-f)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-f)/2+Math.cos(n)*(l-h)/2,m=c*c/(t*t)+v*v/(e*e);m>1&&(t*=Math.sqrt(m),e*=Math.sqrt(m));var T=t*t*(v*v)+e*e*(c*c),B=T?Math.sqrt((t*t*(e*e)-T)/T):1;a===o&&(B*=-1),isNaN(B)&&(B=0);var Y=e?B*t*v/e:0,Z=t?B*-e*c/t:0,j=(s+f)/2+Math.cos(n)*Y-Math.sin(n)*Z,ut=(l+h)/2+Math.sin(n)*Y+Math.cos(n)*Z,ht=[(c-Y)/t,(v-Z)/e],Et=[(-1*c-Y)/t,(-1*v-Z)/e],Ft=Tc([1,0],ht),jt=Tc(ht,Et);return ju(ht,Et)<=-1&&(jt=Math.PI),ju(ht,Et)>=1&&(jt=0),o===0&&jt>0&&(jt=jt-2*Math.PI),o===1&&jt<0&&(jt=jt+2*Math.PI),{cx:j,cy:ut,rx:Mc(i,[f,h])?0:t,ry:Mc(i,[f,h])?0:e,startAngle:Ft,endAngle:Ft+jt,xRotation:n,arcFlag:a,sweepFlag:o}}var Js=Math.sin,qs=Math.cos,Uu=Math.atan2,tl=Math.PI;function Lc(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,f=t-n,h=e-a,c=Uu(h,f),v=new tf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*qs(tl/6)+","+10*Js(tl/6)+" L0,0 L"+10*qs(tl/6)+",-"+10*Js(tl/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function _c(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,f=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,m=c.fill,T=c.stroke,B=c.lineWidth,Y=(0,pr.__rest)(c,["d","fill","stroke","lineWidth"]),Z=t-n,j=e-a,ut=Uu(j,Z);v&&(n=n-qs(ut)*v,a=a-Js(ut)*v);var ht=new tf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,pr.__assign)((0,pr.__assign)({},Y),{stroke:T||f,lineWidth:B||h,fill:m})});ht.translate(n,a),ht.rotateAtPoint(n,a,ut),i.set(o?"startArrowShape":"endArrowShape",ht)}function go(i,r,t,e,n){var a=Uu(e-r,t-i);return{dx:qs(a)*n,dy:Js(a)*n}}function Zu(i,r,t,e,n,a){typeof r.startArrow=="object"?_c(i,r,t,e,n,a,!0):r.startArrow?Lc(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function Ku(i,r,t,e,n,a){typeof r.endArrow=="object"?_c(i,r,t,e,n,a,!1):r.endArrow?Lc(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Oc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Ro(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Oc[e]?Oc[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,u.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=Tb(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function $u(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function Ic(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],f={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var m=i.getStartTangent();f=go(m[0][0],m[0][1],m[1][0],m[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var T=n[h+1];if(T[0]==="Z"){var m=i.getEndTangent();f=go(m[0][0],m[0][1],m[1][0],m[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var m=i.getEndTangent();f=go(m[0][0],m[0][1],m[1][0],m[1][1],o.d)}var B=f.dx,Y=f.dy;switch(v){case"M":r.moveTo(c[1]-B,c[2]-Y),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-B,c[2]-Y);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-B,c[4]-Y);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-B,c[6]-Y);break;case"A":{var Z=void 0;e?(Z=e[h],Z||(Z=Pc(s,c),e[h]=Z)):Z=Pc(s,c);var j=Z.cx,ut=Z.cy,ht=Z.rx,Et=Z.ry,Ft=Z.startAngle,jt=Z.endAngle,$t=Z.xRotation,Wt=Z.sweepFlag;if(r.ellipse)r.ellipse(j,ut,ht,Et,$t,Ft,jt,1-Wt);else{var re=ht>Et?ht:Et,ue=ht>Et?1:ht/Et,oe=ht>Et?Et/ht:1;r.translate(j,ut),r.rotate($t),r.scale(ue,oe),r.arc(0,0,re,Ft,jt,1-Wt),r.scale(1/ue,1/oe),r.rotate(-$t),r.translate(-j,-ut)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Ee=c.length;s=[c[Ee-2],c[Ee-1]]}}}function kc(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function Lb(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=bb(t,n):e?r=t:a&&(r=n)}return r}function Bc(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,u.each)(i,function(a){var o=Lb(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function _b(i,r){return!i||!r||!Wu(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var Dc=d(41056),Ob=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){kc(this,t)},r.prototype.getShapeBase=function(){return w},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Ro(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Ro(t,this),this._applyClip(t,this.getClip()),$u(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(Ze.AbstractGroup),Qu=Ob,Ib=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return w},r.prototype.getGroupBase=function(){return Qu},r.prototype.onCanvasChange=function(t){kc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,Dc.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,f=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:f,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Ro(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Bc([this,n]):this.getCanvasBBox();if(!Wu(e,a)){this.set("hasChanged",!1);return}}t.save(),Ro(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",Wu(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,Mi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Mi.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(Ze.AbstractShape),pa=Ib,kb=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.r,c=o/2,v=Cc(l,f,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(pa),Bb=kb;function el(i,r,t,e){return i/(t*t)+r/(e*e)}var Db=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,f=s.x,h=s.y,c=s.rx,v=s.ry,m=(t-f)*(t-f),T=(e-h)*(e-h);return a&&n?el(m,T,c+l,v+l)<=1:a?el(m,T,c,v)<=1:n?el(m,T,c-l,v-l)>=1&&el(m,T,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,f=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(f,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(pa),Fb=Db;function Fc(i){return i instanceof HTMLElement&&(0,un.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var Rb=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,un.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Fc(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,f=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||Fc(v))&&(!(0,Mi.default)(l)&&!(0,Mi.default)(f)&&!(0,Mi.default)(h)&&!(0,Mi.default)(c)?t.drawImage(v,l,f,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(pa),Nb=Rb,Ya=d(23646);function Ja(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),f=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=f-c&&o<=h+c?Ya.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var Yb=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Zu(this,t,a,o,e,n),l&&Ku(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,f=s.y1,h=s.x2,c=s.y2;return Ja(l,f,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,f=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=go(n,a,o,s,e.startArrow.d)),f&&f.d&&(c=go(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ya.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ya.default.pointAt(n,a,o,s,t)},r}(pa),Gb=Yb,Rc=d(74479),zb={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},Xb=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,u.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,$s.default)(a)?(s=a,l=s(e,n,o),l=(0,Rc.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Ic(this,t,{path:e},n)},r.Symbols=zb,r}(pa),Vb=Xb,rl=d(15730),Hb=d(49274),Wb=d(26632);function Nc(i,r,t){var e=(0,Wb.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var jb=1e-6;function Ju(i){return Math.abs(i)<jb?0:i<0?-1:1}function Ub(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function Yc(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Ub(o,s,[r,t]))return!0;Ju(o[1]-t)>0!=Ju(s[1]-t)>0&&Ju(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var Zb=d(2879);function cs(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var f={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return Cc(f.x,f.y,o,s)<=a/2}var qu=d(35600),Gc=d(77160);function Kb(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function $b(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,f=s.params,h=s.prePoint,c=s.box;if(!(c&&!po(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=Ja(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=Zb.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],t,e);n=v<=r/2;break;case"C":var m=rl.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],f[5],f[6],t,e);n=m<=r/2;break;case"A":var T=s.arcParams,B=T.cx,Y=T.cy,Z=T.rx,j=T.ry,ut=T.startAngle,ht=T.endAngle,Et=T.xRotation,Ft=[t,e,1],jt=[1,0,0,0,1,0,0,0,1],$t=Z>j?Z:j,Wt=Z>j?1:Z/j,re=Z>j?j/Z:1;qu.translate(jt,jt,[-B,-Y]),qu.rotate(jt,jt,-Et),qu.scale(jt,jt,[1/Wt,1/re]),Gc.transformMat3(Ft,Ft,jt),n=cs(0,0,$t,ut,ht,r,Ft[0],Ft[1]);break;default:break}if(n)break}}return n}function Qb(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var nl=(0,pr.__assign)({hasArc:Kb,extractPolygons:Qb,isPointInStroke:$b},Ze.PathUtil);function zc(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=Yc(a,r,t),e)break}return e}var Jb=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,Rc.Z)(t);var e=nl.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,Hb.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();Zu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Ku(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),f=!1;if(n&&(f=nl.isPointInStroke(s,o,t,e)),!f&&a)if(l)f=Nc(this,t,e);else{var h=this.attr("path"),c=nl.extractPolygons(h);f=zc(c.polygons,t,e)||zc(c.polylines,t,e)}return f},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Ic(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,u.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,u.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,u.isNil)(s)||(0,u.isNil)(a))return null;var l=s.length,f=o[a+1];return rl.default.pointAt(s[l-2],s[l-1],f[1],f[2],f[3],f[4],f[5],f[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",nl.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,f=this.get("curve");if(!!f){if((0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(t+=rl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=rl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(pa),tf=Jb;function Xc(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],f=i[o+1][0],h=i[o+1][1];if(Ja(s,l,f,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(Ja(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var qb=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Xc(s,o,t,e,!0)),!l&&a&&(l=Yc(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(pa),tw=qb,Vc=d(65386),ew=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&Zu(this,t,n[1][0],n[1][1],l,f),o&&Ku(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Xc(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=go(l,f,n[1][0],n[1][1],a.d);l+=v.dx,f+=v.dy}if(o&&o.d){var v=go(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,f);for(var m=0;m<s-1;m++){var T=n[m];t.lineTo(T[0],T[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,u.isNil)(e)?(this.set("totalLength",Vc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ya.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/e,s=Ya.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(pa),rw=ew;function nw(i,r,t,e,n,a,o){var s=n/2;return po(i-s,r-s,t,n,a,o)||po(i+t-s,r-s,n,e,a,o)||po(i+s,r+e-s,t,n,a,o)||po(i-s,r+s,n,e,a,o)}function iw(i,r,t,e,n,a,o,s){var l=a/2;return Ja(i+n,r,i+t-n,r,a,o,s)||Ja(i+t,r+n,i+t,r+e-n,a,o,s)||Ja(i+t-n,r+e,i+n,r+e,a,o,s)||Ja(i,r+e-n,i,r+n,a,o,s)||cs(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||cs(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||cs(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||cs(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var aw=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.width,c=s.height,v=s.radius;if(v){var T=!1;return n&&(T=iw(l,f,h,c,v,o,t,e)),!T&&a&&(T=Nc(this,t,e)),T}else{var m=o/2;if(a&&n)return po(l-m,f-m,h+m,c+m,t,e);if(a)return po(l,f,h,c,t,e);if(n)return nw(l,f,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var f=Pb(l),h=f[0],c=f[1],v=f[2],m=f[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+m,a+s),m!==0&&t.arc(n+m,a+s-m,m,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(pa),ow=aw,Hc=d(8914),sw=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Hc.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,un.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,f=a.fontSize*1,h=this._getSpaceingY(),c=(0,Hc.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,gn.default)(e,function(m,T){v=l+T*(h+f)-c+f,o==="middle"&&(v+=c-f-(c-f)/2),o==="top"&&(v+=c-f),n?t.fillText(m,s,v):t.strokeText(m,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,Mi.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Mi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(pa),lw=sw,uw=d(4555),A9=d(85424),fw=d(22487),Wc=d(6052);function hw(i,r){if(r){var t=(0,Wc.U_)(r);return(0,Wc.rG)(t,i)}return i}function jc(i,r,t){var e=i.getTotalMatrix();if(e){var n=hw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function Uc(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,fw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=jc(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function Zc(i,r,t){if(!Uc(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=Zc(s,r,t);else if(Uc(s,r,t)){var l=s,f=jc(s,r,t),h=f[0],c=f[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var cw=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return w},r.prototype.getGroupBase=function(){return Qu},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||xb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?Zc(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Bc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=_b(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,mb.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Ro(t,this),$u(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Ro(t,this),$u(t,n,a),t.restore()),(0,gn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,yb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(Ze.AbstractCanvas),Kc=cw,vw=d(71270),dw=vw.version,ef={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},on={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},T9=null;function la(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function $c(i){var r=ef[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=la(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Qc(i,r){var t=i.get("el"),e=(0,u.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function pw(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function gw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function vs(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function ds(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){$c(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function Jc(i,r){r.forEach(function(t){t.draw(i)})}function qc(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,f=l&&l.parentNode;l&&f&&f.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")pw(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&Qc(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?vs(i):r==="clip"?ds(i,e):r==="attr"||r==="add"&&i.draw(e)}}var yw=function(i){(0,pr.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=la("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){qc(this,t)},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ds(this,t),this.createPath(t),e.length&&Jc(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){on[s]&&a.setAttribute(on[s],o)}),vs(this)},r}(Ze.AbstractGroup),rf=yw,mw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return rf},r.prototype.onCanvasChange=function(t){qc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,Dc.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,f=this.getHitLineWidth(),h=f/2,c=a-h,v=o-h,m=a+s+h,T=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:m,maxY:T,width:s+f,height:l+f}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||$c(this),ds(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,f=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),f&&v.setAttribute(on.fillOpacity,f)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(on.strokeOpacity,h),c&&v.setAttribute(on.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(on[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(on[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(on[e],"url(#"+o+")")}else a.setAttribute(on[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,f=a.shadowColor;(o||s||l||f)&&gw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&vs(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,f=document.elementFromPoint(s,l);return!!(f&&f.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(Ze.AbstractShape),ua=mw,xw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):on[s]&&a.setAttribute(on[s],o)})},r}(ua),bw=xw,ww=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){on[s]&&a.setAttribute(on[s],o)}),a.innerHTML=n.html},r}(ua),Sw=ww,Cw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):on[s]&&a.setAttribute(on[s],o)})},r}(ua),Mw=Cw,Ew=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):on[l]&&o.setAttribute(on[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,u.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,u.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(ua),Aw=Ew,Tw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,u.isObject)(o)?t.addArrow(n,on[s]):t.getDefaultArrow(n,on[s]);a.setAttribute(on[s],"url(#"+l+")")}else a.removeAttribute(on[s]);else on[s]&&a.setAttribute(on[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ya.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ya.default.pointAt(n,a,o,s,t)},r}(ua),Pw=Tw,il={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},tv={get:function(i){return il[i]},register:function(i,r){il[i]=r},remove:function(i){delete il[i]},getAll:function(){return il}},Lw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,u.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,u.isFunction)(o)?s=o:s=tv.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=tv,r}(ua),_w=Lw,Ow=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(e||a,function(s,l){if(l==="path"&&(0,u.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var f=(0,u.isObject)(s)?t.addArrow(a,on[l]):t.getDefaultArrow(a,on[l]);o.setAttribute(on[l],"url(#"+f+")")}else o.removeAttribute(on[l]);else on[l]&&o.setAttribute(on[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(ua),Iw=Ow,kw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):on[s]&&a.setAttribute(on[s],o)})},r}(ua),Bw=kw,Dw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):on[s]&&a.setAttribute(on[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,u.isNil)(e)?(this.set("totalLength",Vc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ya.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/e,s=Ya.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(ua),Fw=Dw,Rw=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Nw=/[^\s\,]+/gi;function Yw(i){var r=0,t=0,e=0,n=0;return(0,u.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function P9(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(Rw),each(i,function(r,t){if(r=r.match(Nw),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var Gw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,u.each)(e||a,function(f,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&on[h]&&o.setAttribute(on[h],f)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=Yw(s);(0,u.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var f=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return f.join(" ")},r}(ua),zw=Gw,Xw=d(56463),ev=.3,Vw={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Hw={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Ww={left:"left",start:"left",center:"middle",right:"end",end:"end"},jw=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,pr.__assign)((0,pr.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,u.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?vs(n):on[l]&&o.setAttribute(on[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,Xw.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",Hw[n]||"alphabetic"):t.setAttribute("alignment-baseline",Vw[n]||"baseline"),t.setAttribute("text-anchor",Ww[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),f=l.length-1,h="";(0,u.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-f+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(f-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(f+ev)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(f-1)-ev)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(ua),Uw=jw,Zw=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Kw=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,$w=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function rv(i){var r=i.match($w);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,u.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function Qw(i,r){var t=Zw.exec(i),e=(0,u.mod)((0,u.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,f=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",f),r.setAttribute("y2",h),r.innerHTML=rv(n)}function Jw(i,r){var t=Kw.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=rv(o)}var qw=function(){function i(r){this.cfg={};var t=null,e=(0,u.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=la("linearGradient"),Qw(r,t)):(t=la("radialGradient"),Jw(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),tS=qw,eS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},rS={x:"-40%",y:"-40%",width:"200%",height:"200%"},nS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=la("filter");return(0,u.each)(rS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,u.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,u.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[eS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),iS=nS,aS=function(){function i(r,t){this.cfg={};var e=la("marker"),n=(0,u.uniqueId)("marker_");e.setAttribute("id",n);var a=la("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,u.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),nv=aS,oS=function(){function i(r){this.type="clip",this.cfg={};var t=la("clipPath");this.el=t,this.id=(0,u.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),sS=oS,lS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,uS=function(){function i(r){this.cfg={};var t=la("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=la("image");t.appendChild(e);var n=(0,u.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=lS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),fS=uS,hS=function(){function i(r){var t=la("defs"),e=(0,u.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new nv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new tS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new nv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new iS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new fS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new sS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),cS=hS,vS=function(i){(0,pr.__extends)(r,i);function r(t){return i.call(this,(0,pr.__assign)((0,pr.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return rf},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!ef[a.tagName]){for(var o=a.parentNode;o&&!ef[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=la("svg"),e=new cS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Qc(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?vs(this):t==="clip"?ds(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();ds(this,t),e.length&&Jc(t,e)},r}(Ze.AbstractCanvas),iv=vS,dS=d(23231),pS=dS.version;function nf(i){return i?!1:i==null||isNaN(i)}function av(i){if((0,u.isArray)(i))return nf(i[1].y);var r=i.y;return(0,u.isArray)(r)?nf(r[0]):nf(r)}function af(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];av(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];av(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function vi(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,f=(0,H.__assign)((0,H.__assign)({},o),a);return s&&(r&&(a.stroke||(f.stroke=s)),t&&(a.fill||(f.fill=s))),e&&(0,u.isNil)(a[e])&&!(0,u.isNil)(l)&&(f[e]=l),f}function of(i){var r=i.x,t=(0,u.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,u.isArray)(r)?r[n]:r,y:e}})}var gS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function ov(i,r){var t=i.color;return{symbol:gS[r],style:{lineWidth:2,r:6,stroke:t}}}function yS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=vi(i,!0,!1,"lineWidth"),l=af(i.points,n,o),f=[],h=0,c=l.length;h<c;h++){var v=l[h];f=f.concat(xS(v,a,e,r,t,s))}return s.path=f,s}function sf(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=fe(i,!1,e)):(a=Ut(i,!1),r&&a.push(["Z"])),a}function mS(i,r,t,e,n,a){var o=[],s=[];(0,u.each)(i,function(h){var c=of(h);o.push(c[1]),s.push(c[0])});var l=sf(o,r,e,n,a),f=sf(s,r,e,n,a);return t?l:l.concat(f)}function xS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,u.isArray)(o.y)?mS(i,r,t,e,n,a):sf(i,r,e,n,a)}return[]}var L9=Qa("line",{defaultShapeType:"line"});(0,u.each)(["line","dot","dash","smooth"],function(i){an("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=yS(r,e,n),f=t.addShape({type:"path",attrs:l,name:"line"});return f},getMarker:function(r){return ov(r,i)}})});var _9=null,bS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var T=v.getModel();(this.isCoordinateChanged||wc(T,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var m=this.getShapeFactory();v=new gc({shapeFactory:m,container:f,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[Ot])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Na),lf=bS;function wS(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,f=i.length;l<f;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,u.each)([o,s],function(c,v){var m=[],T=e.parsePoints(c),B=T[0];o.length===1&&s.length===1?m=v===0?[["M",B.x-.5,B.y],["L",B.x+.5,B.y]]:[["L",B.x+.5,B.y],["L",B.x-.5,B.y]]:(r&&T.push({x:B.x,y:B.y}),t?m=fe(T,!1,n):m=Ut(T,!1),v>0&&(m[0][0]="L")),a=a.concat(m)}),a.push(["Z"])}return a}function al(i,r,t,e,n){for(var a=vi(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,f=i.showSinglePoint,h=af(l,o,f),c=[],v=0,m=h.length;v<m;v++){var T=h[v];c=c.concat(wS(T,s,t,e,n))}return a.path=c,a}function sv(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var O9=Qa("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,u.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});an("area","area",{draw:function(i,r){var t=al(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var I9=null,SS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,f=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=f,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[Ot])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(lf),CS=SS,k9=Qa("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return of(i)}});an("edge","line",{draw:function(i,r){var t=vi(i,!0,!1,"lineWidth"),e=Ut(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var B9=null,MS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Na),ES=MS,AS=d(55223),TS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,u.get)(this.styleOption,["style","shadowBlur"]);return(0,u.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Ot][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,u.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,f=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var m=this.getShadowCanvasCtx();e&&(t=t.filter(function($t){return $t[Ot][v]<=e[1]&&$t[Ot][v]>=e[0]}));for(var T=this.scales[v],B=0,Y=t;B<Y.length;B++){var Z=Y[B],j=this.getDrawCfg(Z),ut=j.x,ht=j.y,Et=T.scale(Z[Ot][v]);this.drawGrayScaleBlurredCircle(ut-s.x,ht-l.y,n+a,Et,m)}var Ft=m.getImageData(0,0,f,h);this.clearShadowCanvasCtx(),this.colorize(Ft),m.putImageData(Ft,0,0);var jt=this.getImageShape();jt.attr("x",s.x),jt.attr("y",l.y),jt.attr("width",f),jt.attr("height",h),jt.attr("img",m.canvas),jt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,u.isNumber)(s)){var l=a[s]?a[s]:AS.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,H.__assign)((0,H.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Ot]})},r}(Na),PS=TS;function uf(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function ff(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function lv(i,r,t){var e=[];return(0,u.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var D9=Qa("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return uf(i)}});an("interval","rect",{draw:function(i,r){var t=vi(i,!1,!0),e=this.parsePath(ff(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var F9=null;function LS(i,r){var t=i.length,e=i;(0,u.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function _S(i,r){if(r){var t=(0,u.flatten)(i),e=(0,u.valuesOfKey)(t,r);return e.length}return i.length}function uv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=LS(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,f=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(f*=l[1]-l[0]),h=r.columnWidthRatio),f*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,m=_S(a,v);f=f/m}var T=r.maxColumnWidth,B=r.minColumnWidth,Y=ft(i.coordinate);if(T){var Z=T/Y;f>Z&&(f=Z)}if(B){var j=B/Y;f<j&&(f=j)}return f}var OS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ft(o);n=n/s}else this.defaultSize||(this.defaultSize=uv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,u.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,u.get)(e,[n,"max"])&&t.change({max:0}))}},r}(Na),IS=OS,kS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(lf),BS=kS,yo={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},fv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],DS=["cross","tick","plus","hyphen","line"];function hf(i,r,t,e,n){var a=vi(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),f=0,h=o;f<h.length;f++){var c=h[f];l.addShape({type:"marker",attrs:(0,H.__assign)((0,H.__assign)((0,H.__assign)({},a),{symbol:yo[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,H.__assign)((0,H.__assign)((0,H.__assign)({},a),{symbol:yo[e]||e}),s)})}var R9=Qa("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return of(i)}});(0,u.each)(fv,function(i){an("point","hollow-"+i,{draw:function(r,t){return hf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:yo[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var N9=null,FS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,H.__assign)((0,H.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(Na),RS=FS;function NS(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,u.isEqual)((0,u.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var Y9=Qa("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,u.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});an("polygon","polygon",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=vi(i,!0,!0),e=this.parsePath(NS(i.points));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var G9=null,YS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,u.isArray)(n)&&(0,u.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),f=s.values.length,h=l.values.length,c=.5*1/f,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,u.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,u.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(Na),GS=YS,z9=Qa("schema",{defaultShapeType:""}),X9=null,zS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ft(o);n=n/s}else this.defaultSize||(this.defaultSize=uv(this)),n=this.defaultSize;return e.size=n,e},r}(Na),XS=zS;an("area","line",{draw:function(i,r){var t=al(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),an("area","smooth",{draw:function(i,r){var t=this.coordinate,e=al(i,!1,!0,this,sv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),an("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=al(i,!0,!0,this,sv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function cf(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,u.each)(t,function(n){e.push(n.x,n.y)}),e}function vf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,u.each)(t,function(n){e.push(n.x,n.y)}),e}function VS(i,r,t){var e=vf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function HS(i,r){var t=vf(i[1],r),e=vf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}an("edge","arc",{draw:function(i,r){var t=vi(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=VS(e[0],e[1],o):(t.fill=t.stroke,a=HS(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=Hi((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})});var s=cf(e[1],e[3]),l=cf(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function WS(i,r){var t=cf(i,r),e=[["M",i.x,i.y]];return e.push(t),e}an("edge","smooth",{draw:function(i,r){var t=vi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(WS(e[0],e[1]));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var ol=1/3;function jS(i,r){var t=[];t.push({x:i.x,y:i.y*(1-ol)+r.y*ol}),t.push({x:r.x,y:i.y*(1-ol)+r.y*ol}),t.push(r);var e=[["M",i.x,i.y]];return(0,u.each)(t,function(n){e.push(["L",n.x,n.y])}),e}an("edge","vhv",{draw:function(i,r){var t=vi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(jS(e[0],e[1]));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),an("interval","funnel",{getPoints:function(i){return i.size=i.size*2,uf(i)},draw:function(i,r){var t=vi(i,!1,!0),e=this.parsePath(lv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),an("interval","hollow-rect",{draw:function(i,r){var t=vi(i,!0,!1),e=this.parsePath(ff(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function US(i){var r=i.x,t=i.y,e=i.y0;return(0,u.isArray)(t)?t.map(function(n,a){return{x:(0,u.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}an("interval","line",{getPoints:function(i){return US(i)},draw:function(i,r){var t=vi(i,!0,!1,"lineWidth"),e=this.parsePath(ff(i.points,!1)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),an("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,uf(i,!0)},draw:function(i,r){var t=vi(i,!1,!0),e=this.parsePath(lv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function ZS(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,u.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function KS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}an("interval","tick",{getPoints:function(i){return ZS(i)},draw:function(i,r){var t=vi(i,!0,!1),e=this.parsePath(KS(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var $S=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var f=(n+o)/2;s=[{x:e,y:f},{x:a,y:f}];break;default:break}return s};function QS(i,r){var t=[];return(0,u.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=$S(e,a,r);t=t.concat(o)}}),t}function JS(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function qS(i,r){var t=af(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,u.each)(t,function(n){var a=QS(n,r);e=e.concat(JS(a))}),(0,H.__assign)((0,H.__assign)({},vi(i,!0,!1,"lineWidth")),{path:e})}(0,u.each)(["hv","vh","hvh","vhv"],function(i){an("line",i,{draw:function(r,t){var e=qS(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return ov(r,i)}})}),(0,u.each)(DS,function(i){an("point",i,{draw:function(r,t){return hf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:yo[i],style:{r:4.5,stroke:t,fill:null}}}})}),an("point","image",{draw:function(i,r){var t=vi(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,u.each)(fv,function(i){an("point",i,{draw:function(r,t){return hf(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:yo[i]||i,style:{r:4.5,fill:t}}}})});function hv(i){var r=(0,u.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function cv(i,r,t){var e=t/2,n;if((0,u.isArray)(r)){var a=hv(r),o=a.min,s=a.max,l=a.median,f=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,f],[c,h],[v,h],[v,f],[i,f],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,u.isNil)(r)?.5:r;var m=hv(i),o=m.min,s=m.max,l=m.median,f=m.min1,h=m.max1,T=r-e,B=r+e;n=[[o,T],[o,B],[o,r],[f,r],[f,T],[f,B],[h,B],[h,T],[h,r],[s,r],[s,T],[s,B],[l,T],[l,B]]}return n.map(function(Y){return{x:Y[0],y:Y[1]}})}function t2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}an("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return cv(r,t,e)},draw:function(i,r){var t=vi(i,!0,!1),e=this.parsePath(t2(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=cv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function e2(i){var r=(0,u.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return va(t,4,t[t.length-1])}function vv(i,r,t){var e=e2(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function r2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}an("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return vv(r,t,e)},draw:function(i,r){var t=vi(i,!0,!0),e=this.parsePath(r2(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=vv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function n2(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,u.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}an("polygon","square",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=vi(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,H.__assign)((0,H.__assign)({},t),n2(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var i2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,f=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(f.x-h.x)/2*c,m=(f.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=m),t.textAlign=(0,u.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=m),t.textAlign=(0,u.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=m):t.y+=m*2,t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=m,t.textAlign=(0,u.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=m),t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","bottom");break;default:break}},r}(Ks),a2=i2,sl=Math.PI/2,o2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,f=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(f,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=f,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(f,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,u.isArray)(t.x)&&!(0,u.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,u.isArray)(t.x)?t.x[e]:t.x,y:(0,u.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return se(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Rt(o,n);if(l===0)return(0,H.__assign)((0,H.__assign)({},s),{r:l});var f=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));f=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(f),y:s.y+l*Math.sin(f),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+sl;return n&&(a-=sl),a&&(a>sl?a=a-Math.PI:a<-sl&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,u.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(Ks),dv=o2,s2=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,u.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,u.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=se(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=se(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,H.__assign)((0,H.__assign)({},pn(o.x,o.y,s,t)),{angle:t,r:s})},r}(dv),l2=s2,pv=4;function u2(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,f=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,m=Number.MIN_VALUE,T=r.map(function(Et){return Et.y>v&&(v=Et.y),Et.y<m&&(m=Et.y),{size:t,targets:[Et.y-f]}});for(m-=f,v-f>h&&(h=v-f);o;)for(T.forEach(function(Et){var Ft=(Math.min.apply(m,Et.targets)+Math.max.apply(m,Et.targets))/2;Et.pos=Math.min(Math.max(m,Ft-Et.size/2),h-Et.size)}),o=!1,c=T.length;c--;)if(c>0){var B=T[c-1],Y=T[c];B.pos+B.size>Y.pos&&(B.size+=Y.size,B.targets=B.targets.concat(Y.targets),B.pos+B.size>h&&(B.pos=h-B.size),T.splice(c,1),o=!0)}c=0,T.forEach(function(Et){var Ft=f+t/2;Et.targets.forEach(function(){r[c].y=Et.pos+Ft,Ft+=t,c++})});for(var Z={},j=0,ut=i;j<ut.length;j++){var ht=ut[j];Z[ht.get("id")]=ht}r.forEach(function(Et){var Ft=Et.r*Et.r,jt=Math.pow(Math.abs(Et.y-n.y),2);if(Ft<jt)Et.x=n.x;else{var $t=Math.sqrt(Ft-jt);a?Et.x=n.x+$t:Et.x=n.x-$t}var Wt=Z[Et.id];Wt.attr("x",Et.x),Wt.attr("y",Et.y);var re=(0,u.find)(Wt.getChildren(),function(ue){return ue.get("type")==="text"});re&&(re.attr("y",Et.y),re.attr("x",Et.x))})}function f2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(m){!m||(m.textAlign==="right"?v[0].push(m):v[1].push(m))}),v.forEach(function(m,T){var B=h/l;m.length>B&&(m.sort(function(Y,Z){return Z["..percent"]-Y["..percent"]}),m.splice(B,m.length-B)),m.sort(function(Y,Z){return Y.y-Z.y}),u2(r,m,l,c,s,T)})}(0,u.each)(i,function(m){if(m&&m.labelLine){var T=m.offset,B=m.angle,Y=pn(s.x,s.y,o,B),Z=pn(s.x,s.y,o+T/2,B),j=m.x+(0,u.get)(m,"offsetX",0),ut=m.y+(0,u.get)(m,"offsetY",0),ht={x:j-Math.cos(B)*pv,y:ut-Math.sin(B)*pv};(0,u.isObject)(m.labelLine)||(m.labelLine={}),m.labelLine.path=["M "+Y.x,Y.y+" Q"+Z.x,Z.y+" "+ht.x,ht.y].join(",")}})}var gv=4;function h2(i,r,t,e,n,a,o){r.sort(function(Wt,re){return Wt.y-re.y});var s=e.start,l=e.end,f=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Wt){return{content:Wt.content,size:t,pos:Wt.y,targets:[Wt.y]}}),m=Math.max.apply(Math,v.map(function(Wt){return Wt.pos})),T=Math.min.apply(Math,v.map(function(Wt){return Wt.pos}));if(o){for(var B=Math.min(T,h-(v.length-1)*t),Y=Math.max(B+v.length*t,m+t),Z=!0;Z;)for(Z=!1,c=v.length;c--;)if(c>0){var j=v[c-1],ut=v[c];j.pos+j.size>ut.pos&&(ut.pos+c*t<Y?(j.size+=ut.size,j.targets=j.targets.concat(ut.targets),v.splice(c,1)):j.pos=ut.pos-j.size,Z=!0)}}else for(var Y=Math.max(f+(v.length-1)*t,m),B=Math.min(T,Y-(v.length-1)*t),Z=!0;Z;)for(Z=!1,c=v.length;c--;)if(c>0){var j=v[c-1],ut=v[c];j.pos+j.size>ut.pos&&(j.pos-B>c*t?j.pos-=j.size:(j.size+=ut.size,j.targets=j.targets.concat(ut.targets),v.splice(c,1)),Z=!0)}c=0,v.forEach(function(Wt){var re=Wt.pos;Wt.targets.forEach(function(){r[c].y=re,re+=t,c++})});for(var ht={},Et=0,Ft=i;Et<Ft.length;Et++){var jt=Ft[Et];ht[jt.get("id")]=jt}var $t=(Math.max.apply(Math,r.map(function(Wt){return Wt.y}))-Math.min.apply(Math,r.map(function(Wt){return Wt.y})))/2;$t=Math.max($t,a),r.forEach(function(Wt){var re=ht[Wt.id],ue=re.find(function(Pe){return Pe.get("type")==="text"});if(ue&&ue.attr("y")!==Wt.y){var oe=$t*$t,Ee=Math.pow(Math.abs(Wt.y-n.y),2);if(oe<Ee)Wt.x=n.x;else{var _e=Math.sqrt(oe-Ee);o?Wt.x=n.x+_e:Wt.x=n.x-_e}}re.attr("x",Wt.x),re.attr("y",Wt.y),ue&&(ue.attr("y",Wt.y),ue.attr("x",Wt.x))})}function c2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,u.get)(i[0],"labelHeight",14),f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(m){!m||(m.x<s.x?v[0].push(m):v[1].push(m))}),v.forEach(function(m,T){var B=h/l;if(m.length>B){m.sort(function(Z,j){return j["data.percent"]-Z["data.percent"]});var Y=m.splice(B,m.length-B+1);Y.forEach(function(Z){var j=r.findIndex(function(ut){return ut.get("id")===Z.id});r[j]&&(r[j].remove(!0),r.splice(j,1))})}h2(r,m,l,c,s,f,T===1)})}(0,u.each)(i,function(m){if(m&&m.labelLine){var T=m.angle,B=pn(s.x,s.y,o,T),Y=m.x+(0,u.get)(m,"offsetX",0)*(Math.cos(T)>0?1:-1),Z=m.y+(0,u.get)(m,"offsetY",0)*(Math.sin(T)>0?1:-1),j={x:Y-Math.cos(T)*gv,y:Z-Math.sin(T)*gv},ut=m.labelLine.smooth,ht=[],Et=j.x-s.x,Ft=j.y-s.y,jt=Math.atan(Ft/Et);if(Et<0&&(jt+=Math.PI),ut===!1){(0,u.isObject)(m.labelLine)||(m.labelLine={});var $t=0;(T<0&&T>-Math.PI/2||T>Math.PI*1.5)&&j.y>B.y&&($t=1),T>=0&&T<Math.PI/2&&j.y>B.y&&($t=1),T>=Math.PI/2&&T<Math.PI&&B.y>j.y&&($t=1),(T<-Math.PI/2||T>=Math.PI&&T<Math.PI*1.5)&&B.y>j.y&&($t=1);var Wt=n/2>4?4:Math.max(n/2-1,0),re=pn(s.x,s.y,o+Wt,T),ue=pn(s.x,s.y,o+n/2,jt),oe=0;ht.push("M "+B.x+" "+B.y),ht.push("L "+re.x+" "+re.y),ht.push("A "+s.x+" "+s.y+" 0 "+oe+" "+$t+" "+ue.x+" "+ue.y),ht.push("L "+j.x+" "+j.y)}else{var re=pn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),T),Ee=B.x<s.x?1:-1;ht.push("M "+j.x+" "+j.y);var _e=(B.y-s.y)/(B.x-s.x),Pe=(j.y-s.y)/(j.x-s.x);Math.abs(_e-Pe)>Math.pow(Math.E,-16)&&ht.push.apply(ht,["C",j.x+Ee*4,j.y,2*re.x-B.x,2*re.y-B.y,B.x,B.y]),ht.push("L "+B.x+" "+B.y)}m.labelLine.path=ht.join(" ")}})}function v2(i,r,t,e){(0,u.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,f=n.getCanvasBBox(),h=f.minX,c=f.minY,v=f.maxX,m=f.maxY,T=f.x,B=f.y,Y=f.width,Z=f.height,j=T,ut=B;(h<a||v<a)&&(j=a),(c<o||m<o)&&(ut=o),h>s?j=s-Y:v>s&&(j=j-(v-s)),c>l?ut=l-Z:m>l&&(ut=ut-(m-l)),(j!==T||ut!==B)&&Hu(n,j-T,ut-B)})}function d2(i,r,t,e){(0,u.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var p2=100,yv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var f=o;f<=s;f++)if(e[l][f]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function g2(i,r,t){t===void 0&&(t=p2);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),f,h=-e,c=0,v=0,m=function(Z){var j=Z*.1;return[j*Math.cos(j),j*Math.sin(j)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var T=!1,B=0,Y={};Math.min(Math.abs(c),Math.abs(v))<l&&B<t;)if(f=m(h+=e),c=~~f[0],v=~~f[1],!(!c&&!v||Y[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),B++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),T=!0,Y[c+"-"+v]=!0;break}return T}function y2(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function m2(i,r,t,e){var n=new yv;(0,u.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});g2(o,n)||a.remove(!0)}),n.destroy()}function x2(i,r,t,e){var n=new yv;(0,u.each)(r,function(a){for(var o=a.find(function(m){return m.get("type")==="text"}),s=o.attr(),l=s.x,f=s.y,h=!1,c=0;c<=8;c++){var v=y2(o,l,f,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function b2(i,r,t){var e={fillOpacity:(0,u.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,u.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,u.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function w2(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function S2(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(yn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=yn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(yn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=yn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(yn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=yn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function df(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),f,h;n==="y"?(f=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(f=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(f=t.getCenter().x,h=t.getCenter().y):(f=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=S2(i,[f,h],n);i.animate({matrix:c},r)}function C2(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"x")}function M2(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"y")}function E2(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"xy")}function A2(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function T2(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function P2(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=yn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:yn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function L2(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=yn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:yn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var _2=d(84909);function mv(i,r){var t,e=(0,_2.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,u.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,u.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,u.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,u.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function xv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function bv(i){var r,t,e,n=i.filter(function(ut){return ut[0]==="A"||ut[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),f=xv(i[s-1]),h=xv(i[l-1]),c=mv(f,a),v=c.startAngle,m=c.endAngle,T=mv(h,o),B=T.startAngle,Y=T.endAngle;(0,u.isNumberEqual)(v,B)&&(0,u.isNumberEqual)(m,Y)?(t=v,e=m):(t=Math.min(v,B),e=Math.max(m,Y));var Z=a[1],j=n[n.length-1][1];return Z<j?(r=[j,Z],Z=r[0],j=r[1]):Z===j&&(j=0),{startAngle:t,endAngle:e,radius:Z,innerRadius:j}}function O2(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(j){return j[0]}),s=bv(a),l=s.startAngle,f=s.endAngle,h=s.radius,c=s.innerRadius,v=bv(i.attr("path")),m=v.startAngle,T=v.endAngle,B=n.getCenter(),Y=l-m,Z=f-T;i.animate(function(j){var ut=m+j*Y,ht=T+j*Z;return(0,H.__assign)((0,H.__assign)({},e),{path:(0,u.isEqual)(o,["M","A","A","Z"])?Hi(B.x,B.y,h,ut,ht):fi(B.x,B.y,h,ut,ht,c)})},(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function I2(i,r,t){var e=he(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function pf(i,r,t){if(i.isGroup())(0,u.each)(i.getChildren(),function(s){pf(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=yn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:yn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:yn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function k2(i,r,t){pf(i,r,"zoomIn")}function B2(i,r,t){pf(i,r,"zoomOut")}function Ga(i){return[pt.TOP,pt.BOTTOM].includes(i)?{offsetX:0,offsetY:i===pt.TOP?-8:8,style:{textAlign:"center",textBaseline:i===pt.TOP?"bottom":"top"}}:[pt.LEFT,pt.RIGHT].includes(i)?{offsetX:i===pt.LEFT?-8:8,offsetY:0,style:{textAlign:i===pt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function gf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var D2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),f=gf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:gf(f,l,h),end:gf(f,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),f=l.length,h=[];return l.forEach(function(c,v){var m=[{field:s,value:c,values:l}],T=(0,u.filter)(t,e.getFacetDataFilter(m)),B={type:o,data:T,region:e.getRegion(f,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(B)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},Ga(pt.TOP),t.cfg.title);a.annotation().text(s)})},r}(Er),F2=D2,R2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var f=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var m=e.getRowCol(v,a),T=m.row,B=m.col,Y=[{field:o,value:c,values:s}],Z=(0,u.filter)(t,e.getFacetDataFilter(Y)),j={type:e.cfg.type,data:Z,region:e.getRegion(f,a,B,T),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:B,rowIndex:T,columnValuesLength:a,rowValuesLength:f,total:l};h.push(j)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},Ga(pt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(Er),N2=R2,Y2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],f=0;f<s;f++)for(var h=n[f],c=0;c<o;c++){var v=n[c],m={type:a,data:t,region:this.getRegion(o,s,f,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:f,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(m)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,f=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,u.get)(t.cfg.columnTitle,"formatter"),m=(0,u.deepMix)({position:["50%","0%"],content:v?v(f):f},Ga(pt.TOP),t.cfg.columnTitle);c.annotation().text(m)}if(a===s-1){var v=(0,u.get)(t.cfg.rowTitle,"formatter"),m=(0,u.deepMix)({position:["100%","50%"],content:v?v(h):h},Ga(pt.RIGHT),t.cfg.rowTitle);c.annotation().text(m)}})},r}(Er),G2=Y2,z2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],f=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,f=this.getFieldValues(t,c).slice(0,2),s=f.length),l.forEach(function(v,m){f.forEach(function(T,B){var Y=[{field:h,value:v,values:l},{field:c,value:T,values:f}],Z=(0,u.filter)(t,e.getFacetDataFilter(Y)),j={type:e.cfg.type,data:Z,region:e.getRegion(s,o,m,B),columnValue:v,rowValue:T,columnField:h,rowField:c,columnIndex:m,rowIndex:B,columnValuesLength:o,rowValuesLength:s};a.push(j)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,u.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var f=(0,u.deepMix)({position:["50%","0%"],content:l?l(a):a},Ga(pt.TOP),t.cfg.title);s.annotation().text(f)}else{var f=(0,u.deepMix)({position:["100%","50%"],content:l?l(o):o},Ga(pt.RIGHT),t.cfg.title);s.annotation().text(f)}})},r}(Er),X2=z2,V2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,f=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),f=c.length),h.forEach(function(v,m){c.forEach(function(T,B){var Y=[{field:a,value:v,values:h},{field:o,value:T,values:c}],Z=(0,u.filter)(t,e.getFacetDataFilter(Y)),j={type:e.cfg.type,data:Z,region:e.getRegion(f,l,m,B),columnValue:v,rowValue:T,columnField:a,rowField:o,columnIndex:m,rowIndex:B,columnValuesLength:l,rowValuesLength:f};s.push(j)})}),s},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,f=e.rowValue,h=e.view;if(o===0){var c=(0,u.get)(t.cfg.columnTitle,"formatter"),v=(0,u.deepMix)({position:["50%","0%"],content:c?c(l):l},Ga(pt.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,u.get)(t.cfg.rowTitle,"formatter"),v=(0,u.deepMix)({position:["100%","50%"],content:c?c(f):f},Ga(pt.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,H.__assign)((0,H.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,H.__assign)((0,H.__assign)({},n),{title:null}):n},r}(Er),H2=V2,W2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(gt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},f={x:l.x+o,y:l.y+s*2/3};return{start:l,end:f}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),f=0,h=l;f<h.length;f++){var c=h[f];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],f=o[e-1],h=this.getFieldValues(t,f);return h.forEach(function(c,v){var m=[{field:f,value:c,values:h}],T=t.filter(a.getFacetDataFilter(m));if(T.length){var B={type:a.cfg.type,data:T,region:null,columnValue:c,rowValue:"",columnField:f,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(T,e+1,n)};l.push(B),n.push(B)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},Ga(pt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var f=l.view.coordinateBBox,h={x:f.bl.x+(f.tr.x-f.bl.x)/2,y:f.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,u.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r}(Er),j2=W2,U2=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(ot.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(ot.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,f=l.type,h=t.getAnnotationTheme(f);s.update(t.getAnnotationCfg(f,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,u.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(gt.AFTER_RENDER,function(){n(o)}):n(o)}):(0,u.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(gt.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),f=t.cache.get(a);if(f)kt(l,["container"]),f.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(gt.AFTER_RENDER,function(){(0,u.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,u.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=Wr.Annotation[(0,u.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?ot.FORE:ot.BG,direction:pt.NONE,type:it.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,H.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,H.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,H.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,H.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,H.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,H.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,H.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,H.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,u.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,u.isArray)(a)){var l=a[0],f=a[1];if((0,u.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(f,Object.values(n)[0])}else if(!(0,u.isNil)(a))for(var h=0,c=(0,u.keys)(a);h<c.length;h++){var v=c[h],m=a[v];v===e.field&&(o=this.getNormalizedValue(m,e)),n[v]&&(s=this.getNormalizedValue(m,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,f=this.view.getData(),h=(0,u.isArray)(t)?t[0]:t[l],c=(0,u.isArray)(e)?e[0]:e[l],v=[],m;return(0,u.each)(f,function(T,B){if(T[l]===h&&(m=B),B>=m){var Y=n.parsePosition([T[l],T[s.field]]);Y&&v.push(Y)}if(T[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},f=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:f,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,u.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,f=s.end,h=this.parsePosition(l),c=this.parsePosition(f),v=se(a,h),m=se(a,c);v>m&&(m=Math.PI*2+m),o={center:a.getCenter(),radius:Rt(a,h),startAngle:v,endAngle:m}}else if(t==="image"){var T=e,l=T.start,f=T.end;o={start:this.parsePosition(l),end:this.parsePosition(f),src:e.src}}else if(t==="line"){var B=e,l=B.start,f=B.end;o={start:this.parsePosition(l),end:this.parsePosition(f),text:(0,u.get)(e,"text",null)}}else if(t==="region"){var Y=e,l=Y.start,f=Y.end;o={start:this.parsePosition(l),end:this.parsePosition(f)}}else if(t==="text"){var Z=this.view.getData(),j=e,ut=j.position,ht=j.content,Et=(0,H.__rest)(j,["position","content"]),Ft=ht;(0,u.isFunction)(ht)&&(Ft=ht(Z)),o=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},this.parsePosition(ut)),Et),{content:Ft})}else if(t==="dataMarker"){var jt=e,ut=jt.position,$t=jt.point,Wt=jt.line,re=jt.text,ue=jt.autoAdjust,oe=jt.direction;o=(0,H.__assign)((0,H.__assign)({},this.parsePosition(ut)),{coordinateBBox:this.getCoordinateBBox(),point:$t,line:Wt,text:re,autoAdjust:ue,direction:oe})}else if(t==="dataRegion"){var Ee=e,l=Ee.start,f=Ee.end,_e=Ee.region,re=Ee.text,Pe=Ee.lineLength;o={points:this.getRegionPoints(l,f),region:_e,text:re,lineLength:Pe}}else if(t==="regionFilter"){var ze=e,l=ze.start,f=ze.end,He=ze.apply,je=ze.color,Ye=this.view.geometries,Ge=[],ar=function(lr){!lr||(lr.isGroup()?lr.getChildren().forEach(function(xr){return ar(xr)}):Ge.push(lr))};(0,u.each)(Ye,function(lr){He?(0,u.contains)(He,lr.type)&&(0,u.each)(lr.elements,function(xr){ar(xr.shape)}):(0,u.each)(lr.elements,function(xr){ar(xr.shape)})}),o={color:je,shapes:Ge,start:this.parsePosition(l),end:this.parsePosition(f)}}var nr=(0,u.deepMix)({},n,(0,H.__assign)((0,H.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return nr.container=this.getComponentContainer(nr),nr.animate=this.view.getOptions().animate&&nr.animate&&(0,u.get)(e,"animate",nr.animate),nr.animateOption=(0,u.deepMix)({},Do,nr.animateOption,e.animateOption),nr},r.prototype.isTop=function(t){return(0,u.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,u.get)(this.view.getTheme(),["components","annotation",t],{})},r}(Bo),Z2=U2;function wv(i,r){return(0,u.get)(i,["components","axis",r,"grid"],{})}function ll(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var f=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),i.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]});else if(l){var h=o.value,c=(h+f)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function yf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,f){var h=l?l.value:f.value,c=f.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,u.map)(Array(a+1),function(m,T){return i.convert({x:T/a,y:e?c:v})})}),f},s[0]),o}function Sv(i,r){var t=(0,u.get)(r,"grid");if(t===null)return!1;var e=(0,u.get)(i,"grid");return!(t===void 0&&e===null)}var qa=["container"],Cv=(0,H.__assign)((0,H.__assign)({},Do),{appear:null}),K2=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(ot.BG).addGroup(),e.axisContainer=e.view.getLayer(ot.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,u.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,f=l.dim,h=l.scale,c=l.alignTick,v;if(s===it.AXIS)e.isPolar?f==="x"?v=e.isTransposed?$e(e,o):cr(e):f==="y"&&(v=e.isTransposed?cr(e):$e(e,o)):v=$e(e,o);else if(s===it.GRID)if(e.isPolar){var m=void 0;e.isTransposed?m=f==="x"?yf(e,t.view.getYScales()[0],h,c,f):ll(e,h,f,c):m=f==="x"?ll(e,h,f,c):yf(e,t.view.getXScale(),h,c,f),v={items:m,center:t.view.getCoordinate().getCenter()}}else v={items:ll(e,h,f,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=Qe(this.option,e.field);if(n!==!1){var a=gr(n,pt.BOTTOM),o=ot.BG,s="x",l=this.view.getCoordinate(),f=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(f);if(c){var v=this.getLineAxisCfg(e,n,a);kt(v,qa),c.component.update(v),t.set(f,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(f,c),t.set(f,c);var m=this.cache.get(h);if(m){var v=this.getLineGridCfg(e,n,a,s);kt(v,qa),m.component.update(v),t.set(h,m)}else m=this.createLineGrid(e,n,o,a,s),m&&(this.cache.set(h,m),t.set(h,m))}else if(l.isPolar){var c=this.cache.get(f);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,pt.RADIUS):this.getCircleAxisCfg(e,n,a);kt(v,qa),c.component.update(v),t.set(f,c)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;c=this.createLineAxis(e,n,o,pt.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(f,c),t.set(f,c)}var m=this.cache.get(h);if(m){var v=l.isTransposed?this.getCircleGridCfg(e,n,pt.RADIUS,s):this.getLineGridCfg(e,n,pt.CIRCLE,s);kt(v,qa),m.component.update(v),t.set(h,m)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;m=this.createCircleGrid(e,n,o,pt.RADIUS,s)}else m=this.createLineGrid(e,n,o,pt.CIRCLE,s);m&&(this.cache.set(h,m),t.set(h,m))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,u.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=Qe(e.option,s);if(l!==!1){var f=ot.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),m=e.view.getCoordinate();if(m.isRect){var T=gr(l,o===0?pt.LEFT:pt.RIGHT),B=e.cache.get(c);if(B){var Y=e.getLineAxisCfg(a,l,T);kt(Y,qa),B.component.update(Y),t.set(c,B)}else B=e.createLineAxis(a,l,f,T,h),e.cache.set(c,B),t.set(c,B);var Z=e.cache.get(v);if(Z){var Y=e.getLineGridCfg(a,l,T,h);kt(Y,qa),Z.component.update(Y),t.set(v,Z)}else Z=e.createLineGrid(a,l,f,T,h),Z&&(e.cache.set(v,Z),t.set(v,Z))}else if(m.isPolar){var B=e.cache.get(c);if(B){var Y=m.isTransposed?e.getCircleAxisCfg(a,l,pt.CIRCLE):e.getLineAxisCfg(a,l,pt.RADIUS);kt(Y,qa),B.component.update(Y),t.set(c,B)}else{if(m.isTransposed){if((0,u.isUndefined)(l))return;B=e.createCircleAxis(a,l,f,pt.CIRCLE,h)}else B=e.createLineAxis(a,l,f,pt.RADIUS,h);e.cache.set(c,B),t.set(c,B)}var Z=e.cache.get(v);if(Z){var Y=m.isTransposed?e.getLineGridCfg(a,l,pt.CIRCLE,h):e.getCircleGridCfg(a,l,pt.RADIUS,h);kt(Y,qa),Z.component.update(Y),t.set(v,Z)}else{if(m.isTransposed){if((0,u.isUndefined)(l))return;Z=e.createLineGrid(a,l,f,pt.CIRCLE,h)}else Z=e.createCircleGrid(a,l,f,pt.RADIUS,h);Z&&(e.cache.set(v,Z),t.set(v,Z))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new Zn(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===pt.RADIUS?pt.NONE:a,type:it.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new mi(s),layer:n,direction:pt.NONE,type:it.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new ei(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:it.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new xi(s),layer:n,direction:pt.NONE,type:it.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=$e(o,n),l=Ir(t,e),f=ir(this.view.getTheme(),n),h=(0,u.get)(e,["title"])?(0,u.deepMix)({title:{style:{text:l}}},e):e,c=(0,u.deepMix)((0,H.__assign)((0,H.__assign)({container:a},s),{ticks:t.getTicks().map(function(ut){return{id:""+ut.tickValue,name:ut.text,value:ut.value}}),verticalFactor:o.isPolar?or(s,o.getCenter())*-1:or(s,o.getCenter())}),f,h),v=this.getAnimateCfg(c),m=v.animate,T=v.animateOption;c.animateOption=T,c.animate=m;var B=Je(s),Y=(0,u.get)(c,"verticalLimitLength",B?1/3:1/2);if(Y<=1){var Z=this.view.getCanvas().get("width"),j=this.view.getCanvas().get("height");c.verticalLimitLength=Y*(B?Z:j)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Sv(ir(this.view.getTheme(),n),e)){var o=wv(this.view.getTheme(),n),s=(0,u.deepMix)({container:this.gridContainer},o,(0,u.get)(e,"grid"),this.getAnimateCfg(e));return s.items=ll(this.view.getCoordinate(),t,a,(0,u.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(B){return{id:""+B.tickValue,name:B.text,value:B.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Ir(t,e),f=ir(this.view.getTheme(),pt.CIRCLE),h=(0,u.get)(e,["title"])?(0,u.deepMix)({title:{style:{text:l}}},e):e,c=(0,u.deepMix)((0,H.__assign)((0,H.__assign)({container:a},cr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),f,h),v=this.getAnimateCfg(c),m=v.animate,T=v.animateOption;return c.animate=m,c.animateOption=T,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Sv(ir(this.view.getTheme(),n),e)){var o=wv(this.view.getTheme(),pt.RADIUS),s=(0,u.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,u.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,u.get)(s,"alignTick",!0),f=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=yf(this.view.getCoordinate(),f,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,u.get)(t,"animate"),animateOption:t&&t.animateOption?(0,u.deepMix)({},Cv,t.animateOption):Cv}},r}(Bo),$2=K2;function ul(i,r,t){return t===pt.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===pt.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===pt.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===pt.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===pt.TOP_LEFT||t===pt.LEFT_TOP?[i.tl.x,i.tl.y]:t===pt.TOP_RIGHT||t===pt.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===pt.BOTTOM_LEFT||t===pt.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===pt.BOTTOM_RIGHT||t===pt.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function Q2(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Mv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Ev(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function J2(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Mv(n)),e<0&&(n=Ev(n)),n}function q2(i,r){var t=i;return r.isReflect("x")&&(t=Mv(t)),r.isReflect("y")&&(t=Ev(t)),t}function V9(i,r){var t=i;return t=Q2(t,r),t=J2(t,r),t=q2(t,r),t}function Av(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,H.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function Tv(i){var r=i.symbol;(0,u.isString)(r)&&yo[r]&&(i.symbol=yo[r])}function mf(i){return i.startsWith(pt.LEFT)||i.startsWith(pt.RIGHT)?"vertical":"horizontal"}function tC(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),f=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,m=c.text,T=c.value,B=m,Y=a.invert(T),Z=i.filterFieldData(o,[(v={},v[o]=Y,v)]).length===0,j=Av(s,Y,f),ut=Av(l,Y,"point"),ht=r.getShapeMarker(ut,{color:j,isInPolar:h});return ht=(0,u.deepMix)({},e,ht,n),Tv(ht),{id:Y,name:B,value:Y,marker:ht,unchecked:Z}})}return[]}function eC(i,r,t){return t.map(function(e){var n=(0,u.deepMix)({},i,r,e.marker);return Tv(n),e.marker=n,e})}function Pv(i,r){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[r],i)}function ps(i){return(0,u.get)(i,"position",pt.BOTTOM)}var rC=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(ot.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,f){var h=t.createFieldLegend(s,l,f);h&&(h.component.init(),t.components.push(h))};if((0,u.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=ot.FORE,o=ps(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:it.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,u.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,u.each)(this.components,function(n){var a=n.component,o=n.direction,s=mf(o),l=t.getCategoryLegendSizeCfg(s),f=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,f||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new Xe(c.x,c.y,c.width,c.height),m=ul(t.view.viewBBox,v,o),T=m[0],B=m[1],Y=ul(t.layoutBBox,v,o),Z=Y[0],j=Y[1],ut=0,ht=0;o.startsWith("top")||o.startsWith("bottom")?(ut=T,ht=j):(ut=Z,ht=B),o.indexOf("left")>=0&&(ut+=e[3]),o.indexOf("right")>=0&&(ut-=e[1]),o.indexOf("top")>=0&&(ht+=e[0]),o.indexOf("bottom")>=0&&(ht-=e[2]),a.update({x:ut,y:ht}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,m,T){var B=t.getId(T.field),Y=t.getComponentById(B);if(Y){var Z=void 0,j=Pv(t.option,T.field);j!==!1&&((0,u.get)(j,"custom")?Z=t.getCategoryCfg(v,m,T,j,!0):T.isLinear?Z=t.getContinuousCfg(v,m,T,j):T.isCategory&&(Z=t.getCategoryCfg(v,m,T,j))),Z&&(kt(Z,["container"]),Y.direction=ps(j),Y.component.update(Z),e[B]=!0)}else{var ut=t.createFieldLegend(v,m,T);ut&&(ut.component.init(),t.components.push(ut),e[B]=!0)}};if((0,u.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);kt(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var f=ot.FORE,h=ps(this.option);this.components.push({id:a,component:l,layer:f,direction:h,type:it.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,u.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,u.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,u.each)(n,function(o){var s=o.getGroupAttributes();(0,u.each)(s,function(l){var f=l.getScale(l.type);!f||f.type==="identity"||a[f.field]||(t(o,l,f),a[f.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=Pv(this.option,n.field),s=ot.FORE,l=ps(o);if(o!==!1&&((0,u.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:it.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Ht(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new Zt(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Ht(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,u.find)(o,function(B){return B.value===0}),l=(0,u.find)(o,function(B){return B.value===1}),f=o.map(function(B){var Y=B.value,Z=B.tickValue,j=e.mapping(n.invert(Y)).join("");return{value:Z,attrValue:j,color:j,scaleValue:Y}});s||f.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||f.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),f.sort(function(B,Y){return B.value-Y.value});var h={min:(0,u.head)(f).value,max:(0,u.last)(f).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=f.map(function(B){return B.attrValue}));var c=this.container,v=ps(a),m=mf(v),T=(0,u.get)(a,"title");return T&&(T=(0,u.deepMix)({text:Te(n)},T)),h.container=c,h.layout=m,h.title=T,h.animateOption=Do,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,u.get)(a,"position",pt.BOTTOM),f=(0,u.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,u.get)(a,"marker"),c=mf(l),v=o?eC(f,h,a.items):tC(this.view,t,e,f,h),m=(0,u.get)(a,"title");m&&(m=(0,u.deepMix)({text:n?Te(n):""},m));var T=this.getCategoryLegendSizeCfg(c);T.container=s,T.layout=c,T.items=v,T.title=m,T.animateOption=Do;var B=this.mergeLegendCfg(T,a,l);B.reversed&&B.items.reverse();var Y=(0,u.get)(B,"maxItemWidth");return Y&&Y<=1&&(B.maxItemWidth=this.view.viewBBox.width*Y),B},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,u.get)(this.view.getTheme(),["components","legend",a],{});return(0,u.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,u.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*st,maxHeight:a}:{maxWidth:n,maxHeight:a*st}},r}(Bo),nC=rC,iC=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(ot.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Xe(e.x,e.y,Math.min(e.width,t),e.height),a=ul(this.view.viewBBox,n,pt.BOTTOM),o=a[0],s=a[1],l=ul(this.view.coordinateBBox,n,pt.BOTTOM),f=l[0],h=l[1];this.slider.component.update({x:f,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Wr.Slider((0,H.__assign)({container:this.container},t));return e.init(),{component:e,layer:ot.FORE,direction:pt.BOTTOM,type:it.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return kt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,u.isObject)(this.option)){var t=(0,H.__assign)({data:this.getData()},(0,u.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,u.deepMix)({},{x:e,y:n,width:a},this.option);return(0,H.__assign)((0,H.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,f){return f[o]===s[0]&&l.push(f[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,u.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(B,Y){return B.includes(Y[s])||B.push(Y[s]),B},[]),f=(0,u.size)(l),h=Math.floor(t*(f-1)),c=Math.floor(e*(f-1)),v=(0,u.get)(l,[h]),m=(0,u.get)(l,[c]),T=this.getSliderCfg().formatter;T&&(v=T(v,n[h],h),m=T(m,n[c],c)),this.slider.component.update({minText:v,maxText:m,start:t,end:e}),this.view.filter(a.field,function(B,Y){var Z=l.indexOf(B);return Z>-1?ta(Z,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(Bo),aC=iC;function oC(i){for(var r=[],t=function(n){var a=i[n],o=(0,u.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var sC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,H.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,f=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,m=this.items,T=this.title;if(!(0,u.isEqual)(T,a)||!(0,u.isEqual)(m,n)?(e.emit("tooltip:change",(0,H.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,u.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),f&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var B=(0,u.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(B?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,u.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var f=l[s],h=f.mappingData,c=h.x,v=h.y;f.x=(0,u.isArray)(c)?c[c.length-1]:c,f.y=(0,u.isArray)(v)?v[v.length-1]:v}var m=this.getTooltipCfg().shared;if(m===!1&&e.length>1){for(var T=e[0],B=Math.abs(t.y-T[0].y),Y=0,Z=e;Y<Z.length;Y++){var j=Z[Y],ut=Math.abs(t.y-j[0].y);ut<=B&&(T=j,B=ut)}e=[T]}return oC((0,u.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,u.get)(n,["components","tooltip"],{}),o=(0,u.isUndefined)((0,u.get)(e,"enterable"))?a.enterable:(0,u.get)(e,"enterable");return(0,u.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new ne((0,H.__assign)((0,H.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,f=s.y,h=(0,H.__assign)((0,H.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:f});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,u.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!Kt(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=se(n,t),l=n.getCenter(),f=n.getRadius();o=pn(l.x,l.y,f,s),a=l}var h=(0,u.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,u.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new Wr.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!Kt(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Rt(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,u.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,u.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var f=this.yCrosshair;f?n.isRect&&f.get("type")==="circle"||!n.isRect&&f.get("type")==="line"?(f=new Wr.Crosshair[o](a),f.init()):f.update(a):(f=new Wr.Crosshair[o](a),f.init()),f.render(),f.show(),this.yCrosshair=f}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,u.get)(n,["crosshairs","text"]),o=(0,u.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),f=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,m=void 0;if(o){var T=this.view.getCoordinate().invert(e);v=h.invert(T.x),m=c.invert(T.y)}else v=f.data[h.field],m=f.data[c.field];var B=t==="x"?v:m;return(0,u.isFunction)(a)?a=a(t,B,s,e):a.content=B,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,f=Zr(l,t,n);f.length&&a.push(f)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var f=l[s],h=mr(e,f,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var m=Zr(h,t,n);m.length&&a.push(m)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,f=0,h=a;f<h.length;f++){var c=h[f];if(c.visible&&c.tooltipOption!==!1){var v=c.type,m=void 0;["point","edge","polygon"].includes(v)?m=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?m=this.getTooltipItemsByFindData(c,e,l):s!==!1?m=this.getTooltipItemsByFindData(c,e,l):m=this.getTooltipItemsByHitShape(c,e,l),m.length&&n.push(m)}}for(var T=0,B=t.views;T<B.length;T++){var Y=B[T];n=n.concat(this.findItemsFromView(Y,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,u.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(Bo),lC=sC,uC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,u.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,u.each)(l,function(Ee){if(Ee.type==="interval"||Ee.type==="schema"){var _e=Ee.getElementsBy(function(Pe){var ze=Pe.getData();return ze[a]===o});s=s.concat(_e)}}),s.length){var f=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,u.each)(s,function(Ee){var _e=Ee.shape.getCanvasBBox();f.isTransposed?(_e.minY<h.minY&&(h=_e),_e.maxY>c.maxY&&(c=_e)):(_e.minX<h.minX&&(h=_e),_e.maxX>c.maxX&&(c=_e)),v.x=Math.min(_e.minX,v.minX),v.y=Math.min(_e.minY,v.minY),v.width=Math.max(_e.maxX,v.maxX)-v.x,v.height=Math.max(_e.maxY,v.maxY)-v.y});var m=t.backgroundGroup,T=t.coordinateBBox,B=void 0;if(f.isRect){var Y=t.getXScale(),Z=Y.isLinear?0:.25,j=void 0,ut=void 0,ht=void 0,Et=void 0;f.isTransposed?(j=T.minX,ut=Math.min(c.minY,h.minY)-Z*c.height,ht=T.width,Et=v.height+Z*2*c.height):(j=Math.min(h.minX,c.minX)-Z*h.width,ut=Math.min(T.minY,h.minY),ht=v.width+Z*2*h.width,Et=T.height),B=[["M",j,ut],["L",j+ht,ut],["L",j+ht,ut+Et],["L",j,ut+Et],["Z"]]}else{var Ft=(0,u.head)(s),jt=(0,u.last)(s),$t=Ni(Ft.getModel(),f).startAngle,Wt=Ni(jt.getModel(),f).endAngle,re=f.getCenter(),ue=f.getRadius(),oe=f.innerRadius*ue;B=fi(re.x,re.y,ue,$t,Wt,oe)}this.regionPath?(this.regionPath.attr("path",B),this.regionPath.show()):this.regionPath=m.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:B,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(Qr),fC=uC,hC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,f={x:e.x,y:e.y};(!l||!(0,u.isEqual)(l,f))&&this.showTooltip(n,f),this.timeStamp=s,this.location=f}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(Qr),Lv=hC,cC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=Jn(t);(0,u.each)(n,function(a){var o=oa(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=Jn(t);(0,u.each)(e,function(n){n.hideTooltip()})},r}(Lv),vC=cC,dC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,u.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,H.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,u.get)(a,["components","tooltip","domStyles"],{}),s=new ne({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(Qr),pC=dC,gC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=Qn(t,this.stateName);(0,u.each)(n,function(a){e.setElementState(a,!1)})},r}(Qr),xf=gC;function _v(i){return(0,u.get)(i.get("delegateObject"),"item")}var yC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=en(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=Ea(a,e),s=Nn(t,e);return!(0,u.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,u.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=Ur(this.context);if(e)Mn(this.context)&&this.setStateByElement(e,t);else{var n=bn(this.context);if(ni(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&_v(s.fromShape)===_v(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=Ur(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(xf),bf=yC,mC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(bf),xC=mC,bC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=Nn(t,a.field);if(!this.cache[o]){var s=ii(n,a.field,o),l=this.linkGroup,f=l.addGroup();this.cache[o]=f;var h=s.length;(0,u.each)(s,function(c,v){if(v<h-1){var m=s[v+1];e.addLinkShape(f,c,m)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=Nn(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Ur(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=Ur(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(Qr),wC=bC,SC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(hi(this.context))t=$n(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=wi(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=en(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=Jn(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,f=a.getYScales()[0].field;(0,u.each)(o,function(h){var c=en(h),v=c.filter(function(m){var T=m.getModel().data;return Ka(s,T,l,f)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=Jn(n);hi(this.context)&&(0,u.each)(a,function(o){var s=en(o),l=Xn(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,u.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=Jn(e);(0,u.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(xf),wf=SC,CC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(wf),MC=CC,EC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=Ur(this.context);if(e){if(!Mn(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=Ur(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(xf),Sf=EC,AC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Sf),TC=AC,gs="inactive",ys="active";function Cf(i){var r=en(i);(0,u.each)(r,function(t){t.hasState(ys)&&t.setState(ys,!1),t.hasState(gs)&&t.setState(gs,!1)})}function Ov(i,r,t){(0,u.each)(i,function(e){r(e)?(e.hasState(gs)&&e.setState(gs,!1),e.setState(ys,t)):(e.hasState(ys)&&e.setState(ys,!1),e.setState(gs,t))})}var mo=Dt.INACTIVE,za=Dt.ACTIVE,PC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=za,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(mo)&&t.setState(mo,!1),t.setState(za,!0)):t.hasState(za)||t.setState(mo,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,u.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=Qn(this.context.view,za),s=!0;(0,u.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,u.each)(t,function(l){e(l)&&(l.hasState(za)&&l.setState(za,!1),l.setState(mo,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=en(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Cf(t)},r}(bf),Mf=PC,LC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Nn(t,o.field),l=en(n),f=l.filter(function(h){return Nn(h,o.field)===s});this.setHighlightBy(l,function(h){return f.includes(h)},e)}},r}(Mf),_C=LC,OC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(mo)&&t.setState(mo,!1),t.setState(za,!0)):(t.setState(mo,!0),t.hasState(za)&&t.setState(za,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=Nn(t,a.field),s=en(n),l=s.filter(function(f){return Nn(f,a.field)===o});this.setHighlightBy(s,function(f){return l.includes(f)},e)},r.prototype.toggle=function(){var t=Ur(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Mf),IC=OC,kC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Cf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){Ov(n,function(a){return t.indexOf(a)>=0},e)},r}(wf),Iv=kC,BC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=en(n);Ov(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Cf(t)},r}(Sf),DC=BC,FC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(wf),RC=FC,NC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(bf),YC=NC,GC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Sf),zC=GC,XC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=bn(this.context),e=null;return ni(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=ia(e),a=[];return(0,u.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,u.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=Ea(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=Ea(o,a),l=Nn(e,a),f=s.getText(l);this.setItemsState(t,f,n)},r.prototype.setStateEnable=function(t){var e=this,n=Ur(this.context);if(n){var a=this.getAllowComponents();(0,u.each)(a,function(f){e.setStateByElement(f,n,t)})}else{var o=bn(this.context);if(ni(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,u.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(Qr),fl=XC,VC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(fl),HC=VC,kv="inactive",Bv="active";function WC(i){var r=i.getItems();(0,u.each)(r,function(t){i.hasState(t,Bv)&&i.setItemState(t,Bv,!1),i.hasState(t,kv)&&i.setItemState(t,kv,!1)})}var ms="inactive",xo="active",jC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=xo,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,u.each)(a,function(l){e(l)?(t.hasState(l,ms)&&t.setItemState(l,ms,!1),t.setItemState(l,xo,!0)):t.hasState(l,xo)||t.setItemState(l,ms,!0)});else{var o=t.getItemsByState(xo),s=!0;(0,u.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,u.each)(a,function(l){e(l)&&(t.hasState(l,xo)&&t.setItemState(l,xo,!1),t.setItemState(l,ms,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)WC(t.list);else{var e=this.getAllowComponents();(0,u.each)(e,function(n){n.clearItemsState(xo),n.clearItemsState(ms)})}},r}(fl),Ef=jC,UC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(fl),ZC=UC,KC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(fl),$C=KC,QC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,H.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,u.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(Qr),Af=QC,JC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,u.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=Si(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Af),qC=JC,tM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,u.head)(t),end:(0,u.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Af),Dv=tM;function Fv(i){i.x=(0,u.clamp)(i.x,0,1),i.y=(0,u.clamp)(i.y,0,1)}var eM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,u.head)(n)),l=o.invert((0,u.last)(n));return this.inPlot&&(Fv(s),Fv(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(Dv),Rv=eM,rM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,u.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Af),Nv=rM,nM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return aa(t,!0)},r}(Nv),iM=nM,aM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(Qr),oM=aM,sM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,u.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=bn(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(ni(t)){if(a){var o=n.getItemsByState("unchecked"),s=Ea(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var m=s.getText(v);return!l.includes(m)}):this.filterView(e,a,null),e.render(!0)}}else if(zn(t)){var f=n.getValue(),h=f[0],c=f[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(Qr),lM=sM;function Yv(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var f=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(f),v=i.values.indexOf(h),m=i.values.slice(c,v+1);return function(T){return m.includes(T)}}else return function(T){return T>=f&&T<=h}}var uM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(hi(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),f=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=Yv(h,"x",l,f);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=Yv(v,"y",l,f);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(Qr),hl=uM,fM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=Jn(t);(0,u.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=Jn(t);(0,u.each)(e,function(n){n.render(!0)})},r}(hl),Tf=fM,hM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=bn(this.context),e=this.context.view,n=en(e);if(hi(this.context)){var a=$n(this.context,10);a&&(0,u.each)(n,function(T){a.includes(T)?T.show():T.hide()})}else if(t){var o=t.component,s=o.get("field");if(ni(t)){if(s){var l=o.getItemsByState("unchecked"),f=Ea(e,s),h=l.map(function(T){return T.name});(0,u.each)(n,function(T){var B=Nn(T,s),Y=f.getText(B);h.indexOf(Y)>=0?T.hide():T.show()})}}else if(zn(t)){var c=o.getValue(),v=c[0],m=c[1];(0,u.each)(n,function(T){var B=Nn(T,s);B>=v&&B<=m?T.show():T.hide()})}}},r.prototype.clear=function(){var t=en(this.context.view);(0,u.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(Qr),cM=hM,vM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){hi(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=$n(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=Jn(t);(0,u.each)(s,function(l){var f=en(l);(0,u.each)(f,function(h){var c=h.getModel().data;Ka(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=Jn(e);(0,u.each)(n,function(a){var o=Xn(t.context,a,10),s=en(a);o&&(0,u.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=Jn(this.context.view);(0,u.each)(t,function(e){var n=en(e);(0,u.each)(n,function(a){a.show()})})},r}(Qr),Gv=vM,dM=10,pM=5,gM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,u.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,H.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=ci(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,H.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=yn.transform(null,[["t",n.x-o.width-dM,n.y+o.height+pM]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(Qr),yM=gM,mM=4,xM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Si(t,this.startPoint)>mM&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(Qr),bM=xM,wM=5,SM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=Si(t,e);if(n>wM&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=yn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(Qr),CM=SM,zv="x",Xv="y",MM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[zv,Xv],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(zv),this.resetDim(Xv);var t=this.context.view;t.render(!0)},r}(Qr),Vv=MM,EM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,u.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,f=s.y-o.y,h=this.context.view,c=this.dims;(0,u.each)(c,function(v){t.translateDim(v,{x:l*-1,y:f*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,f=l-s,h=n[t]*f;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Vv),AM=EM,TM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,u.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,f=e.max,h=n*s,c=l-h,v=f+h,m=v-c,T=m/s;v>c&&T<100&&T>.01&&a.scale(e.field,{nice:!1,min:l-h,max:f+h})},r}(Vv),PM=TM;Bt("dark",ko(db)),rt("canvas",_),rt("svg",O),da("Polygon",GS),da("Interval",IS),da("Schema",XS),da("Path",lf),da("Point",RS),da("Line",BS),da("Area",CS),da("Edge",ES),da("Heatmap",PS),fs("base",Ks),fs("interval",a2),fs("pie",l2),fs("polar",dv),co("overlap",x2),co("distribute",f2),co("fixed-overlap",m2),co("limit-in-shape",d2),co("limit-in-canvas",v2),co("pie-outer",c2),Un("fade-in",b2),Un("fade-out",w2),Un("grow-in-x",C2),Un("grow-in-xy",E2),Un("grow-in-y",M2),Un("scale-in-x",P2),Un("scale-in-y",L2),Un("wave-in",I2),Un("zoom-in",k2),Un("zoom-out",B2),Un("position-update",T2),Un("sector-path-update",O2),Un("path-in",A2),Dr("rect",H2),Dr("mirror",X2),Dr("list",N2),Dr("matrix",G2),Dr("circle",F2),Dr("tree",j2),$r("axis",$2),$r("legend",nC),$r("tooltip",lC),$r("annotation",Z2),$r("slider",aC),Cr("tooltip",Lv),Cr("sibling-tooltip",vC),Cr("ellipsis-text",pC),Cr("element-active",xC),Cr("element-single-active",TC),Cr("element-range-active",MC),Cr("element-highlight",Mf),Cr("element-highlight-by-x",IC),Cr("element-highlight-by-color",_C),Cr("element-single-highlight",DC),Cr("element-range-highlight",Iv),Cr("element-sibling-highlight",Iv,{effectSiblings:!0,effectByRecord:!0}),Cr("element-selected",YC),Cr("element-single-selected",zC),Cr("element-range-selected",RC),Cr("element-link-by-color",wC),Cr("active-region",fC),Cr("list-active",HC),Cr("list-selected",ZC),Cr("list-highlight",Ef),Cr("list-unchecked",$C),Cr("legend-item-highlight",Ef,{componentNames:["legend"]}),Cr("axis-label-highlight",Ef,{componentNames:["axis"]}),Cr("rect-mask",Dv),Cr("x-rect-mask",Rv,{dim:"x"}),Cr("y-rect-mask",Rv,{dim:"y"}),Cr("circle-mask",qC),Cr("path-mask",Nv),Cr("smooth-path-mask",iM),Cr("cursor",oM),Cr("data-filter",lM),Cr("brush",hl),Cr("brush-x",hl,{dims:["x"]}),Cr("brush-y",hl,{dims:["y"]}),Cr("sibling-filter",Tf),Cr("sibling-x-filter",Tf),Cr("sibling-y-filter",Tf),Cr("element-filter",cM),Cr("element-sibling-filter",Gv),Cr("element-sibling-filter-record",Gv,{byRecord:!0}),Cr("view-drag",bM),Cr("view-move",CM),Cr("scale-translate",AM),Cr("scale-zoom",PM),Cr("reset-button",yM,{name:"reset-button",text:"reset"});function to(i){return i.isInPlot()}mn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),mn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),mn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),mn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),mn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),mn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),mn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),mn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),mn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),mn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),mn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),mn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),mn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:to,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:to,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),mn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),mn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:to,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:to,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),mn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:"path-mask:start"},{trigger:"mousedown",isEnable:to,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),mn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),mn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),mn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),mn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),mn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),mn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Hv(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}mn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Hv(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Hv(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),mn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var Wv={translate:Hu,rotate:Sc,zoom:ob,transform:Zs,getAngle:Ni,polarToCartesian:pn},cl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),LM=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(cl),eo=typeof performance=="object"&&performance.now?performance:Date,_M=300,jv=10,OM=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>jv||n-this.touchStartY>jv)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=eo.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},_M)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(cl),IM=100,kM=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(eo.now()-this.latestMoveTime<IM){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=eo.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=eo.now()},r}(cl),BM=300,Uv=2,DM=function(i){(0,pr.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<Uv&&n-this.touchStartY<Uv&&eo.now()-this.touchStartTime<BM&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=eo.now(),this.touchStartX=e,this.touchStartY=n},r}(cl),FM={Pan:LM,Press:OM,Swipe:kM,Tap:DM},RM=function(i){return FM[i]},Zv=function(i){(0,pr.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=RM(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(ye.default),NM=d(68716),YM=NM.yD,GM=800,zM="swipe",XM="pan",Kv="wheel",VM=function(i){(0,pr.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(Kv,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=eo.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new Zv(t,{gestures:["Pan","Swipe"]}),e.gm.on(zM,e.onSwipe),e.gm.on(XM,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=eo.now(),s=(o-e.ms)/GM;if(s<1){s=YM(1-s);var l=o-e.rafMs,f=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,f,h);e.emit(Kv,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,pr.__assign)((0,pr.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(ye.default),sn=d(78646),$v=d(13733),HM=d(90835),H9=d(86050),WM=d(85506),ro=d(97488),W9=d(98880),jM=d(88373),bo=d(55225);$r("gesture",V.Z);var Qi="origin",xs="_origin",Qv=1e3,Jv=60*Qv,qv=60*Jv,vl=24*qv,UM=vl*7,ZM=vl*30,KM=vl*365,$M={second:{value:Qv,format:"HH:mm:ss"},miniute:{value:Jv,format:"HH:mm"},hour:{value:qv,format:"HH"},day:{value:vl,format:"YYYY-MM-DD"},week:{value:UM,format:"YYYY-MM-DD"},month:{value:ZM,format:"YYYY-MM"},year:{value:KM,format:"YYYY"}},dl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],QM=[],JM={axis:"axis-label",label:"label",legend:"legend-item"},qM={title:"title",description:"description",breadcrumb:"breadcrumb"},td=(0,u.deepMix)(di(qM),Pf("Plot",dl)),ed=Pf("Layer",dl),qr=(0,u.deepMix)({},di(JM),Pf("View",dl),tE());function jn(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function di(i){var r={};return(0,u.each)(i,function(t,e){var n=(0,u.upperFirst)(e),a="on"+n,o=t+":";(0,u.each)(dl,function(s){var l=(0,u.upperFirst)(s),f=""+a+l,h=""+o+s;r[f]=h})}),r}function Pf(i,r){var t={},e="on";return(0,u.each)(r,function(n){var a=(0,u.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function tE(){var i={},r="on";return(0,u.each)(QM,function(t){var e=(0,u.upperFirst)(t),n=""+r+e;i[n]=t}),i}var eE=d(62810),rE=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(eE.BBox),Rr=rE,nE=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,u.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,u.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,u.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Rr(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,u.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,u.keys)(ed);(0,u.each)(t,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=ed[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new Rr(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,f=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:f}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(ye.default),pl=nE;function No(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function rd(i,r){var t=(0,zt.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function iE(i){return i.getComponents().filter(function(r){return r.type===sn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function aE(i){return i.getComponents().filter(function(r){return r.type===sn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function j9(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function U9(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function oE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function nd(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function Z9(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var sE=function(){function i(r){this.position="top",this.destroyed=!1,(0,u.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return Rr.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,u.isArray)(e)&&(0,u.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new Rr(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,u.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,zt.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",f=s.split(""),h=[],c=0;c<f.length;c++){var v=f[c];n.attr("text",l+=v);var m=n.getBBox().width-1;if(m>r){if(c===0)break;h.push(c),l=""}}return rd(f,h)});return n.remove(),o.join(`
`)},i}(),gl=sE,lE=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,zt.__assign)((0,zt.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(ye.default),bs=lE,uE=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,u.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,u.each)(this.geometry.elements,function(s,l){var f=[].concat(e.drawLabelItem(t,s,l));(0,u.each)(f,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,u.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,ro.getDefaultAnimateCfg)("label",this.coord):!1;(0,u.each)(a,function(s,l){var f=t.findById(l);if(f)if(n[l]){var h=n[l],c=(0,u.get)(o,"update");c&&(f.stopAnimate(),f.attr(h),(0,ro.doAnimate)(f,c,{toAttrs:(0,zt.__assign)({},s),coordinate:e.coord}))}else{var v=(0,u.get)(o,"appear");v&&(f.stopAnimate(),(0,ro.doAnimate)(f,v,{toAttrs:(0,zt.__assign)({},f.attr()),coordinate:e.coord}))}delete n[l]}),(0,u.each)(n,function(s,l){var f=(0,u.get)(o,"leave");if(f){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,ro.doAnimate)(h,f,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,zt.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),f=this.getLabelOffset();return(0,u.map)(s,function(h,c){var v,m={x:h.x+f.x,y:h.y+f.y},T=(0,u.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,B=a.getLabelId(T);return a.drawLabelText(t,(0,zt.__assign)((0,zt.__assign)({},h),m),(v={id:B,name:"label",offset:l,element:e},v[Qi]=T,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,u.isNumber)(e)?e:0,y:(0,u.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,u.isNumber)(a)&&(l.x+=a),(0,u.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Rr(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(bs),Lf=uE,id={};function ji(i,r){id[i]=r}function fE(i){return id[i]}var _f=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},Of=function(){return function(i){return i}},ad=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,u.isNil)(i)?r:t.toFixed(i)}},od=function(i){return function(r){return(0,u.isNil)(i)?r:r+" "+i}};function If(i,r,t){i[t]&&(r[t]=i[t])}var hE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,zt.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,If(this.localProps,this.config,"autoHideLabel"),If(this.localProps,this.config,"autoRotateLabel"),If(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,u.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,f=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,u.isFunction)(s)?this.config.grid=function(h,c,v){var m=s(h,c,v);return{line:{type:l,style:(0,u.deepMix)({},(0,u.get)(r.themeConfig,"grid.line.style"),m)},alternateColor:f}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:f},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,zt.__rest)(r,["style"]),n=(0,zt.__assign)({},e);t&&(n.style=(0,zt.__assign)({},this.localProps.label.style)),n.style=(0,u.deepMix)({},(0,u.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,zt.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,u.deepMix)({},(0,u.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,u.deepMix)({},(0,u.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=_f(Of(),ad(r.precision),od(r.suffix));return r.formatter&&(t=_f(t,r.formatter)),t},i}(),cE=hE;function yl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function kf(i,r){return i.x*r.y+i.y*r.x}function K9(i,r){var t=yl(i),e=yl(r),n=kf(i,r),a=Math.acos(n/t/e);return a}function $9(i,r){var t=yl(i),e=yl(r),n=kf(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function Q9(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,f=n*a-t*s,h=t*o-e*a;return{x:l,y:f,z:h}}function J9(i,r){return{x:i.x-r.x,y:i.y-r.y}}function ml(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return Gc.transformMat3(e,e,r),{x:e[0],y:e[1]}}function sd(i,r,t){return i>=r&&i<=t}var vE=.001;function q9(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,f=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>vE*f*h){var v=(n.x*o.y-n.y*o.x)/s,m=(n.x*a.y-n.y*a.x)/s;sd(v,0,1)&&sd(m,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function dE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,f=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;f&&(t=!t)}return t}function xl(i){return i*i}function bl(i,r){return Math.sqrt(xl(i.x-r.x)+xl(i.y-r.y))}function ld(i,r){return Math.sqrt(xl(i.x-r.x)+xl(i.y-r.y))}function ud(i,r,t){var e=bl(r,t);if(e===0)return bl(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=bl(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function fd(i,r){var t=Infinity;(0,u.each)(r,function(h){var c=Math.sqrt(bl(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,f=ud(i,{x:a,y:o},{x:s,y:l});t>f&&(t=f)}return t}function pE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=dE(n,r);if(a)return!0}return!1}function hd(i,r){if(pE(i,r))return 0;var t=Infinity,e=Infinity;return(0,u.each)(i,function(n){var a=fd(n,r);t>a&&(t=a)}),(0,u.each)(r,function(n){var a=fd(n,i);e>a&&(e=a)}),Math.min(t,e)}function gE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=ml({x:0,y:0},s);l.x+=t,l.y+=e;var f=ml({x:n,y:0},s);f.x+=t,f.y+=e;var h=ml({x:0,y:a},s);h.x+=t,h.y+=e;var c=ml({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,f,h,c];v.sort(function($t,Wt){return $t.y-Wt.y});var m=v[0].y,T=v[v.length-1].y,B=[v[0],v[1]],Y=[v[2],v[3]],Z=B[0].x<B[1].x?B[0]:B[1],j=B[0].x<B[1].x?B[1]:B[0],ut=Y[0].x<Y[1].x?Y[0]:Y[1],ht=Y[0].x<Y[1].x?Y[1]:Y[0];v.sort(function($t,Wt){return $t.x-Wt.x});var Et=v[0].x,Ft=v[v.length-1].x,jt={width:Ft-Et,height:T-m,left:Et,right:Ft,top:m,bottom:T,topLeft:Z,topRight:j,bottomLeft:ut,bottomRight:ht,centerX:Et+(Ft-Et)/2,centerY:m+(T-m)/2};return jt}var yE=2;function Bf(i){return i.length<5?i:Df(i,yE)}function Df(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},f=ud(s,l.start,l.end);f>e&&(e=f,n=o)}if(e>r){var h=Df(i.slice(0,n+1),r),c=Df(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function cd(i){var r=(0,u.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function mE(i){var r=0;return(0,u.each)(i,function(t){r+=t}),r/i.length}function vd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function xE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var bE=function(){function i(r){(0,u.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,u.isEmpty)(n)||!(0,u.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,u.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,u.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),f=(1-l.scale(s))*100+"%",h=["0%",f],c=["100%",f];this.config=(0,u.mix)({start:h,end:c},o)}else{var v=this.cfg,m=v.start,T=v.end;this.config=(0,u.clone)(o);var B=this.getXScale(),Y=this.getYScale(),Z=(0,u.clone)(m),j=(0,u.clone)(T);(0,u.each)(m,function(ut,ht){(!(0,u.contains)((0,u.toArray)(m[ht]),"%")||(0,u.isNumber)(m[ht]))&&(ht===0?Z[ht]=B.scale(m[0])*100+"%":Z[ht]=(1-Y.scale(m[1]))*100+"%")}),(0,u.each)(T,function(ut,ht){(!(0,u.contains)((0,u.toArray)(T[ht]),"%")||(0,u.isNumber)(T[ht]))&&(ht===0?j[ht]=B.scale(T[0])*100+"%":j[ht]=(1-Y.scale(T[1]))*100+"%")}),this.config.start=Z,this.config.end=j}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,Or.getScale)("linear"),n=new e((0,u.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,u.isString)(r[0])){var t=(0,Or.getScale)("cat"),e=new t((0,u.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,Or.getScale)("linear"),e=new t((0,u.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return cd(this.values);if(r==="mean")return mE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),wE=bE,SE=function(){function i(r){this.config={};var t=r.plot,e=(0,zt.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,u.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,zt.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,u.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,u.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,u.deepMix)({},(0,u.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,u.each)(e,function(a){(0,u.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,u.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return _f(Of(),ad(t.precision),od(t.suffix),t.formatter?t.formatter:Of())(a,e,n)}},i}(),CE=SE,wo,Ff;function dd(i,r){wo||pd(i),(0,u.each)(wo,function(t){var e=gd(t,r),n=e.labelData,a=e.con;if(yd(n,a)){var o=TE();t.shape.attr(o)}})}function ME(i,r){wo||pd(i),(0,u.each)(wo,function(t,e){var n=gd(t,r),a=n.labelData,o=n.con;if(yd(a,o)){var s=Ff[e],l=AE(s);t.shape.attr(l)}})}function pd(i){var r;wo=[],Ff=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,u.each)(t,function(e){var n=e.component,a=[],o=EE(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,u.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),Ff.push(h.attr()))}),o){var l=o.ticks,f=o.field;(0,u.each)(a,function(h,c){h.value=l[c],h.scaleField=f,h.type=o.type})}wo.push.apply(wo,a)})}function EE(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function gd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,u.clone)(r);return i.type==="time"&&(0,u.isObject)(r)&&!(0,u.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function AE(i){var r=i.opacity||1;return{opacity:r*.2}}function TE(){return{opacity:1,fontWeight:600,fill:"red"}}function yd(i,r){if(!(0,u.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,u.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var PE={active:dd,selected:dd,disable:ME},LE=function(i){(0,zt.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,u.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(ye.default),_E=LE;function Xa(i,r){if(!(0,u.isFunction)(r)){var t=r.name,e=r.exp;return(0,u.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var OE=function(){function i(r){this.shapeContainers=[],(0,u.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new _E},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,u.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,u.each)(this.shapes,function(o,s){var l=o.get("origin").data,f=(0,u.isArray)(l)?l[0]:l;if(Xa(f,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,u.isFunction)(h)?v=h(c):v=(0,u.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,u.each)(r,function(e){var n=e.state,a;(0,u.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?jn(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,u.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,u.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,u.each)(this.shapes,function(t){r.push((0,u.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,u.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,u.each)(t,function(a){if(n.plot[a]){var o=VE(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,u.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),IE=OE,Yo,wl;function md(i,r){Yo||xd(i),(0,u.each)(Yo,function(t,e){var n=t.get("origin");if(Xa(n,r)){var a=wl[e],o=(0,u.mix)({},a,{opacity:1});t.attr(o)}})}function kE(i,r){Yo||xd(i),(0,u.each)(Yo,function(t,e){var n=t.get("origin");if(Xa(n,r)){var a=wl[e],o=BE(a);t.attr(o)}})}function xd(i){Yo=[],wl=[];var r=i.view.get("elements");(0,u.each)(r,function(t){var e=t.get("labels");e&&(0,u.each)(e,function(n){Yo.push(n),wl.push(n.attr())})})}function BE(i){var r=i.opacity||1;return{opacity:r*.2}}var DE={active:md,selected:md,disable:kE},FE=["xField","yField","angleField"];function bd(i,r){var t=i.options;if(NE(t,r)){var e=t.data;(0,u.each)(e,function(n){if(Xa(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){wd(r,o,!1)}),i.view.showTooltip(a)}})}}function RE(i,r){i.view.on("tooltip:change",function(t){wd(r,t,!0)})}function wd(i,r,t){var e=!t,n=(0,u.clone)(r.items);r.items.splice(0),(0,u.each)(n,function(a){var o=a.point._origin;Xa(o,i)===e&&r.items.push(a)})}function NE(i,r){var t=YE(i);return!(0,u.isFunction)(r)&&t.indexOf(r.name)}function YE(i){var r=[];return(0,u.each)(FE,function(t){(0,u.has)(i,t)&&r.push(t)}),r}var GE={active:bd,selected:bd,disable:RE},zE={axis:cE,label:CE,guideLine:wE},XE={tooltip:GE,label:DE,axis:PE};function Ai(i,r){var t=zE[i];return new t(r).config}function VE(i,r){return XE[i][r]}var HE=["start","process","end","reset"],WE=function(){function i(r){var t=this.getDefaultCfg();(0,u.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,u.each)(HE,function(t){var e=r[t+"Event"],n=(0,u.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,u.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),Rf=WE,jE=function(i){(0,zt.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(Rf),ga=jE,Sd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,u.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,u.flatten)((0,u.map)(l,function(f){return s[f]||[]}))},Aa;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Aa||(Aa={}));var Sl=4,Cd=8,UE=32,ZE=20,KE=999,Cl=function(i){i===void 0&&(i={});var r=(0,zt.__assign)({type:"horizontal",categorySize:UE,width:Cd,height:Cd,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Sl,0,Sl,0]:[0,Sl,0,Sl]),r},$E=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Cl(e),a=n.padding,o=a[0],s=a[1],l=a[2],f=a[3];return n.type==="horizontal"?new Rr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new Rr(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,u.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Aa.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Aa.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Cl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],f=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:f.x,y:f.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new Wr.Scrollbar({container:this.container,x:f.x,y:f.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",KE),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Cl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",f=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?f.width:f.height)/t.categorySize),this.trackLen=l?f.width-s-a:f.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,u.clamp)(this.step/h.values.length,0,1),ZE)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,u.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Cl(this.getInteractionConfig()),l=this.getViewLayer(),f=l.options.meta,h=l.getData(),c=Sd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var m=(0,u.get)(f,v.field)||{};n.view.scale(v.field,(0,zt.__assign)((0,zt.__assign)({formatter:v.formatter},m),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(ga),QE=$E,Ml=4,Md=16,Nf=function(i){i===void 0&&(i={});var r=(0,zt.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[Ml,0,Ml,0]:[0,Ml,0,Ml]),i.height||(r.height=Md),i.width||(r.width=Md);var t=(0,u.clamp)(Math.min(r.start,r.end),0,1),e=(0,u.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},JE=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Nf(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],f=a[3];if(n.type==="horizontal"){var h=new Rr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new Rr(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=Nf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,u.isEqual)(s,[0,0,0,1]))&&!(0,u.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new Wr.Slider((0,zt.__assign)((0,zt.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=Nf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,f=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,m=o.trendCfg,T=m===void 0?{}:m,B=l[0],Y=l[1],Z=l[2],j=l[3],ut=this.getSliderMinMaxText(this.curStart,this.curEnd),ht=ut.minText,Et=ut.maxText,Ft={x:e.minX+j,y:n.minY+B,width:e.width-j-Y,height:n.height-B-Z,start:this.curStart,end:this.curEnd,minText:ht,maxText:Et,backgroundStyle:f,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,zt.__assign)((0,zt.__assign)({isArea:!1,smooth:!1},T),{data:this.getSliderTrendData()})};return Ft},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,u.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,u.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Sd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,u.size)(o),f=Math.round(t*l),h=Math.max(f+1,Math.round(e*l)),c=o.slice(f,h);return{minText:c.length>0?(0,u.head)(c)[s]:"",maxText:c.length>0?(0,u.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,u.clamp)(Math.min(t[0],t[1]),0,1),a=(0,u.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,f=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:f}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(ga),qE=JE,tA=function(i){(0,zt.__extends)(r,i);function r(t){return i.call(this,(0,u.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(bs),eA=tA,Ed="timelinestart",rA="timelinechange",Ad="timelineend",nA="timelineupdate",iA=20,aA=20,oA=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,(0,u.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,u.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(Ad,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Ed,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,u.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(nA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new eA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,f=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+iA,this.timeLine.y=f+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-aA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,m){e.tickPosList.push(e.timeLine.x+m*h);var T=t.addShape("text",{attrs:{x:e.timeLine.x+m*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),B=T.getBBox();return B.minX>c?(T.show(),c=B.minX+B.width+10):T.hide(),T})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,u.findIndex)(a,function(v){return v===e}),f=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",f),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:f,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",f),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:f,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(rA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,u.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Ed,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Ad,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(bs),sA=oA,lA=40;function Td(i){return(0,zt.__assign)({loop:!1,auto:!0,height:lA,padding:[0,20,0,0],speed:2},i)}var uA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Td(e),a=n.padding[0],o=n.padding[2];return new Rr(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=Td(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],f=o[1],h=o[2],c=o[3],v=this.getRange(),m=this.getTicks(),T=e.width-c-f,B={x:e.minX+c,y:v.tl.y+l,width:T,height:v.height-l-h,loop:a,ticks:m,speed:s,defaultCurrentTick:m[0]};this.timeline?(0,u.isEqual)(B,this.timeLineConfig)||(this.timeLineConfig=B,this.timeline.update(B)):(this.container=this.canvas.addGroup(),this.timeline=new sA((0,zt.__assign)({container:this.container},B)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(m[0])),this.timeLineConfig=B)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,u.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(sn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(sn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(ga),fA=uA;function hA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=yn.transform(t,r);i.setMatrix(e)}function Go(i,r){var t=r?(0,u.clone)(r):[1,0,0,0,1,0,0,0,1];return yn.transform(t,i)}function Pd(i,r,t,e){var n=e?(0,u.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function cA(i,r,t){Wv.translate(i,r,t)}function tY(i,r){Util.rotate(i,r)}var vA=document.createElement("canvas"),Ld=vA.getContext("2d"),El=(0,u.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return Ld.font=[a,o,n,t+"px",e].join(" "),Ld.measureText((0,u.isString)(i)?i:"").width},function(i,r){return r?(0,zt.__spreadArrays)([i],(0,u.values)(r)).join(""):i}),_d=function(i,r,t){var e=16,n=El("...",t),a;(0,u.isString)(i)?a=i:a=(0,u.toString)(i);var o=r,s=[],l,f;if(El(i,t)<=r)return i;for(;l=a.substr(0,e),f=El(l,t),!(f+n>o&&f>o);)if(s.push(l),o-=f,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),f=El(l,t),!(f+n>o);)if(s.push(l),o-=f,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},Dn;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(Dn||(Dn={}));var Al;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Al||(Al={}));var no;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(no||(no={}));var dA=160,pA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=yA(e.target,function(o){return o.get("name")===Dn.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),f=(0,u.clamp)(t.offsetX+o,s,l);f!==t.offsetX&&(cA(t.bodyGroup,t.offsetX-f,0),t.offsetX=f)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:no.NORMAL,style:{}},line:{spacingX:no.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:no.SMALL,style:{}},itemName:{spacingX:no.NORMAL,spacingY:no.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:no.LARGE};this.config=(0,u.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],f=t.addGroup({name:Dn.TOOLTIP_INDICATOR_INNER});this.renderTitle(f),this.bodyGroup=f.addGroup({name:Dn.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(f),Pd(f,o,s),this.applyClip(t),this.bindEvents(f)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:Dn.TOOLTIP_INDICATOR_TITLE,attrs:(0,zt.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:Dn.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,f=o.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,zt.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,f.attr({width:this.curX-s-f.attr("lineWidth")*2,height:this.curY-l-f.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,zt.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=_d(e.title,dA,n.style||{}),o=t.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,zt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:Dn.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,f){var h=o.addGroup({name:Dn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:f}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,zt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:Dn.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,zt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(Dn.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return Rr.fromBBoxObject(l.getBBox())}),a=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return Rr.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,f){var h=n[f],c=l.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var m=Rr.fromBBoxObject(c.getBBox()),T=Rr.fromBBoxObject(v.getBBox());m.height<h.height&&c.attr("y",c.attr("y")+(h.height-m.height)/2),T.height<h.height&&v.attr("y",v.attr("y")+(h.height-T.height)/2),T.maxX<s&&v.attr("x",v.attr("x")+s-T.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Al.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,f=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(Dn.TOOLTIP_INDICATOR_ITEM_VALUE),m=e&&e+"Style";f&&(f.attr(a.style),f.attr(a[m]||{})),h&&(h.attr(o.style),h.attr(o[m]||{})),c.forEach(function(T){T.attr(s.style),T.attr(s[m]||{})}),v.forEach(function(T){T.attr(l.style),T.attr(l[m]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(Dn.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new Zv(n),this.wheel=new VM(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(bs),gA=pA;function yA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function mA(i,r){return(0,u.filter)(i.geometries,function(t){return t.type===r})}function io(i,r){return(0,u.head)(mA(i,r))}function xA(i){return(0,u.map)(i.elements,function(r){return r.shape})}function eY(i,r){i.geometries.forEach(r)}function Yf(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function bA(i,r,t){return(0,u.some)(r,function(e){return t(e.get(Qi),i.get(Qi))})}function Tl(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function Gf(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function Pl(i,r){var t=i.getBBox();return(0,u.some)(r,function(e){var n=e.getBBox();return Gf(t,n,2)>0})}var Od=8,Id=function(i){i===void 0&&(i={});var r=(0,zt.__assign)({showTotal:!1,showPercent:!1,padding:[Od,24,Od,24],height:i.showPercent?72:54},i);return r},zo;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(zo||(zo={}));var wA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=WM.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;Yf(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(zo.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];Yf(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(zo.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;Yf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(Qr);Cr("tooltip-indicator",wA),mn("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var SA=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,f=n.getData(),h=f[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(f[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=Id(e),a=n.padding,o=a[0],s=a[2];return new Rr(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,u.last)(a.getTicks()).tickValue,s=t.view.padding;(0,u.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Al.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(zo.ACTIVE_ELEMENT,this.onElementActive),e.on(zo.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=Id(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),f=this.view.getXScale(),h=(0,u.last)(f.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new gA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,u.last)(o.getTicks()).tickValue,f=e.getLegendAttributes(),h=f.find(function(B){return B.type==="color"}),c=[],v=e.getGroupScales()[0],m=v.field;v&&v.isCategory&&v.getTicks().forEach(function(B){var Y=B.text,Z=B.tickValue,j=h.mapping(Z).join("")||a;c.push({id:Z,title:Y,color:j,values:[]})});var T=(n==null?void 0:n.filter(function(B){return B[o.field]===l}))||[];return c.forEach(function(B){var Y=T.find(function(Z){return Z[m]===B.id});B.values.push({value:s.formatter?s.formatter(Y[s.field]):Y[s.field]})}),c},r}(ga),CA=SA;ga.registerInteraction("slider",qE),ga.registerInteraction("scrollbar",QE),ga.registerInteraction("timeline",fA),ga.registerInteraction("tooltip-indicator",CA);var kd=ga,MA=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,u.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,u.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Rr(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,u.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,f=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),f>r&&f<=t&&o==="left"&&(r=f),l>=r&&f<=t&&o==="right"&&(t=l)}}),new Rr(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,f=this.plot.config.theme.bleeding;(0,u.isArray)(f)&&(0,u.each)(f,function(B,Y){typeof f[Y]=="function"&&(f[Y]=f[Y](t))}),this.bleeding=(0,u.clone)(f);var h=[new Rr(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,u.each)(v,function(B){var Y=B,Z=Y.getBBox();h.push(Z)}),c=this._mergeBBox(h);var m=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],T=this._getPanel(e);return m[0]+=T[0],m[1]+=T[1],m[2]+=T[2],m[3]+=T[3],m},i.prototype._getCartesianAxis=function(r,t,e){var n=iE(r),a=r.getCoordinate().isTransposed;(0,u.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),f=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new Rr(t.minX-c,h,c,v)):s==="left"?e.push(new Rr(f,t.maxY,c,v)):s==="top"&&e.push(new Rr(t.maxX,h,c,v)):s==="left"?e.push(new Rr(t.minX-c,h,c,v)):s==="bottom"?e.push(new Rr(f,t.maxY,c,v)):s==="right"&&e.push(new Rr(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=aE(r);(0,u.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,f=s.minY,h=s.width,c=s.height;o==="top"?e.push(new Rr(l,t.minY-c,h,c)):o==="bottom"?e.push(new Rr(l,t.maxY,h,c)):o==="left"?e.push(new Rr(t.minX-h,f,h,c)):e.push(new Rr(t.maxX,f,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,u.each)(e,function(T){T.labelsContainer&&t.push(T.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,u.each)(t,function(T){var B=T.get("children");B.forEach(function(Y){if(!(Y.type==="group"&&Y.get("children").length===0)){var Z=Y.getBBox();Z.minX<n&&(n=Z.minX),Z.maxX>a&&(a=Z.maxX),Z.minY<o&&(o=Z.minY),Z.maxY>s&&(s=Z.maxY)}})});var l=r.coordinateBBox,f=Math.max(a-parseFloat(l.maxX),0);if(f>0){var h=l.width/(l.width+f);f*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var m=Math.max(s-parseFloat(l.maxY),0);if(m>0){var h=l.height/(l.height+m);m*=h}return[v,f,m,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,u.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),EA=MA,AA="#5B8FF9",TA=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],PA=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Bd=function(i){return i&&i.split("-")[0]==="top"?12:24},Dd=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},Fd=function(i){return(0,u.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},Rd={width:400,height:400,bleeding:[Dd,24,Fd,24],padding:"auto",defaultColor:AA,colors:TA,colors_20:PA,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Bd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},LA={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Dd,24,Fd,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Bd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},Nd={default:Rd,dark:LA};function rY(i,r){var t=Ii();Nd[i.toLowerCase()]=deepMix({},t,r)}function Ii(i){i===void 0&&(i="default");var r=Nd[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),Rd)}var Yd={};function Gd(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,u.each)(r,function(a,o){var s;if((0,u.has)(t,o)){var l=t[o];(0,u.each)(a,function(f,h){(0,u.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",f)})}else e=(0,u.deepMix)({},e,(s={},s[o]=a,s))}),(0,u.isEmpty)(n)||(e=(0,u.deepMix)({},e,{geometries:n})),e}function Ui(i,r){Yd[i.toLowerCase()]=Gd(i,r)}function zd(i){return Yd[i.toLowerCase()]||{}}function _A(i){var r=(0,u.clone)(i);return r.legend||(r.legend={}),r}var zf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Xd={default:zf};function Vd(i,r){Xd[i.toLowerCase()]=(0,u.deepMix)({},zf,r)}function Hd(i){var r=Xd[i.toLowerCase()];return r||zf}var OA=St(),IA=function(){function i(){}return i.getGlobalTheme=function(r){return(0,u.isString)(r)?Ii(r):(0,u.deepMix)({},Ii(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,u.isString)(e)?(0,u.deepMix)({},Ii(e),zd(t)):(0,u.deepMix)({},Ii(),zd(t),Gd(t,e))},i.prototype.getTheme=function(r,t){var e=_A(this.getPlotTheme(r,t)),n=(0,u.deepMix)({},OA,e);return n},i.prototype.getResponsiveTheme=function(r){return Hd(r)||Hd("default")},i}(),Xf=IA,kA=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,u.deepMix)({},e.options),e.paddingController=new EA({plot:e}),e.stateController=new IE({plot:e}),e.themeController=new Xf,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,u.reduce)((0,u.flatten)((0,u.map)([n,a,(0,u.hasKey)(t,"interactions")?t:e],function(s){return(0,u.get)(s,"interactions",[])})),function(s,l){var f=(0,u.findIndex)(s,function(h){return h.type===l.type});return f>=0&&s.splice(f,1),(0,zt.__spreadArrays)(s,[l])},[]);return(0,u.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Aa.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new Yu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Aa.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Aa.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,u.isEmpty)(t)||this.view.render(),this.emit(Aa.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,u.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,u.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Aa.BEFORE_CHANGE_DATA);var e=(0,u.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Aa.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,u.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,u.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=Ai("axis",{plot:this,dim:"x"}),e=Ai("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,u.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,u.deepMix)({},n)),(0,u.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,u.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,u.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,u.get)(e,"position")),offsetX:(0,u.get)(e,"offsetX"),offsetY:(0,u.get)(e,"offsetY"),flipPage:(0,u.get)(e,"flipPage"),marker:(0,u.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,u.get)(e,"title"):null,itemName:(0,u.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,u.each)(this.options.guideLine,function(n){var a=Ai("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,u.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,u.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=Rr.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new Rr(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,sn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var f=kd.getInteraction(l.type,t.type);if(f){var h=new f({view:t.view},t,f.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,u.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:qr;(0,u.each)(n.events,function(o,s){if((0,u.isFunction)(o)){var l=a[s]||s,f=o;jn(e,l,f)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),No(t.title)){var n=this.width,a=this.config.theme,o=new gl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:No(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),No(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new gl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,u.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=fE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,u.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=kd.getInteraction(s.type,t.type),f=l&&l.getInteractionRange(a,s.cfg),h="";f&&(f.maxY===a.maxY&&f.minY>a.minY?h="bottom":f.maxX===a.maxX&&f.minX>a.minX?h="right":f.minX===a.minX&&f.maxX>a.maxX?h="left":f.minY===a.minY&&f.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return f},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,u.hasKey)(t,"max")||(0,u.hasKey)(t,"min")||(0,u.hasKey)(t,"maxLimit")||(0,u.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},f={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),f.x=t.maxX/(n+o),f.y=t.maxY/(a+s),{start:l,end:f}},r}(pl),Fn=kA,BA=d(91033),DA=function(){function i(r){var t=this;this.onResize=(0,u.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=Ii(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=Xf.getGlobalTheme(r),e=(0,u.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,Pt.Z)(this.getCanvasDOM(),r),(0,Pt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new BA.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,f=s.height,h=e==="canvas"?Kc:iv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:f,pixelRatio:n}),this.width=l,this.height=f,this.updateCanvasTheme()},i}(),FA=DA;function RA(i,r){return!!(i&&r&&i===r)}function NA(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var YA=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,u.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,u.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,u.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!RA(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,u.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,u.each)(r,function(a){var o=a.getGlobalBBox();if(NA({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),GA=YA,Wd={};function Hr(i,r){Wd[i.toLowerCase()]=r}function zA(i){return Wd[i.toLowerCase()]}var XA=function(i){(0,zt.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,u.isNil)(e.forceFit)?(0,u.isNil)(e.width)&&(0,u.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new FA({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new GA({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Fn&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof pl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Fn&&a.changeData(t)});else{var n=this.layers[0];n instanceof Fn&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof Fn&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=zA(t.type),n=(0,u.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,u.keys)(td);t.events&&(0,u.each)(t.events,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=td[o]||o,l=a;e.on(s,l)}})},r}(ye.default),Br=XA,VA=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),ws=VA,HA=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,u.has)(t,"color")){var a=t.color;(0,u.isString)(a)?e.values=[a]:(0,u.isFunction)(a)?e.callback=a:(0,u.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,u.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},r}(ws),jd=HA;function WA(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function Ud(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function Vf(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function jA(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],f=e?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,v=h>Math.PI?1:0,m=t.convertPoint(s),T=Ud(t,m);if(T>=.5)if(h===Math.PI*2){var B={x:(s.x+o.x)/2,y:(s.y+o.y)/2},Y=t.convertPoint(B);l.push(["A",T,T,0,v,c,Y.x,Y.y]),l.push(["A",T,T,0,v,c,m.x,m.y])}else l.push(["A",T,T,0,v,c,m.x,m.y]);return l}function UA(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var ZA=function(i,r,t,e){var n=[],a,o,s=!!e,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=ve.min([0,0],l,v),f=ve.max([0,0],f,v)}l=ve.min([0,0],l,e[0]),f=ve.max([0,0],f,e[1])}for(var h=0,m=i.length;h<m;h++){var v=i[h];if(t)a=i[h?h-1:m-1],o=i[(h+1)%m];else if(h===0||h===m-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var T=[0,0];T=ve.sub(T,o,a),T=ve.scale(T,T,r);var B=ve.distance(v,a),Y=ve.distance(v,o),Z=B+Y;Z!==0&&(B/=Z,Y/=Z);var j=ve.scale([0,0],T,-B),ut=ve.scale([0,0],T,Y),ht=ve.add([0,0],v,j),Et=ve.add([0,0],v,ut);s&&(ht=ve.max([0,0],ht,l),ht=ve.min([0,0],ht,f),Et=ve.max([0,0],Et,l),Et=ve.min([0,0],Et,f)),n.push(ht),n.push(Et)}return t&&n.push(n.shift()),n};function KA(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=ZA(n,.4,e,t),l=n.length,f=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),f}function $A(i,r){return WA(i,r)}function Hf(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return $A(i,r);(0,u.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=KA(e,r,o);return s.unshift(["M",n.x,n.y]),s}function nY(i,r){return Ud(i,r)}function iY(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function aY(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Vf(e,i));break;case"z":default:t.push(e);break}}),t}function oY(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(Vf(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(jA(e,n,i)):t.push(Vf(s,i));break;case"z":default:t.push(s);break}}),UA(t),t}an("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Zd(i,this,!1),n=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:$d(i.color||Ii().defaultColor),opacity:t||.4},style:n});return a}}),an("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Zd(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:$d(i.color||Ii().defaultColor),opacity:t||.5}});return n}});function Zd(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,u.each)(i.points,function(f){n.push(f[1]),a.push(f[0])}),a=r.parsePoints(a.reverse()),n=Bf(r.parsePoints(n));var o=t?Hf(n,!1,e):Kd(n),s=Kd(a);s[0][0]="L";var l=o.concat(s);return l}function Kd(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function $d(i){return"l(90) 0:"+i+" 1:#ffffff"}var QA=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(jd),JA=QA,qA={main:jd,mini:JA},Qd=["colorField","stackField","groupField"],tT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,u.isString)(t.color)?n.values=[t.color]:(0,u.isFunction)(t.color)?n.callback=t.color:(0,u.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,u.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,u.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,u.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=Qd;e<n.length;e++){var a=n[e];if((0,u.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=Qd;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(ws),eT=tT,rT={main:eT},nT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,u.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,u.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,u.has)(t,"color")){var n=t.color;(0,u.isString)(n)?e.values=[n]:(0,u.isFunction)(n)?e.callback=n:(0,u.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,u.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,u.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(ws),Wf=nT,iT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,u.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,u.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},r}(Wf),aT=iT;an("line","miniLine",{draw:function(i,r){for(var t=Bf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,u.mix)({path:e,stroke:i.color||Ii().defaultColor,lineWidth:i.size||2},s)});return l}}),an("line","miniLineSmooth",{draw:function(i,r){var t=Bf(i.points),e=[[0,0],[1,1]],n=Hf(t,!1,e),a=r.addShape("path",{attrs:(0,u.mix)({path:n,stroke:i.color||Ii().defaultColor,lineWidth:i.size||2},i.style)});return a}});var oT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(Wf),sT=oT,lT={main:Wf,guide:aT,mini:sT},uT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,u.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,u.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,u.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,u.isFunction)(e)?(s?n.fields=(0,u.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,u.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?e.callback=t.color:(0,u.isArray)(t.color)&&(e.values=t.color)},r}(ws),fT=uT;function hT(i,r){var t=[];return(0,u.each)(r,function(e){var n=e[i];t.push(n)}),(0,u.uniq)(t)}var cT=["seriesField","stackField"],vT=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,u.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,u.isString)(t)?e.values=[t]:(0,u.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,u.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=hT(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?e.callback=t.color:(0,u.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,u.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=cT;e<n.length;e++){var a=n[e];if((0,u.get)(t,a))return[t[a]]}},r}(ws),dT=vT,pT={guide:dT,circle:fT},gT={area:qA,line:lT,point:pT,interval:rT};function Vn(i,r,t){var e=gT[i][r];return new e(t).config}function yT(i){var r=$M,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function ai(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=yT(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function mT(i,r){var t=(0,u.filter)(r,function(a){return(0,u.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,u.isNil)(i.min)&&(i.min=0):n<0&&(0,u.isNil)(i.max)&&(i.max=0)}var jf;function xT(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,u.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[jf.options.yField],f=(0,u.clone)(i.get("origin"));bT(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,m=null,T=jf.options.seriesField;T&&(m=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:f.data[0][T],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var B=m?16:0,Y=c.addShape("text",{attrs:{x:o.start.x+v,y:B,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),Y.animate({opacity:0},300,function(){Y.remove(),(0,u.isNil)(m)||m.remove();var ut=n.labelsContainer;ut.get("visible")||ut.set("visible",!0)}))};var Z=e.delay;(0,u.isFunction)(Z)&&(Z=e.delay(a));var j=e.easing;(0,u.isFunction)(j)&&(j=e.easing(a)),h.animate({width:o.getWidth()},e.duration,j,e.callback,Z),e.onFrame=function(ut){var ht=Jd(ut,f,o);if(!!ht){Y.attr("x",ht[0]+v),Y.attr("y",ht[1]+B);var Et=wT(l,ht[1],o);l.formatter&&(Et=l.formatter(Et)),Y.attr("text",Et)}},Y.animate(e.onFrame,{duration:e.duration,easing:j,callback:e.callback,delay:Z}),m&&m.animate({onFrame:function(ut){var ht=Jd(ut,f,o);!ht||(m.attr("x",ht[0]+v),m.attr("y",ht[1]))}},e.duration,j,e.callback,Z)}function bT(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function Jd(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),f=o.y+l*(n-o.x);return[n,f]}}}function wT(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function ST(i){jf=i}Un("clipingWithData",xT);var CT=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,u.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,u.deepMix)({},gE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,u.each)(this.shapes,function(n,a){var o=(0,u.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,u.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),qd=CT;function MT(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var ET={type:"padding",usage:"assign",expression:MT};function AT(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=hd(t,e);return Math.round(n)>=2}var TT={type:"group",usage:"compare",expression:AT};function PT(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=hd(e,n);return Math.round(a)>=t.value}var LT={type:"chain",usage:"compare",expression:PT};function _T(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var OT={type:"chain",usage:"compare",expression:_T};function IT(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var kT={type:"padding",usage:"compare",expression:IT};function BT(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var DT={type:"padding",usage:"assign",expression:BT};function FT(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var RT={type:"padding",usage:"assign",expression:FT},tp={elementDist:LT,elementDistVertical:OT,elementCollision:TT,elementWidth:kT,columnWidth:ET,ringThickness:RT,minRingThickness:DT};function sY(i,r){tp[i]=r}function Xo(i){i.attr("text","")}function NT(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],f=l.shape;if(s!==t&&!f.get("blank")){var h=ep(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,u.each)(o,function(c,v){if(v>0){var m=c.shape;Xo(m),m.set("blank",!0)}}))}function ep(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var YT=d(82097),ao=d.n(YT),GT=1e3,rp=60*GT,Uf=60*rp,Ll=24*Uf,np=31*Ll,ip=365*Ll;function ap(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),f=n[0].shape.get("delegateObject").item.name,h=new Date(f),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),m=op(h,v),T=op(l,o);if(m===T){if(t!==0&&t!==n.length-1){var B=VT(m);i.attr("text",ao().format(l,B))}return}if(t!==0){var Y=n[t-1].shape.get("delegateObject").item.name,Z=new Date(Y),j=zT(m,l,Z);if(j){var B=XT(m,T);i.attr("text",ao().format(l,B));return}}}function zT(i,r,t){var e=sp(r,i),n=sp(t,i);return e===n}function op(i,r){var t,e=Math.abs(i-r),n={minute:[rp,Uf],hour:[Uf,Ll],day:[Ll,np],month:[np,ip],year:[ip,Infinity]};return(0,u.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function XT(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function VT(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function sp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function HT(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var lp={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function up(i,r,t,e){if(!(!(0,u.has)(e,"node")||!(0,u.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=fp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var f=jT(n),h=cd(f),l=WT(h),c=lp[l].number,v=UT(n),m=ZT(v,c),s=fp({unit:l,decimal:m},a).num;i.attr("text",s+l)}}}}function fp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=lp[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function WT(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function jT(i){var r=[];return(0,u.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function UT(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function ZT(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function KT(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=$T(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function $T(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=kf(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=QT(l);var f=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:f,distY:h}}function QT(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function JT(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(ep(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,f=10;if(l-f>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),m=qT(c,v).get("box"),T=m.left+m.width/2,B=m.top,Y=s.get("labelController").labelsContainer,Z=Y.addShape("path",{attrs:{path:[["M",T,B],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),j={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-f),n[t]=e.nodes.measure(a.shape),n[t].line=Z,n[t].origin_position=j}}}}function qT(i,r){var t;return(0,u.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function tP(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!hp(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&Xo(i)}}function hp(i,r,t){var e=[];(0,u.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,u.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function eP(i,r,t,e){var n=e.nodes.nodes;if(!hp(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&Xo(i)}}function rP(i,r,t,e){var n=e.nodes.nodes,a=iP(n);if(!(t<=1)){var o=n[t],s=nP(t,n),l=s.centerX-o.centerX,f=s.centerY-o.centerY,h=Math.sqrt(l*l+f*f);h<a&&(Xo(i),i.set("blank",!0))}}function nP(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function iP(i){var r=(0,u.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function aP(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,u.get)(s,["label","fields",0],(0,u.get)(s,["position","fields",1])),f=oP(o,l,n),h=!1;if((0,u.each)(f,function(T){T.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,m=c.y;i.attr("x",v),i.attr("y",m)}}else Xo(i)}function oP(i,r,t){var e=[];(0,u.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=Zf(t,r,n),o=e[e.length-1],s=Zf(t,r,o),l=sP(e),f=Zf(t,r,l);return{min:a,max:s,median:f}}function sP(i){var r=(0,u.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function Zf(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function cp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function lP(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?up(i,r,t,n):HT(a)?ap(i,r,t,n):cp(i,r)}function uP(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function fP(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var vp={textWrapper:fP,textRotation:uP,textAbbreviate:cp,textHide:Xo,digitsAbbreviate:up,datetimeStringAbbrevaite:ap,robustAbbrevaite:lP,nodesResampling:tP,nodesResamplingByAbbrevate:eP,nodesResamplingByChange:rP,nodesResamplingByState:aP,nodeJitter:KT,nodeJitterUpward:JT,clearOverlapping:NT};function lY(i,r){vp[i]=r}var hP=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,u.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=tp[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=vp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),dp=hP,cP=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),pp=cP,vP={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},dP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new qd({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,f=s.rules;new dp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:f,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return vP[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,u.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(pp),oo=dP;function pP(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var gP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,u.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new qd({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new dp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(pp),gp=gP,yP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","type"],"point")},r}(gp);function mP(i){var r=i.getResponsiveTheme();new yP({plot:i,responsiveTheme:r})}var xP=[],bP=[{name:"responsiveAxis",method:pP},{name:"responsivePointLabel",method:mP}],wP={preRender:xP,afterRender:bP},yp=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,zt.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,u.get)(t,"model.mappingData",[]);return(0,u.map)(l,function(f,h){var c,v=n.getValue(f);return(0,zt.__assign)((0,zt.__assign)((0,zt.__assign)({},n.getPosition(f)),{text:s?s(v,(c={},c[xs]=f._origin,c.mappingDatum=f,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,u.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,u.isArray)(t.x)?(0,u.last)(t.x):t.x,y:(0,u.isArray)(t.y)?(0,u.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,u.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,u.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),f=l.x-s.x,h=l.y-s.y,c=Math.sqrt(f*f+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=nd(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(f,h){return h.minY-f.minY}),(0,u.each)(a,function(f,h){h>0&&f.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=nd(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(Lf),mp=yp;ji("point",yp);var xp=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=Rr.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),f=l[0],h=l[1],c=(0,u.groupBy)(e,function(m){return m.get(Qi)[sn.FIELD_ORIGIN][f]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,u.each)((0,u.keys)(c).reverse(),function(m){for(var T=n.sortLabels(t,c[m]);T.length;){var B=T.shift();if(bA(B,o,function(j,ut){return j._origin[f]===ut._origin[f]&&j._origin[h]===ut._origin[h]})){B.set("visible",!1);continue}Tl(B,s);var Y=Pl(B,o),Z=void 0;if(Y&&(B.attr("y",B.attr("y")+2*v),Tl(B,s),Z=Pl(B,o)),Z){B.set("visible",!1);continue}o.push(B)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(Qi)[sn.FIELD_ORIGIN][n]-o.get(Qi)[sn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(mp),SP=xp;ji("point-auto",xp);var CP=8,MP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,u.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,f=r.options.formatter,h=f?f(n.name):n.name;r.container.addShape("text",{attrs:(0,u.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,u.clone)(r.label.style);return delete t.fill,{offsetX:CP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),bp=MP,EP={line:"line",point:"point"},AP=di(EP);(0,u.assign)(qr,AP);var TP={stroke:"transparent",fill:"#FCC509",lineWidth:0},PP={stroke:"#FFF",fill:"#FCC509",lineWidth:1},LP={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},_P=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:TP,selected:LP,active:PP},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,u.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,u.each)(this.config.data,function(e,n){(0,u.each)(r,function(a){var o=(0,u.find)(a,function(Z){return(0,u.isMatch)(Z._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),f=o.x,h=o.y;(0,u.isArray)(f)&&(f=f[0]),(0,u.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,m=v.offsetX,T=v.offsetY,B=void 0;if((0,u.isString)(c)&&c.startsWith("image://")){var Y=c.substr(8);B=l.addShape("image",{attrs:{x:f-t.size/2+m,y:h-t.size/2+T,img:Y,width:t.size,height:t.size}})}else c=(0,u.isString)(c)?HM.MarkerSymbols[c]:c,B=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,zt.__assign)((0,zt.__assign)({x:f+m,y:h+T,r:t.size/2},s),{symbol:c})});t.points.push(B),t._animatePoint(B),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,f=n.formatter,h=n.position,c=n.field,v=t._origin[c];f&&(v=f(v,{_origin:t._origin},e));var m=(0,u.isArray)(t.x)?t.x[0]:t.x,T=(0,u.isArray)(t.y)?t.y[0]:t.y,B=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,zt.__assign)((0,zt.__assign)({x:m+o,y:T+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(B)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,u.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),f=s.get("id"),h={id:f,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===f?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,u.each)(this.points,function(n){n.get("id")===r.id?(0,u.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,u.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,u.each)(this.points,function(n){n.get("id")===r.id?(0,u.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,f=l===void 0?ro.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,zt.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),f)}},i}(),OP=_P,IP=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},kP=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},BP=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};Ui("line",{lineStyle:{normal:{},active:IP,disable:kP,selected:BP},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var DP={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};Vd("line",DP);var FP=function(i){(0,zt.__extends)(r,i);function r(t){return i.call(this,(0,zt.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(e,function(o){(0,u.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,u.each)(e,function(o){(0,u.each)(o.elements,function(s){s.setState("active",!1)})})},r}(Rf),RP=FP,NP=function(i){(0,zt.__extends)(r,i);function r(t){return i.call(this,(0,zt.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(Rf),YP=NP,GP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,zt.__assign)((0,zt.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}($v.Z);$r("selected-tooltip",GP);var zP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,u.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,u.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(Qr),XP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,zt.__assign)((0,zt.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}($v.Z);$r("tooltip-active",XP);var VP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,u.filter)(t.geometries,function(a){return a.type=="point"});(0,u.each)(n,function(a){(0,u.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,u.filter)(e.geometries,function(s){return s.type=="point"});(0,u.each)(o,function(s){(0,u.each)(s.elements,function(l){l.setState("active",(0,u.findIndex)(a,function(f){return f.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(Qr),HP=VP;Cr("selected-tooltip",zP),mn("selected-tooltip",{start:[{trigger:sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Cr("marker-active",HP),mn("marker-active",{start:[{trigger:sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var WP={line:"line",point:"point"},wp=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,u.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new OP((0,zt.__assign)((0,zt.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return WP[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&ai(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&ai(e[t.yField],t.yAxis),this.setConfig("scales",e),mT(e[t.yField],(0,u.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,u.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=Vn("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,u.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=Vn("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=io(this.view,"line");if(n.type==="line"){var l=new bp((0,zt.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,zt.__assign)({type:"point",formatter:o.formatter&&function(f){return o.formatter(f)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(ST({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new RP({view:this.view})),this.interactions.push(new YP({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},r.prototype.applyResponsive=function(t){var e=this,n=wP[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(Fn),Ss=wp;Hr("line",wp);var jP=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ss.getDefaultOptions,r}(Br),Sp=jP;function UP(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=r;(0,u.each)(o,function(h){h.y0=t,h.y1=n,h.x0=f,f+=h.value*l,h.x1=h.x0+h.value*l})}function ZP(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=t;(0,u.each)(o,function(h){h.x0=r,h.x1=e,h.y0=f,f+=h.value*l,h.y1=h.y0+h.value*l})}var KP=(1+Math.sqrt(5))/2;function Cp(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(jt,$t){return $t.value-jt.value});for(var s=[],l,f,h,c,v,m,T,B,Y=0,Z=0;Y<a.length;){var j=e-r,ut=n-t;for(l=a[Z++].value,f=l,h=l,c=Math.max(ut/j,j/ut)/(o*KP),v=l*l*c,T=Math.max(f/v,v/h);Z<a.length;Z++){if(B=a[Z].value,l+=B,B<h&&(h=B),B>f&&(f=B),v=l*l*c,m=Math.max(f/v,v/h),m>T){l-=B;break}T=m}var ht={value:l,dice:j<ut,children:a.slice(Y,Z)};if(s.push(ht),ht.dice){var Et=o?ut*l/o:ut;UP(ht,r,t,e,t+Et),o&&(t+=Et)}else{var Ft=o?j*l/o:j;ZP(ht,r,t,r+Ft,n),o&&(r+=Ft)}o-=l,Y=Z}return s}var $P=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,zt.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,zt.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,zt.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,zt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,zt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),Pd(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],f=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,zt.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(m,T){var B=t.addGroup({id:"item-group-"+m.key,data:m,class:"item-group",attrs:{cursor:"pointer"}}),Y=B.addShape("rect",{id:"item-background-"+m.key,class:"item-background",attrs:(0,zt.__assign)((0,zt.__assign)({x:e,y:n,width:h+l,height:s+f},a.itemBackgroundStyle),{cursor:"pointer"})});Y.name="breadcrumb";var Z=B.addShape("text",{id:"item-text-"+m.key,class:"item-text",attrs:(0,zt.__assign)((0,zt.__assign)({x:e+h,y:n+s,text:m.text},a.textStyle),{cursor:"pointer"})});Z.name="breadcrumb";var j=Z.getBBox();c=a.itemHeight||j.height;var ut=a.itemWidth||j.width;a.maxItemWidth&&(ut=Math.min(ut,a.maxItemWidth));var ht={x:e,y:n,width:ut+h+l,height:c+s+f};if(Y.attr("width",ht.width),Y.attr("height",ht.height),B.setClip({type:"rect",attrs:ht}),e+=ht.width,T!==a.items.length-1){var Et=t.addShape("text",{attrs:(0,zt.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=Et.getBBox().width}}),v.attr({width:e,height:c+s+f})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,f){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(f,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),f=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",f),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:f}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(bs),QP=$P,_l=[1,0,0,0,1,0,0,0,1],So=400,Vo="easeQuadInOut";function JP(i,r,t){var e=Tp(i),n=Ap(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,f=Go([["s",a,o],["t",s,l]]),h=r.geometries[0];Ol(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=Mp(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,u.each)(v,function(Y,Z){Z===0?Y.animate({matrix:f},So,Vo,function(){c.remove(),r.canvas.draw()}):Y.animate(Go,So)}),h=r.geometries[0],Ol(h);var m=h.getShapes();(0,u.each)(m,function(Y){Y.attr("opacity",0),Y.animate({opacity:1},So,Vo)});var T=h.container;T.stopAnimate(),T.set("visible",!0),T.attr("matrix",(0,u.clone)(_l)),hA(T,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var B=(0,u.clone)(_l);h.container.animate({matrix:B},So,Vo,function(){Pp(h)}),r.canvas.draw()},16)}function Mp(i,r){var t=i.getShapes(),e=[];return(0,u.each)(t,function(n){var a=r.addShape("path",{attrs:(0,u.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Ep(i,r,t){var e=r.geometries[0];Ol(e);var n=e.container;n.attr("matrix",(0,u.clone)(_l));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Mp(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],Ol(e),n=e.container;var s=qP(e.getShapes(),i),l=Tp(s),f=Ap(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:f.minX,y:f.minY,width:f.width,height:f.height}}),tL(a,o,l,f);var c=f.width/l.width,v=f.height/l.height,m=(f.minX-l.minX)*c,T=(f.minY-l.minY)*v,B=Go([["s",c,v],["t",m,T]]);n.setMatrix(B),n.set("visible",!0),n.animate({matrix:_l},So,Vo,function(){Pp(e)})}function qP(i,r){var t;return(0,u.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function Ap(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function Tp(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function tL(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=Go([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},So,Vo,function(){i.remove()}),(0,u.each)(r,function(s){s.animate({opacity:0},So,Vo)})}function Ol(i){var r=i.labelsContainer;r.set("visible",!1)}function Pp(i){var r=i.labelsContainer;r.set("visible",!0)}var eL=100,rL=30,nL=10,iL=function(i){i===void 0&&(i={});var r=(0,zt.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:eL,itemHeight:rL,padding:[0,0,0,0]},i);return r},Lp=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=iL(e),a=n.padding,o=a[0],s=a[1];if(t)return new Rr(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,u.clone)(this.currentNode.name),value:(0,u.clone)(this.currentNode.value)},depth:(0,u.clone)(this.currentDepth)},this.currentDepth++,JP(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,u.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,u.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+nL,this.breadcrumb=new QP({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,u.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,u.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Ep(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,u.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Ep(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,u.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,u.hasKey)(this.mapping,String(t))){var n=(0,u.clone)(this.mapping[t]);if(n.values&&(0,u.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,u.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(ga),aL=Lp;ga.registerInteraction("drilldown",Lp);var oL={drilldown:aL},sL={rect:"polygon",breadcrumb:"breadcrumb"},lL=di(sL);(0,u.assign)(qr,lL);var _p=4,uL=8;function fL(i,r){return!i.children||i.depth>=r}function hL(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var f="",h=l.split(""),c=[],v=0;v<h.length;v++){var m=h[v];a.attr("text",f+=m);var T=a.getBBox().width-1;if(T>r){if(v===0)break;c.push(v),f=""}}return rd(h,c)});return a.remove(),s.join(`
`)}function Op(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,f=0;f<i.length;f++){var h=i[f];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var cL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,u.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=fL(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,u.clone)(r.options.style),l=r.getPosition(n,o),f=r.options.formatter,h=f?f(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,u.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,u.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,uL),l=e.x+e.width/2,f=e.y+e.height/2;r.attr({x:l,y:f,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-_p*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=hL(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var m=Op(a,s,h,this.container);r.attr("text",m)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-_p*2;if(r.getBBox().width>n){var a=Op(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),vL=cL,dL=4,Cs=4,Ip=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,u.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new vL((0,zt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=Cp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(f){var h=t.adjustStyleByDepth(f,l);return(0,u.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,u.each)(e,function(a){var o=oL[a.type];if(o){var s=new o((0,u.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,u.each)(t,function(o){(0,u.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,u.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var f=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=f/2>h?h:Cs;s.showLabel=c!==Cs;var v=Cp(s,s.x0+Cs,s.y0+c,s.x1-Cs,s.y1-Cs);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,u.each)(t,function(l){(0,u.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,zt.__assign)((0,zt.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,u.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,u.each)(t,function(a){(0,u.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+dL*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(Fn),pL=Ip;Hr("treemap",Ip);var gL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=pL.getDefaultOptions,r}(Br),kp=gL,Bp=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(Ss);Hr("step-line",Bp);var yL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Bp.getDefaultOptions,r}(Br),Dp=yL;function Fp(i,r){var t=[],e=i.get("origin").points;return(0,u.each)(e,function(n){t.push(r.convertPoint(n))}),t}var mL=function(){function i(r){(0,u.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,u.deepMix)({},ro.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,f;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,f,h,s),f=s,l=h}):a.forEach(function(h,c){f=e[c],c++>0&&r._drawTag(h,f,o,s),s=f,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=Fp(r,o)[a?3:0],l=Fp(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,f=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-f)/2<e?(e=Math.max(1,(c-f)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-f,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-f,t.y-o]]:(h-f)/2<e?(e=Math.max(1,(h-f)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-f],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-f]];var m=this.container.addShape("polygon",{name:"arrow",attrs:(0,zt.__assign)((0,zt.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(m)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,f=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,zt.__assign)((0,zt.__assign)({},this.value.style),{text:h,x:f?(r.x+e.x)/2:r.x+s+o/2,y:f?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(f){var v=e.x-r.x,m=c.getBBox().width;if(m>v){var T=m/h.length,B=Math.max(1,Math.ceil(v/T)-1),Y=h.slice(0,B)+"...";c.attr("text",Y)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,u.get)(t,"appear",ro.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),Rp=mL;function xL(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var bL=[],wL=[{name:"responsiveAxis",method:xL}],SL={preRender:bL,afterRender:wL},CL=function(i){var r=i.opacity||1;return{opacity:r*.5}},ML=function(i){var r=i.opacity||1;return{opacity:r*.5}},Kf={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:CL,disable:ML,selected:{lineWidth:1,stroke:"black"}}};Ui("bar",Kf);function Va(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function $f(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function uY(i){return"#"+($f(i[0])+$f(i[1])+$f(i[2]))}function Il(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var Qf=function(i){var r=Va(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},Np=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),f=this.getValue(t);return(0,u.deepMix)({},o,(0,zt.__assign)((0,zt.__assign)({},this.getPosition(t)),{text:s?s(f,(n={},n[xs]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):f,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),f=this.getElementShapeBBox(e);if(f.width<=l.width){var h=f.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,zt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=a.width,c=this.options,v=c.offsetX,m=c.offsetY,T=c.position,B=l+f/2+m,Y=n<0?-1:1,Z;if(T==="left"){var j=n>0?o:s;Z=j+e*Y+v}else if(T==="right"){var j=n>0?s:o;Z=j+e*Y+v}else Z=o+h/2+v;return{x:Z,y:B}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Va(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=Il(l,s);return f}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(m){a.push(e.coord.convertPoint(m))});var o=a.map(function(m){return m.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(m){return m.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),v=new Rr(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Lf),Yp=Np;ji("bar",Np);var Gp=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=this.options,c=h.offsetX,v=h.offsetY,m=l+f/2+v,T=n<0?-1:1,B=n>0?s:o,Y=B+e*T+c;return{x:Y,y:m}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(e,function(c){return c.get(Qi)[sn.FIELD_ORIGIN][o]});(0,u.each)(e,function(c){var v=h[c.get(Qi)[sn.FIELD_ORIGIN][o]]||[],m=c.get("element"),T=m.shape,B=Qf(T.attr("fill")),Y=n.getElementShapeBBox(m),Z=Rr.fromBBoxObject(c.getBBox());if(Gf(a,Y)<=0&&c.set("visible",!1),Z.width>Y.width){var j=(0,u.findIndex)(v,function(ht){return ht===c});j!==v.length-1&&c.set("visible",!1)}else{c.attr({x:Y.x+Y.width/2,textAlign:"center"});var ut=Z.width>Y.width||Z.height>Y.height;ut?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:B?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:B?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(m){return m.get(Qi)[sn.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(m){return m.get(Qi)[sn.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(m){return l.push(m)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(m){return l.push(m)})),(0,u.each)(h.reverse(),function(m){(0,u.each)(f[m],function(T){return l.push(T)})});l.length>0;){var v=l.shift();v.get("visible")&&(Tl(v,n),Pl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(Yp),EL=Gp;ji("bar-auto",Gp);var AL={bar:"interval"},TL=di(AL);(0,u.assign)(qr,TL);var PL={bar:"interval"},LL={interval:"bar"},zp=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Rp((0,zt.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?PL[e]:LL[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,u.each)(e,function(o){var s=(0,u.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,u.has)(t,"yAxis")&&ai(e[t.yField],t.yAxis),e[t.xField]={},(0,u.has)(t,"xAxis")&&ai(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=Ai("axis",{plot:this,dim:"x"}),e=Ai("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=Vn("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,C)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,zt.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=SL[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(Fn),kl=zp;Hr("bar",zp);var _L=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=kl.getDefaultOptions,r}(Br),Xp=_L;Ui("stackedBar",Kf);var OL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(Yp),fY=null;ji("stacked-bar",OL);var IL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(EL),hY=null;ji("stacked-bar-auto",IL);var Vp=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,zt.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(kl),Jf=Vp;Hr("stackedBar",Vp);var kL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Jf.getDefaultOptions,r}(Br),Hp=kL;Ui("groupedBar",Kf);var Wp=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,u.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,u.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,u.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,u.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(kl),jp=Wp;Hr("groupedBar",Wp);var BL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=jp.getDefaultOptions,r}(Br),Up=BL,qf=function(i,r,t){var e=(0,u.groupBy)(i,r);e=(0,u.mapValues)(e,function(o){return(0,u.map)(o,function(s){return(0,u.map)(t,function(l){return s[l]})})}),e=(0,u.mapValues)(e,u.flatten),e=(0,u.mapValues)(e,function(o){return(0,u.map)(o,function(s){var l=Number.parseFloat(s);return!(0,u.isNumber)(l)||isNaN(l)?0:l})});var n=(0,u.mapValues)(e,function(o){return(0,u.reduce)(o,function(s,l){return s+l},0)}),a=(0,u.map)(i,function(o){var s=(0,zt.__assign)((0,zt.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,u.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,u.each)((0,u.groupBy)(a,r),function(o){var s=0;(0,u.each)(o,function(l,f){(0,u.each)(t,function(h,c){(s+l[h]>=1||f===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},Zp=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return qf(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Jf),Kp=Zp;Hr("percentStackedBar",Zp);var DL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Kp.getDefaultOptions,r}(Br),$p=DL,Qp=8;function FL(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var RL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,u.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),f=r.getTextAlign(),h=[];(0,u.each)(s,function(c,v){var m=v===0?r.options.leftStyle:r.options.rightStyle,T=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&T!=="black"&&(m.stroke=null);var B=r.options.formatter,Y=B?B(l[v]):l[v],Z=r.container.addShape("text",{attrs:(0,u.deepMix)({},m,{x:c.x,y:c.y,text:Y,fill:T,textAlign:f[v],textBaseline:"middle"}),name:"label"});h.push(Z),r.doAnimation(Z)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,u.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Rr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:Qp,offsetY:0,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,f=s.offsetY,h=a+o/2+f,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=Va(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=FL(s,o);return l}var f=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return f},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,f=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=f[0].width+f[1].width,m=f[0].maxX-f[1].minX>2,T=v>s;(m||T)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),f[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),f[1]=t.getBBox())}f[0].minX<l.minX&&(h=l.minX+Qp,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),NL=RL,Jp;function qp(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}qp.animationName="clipInFromCenter";function YL(i){Jp=i}function tg(i,r){var t=GL(i).attr("path"),e=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function GL(i){var r=i.id,t;return(0,u.each)(Jp,function(e){e.id===r&&(t=e)}),t}tg.animationName="updateFromCenter",Un("clipInFromCenter",qp),Un("updateFromCenter",tg);var eg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,u.each)(e,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),YL(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new NL((0,zt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(kl),zL=eg;Hr("rangeBar",eg);var XL=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=zL.getDefaultOptions,r}(Br),rg=XL,ng=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(mp),VL=ng;ji("area-point",ng);var ig=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=io(e,"area"),l=xA(s).sort(function(f,h){return h.getBBox().height-f.getBBox().height});(0,u.each)(t,function(f){var h=f.getBBox(),c=xE(h.x,h.y,h.width,h.height),v=(0,u.map)(l,function(B){return{area:B,matches:(0,u.filter)(c,function(Y){return!!B.isHit(Y[0],Y[1])}).length}}).sort(function(B,Y){return B.matches-Y.matches});if((0,u.last)(v).matches>0){var m=(0,u.last)(v).area.attr("fill"),T=Qf(m);f.attr({fill:T?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:T?o.fillOpacity:a.fillOpacity,stroke:T?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(SP),HL=ig;ji("area-point-auto",ig);function WL(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var jL=[],UL=[{name:"responsiveAxis",method:WL}],ZL={preRender:jL,afterRender:UL},KL={area:"area",line:"line",point:"point"},$L=di(KL);(0,u.assign)(qr,$L);var QL=function(i){var r=i.opacity||1;return{opacity:r}},JL=function(i){var r=i.opacity||1;return{opacity:r*.5}},qL=function(i){var r=i.opacity||1;return{opacity:r}},t_=function(i){var r=i.opacity||1;return{opacity:r*.5}},e_=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},r_=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},n_=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},i_=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},ag={areaStyle:{normal:{},active:QL,disable:JL,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:qL,disable:t_,selected:e_},pointStyle:{normal:{},active:r_,disable:i_,selected:n_},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};Ui("area",ag);var a_={area:"area",line:"line",point:"point"},og=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return a_[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&ai(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&ai(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=Vn("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,u.deepMix)({},t.line);if(e.visible){var n=Vn("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,u.deepMix)({},t.point);if(e.visible){var n=Vn("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=io(this.view,"area");this.doRenderLabel(s,(0,zt.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=ZL[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r}(Fn),th=og;Hr("area",og);var o_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=th.getDefaultOptions,r}(Br),sg=o_,s_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,u.reduce)(n.y,function(f,h){return f+h},0)/(0,u.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(bp),l_=s_,eh=12,u_=.01,f_=100,h_=12;function c_(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,u.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function lg(i,r,t){var e=r[0],n=r[r.length-1];(0,u.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function v_(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var d_=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,u.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,u.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,u.each)(n,function(o,s){var l=r.options,f=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),m=r.options.formatter,T=m?m(o._origin[t]):o._origin[t],B=r.container.addShape("text",{attrs:(0,u.deepMix)({},{x:o.x+h,y:o.y+c,text:T,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},f),name:"label"});a.push(B)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,u.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=c_(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),f={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(h_,a,this.testFit,f,u_,f_);if(h!==null){f.justTest=!1;var c=this.testFit(f);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=lg(o,e,0),l=lg(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,f=n;f.height=l,f.width=l*f.aspect;var h=e(f),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],f=l.x,h=f+e;if(h>t[1])break;for(var c=v_(a,h),v=-Infinity,m=null,T=Infinity,B=s;B<c;B++){var Y=a[B].y[1],Z=a[B].y[0];if(Z<T&&(T=Z),Y>v&&(v=Y,m=Z),T-v<n)break}if(T-v>=n)return o?!0:{x:f,y0:v,y1:m,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,u.clone)(this.plot.theme.label.textStyle);t.fontSize=eh;var e=this.container.addShape("text",{attrs:(0,zt.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return eh*t}return eh},i}(),p_=d_,g_={lineLabel:{Ctr:l_},areaLabel:{Ctr:p_}};function y_(i,r,t){if(i.options[r]&&i.options[r].visible){var e=g_[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var m_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(VL),cY=null;ji("stackedArea-point",m_);var x_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(HL),vY=null;ji("stackedArea-point-auto",x_),Ui("stackedArea",ag);var ug=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,u.get)(this.options,["label","visible"]),e=(0,u.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,u.each)(e,function(n){var a=(0,zt.__assign)({view:t.view,plot:t},t.options[n]),o=y_(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(th),rh=ug;Hr("stackedArea",ug);var b_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=rh.getDefaultOptions,r}(Br),fg=b_,hg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return qf(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(rh),cg=hg;Hr("percentStackedArea",hg);var w_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=cg.getDefaultOptions,r}(Br),vg=w_;function S_(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var C_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","position"],"inner")},r}(gp);function M_(i){var r=i.getResponsiveTheme();new C_({plot:i,responsiveTheme:r})}var E_=[],A_=[{name:"responsiveAxis",method:S_},{name:"responsiveLabel",method:M_}],T_={preRender:E_,afterRender:A_},P_={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};Vd("column",P_);var dg=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,f=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,u.deepMix)({},s,(0,zt.__assign)((0,zt.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[xs]=(a=f[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=f[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,zt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.height,h=a.width,c=this.options,v=c.offsetX,m=c.offsetY,T=c.position,B=o+h/2+v,Y=n>0?-1:1,Z;if(T==="top"){var j=n>0?s:l;Z=j+e*Y+m}else if(T==="bottom"){var j=n>0?l:s;Z=j+e*Y+m}else Z=s+f/2+m;return{x:B,y:Z}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Va(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=Il(l,s);return f}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(m){a.push(e.coord.convertPoint(m))});var o=a.map(function(m){return m.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(m){return m.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),v=new Rr(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Lf),nh=dg;ji("column",dg);var pg=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.width,h=this.options,c=h.offsetX,v=h.offsetY,m=o+f/2+c,T=n>0?-1:1,B=n>0?s:l,Y=B+e*T+v;return{x:m,y:Y}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(e,function(c){return c.get(Qi)[sn.FIELD_ORIGIN][o]});(0,u.each)(e,function(c){var v=h[c.get(Qi)[sn.FIELD_ORIGIN][o]]||[],m=c.get("element"),T=m.shape,B=Qf(T.attr("fill")),Y=n.getElementShapeBBox(m),Z=Rr.fromBBoxObject(c.getBBox());if(Gf(a,Y)<=0&&c.set("visible",!1),Z.height>Y.height){var j=(0,u.findIndex)(v,function(ht){return ht===c});j!==0&&c.set("visible",!1)}else{c.attr({y:Y.y+Y.height/2,textBaseline:"middle"});var ut=Z.width>Y.width||Z.height>Y.height;ut?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:B?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:B?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(m){return m.get(Qi)[sn.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(m){return m.get(Qi)[sn.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(m){return l.push(m)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(m){return l.push(m)})),(0,u.each)(h.reverse(),function(m){(0,u.each)(f[m],function(T){return l.push(T)})});l.length>0;){var v=l.shift();v.get("visible")&&(Tl(v,n),Pl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(nh),L_=pg;ji("column-auto",pg);var __={column:"interval"},O_=di(__);(0,u.assign)(qr,O_);var I_=function(i){var r=i.opacity||1;return{opacity:r*.5}},k_=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},ih={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:I_,disable:k_,selected:{lineWidth:1,stroke:"black"}}};Ui("column",ih);var B_={column:"interval"},D_={interval:"column"},gg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Rp((0,zt.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?B_[e]:D_[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,u.each)(t,function(a){var o=(0,u.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&ai(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&ai(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=Vn("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,zt.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=T_[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r}(Fn),Ho=gg;Hr("column",gg);var F_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ho.getDefaultOptions,r}(Br),yg=F_;Ui("groupedColumn",ih);var mg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Ho),ah=mg;Hr("groupedColumn",mg);var R_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ah.getDefaultOptions,r}(Br),xg=R_;function bg(i,r){var t=[],e=i.get("origin").points;return(0,u.each)(e,function(n){t.push(r.convertPoint(n))}),t}function N_(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var Y_=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,u.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,u.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,u.each)(t,function(o){a[o]=[]}),(0,u.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=bg(r[a],n),s=bg(r[a+1],n),l=(0,u.mix)({},this._areaStyle[t]),f=(0,u.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,f.opacity=0);var h=this.container.addShape("path",{attrs:(0,u.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,u.mix)({},f,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=N_()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,u.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,u.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(Xa(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,u.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(Xa(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,u.each)(this.areas,function(t){var e=t.get("data");Xa(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,u.each)(this.lines,function(t){var e=t.get("data");Xa(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),G_=Y_;Ui("stackedColumn",ih);var z_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(nh),dY=null;ji("stacked-column",z_);var X_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(L_),pY=null;ji("stacked-column-auto",X_);var wg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new G_((0,zt.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,zt.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Ho),Bl=wg;Hr("stackedColumn",wg);var V_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Bl.getDefaultOptions,r}(Br),Sg=V_,oh=8;function H_(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var W_=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,u.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),f=r.getTextBaseline(),h=[];(0,u.each)(s,function(c,v){var m=v===1?r.options.topStyle:r.options.bottomStyle,T=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&T!=="black"&&(m.stroke=null);var B=r.options.formatter,Y=B?B(l[v]):l[v],Z=r.container.addShape("text",{attrs:(0,u.deepMix)({},m,{x:c.x,y:c.y,text:Y,fill:T,textAlign:"center",textBaseline:f[v]}),name:"label"});h.push(Z),r.doAnimation(Z)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,u.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Rr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:oh,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,f,h;return this.options.position==="outer"?(f=n-s,h=a+s):(f=n+s,h=a-s),[{x:l,y:h},{x:l,y:f}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=Va(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=H_(s,o);return l}var f=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return f},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,f=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),m=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var T=c[0].height+c[1].height,B=c[1].maxY-c[0].minY>2,Y=T>f;(B||Y)&&(m=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-oh&&(v=h.maxY-oh/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",m),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),j_=W_,Cg;function Mg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Mg.animationName="clipInFromCenterVertical";function U_(i){Cg=i}function Eg(i,r){var t=Z_(i).attr("path"),e=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function Z_(i){var r=i.id,t;return(0,u.each)(Cg,function(e){e.id===r&&(t=e)}),t}Eg.animationName="updateFromCenterVertical",Un("clipInFromCenterVertical",Mg),Un("updateFromCenterVertical",Eg);var Ag=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,u.each)(e,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),U_(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new j_((0,zt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(Ho),K_=Ag;Hr("rangeColumn",Ag);var $_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=K_.getDefaultOptions,r}(Br),Tg=$_,Pg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return qf(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Bl),Lg=Pg;Hr("percentStackedColumn",Pg);var Q_=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Lg.getDefaultOptions,r}(Br),_g=Q_,J_={pie:"interval"},q_=di(J_);(0,u.assign)(qr,q_);function Dl(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function gY(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function tO(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function eO(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function yY(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var rO=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function nO(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function iO(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var mY=4;function aO(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function oO(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var sO=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,u.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),f=n.getBBox();if(s.get("parent").get("visible")&&(a=tO(l,f),!rO(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return oO(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,f=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,m){var T=(0,u.deepMix)({},v,e),B=r.getFilteredSum(),Y=r.plot.options.angleField,Z=v.origin[Y]/B,j=n?n(v.name,{_origin:v.origin,percent:Z},m):v.name,ut=r.container.addGroup({name:"itemGroup",index:m,capture:!1}),ht=ut.addShape("text",{attrs:(0,u.deepMix)({},T,{x:v.x+o,y:v.y+s,text:j})});ht.set("id","text-"+v.name+"-"+m),c.push(ht)}),c.forEach(function(v){var m=r.coordinateBBox;r.adjustText(v,m)}),l&&this.layout(c,h,this.coordinateBBox),f||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,m){a&&r.rotateLabel(v,iO(h[m].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return _d(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,f=r.options.offset>4?4:0,h=r.getLinePath(o,s,f),c=r.options.line;n.addShape("path",{attrs:(0,zt.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-f:f))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,f=Dl(s,a,l+e);e<4&&(f=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},m=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*f.x-t.x,2*f.y-t.y,f.x,f.y],T=["L",f.x,f.y],B=n?m:T,Y=["M",v.x,v.y].concat(B).concat("L",t.x,t.y);return Y.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,u.isString)(t)&&(t=e*aO(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=yn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=Dl(n,s.angle,a+t),f=(0,zt.__assign)((0,zt.__assign)({},s),l);return r.adjustItem(f),f});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,f=l[1],h=f.field,c=e.map(function(v){var m=v.shape.get("origin"),T=m.color,B=m.data[0]||m.data,Y=s+Math.PI*2*f.scale(B[h]),Z=(s+Y)/2,j=Dl(a,Z,o);s=Y;var ut=f.getText(B[t]),ht=j.x>a.x?"left":"right";return{x:j.x,y:j.y,color:T,name:ut,origin:B,angle:nO(r.getGeometry().coordinate,j),textAlign:ht}});this.arcPoints=c},i}(),sh=sO;function xY(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var lO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,u.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,zt.__assign)((0,zt.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),f={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,u.clone)(f),c=(0,u.clone)(f);if(e.get("id")!==t.get("id")){var v=eO(s,l),m=v.xOverlap,T=v.yOverlap;if(m&&(h.x=f.x+m,h.y=f.y+Math.tan(o)*m),T){var B=T;f.y<a.y?B=B<0?B:l.minY-s.maxY:B=B>0?B:l.maxY-s.minY,c.y=f.y+B,c.x=f.x+B/Math.tan(o)}var Y=ld(f,h),Z=ld(f,c),j=Y<Z?h:c;t.attr("x",j.x),t.attr("y",j.y)}},r}(sh),uO=lO,bY=16,fO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,zt.__assign)((0,zt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,u.filter)(t,function(f){return f.attr("x")<=o.x}),l=(0,u.filter)(t,function(f){return f.attr("x")>o.x});[l,s].forEach(function(f,h){a._antiCollision(f,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,f=s.radius,h=this.options.offset,c=f+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),m=Math.floor(v/o);this.options.allowOverlap||t.slice(m).forEach(function(Wt){Wt.get("parent").set("visible",!1)}),t.splice(m,t.length-m),t.sort(function(Wt,re){return Wt.getBBox().y-re.getBBox().y});for(var T=!0,B,Y=l.y+v/2,Z=l.y-v/2,j=t.map(function(Wt){var re=Wt.getBBox();return re.maxY>Y&&(Y=Math.min(n.maxY,re.maxY)),re.minY<Z&&(Z=Math.max(n.minY,re.minY)),{text:Wt.attr("text"),size:o,pos:re.y,targets:[]}}),ut=0;ut<j.length;)ut===j.length-1?j[ut].targets[0]=Y:j[ut].targets[0]=j[ut+1].pos-j[ut+1].size/2,ut++;for(;T;)for(j.forEach(function(Wt){var re=(0,u.last)(Wt.targets);Wt.pos=Math.max(Z,Math.min(Wt.pos,re-Wt.size))}),T=!1,B=j.length;B--;)if(B>0){var ht=j[B-1],Et=j[B];if(ht.pos+ht.size>Et.pos){ht.size+=Et.size,ht.targets=ht.targets.concat(Et.targets);var Ft=(0,u.last)(ht.targets);ht.pos+ht.size>Ft&&(ht.pos=Ft-ht.size),j.splice(B,1),T=!0}else ht.targets.splice(-1,1,Et.pos)}B=0,j.forEach(function(Wt){var re=o/2;Wt.targets.forEach(function(){t[B].attr("y",Wt.pos+re),re+=o,B++})});var jt=[],$t=[];t.forEach(function(Wt,re){var ue=a.arcPoints[re];ue.angle>=0&&ue.angle<=Math.PI?$t.push(Wt):jt.push(Wt)}),[jt,$t].forEach(function(Wt,re){if(!!Wt.length){var ue=re?(0,u.last)(Wt).getBBox().maxY-l.y:l.y-(0,u.head)(Wt).getBBox().minY;ue=Math.max(c,ue);var oe=h>4?4:0,Ee=Math.max.apply(0,(0,u.map)(t,function(He){return He.getBBox().width}))+h+oe,_e=Math.max(c,Math.min((ue+c)/2,l.x-(n.minX+Ee))),Pe=_e*_e,ze=ue*ue;Wt.forEach(function(He,je){var Ye=a.arcPoints[je],Ge=He.getBBox(),ar={x:Ge.minX+Ge.width/2,y:Ge.minY+Ge.height/2},nr=Math.pow(ar.y-l.y,2),hr=Dl(l,Ye.angle,f),Ue=(e?1:-1)*oe*2;if(nr>ze)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",He.attr("text")),He.attr("x",hr.x+Ue);else{var lr=l.x+(e?1:-1)*Math.sqrt((1-nr/ze)*Pe);(l.x===hr.x&&ar.y===hr.y||l.y===hr.y&&lr===hr.x)&&(lr=hr.x),He.attr("x",lr+Ue)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,u.head)(t)?(0,u.head)(t).getBBox().height:14},r}(sh),hO=fO,wY=16,cO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,zt.__assign)((0,zt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(sh),vO=cO,Og={inner:uO,outer:hO,"outer-center":vO};function dO(i){if(!Og[i]){console.warn("this label "+i+" is not registered");return}return Og[i]}var pO=0,lh=15,gO="#CCC",yO=2,mO=-2,Ig=15;function kg(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var xO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,u.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,u.each)(n,function(Et){e.push(Et.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],f=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,m=this.view.coordinateBBox,T=m.width,B=m.height;this.width=T,this.height=B;for(var Y=c,Z=function(Et){var Ft=t[Et],jt=f.scale(Ft[l]),$t=Y+Math.PI*2*jt,Wt=Y+($t-Y)/2;Y=$t;var re=kg(h,Wt,v+pO),ue=kg(h,Wt,v+lh),oe=gO;if(j.options.fields.length===2){var Ee=j.options.fields[1],_e=j.view.geometries[0].scales[Ee],Pe=_e.scale(Ft[Ee]);if(Pe){var ze=Math.floor(Pe*(e.length-1));oe=e[ze].attr("fill")}}var He={_anchor:re,_inflection:ue,_data:Ft,x:ue.x,y:ue.y,r:v+lh,fill:oe,textGroup:null,_side:null},je=[];if((0,u.each)(j.options.fields,function(xr){o&&xr===Fl?je.push(Ft[s]):je.push(Ft[xr])}),j.options.formatter){var Ye=j.options.formatter(Ft[s],{_origin:Ft,color:oe},Et);(0,u.isString)(Ye)&&(Ye=[Ye]),je=Ye}var Ge=j.container.addGroup({capture:!1,visible:!1}),ar={x:0,y:0,fontSize:j.options.text.fontSize,lineHeight:j.options.text.fontSize,fontWeight:j.options.text.fontWeight,fill:j.options.text.fill},nr=Ft[s];j.options.formatter&&(nr=je[0]);var hr=(0,u.clone)(ar);je.length===2&&(hr.fontWeight=700);var Ue=Ge.addShape("text",{attrs:(0,u.mix)({textBaseline:je.length===2?"top":"middle",text:nr},hr),data:Ft,offsetY:je.length===2?yO:0,name:"label"});if(Ue.name="label",je.length===2){var lr=Ge.addShape("text",{attrs:(0,u.mix)({textBaseline:"bottom",text:je[1]},ar),data:Ft,offsetY:mO,name:"label"});lr.name="label"}He.textGroup=Ge,re.x<h.x?(He._side="left",j.halves[0].push(He)):(He._side="right",j.halves[1].push(He))},j=this,ut=0;ut<t.length;ut++)Z(ut);var ht=Math.floor(B/this.options.lineHeight);(0,u.each)(this.halves,function(Et){Et.length>ht&&Et.splice(ht,Et.length-ht),Et.sort(function(Ft,jt){return Ft.y-jt.y}),r._antiCollision(Et)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-lh-this.options.lineHeight,l=!0,f=n,h,c=0,v=Number.MIN_VALUE,m=0,T=r.map(function(ut){var ht=ut.y;ht>c&&(c=ht),ht<v&&(v=ht);var Et=ut.textGroup,Ft=Et.getBBox().width;return Ft>=m&&(m=Ft),{size:t.options.lineHeight,targets:[ht-s]}});c-s>f&&(f=c-s);for(var B=function(ut){ut.forEach(function(ht){var Et=(Math.min.apply(v,ht.targets)+Math.max.apply(v,ht.targets))/2;ht.pos=Math.min(Math.max(v,Et-ht.size/2),f-ht.size)})};l;)for(B(T),l=!1,h=T.length;h--;)if(h>0){var Y=T[h-1],Z=T[h];Y.pos+Y.size>Z.pos&&(Y.size+=Z.size,Y.targets=Y.targets.concat(Z.targets),Y.pos+Y.size>f&&(Y.pos=f-Y.size),T.splice(h,1),l=!0)}h=0,T.forEach(function(ut){var ht=s;ut.targets.forEach(function(){r[h].y=ut.pos+ht+t.options.lineHeight/2,ht+=t.options.lineHeight,h++})});var j=[];r.forEach(function(ut){var ht=t._drawLabel(ut);t._drawLabelLine(ut,m,ht),j.push(ht)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,f=(0,zt.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(f.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(f),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],f=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+Ig,v=l[0]-Ig,m=[r._side==="left"?c:v,a[1]];f=[n,h,m,l],(r._side==="right"&&m[0]<h[0]||r._side==="left"&&m[0]>h[0])&&(f=[n,h,l])}else f=[n,[a[0],o],l];for(var T=[],B=0;B<f.length;B++){var Y=f[B],Z="L";B===0&&(Z="M"),T.push([Z,Y[0],Y[1]])}e.addShape("path",{attrs:{path:T,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),bO=xO,wO=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},SO=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};Ui("pie",{columnStyle:{normal:{},active:wO,disable:SO,selected:{lineWidth:1,stroke:"black"}}});var Fl="$$percentage$$",CO={pie:"interval"},MO={pie:"column"},Bg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,u.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,u.every)(n,function(h){return h[o]===0}),l=s?Fl:o;this.labelComponent=new bO((0,zt.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var f=dO(e.type);this.labelComponent=new f(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?CO[e]:MO[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,u.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,u.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,zt.__assign)((0,zt.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[Fl]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,zt.__assign)((0,zt.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,u.every)(e,function(s){return s[n]===0});o?a=Vn("interval","main",{plot:this,positionFields:[1,Fl]}):a=Vn("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,y)},r.prototype.label=function(){this.pie.label=!1},r}(Fn),Dg=Bg;Hr("pie",Bg);var EO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Dg.getDefaultOptions,r}(Br),Fg=EO,AO=.3989422804014327,TO=1/255/16,Ms="_origin",PO=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Ms][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,u.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,u.get)(this.styleOption,["style","shadowBlur"]);(0,u.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=Va(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(TO/t/n/AO))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),f=this.getAttribute("color"),h=f.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(ut){return ut[Ms][h]<=e[1]&&ut[Ms][h]>=e[0]}));for(var v=this.scales[h],m=0;m<t.length;m++){var T=t[m],B=this.getDrawCfg(T),Y=v.scale(T[Ms][h]);this.drawGrayScaleBlurredCircle(B.x-a.x,B.y-o.y,this.radius+this.blur,Y,c)}var Z=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(Z),c.putImageData(Z,0,0);var j=new Image;j.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,zt.__assign)((0,zt.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Ms]})},r}(Na);da("linearHeatmap",PO);var LO=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,u.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(ye.default),_O=LO,Rl=4,Rg=1,OO=.1,IO=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Rr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,u.clone)(e).reverse(),f=(t-r)/e.length;(0,u.each)(l,function(h,c){var v=o*c,m={to:t-f*c,from:t-f*(c+1)},T=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:Rg,cursor:"pointer"},name:"legend"});T.set("info",m);var B=n.getDataSlide(m);n.dataSlides[m.from+"-"+m.to]={mode:"active",data:B},s.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,zt.__assign)({text:t,x:a/2,y:-Rl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,zt.__assign)((0,zt.__assign)({text:r,x:a/2,y:this.height+Rl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,u.each)(e,function(f,h){var c=a*h,v={from:l*h,to:l*(h+1)},m=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:f,opacity:.8,cursor:"pointer"},name:"legend"});m.set("info",v),s.addShape("path",{attrs:(0,zt.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,zt.__assign)((0,zt.__assign)({text:r,x:-Rl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,zt.__assign)({text:t,x:this.width+Rl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(t)&&(0,u.each)(t,function(f,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:OO},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:Rg},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,u.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,u.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,u.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),kO=IO,BO={background:{Ctr:_O},legend:{Ctr:kO,padding:"outer"}};function DO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=BO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var FO={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},RO=di(FO);(0,u.assign)(qr,RO);var Ng=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&ai(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&ai(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,u.deepMix)(e,t.point):t.point=e;var n=Vn("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=Ai("label",(0,zt.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,x)},r.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,u.each)(e,function(n){var a=(0,zt.__assign)({view:t.view,plot:t},t.options[n]),o=DO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Fn),NO=Ng;Hr("densityHeatmap",Ng);var YO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=NO.getDefaultOptions,r}(Br),Yg=YO;function Nl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function Yl(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function Gg(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}an("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Nl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,u.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),an("point","curvePoint",{draw:function(i,r){var t=Yl(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,u.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var GO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,u.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,f=r.options.formatter,h=f?f(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),m=r.container.addShape("text",{attrs:(0,u.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(m,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=Va(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=Il(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),zO=GO,zg=4,XO=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Rr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,u.each)(e,function(v,m){var T=o*m;l+=T+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(e,function(v,m){var T=s*m;n.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,T],["L",n.width,T]]},n.options.ticklineStyle)});var B=Math.round(a*m);n.container.addShape("text",{attrs:(0,zt.__assign)({text:B,textAlign:"left",textBaseline:"middle",x:n.width+zg,y:T},n.options.text.style),name:"legend-label"})});var f=10,h=14,c=[["M",-f,-h/2],["L",0,0],["L",-f,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,zt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,u.each)(e,function(v,m){var T=o*m;l+=T+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(e,function(v,m){var T=s*m;n.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",T,0],["L",T,n.height]]},n.options.ticklineStyle),name:"legend-label"});var B=Math.round(a*m);n.container.addShape("text",{attrs:(0,zt.__assign)({text:B,textAlign:"center",textBaseline:"top",x:T,y:n.height+zg},n.options.text.style)})});var f=14,h=10,c=[["M",0,0],["L",-f/2,-h],["L",f/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,zt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(e)&&(0,u.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,f=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=f-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(f-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=f-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var f=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",f),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:f}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,u.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),VO=XO,HO={label:{Ctr:zO},legend:{Ctr:VO,padding:"outer"}};function WO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=HO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var Xg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,u.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,Or.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,u.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,u.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],f=t.height-n[0]-n[2],h=(0,u.valuesOfKey)(s,a).length,c=(0,u.valuesOfKey)(s,o).length;return[l/h,f/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,u.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,f=o.size,h=f*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=Gg(s,l,f),v=Nl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,u.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,u.each)(o,function(Y){s.push(a.convertPoint(Y))});var l=n.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,v=l.minY+h/2,m=e.options.sizeField?1:.9,T=Gg(c,v,Math.min(f,h)/2*m),B=Yl(c,v,Math.min(f,h)/2*m);n.stopAnimate(),n.animate({path:T},500,"easeLinear",function(){n.attr("path",B)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,v=l.minY+h/2,m=Nl(c,v,f,h,s);a.stopAnimate(),a.animate({path:m},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),f=l.x,h=l.y,c=l.size,v=Yl(f,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var f=Yl(o,s,l/2);n.stopAnimate(),n.animate({path:f},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,f=a.minY+s/2,h=Nl(l,f,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,u.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,u.each)(e,function(n){var a=(0,zt.__assign)({view:t.view,plot:t},t.options[n]),o=WO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Fn),jO=Xg;Hr("heatmap",Xg);var UO=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=jO.getDefaultOptions,r}(Br),Vg=UO,ZO=function(i){(0,zt.__extends)(r,i);function r(t){var e=this,n=(0,u.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(jM.Z),KO=ZO;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var uh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),Wo=function(){if(!!uh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),$O=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},fh=function(r,t){if(!uh)return;Array.isArray(r)||(r=[r]),r.forEach(function(vr,Ie){if(typeof vr=="string"){if(r[Ie]=document.getElementById(vr),!r[Ie])throw"The element id specified is not found."}else if(!vr.tagName&&!vr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:Wo,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<Wo&&(e.minFontSize=Wo),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var f=function(Ie){var Ke=Math.min(Math.max(e.minFontSize,e.maxFontSize*Ie/s),e.maxFontSize);return wr?Ke*e.fontScale:Ke},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(Ie){return 1-Math.sin(Ie)},h=!0;break;case"diamond":e.shape=function(Ie){var Ke=Ie%(2*Math.PI/4);return 1/(Math.cos(Ke)+Math.sin(Ke))};break;case"square":e.shape=function(Ie){var Ke=(Ie+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(Ke)+Math.sin(Ke))};break;case"triangle-forward":e.shape=function(Ie){var Ke=Ie%(2*Math.PI/3);return 1/(Math.cos(Ke)+Math.sqrt(3)*Math.sin(Ke))};break;case"triangle-backward":e.shape=function(Ie){var Ke=(Ie+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(Ke)+Math.sqrt(3)*Math.sin(Ke))};break;case"triangle":case"triangle-up":e.shape=function(Ie){var Ke=(Ie+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(Ke)+Math.sqrt(3)*Math.sin(Ke))};break;case"triangle-down":e.shape=function(Ie){var Ke=(Ie+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(Ke)+Math.sqrt(3)*Math.sin(Ke))};break;case"pentagon":e.shape=function(Ie){var Ke=(Ie+.955)%(2*Math.PI/5);return 1/(Math.cos(Ke)+.726543*Math.sin(Ke))};break;case"star":e.shape=function(Ie){var Ke=(Ie+.955)%(2*Math.PI/10);return(Ie+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-Ke)+3.07768*Math.sin(2*Math.PI/10-Ke)):1/(Math.cos(Ke)+3.07768*Math.sin(Ke))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,m=Math.abs(e.maxRotation-e.minRotation),T=Math.min(e.maxRotation,e.minRotation),B=e.rotationSteps,Y,Z,j,ut,ht,Et,Ft;function jt(vr,Ie){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Ie-vr)+vr).toFixed()+"%)"}switch(e.color){case"random-dark":Ft=function(){return jt(10,50)};break;case"random-light":Ft=function(){return jt(50,90)};break;default:typeof e.color=="function"&&(Ft=e.color);break}var $t=null;typeof e.classes=="function"&&($t=e.classes);var Wt=!1,re=[],ue,oe=function(Ie){var Ke=Ie.currentTarget,Sr=Ke.getBoundingClientRect(),kr,yr;Ie.touches?(kr=Ie.touches[0].clientX,yr=Ie.touches[0].clientY):(kr=Ie.clientX,yr=Ie.clientY);var zr=kr-Sr.left,Fr=yr-Sr.top,Tr=Math.floor(zr*(Ke.width/Sr.width||1)/c),Xr=Math.floor(Fr*(Ke.height/Sr.height||1)/c);return re&&re[Tr]&&re[Tr][Xr]},Ee=function(Ie,Ke,Sr,kr){kr(Ie?Ie.id:-1)},_e=function(Ie){var Ke=oe(Ie);if(ue!==Ke&&!(wr&&Ke&&Ke.item&&!(0,u.get)(Ke,["item","twiceRender"]))){if(!Ke){e.onWordCloudHover(void 0,void 0,Ie,Nr),e.active&&Ee(void 0,void 0,Ie,Nr);return}e.onWordCloudHover(Ke.item,Ke.dimension,Ie,Nr),e.active&&Ee(Ke.item,Ke.dimension,Ie,Nr),ue=Ke}},Pe=function(Ie){var Ke=oe(Ie);!Ke||(e.onWordCloudClick(Ke.item,Ke.dimension,Ie),Ie.preventDefault())},ze=[],He=function(Ie){if(ze[Ie])return ze[Ie];var Ke=Ie*8,Sr=Ke,kr=[];for(Ie===0&&kr.push([ut[0],ut[1],0]);Sr--;){var yr=1;e.shape!=="circle"&&(yr=e.shape(Sr/Ke*2*Math.PI)),kr.push([ut[0]+Ie*yr*Math.cos(-Sr/Ke*2*Math.PI),ut[1]+Ie*yr*Math.sin(-Sr/Ke*2*Math.PI)*e.ellipticity,Sr/Ke*2*Math.PI])}return ze[Ie]=kr,kr},je=function(){return e.abortThreshold>0&&new Date().getTime()-Et>e.abortThreshold},Ye=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:m===0?T:B>0?T+Math.floor(Math.random()*B)*m/B:T+Math.random()*m},Ge=function(Ie,Ke,Sr){var kr=!1,yr=f(Ke);if(yr<=0)return!1;var zr=1;yr<Wo&&(zr=function(){for(var To=2;To*yr<Wo;)To+=2;return To}());var Fr=document.createElement("canvas"),Tr=Fr.getContext("2d",{willReadFrequently:!0});Tr.font=e.fontWeight+" "+(yr*zr).toString(10)+"px "+e.fontFamily;var Xr=Tr.measureText(Ie).width/zr,tn=Math.max(yr*zr,Tr.measureText("m").width,Tr.measureText("\uFF37").width)/zr,An=Xr+tn*2,hn=tn*3,kn=Math.ceil(An/c),Gn=Math.ceil(hn/c);An=kn*c,hn=Gn*c;var Li=-Xr/2,Di=-tn*.4,ti=Math.ceil((An*Math.abs(Math.sin(Sr))+hn*Math.abs(Math.cos(Sr)))/c),br=Math.ceil((An*Math.abs(Math.cos(Sr))+hn*Math.abs(Math.sin(Sr)))/c),Bn=br*c,gi=ti*c;Fr.setAttribute("width",Bn),Fr.setAttribute("height",gi),kr&&(document.body.appendChild(Fr),Tr.save()),Tr.scale(1/zr,1/zr),Tr.translate(Bn*zr/2,gi*zr/2),Tr.rotate(-Sr),Tr.font=e.fontWeight+" "+(yr*zr).toString(10)+"px "+e.fontFamily,Tr.fillStyle="#000",Tr.textBaseline="middle",Tr.fillText(Ie,Li*zr,(Di+yr*.5)*zr);var oi;try{oi=Tr.getImageData(0,0,Bn,gi).data}catch(Fi){return!1}if(je())return!1;kr&&(Tr.strokeRect(Li*zr,Di,Xr*zr,tn*zr),Tr.restore());for(var Fa=[],yi=br,vn,ln,Tn,In=[ti/2,br/2,ti/2,br/2];yi--;)for(vn=ti;vn--;){Tn=c;t:{for(;Tn--;)for(ln=c;ln--;)if(oi[((vn*c+Tn)*Bn+(yi*c+ln))*4+3]){Fa.push([yi,vn]),yi<In[3]&&(In[3]=yi),yi>In[1]&&(In[1]=yi),vn<In[0]&&(In[0]=vn),vn>In[2]&&(In[2]=vn),kr&&(Tr.fillStyle="rgba(255, 0, 0, 0.5)",Tr.fillRect(yi*c,vn*c,c-.5,c-.5));break t}kr&&(Tr.fillStyle="rgba(0, 0, 255, 0.5)",Tr.fillRect(yi*c,vn*c,c-.5,c-.5))}}return kr&&(Tr.fillStyle="rgba(0, 255, 0, 0.5)",Tr.fillRect(In[3]*c,In[0]*c,(In[1]-In[3]+1)*c,(In[2]-In[0]+1)*c)),{mu:zr,occupied:Fa,bounds:In,gw:br,gh:ti,fillTextOffsetX:Li,fillTextOffsetY:Di,fillTextWidth:Xr,fillTextHeight:tn,fontSize:yr}},ar=function(Ie,Ke,Sr,kr,yr){for(var zr=yr.length;zr--;){var Fr=Ie+yr[zr][0],Tr=Ke+yr[zr][1];if(Fr>=Z||Tr>=j||Fr<0||Tr<0){if(!e.drawOutOfBound)return!1;continue}if(!Y[Fr][Tr])return!1}return!0},nr=function(Ie,Ke,Sr,kr,yr,zr,Fr,Tr,Xr,tn,An){var hn=Sr.fontSize,kn=e.color,Gn=e.classes;if(!An)Ft?kn=Ft(kr,yr,hn,zr,Fr):kn=e.color,$t?Gn=$t(kr,yr,hn,zr,Fr):Gn=e.classes;else{var Li=ur(tn);kn=Li?Li.color:e.color}var Di,ti=Sr.bounds;Di={x:(Ie+ti[3])*c,y:(Ke+ti[0])*c,w:(ti[1]-ti[3]+1)*c,h:(ti[2]-ti[0]+1)*c},r.forEach(function(br){if(br.getContext){var Bn=br.getContext("2d"),gi=Sr.mu;Bn.save();var oi=e.fontWeight+" "+(hn*gi).toString(10)+"px "+e.fontFamily;Bn.scale(1/gi,1/gi),Bn.font=oi,Bn.fillStyle=kn;var Fa=(Ie+Sr.gw/2)*c*gi,yi=(Ke+Sr.gh/2)*c*gi;Bn.translate(Fa,yi),Tr!==0&&Bn.rotate(-Tr),Bn.textBaseline="middle",e.selected===tn&&(Bn.shadowColor=e.shadowColor,Bn.shadowBlur=e.shadowBlur),Bn.fillText(kr,Sr.fillTextOffsetX*gi,(Sr.fillTextOffsetY+hn*.5)*gi),An||n.push({gx:Ie,gy:Ke,info:Sr,word:kr,weight:yr,distance:zr,theta:Fr,rotateDeg:Tr,attributes:Xr,id:tn,color:kn}),Bn.restore()}else{var vn=document.createElement("span"),ln="";ln="rotate("+-Tr/Math.PI*180+"deg) ",Sr.mu!==1&&(ln+="translateX(-"+Sr.fillTextWidth/4+"px) scale("+1/Sr.mu+")");var Tn={position:"absolute",display:"block",font:e.fontWeight+" "+hn*Sr.mu+"px "+e.fontFamily,left:(Ie+Sr.gw/2)*c+Sr.fillTextOffsetX+"px",top:(Ke+Sr.gh/2)*c+Sr.fillTextOffsetY+"px",width:Sr.fillTextWidth+"px",height:Sr.fillTextHeight+"px",lineHeight:hn+"px",whiteSpace:"nowrap",transform:ln,webkitTransform:ln,msTransform:ln,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};kn&&(Tn.color=kn),vn.textContent=kr;for(var In in Tn)vn.style[In]=Tn[In];if(Xr)for(var Fi in Xr)vn.setAttribute(Fi,Xr[Fi]);Gn&&(vn.className+=Gn),br.appendChild(vn)}})},hr=function(Ie,Ke,Sr,kr,yr){if(!(Ie>=Z||Ke>=j||Ie<0||Ke<0)){if(Y[Ie][Ke]=!1,Sr){var zr=r[0].getContext("2d");zr.fillRect(Ie*c,Ke*c,v,v)}Wt&&(re[Ie][Ke]={item:yr,dimension:kr})}},Ue=function(Ie,Ke,Sr,kr,yr){var zr=yr.occupied,Fr=e.drawMask,Tr;Fr&&(Tr=r[0].getContext("2d"),Tr.save(),Tr.fillStyle=e.maskColor);var Xr;if(Wt){var tn=yr.bounds;Xr={x:(Ie+tn[3])*c,y:(Ke+tn[0])*c,w:(tn[1]-tn[3]+1)*c,h:(tn[2]-tn[0]+1)*c}}for(var An=zr.length;An--;){var hn=Ie+zr[An][0],kn=Ke+zr[An][1];if(!(hn>=Z||kn>=j||hn<0||kn<0)){var Gn=ur(yr.item.id);Gn&&(yr.item.color=Gn.color),hr(hn,kn,Fr,Xr,yr.item)}}Fr&&Tr.restore()},lr=function(Ie,Ke,Sr,kr,yr,zr,Fr,Tr){var Xr=Math.floor(Ie[0]-Ke.gw/2),tn=Math.floor(Ie[1]-Ke.gh/2),An=Ke.gw,hn=Ke.gh;return ar(Xr,tn,An,hn,Ke.occupied)?(nr(Xr,tn,Ke,Sr,kr,yr,Ie[2],zr,Fr,Tr,!1),Ue(Xr,tn,An,hn,Ke),{gx:Xr,gy:tn,rot:zr,info:Ke}):!1},xr=function(Ie){var Ke,Sr,kr,yr;Array.isArray(Ie)?(Ke=Ie[0],Sr=Ie[1]):(Ke=Ie.word,Sr=Ie.weight,kr=Ie.attributes,yr=Ie.id);var zr=(0,u.isNil)(Ie.rotateDeg)?Ye():Ie.rotateDeg,Fr=Ge(Ke,Sr,zr);if(Fr&&(Fr.item=Ie),!Fr||je())return!1;if(!e.drawOutOfBound){var Tr=Fr.bounds;if(Tr[1]-Tr[3]+1>Z||Tr[2]-Tr[0]+1>j)return!1}for(var Xr=ht+1;Xr--;){var tn=He(ht-Xr);e.shuffle&&(tn=[].concat(tn),$O(tn));for(var An=0;An<tn.length;An++){var hn=lr(tn[An],Fr,Ke,Sr,ht-Xr,zr,kr,yr);if(hn)return hn}}return null},fr=function(Ie,Ke,Sr){if(Ke)return!r.some(function(kr){var yr=document.createEvent("CustomEvent");return yr.initCustomEvent(Ie,!0,Ke,Sr||{}),!kr.dispatchEvent(yr)},this);r.forEach(function(kr){var yr=document.createEvent("CustomEvent");yr.initCustomEvent(Ie,!0,Ke,Sr||{}),kr.dispatchEvent(yr)},this)},ur=function(Ie){for(var Ke=0;Ke<n.length;Ke++){var Sr=n[Ke];if(n[Ke].id===Ie)return Sr}},wr,Nr=function(Ie){if(Ie!==void 0){if(e.selected!==Ie&&r[0].getContext){e.selected=Ie;var Ke=r[0].getContext("2d");Ke.fillStyle=e.backgroundColor,Ke.clearRect(0,0,r[0].width,r[0].height),Ke.fillRect(0,0,r[0].width,r[0].height);for(var Sr=0;Sr<n.length;Sr++){var kr=n[Sr];(!wr||wr&&(0,u.get)(kr,["info","item","twiceRender"]))&&nr(kr.gx,kr.gy,kr.info,kr.word,kr.weight,kr.distance,kr.theta,kr.rotateDeg,kr.attributes,kr.id,!0)}}return}var yr=r[0];if(yr.getContext)Z=Math.ceil(yr.width/c),j=Math.ceil(yr.height/c);else{var zr=yr.getBoundingClientRect();Z=Math.ceil(zr.width/c),j=Math.ceil(zr.height/c)}if(!!fr("wordcloudstart",!0)){ut=e.origin?[e.origin[0]/c,e.origin[1]/c]:[Z/2,j/(h?4:2)],ht=Math.floor(Math.sqrt(Z*Z+j*j)),Y=[];var Fr,Tr,Xr;if(!yr.getContext||e.clearCanvas)for(r.forEach(function(ln){if(ln.getContext){var Tn=ln.getContext("2d");Tn.fillStyle=e.backgroundColor,Tn.clearRect(0,0,Z*(c+1),j*(c+1)),Tn.fillRect(0,0,Z*(c+1),j*(c+1))}else ln.textContent="",ln.style.backgroundColor=e.backgroundColor,ln.style.position="relative"}),Fr=Z;Fr--;)for(Y[Fr]=[],Tr=j;Tr--;)Y[Fr][Tr]=!0;else{var tn=document.createElement("canvas").getContext("2d");tn.fillStyle=e.backgroundColor,tn.fillRect(0,0,1,1);var An=tn.getImageData(0,0,1,1).data,hn=yr.getContext("2d").getImageData(0,0,Z*c,j*c).data;Fr=Z;for(var kn,Gn;Fr--;)for(Y[Fr]=[],Tr=j;Tr--;){Gn=c;t:for(;Gn--;)for(kn=c;kn--;)for(Xr=4;Xr--;)if(hn[((Tr*c+Gn)*Z*c+(Fr*c+kn))*4+Xr]!==An[Xr]){Y[Fr][Tr]=!1;break t}Y[Fr][Tr]!==!1&&(Y[Fr][Tr]=!0)}hn=tn=An=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Wt=!0,Fr=Z+1;Fr--;)re[Fr]=[];e.onWordCloudHover&&yr.addEventListener("mousemove",_e),e.onWordCloudClick&&(yr.addEventListener("click",Pe),yr.addEventListener("touchstart",Pe),yr.addEventListener("touchend",function(ln){ln.preventDefault()}),yr.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),yr.addEventListener("wordcloudstart",function ln(){yr.removeEventListener("wordcloudstart",ln),yr.removeEventListener("mousemove",_e),yr.removeEventListener("click",Pe),ue=void 0})}if(e.animatable){Xr=0;var Bn,gi;e.wait!==0?(Bn=window.setTimeout,gi=window.clearTimeout):(Bn=window.setImmediate,gi=window.clearImmediate);var oi=function(Tn,In){r.forEach(function(Fi){Fi.addEventListener(Tn,In)},this)},Fa=function(Tn,In){r.forEach(function(Fi){Fi.removeEventListener(Tn,In)},this)},yi=function ln(){Fa("wordcloudstart",ln),gi(vn)};oi("wordcloudstart",yi);var vn=Bn(function ln(){if(Xr>=e.data.length){gi(vn),fr("wordcloudstop",!1),Fa("wordcloudstart",yi);return}Et=new Date().getTime();var Tn=xr(e.data[Xr]),In=!fr("wordclouddrawn",!0,{item:e.data[Xr],drawn:Tn});if(je()||In){gi(vn),e.abort(),fr("wordcloudabort",!1),fr("wordcloudstop",!1),Fa("wordcloudstart",yi);return}Xr++,vn=Bn(ln,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(ln){if(ln.getContext){var Tn=ln.getContext("2d");Tn.fillStyle=e.backgroundColor,Tn.clearRect(0,0,Z*(c+1),j*(c+1)),Tn.fillRect(0,0,Z*(c+1),j*(c+1))}});for(var Li=[],Di=0;Di<e.data.length;Di++){var ti=xr(e.data[Di]);ti&&Li.push(ti)}if(Li.length===e.data.length&&!wr){for(r.forEach(function(ln){if(ln.getContext){var Tn=ln.getContext("2d");Tn.fillStyle=e.backgroundColor,Tn.clearRect(0,0,Z*(c+1),j*(c+1)),Tn.fillRect(0,0,Z*(c+1),j*(c+1))}}),Fr=Z;Fr--;)for(Y[Fr]=[],Tr=j;Tr--;)Y[Fr][Tr]=!0;wr=!0;for(var br=0;br<e.data.length;br++)xr((0,zt.__assign)((0,zt.__assign)({},e.data[br]),{twiceRender:wr}))}}}};Nr()};fh.isSupported=uh,fh.minFontSize=Wo;var QO=fh,JO=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,u.get)(t,"tooltip.visible",!0),e.options=(0,u.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new KO({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),QO(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,u.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),f=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=s[3]):(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=254);a.putImageData(f,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,u.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,f=0;f<a.data.length;f+=o){var h=a.data[f]+a.data[f+1]+a.data[f+2],c=a.data[f+3];c<128||h>250*3?(a.data[f]=l,a.data[f+1]=l,a.data[f+2]=l,a.data[f+3]=s):(a.data[f]=s,a.data[f+1]=s,a.data[f+2]=s,a.data[f+3]=l)}return n.putImageData(a,0,0),e},r}(pl),qO=JO,tI=function(i){(0,zt.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(Br),eI=tI;Hr("wordCloud",qO);var rI={rose:"interval"},nI=di(rI);(0,u.assign)(qr,nI);var iI={rose:"interval"},aI={rose:"column"},Hg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,u.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?iI[e]:aI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=Vn("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,g)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,u.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=Ai("label",(0,zt.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(Fn),hh=Hg;Hr("rose",Hg);var oI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=hh.getDefaultOptions,r}(Br),Wg=oI,sI=function(i){var r=i.opacity||1;return{opacity:r*.5}},lI=function(i){var r=i.opacity||1;return{opacity:r*.5}};Ui("funnel",{columnStyle:{normal:{},active:sI,disable:lI,selected:{lineWidth:1,stroke:"black"}}});var jg=d(95280);function uI(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function fI(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,f=a[0]+a[1],h=a.map(function(B){return B/f/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,u.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var m=s[0]+s[1],T=s.map(function(B){return B/m/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*T[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*T[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,u.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}an("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,uI(i)},draw:function(i,r){var t,e=(0,jg.getStyle)(i,!1,!0),n=(0,u.get)(i,"data.__compare__"),a=this.parsePath(fI(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,zt.__assign)((0,zt.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function ch(i,r,t){return(1-t)*i+t*r}function hI(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,f=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*ch(f,l,n)+s;a.push(["M",c,o.y]);for(var v=1,m=i.length;v<m;v++){var T=i[v].x;switch(v){case 1:case 2:T=(T-s)*ch(f,l,e)+s;break;case 3:T=(T-s)*ch(f,l,n)+s;break}a.push(["L",T,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}an("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,jg.getStyle)(i,!1,!0),e=(0,u.get)(i,"data.__custom__"),n=this.parsePath(hI(i.points,e));return r.addShape("path",{attrs:(0,zt.__assign)((0,zt.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function Ug(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=l?f.maxX:f.minX,c=(f.minY+f.maxY)/2,v=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),m={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(yn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var T={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(m,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(T,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Ug.animationName="funnelScaleInX",Un("funnelScaleInX",Ug);function Zg(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=(f.minX+f.maxX)/2,c=l?f.maxY:f.minY,v=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),m={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(yn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var T={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(m,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(T,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Zg.animationName="funnelScaleInY",Un("funnelScaleInY",Zg);function Gl(i,r,t){return(1-t)*i+t*r}var cI={column:"interval"},vI={interval:"funnel"},Kg=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,u.deepMix)({},ro.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,u.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,u.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,u.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=Ci.CONTAINER_CLASS,o=(0,mt.Z)('<div class="'+a+'"></div>'),(0,Pt.Z)(o,bo.default[a]);var f=o;if(e){a=Ci.TITLE_CLASS,o=(0,mt.Z)('<div class="'+a+'"></div>'),(0,Pt.Z)(o,bo.default[a]),f.appendChild(o);var h=o;a=Ci.MARKER_CLASS,o=(0,mt.Z)('<span class="'+a+'"></span>'),(0,Pt.Z)(o,bo.default[a]),(0,Pt.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,mt.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=Ci.LIST_CLASS,o=(0,mt.Z)('<ul class="'+a+'"></ul>'),(0,Pt.Z)(o,bo.default[a]),f.appendChild(o);var c=o;n.reduce(function(v,m){s||(s=m.color);var T=(0,u.get)(m,"point._origin.__compare__.compareValues"),B=(0,u.get)(m,"point._origin.__compare__.yValues");return B.forEach(function(Y,Z){return v.push([T[Z],Y])}),v},[]).forEach(function(v,m){var T=v[0],B=v[1];a=Ci.LIST_ITEM_CLASS,o=(0,mt.Z)('<li class="'+a+'" data-index='+m+"></li>"),(0,Pt.Z)(o,bo.default[a]),c.appendChild(o);var Y=o;a=Ci.NAME_CLASS,o=(0,mt.Z)('<span class="'+a+'">'+T+"</span>"),(0,Pt.Z)(o,bo.default[a]),Y.appendChild(o),a=Ci.VALUE_CLASS,o=(0,mt.Z)('<span class="'+a+'">'+B+"</span>"),(0,Pt.Z)(o,bo.default[a]),Y.appendChild(o)})}return s&&l&&(0,Pt.Z)(l,{backgroundColor:s}),f}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=Vn("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,u.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,u.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,u.findIndex)(n,function(l){return(0,u.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?cI[e]:vI[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,u.set)(t,"meta."+t.yField+".nice",!1),(0,u.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,f=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,m=v===void 0?{}:v,T=Date.now(),B=this._findPercentageContainer(!0);this._eachShape(function(Y,Z,j,ut){if(Z>0){var ht=Y.getBBox(),Et=ht.minX,Ft=ht.maxX,jt=ht.maxY,$t=ht.minY,Wt=e.transpose?Et:Ft,re=e.transpose&&e.compareField?jt:$t,ue=t._findPercentageMembersInContainerByIndex(B,Z,!0),oe=ue.line,Ee=ue.text,_e=ue.value,Pe=[function(Ye,Ge,ar,nr,hr){ar&&(ar.attr((0,u.deepMix)({},f.style,{x1:Ye,y1:Ge,x2:e.transpose?Ye+a:Ye-a,y2:e.transpose?Ge-o:Ge+o,opacity:0})),ar.set("adjustTimestamp",T));var Ue=0,lr=0,xr=function(){nr&&(nr.attr((0,u.deepMix)({},c.style,{x:e.transpose?Ye+a:Ye-a-s-lr-s,y:e.transpose?Ge-o-s:Ge+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),nr.set("adjustTimestamp",T),Ue=nr.getBBox().width)},fr=function(){hr&&(hr.attr((0,u.deepMix)({},m.style,{x:e.transpose?Ye+a+Ue+s:Ye-a-s,y:e.transpose?Ge-o-s:Ge+o,opacity:0,text:(0,u.isFunction)(m.formatter)?e.compareField?m.formatter((0,u.get)(ut,"__compare__.yValues.0"),(0,u.get)(j,"__compare__.yValues.0")):m.formatter(ut[e.yField],j[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),hr.set("adjustTimestamp",T),lr=hr.getBBox().width)};e.transpose?(xr(),fr()):(fr(),xr())},function(Ye,Ge,ar,nr,hr){ar&&(ar.attr((0,u.deepMix)({},f.style,{x1:Ye,y1:Ge,x2:Ye+a,y2:e.transpose?e.compareField?Ge+o:Ge-o:Ge+o,opacity:0})),ar.set("adjustTimestamp",T));var Ue=0;nr&&(nr.attr((0,u.deepMix)({},c.style,{x:e.transpose?Ye+a:Ye+a+s,y:e.transpose?e.compareField?Ge+o+s:Ge-o-s:Ge+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),nr.set("adjustTimestamp",T),Ue=nr.getBBox().width),hr&&(hr.attr((0,u.deepMix)({},m.style,{x:e.transpose?Ye+a+Ue+s:Ye+a+s+Ue+s,y:e.transpose?e.compareField?Ge+o+s:Ge-o-s:Ge+o,opacity:0,text:(0,u.isFunction)(m.formatter)?e.compareField?m.formatter((0,u.get)(ut,"__compare__.yValues.1"),(0,u.get)(j,"__compare__.yValues.1")):m.formatter(ut[e.yField],j[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),hr.set("adjustTimestamp",T))}];if(e.compareField){var ze=[Et,$t],He=ze[0],je=ze[1];[[He,je],[Wt,re]].forEach(function(Ye,Ge){var ar=Ye[0],nr=Ye[1];return Pe[Ge](ar,nr,oe&&oe[Ge],Ee&&Ee[Ge],_e&&_e[Ge])})}else Pe[1](Wt,re,oe,Ee,_e)}ut=j,Z++}),B.get("children").forEach(function(Y){Y.get("adjustTimestamp")!=T&&(Y.attr({opacity:0}),B.set(Y.get("id"),null),setTimeout(function(){return Y.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var f={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),m={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},T=function(Y){if(Y&&Y.get("type")=="text"){var Z=Y.getBBox(),j=Z.minX,ut=Z.maxX,ht=Z.minY,Et=Z.maxY;j<m.minX&&(m.minX=j),ut>m.maxX&&(m.maxX=ut),ht<m.minY&&(m.minY=ht),Et>m.maxY&&(m.maxY=Et)}};if((0,u.each)(v,function(Y){return(0,u.isArray)(Y)?T(Y[l]):T(Y)}),m.minX>f.maxX||m.maxX<f.minX||m.minY>f.maxY||m.maxY<f.minY){var B=function(Y){if(Y){var Z={opacity:1};t?Y.animate(Z,t):Y.attr(Z)}};(0,u.each)(v,function(Y){return(0,u.isArray)(Y)?B(Y[l]):B(Y)}),(0,u.assign)(f,m)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),f=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,u.each)(l,function(h){return(0,u.isArray)(h)?h.forEach(f):f(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,f=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,m=v===void 0?{}:v,T={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return T;if(f.visible!==!1){var B=function(ut){var ht="_percentage-line-"+e+"-"+ut,Et=t.get(ht);return!Et&&n&&(Et=t.addShape({id:ht,type:"line",attrs:{}}),t.set(ht,Et)),Et},Y=a.compareField?[0,1].map(B):B(0);T.line=Y}if(c.visible!==!1){var B=function(ht){var Et="_percentage-text-"+e+"-"+ht,Ft=t.get(Et);return!Ft&&n&&(Ft=t.addShape({id:Et,type:"text",attrs:{}}),t.set(Et,Ft)),Ft},Z=a.compareField?[0,1].map(B):B(0);T.text=Z}if(m.visible!==!1){var B=function(ht){var Et="_percentage-value-"+e+"-"+ht,Ft=t.get(Et);return!Ft&&n&&(Ft=t.addShape({id:Et,type:"text",attrs:{}}),t.set(Et,Ft)),Ft},j=a.compareField?[0,1].map(B):B(0);T.value=j}return T},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,u.get)(t,"animation.update.duration"),n=(0,u.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},f=(0,u.deepMix)((0,zt.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,m,T){var B,Y=c.get("element");v==0&&(h=m);var Z=c.getBBox(),j=Z.minX,ut=Z.maxX,ht=Z.minY,Et=Z.maxY,Ft=m[n],jt=m[a];l.adjustColor&&(f.fill=t._getAdjustedTextFillByShape(c));var $t=m.__compare__,Wt,re=(B={},B[xs]=m,B.element=Y,B.elementIndex=T,B.mappingDatum=[].concat(Y.getModel().mappingData)[0],B.mappingDatumIndex=0,B);l.formatter?Wt=l.formatter(Ft,re,v,jt,h[a]):$t?Wt=[0,1].map(function(){return""+jt}).join(e.transpose?`

`:"    "):Wt=Ft+" "+jt;var ue=t._findLabelInContainerByIndex(s,v,!0),oe=$t?$t.yValues[0]/($t.yValues[0]+$t.yValues[1]):.5;ue&&(ue.attr((0,zt.__assign)((0,zt.__assign)({},f),{x:Gl(j,ut,e.transpose?.5:oe),y:Gl(ht,Et,e.transpose?oe:.5),text:Wt})),ue.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h=s.getBBox(),c=f.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?f.animate(v,e):f.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h={opacity:0};e?f.animate(h,e):f.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(m,T,B){T==0&&(e=m.get("parent").getBBox(),n=(0,u.get)(B,"__compare__"))}),e&&n&&(0,u.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,f=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(m){var T=v[m];T||(T=a.addShape({type:"text"})),T.attr((0,u.deepMix)({},(0,u.get)(t,"compareText.style"),{text:t.transpose?s[m]:m?"  "+s[m]:s[m]+"  ",x:t.transpose?l+(0,u.get)(t,"compareText.offsetX"):Gl(l,f,o[0]/(o[0]+o[1])),y:t.transpose?Gl(h,c,o[0]/(o[0]+o[1]))+(m?8:-8):h+(0,u.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":m?"left":"right",textBaseline:t.transpose&&m?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,f){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,f),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=Va(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=Il(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],f=l/n,h=a-f;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,u.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,u.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,f=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(T){return T[e.xField]==f});v||(v=(l={},l[e.xField]=f,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var m=c==n?0:1;return v.__compare__.yValues[m]=h,a[m]<h&&(a[m]=h),v.__compare__.compareValues[m]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,u.get)(o,"__compare__.yValues",[]).reduce(function(l,f){return l+=f},0),(0,u.set)(o,"__compare__.yValuesMax",a),(0,u.set)(o,"__compare__.yValuesNext",(0,u.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,u.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,u.set)(n,"__compare__.yValuesMax",e),(0,u.set)(n,"__compare__.yValuesNext",(0,u.get)(t,a+1+".__compare__.yValues"))})},r}(Fn),dI=Kg;Hr("funnel",Kg);var pI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dI.getDefaultOptions,r}(Br),gI=pI,$g=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(hh),yI=$g;Hr("stackedRose",$g);var mI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=yI.getDefaultOptions,r}(Br),Qg=mI,Jg=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(hh),xI=Jg;Hr("groupedRose",Jg);var bI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xI.getDefaultOptions,r}(Br),qg=bI,wI={area:"area",line:"line",point:"point"},SI=di(wI);(0,u.assign)(qr,SI);var CI=function(i){var r=i.opacity||1;return{opacity:r}},MI=function(i){var r=i.opacity||1;return{opacity:r*.5}},EI=function(i){var r=i.opacity||1;return{opacity:r}},AI=function(i){var r=i.opacity||1;return{opacity:r*.5}},TI=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},PI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},LI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},_I=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};Ui("radar",{areaStyle:{normal:{},active:CI,disable:MI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:EI,disable:AI,selected:TI},pointStyle:{normal:{},active:PI,disable:_I,selected:LI}});var OI={area:"area",line:"line",point:"point"},ty=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return OI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,u.has)(t,"angleAxis")&&ai(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,u.has)(t,"radiusAxis")&&ai(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=Ai("axis",{plot:this,dim:"angle"}),n=Ai("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=Vn("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=Vn("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=Vn("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=Ai("label",(0,zt.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r}(Fn),II=ty;Hr("radar",ty);var kI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=II.getDefaultOptions,r}(Br),ey=kI,BI=d(89810),DI=d(79189),FI=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,u.isElement)(this.container)){this.wrapperNode=(0,mt.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Pt.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,u.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,BI.Z)(this.wrapperNode),o=(0,DI.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Pt.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),ry=FI,RI="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",NI="font-size:32px;font-weight:bold;color:#4D4D4D";function YI(i,r){var t='<span class="liquid-guide-value" style='+NI+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+RI+">"+t+"</div>"}var GI=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,u.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=YI(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(ry),zI=GI,XI={liquid:"intervl",statistic:"annotation-text"},VI=di(XI);(0,u.assign)(qr,VI);var ny=Ii(),iy={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,u.isArray)(e)?e:[e],(0,u.each)(e,function(n,a){var o={x:(0,u.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,u.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,u.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},vh={lerp:function(i,r,t){return(1-t)*i+t*r}},HI=function(i){var r={lineWidth:0,fill:ny.color,fillOpacity:.85},t=(0,u.mix)({},r,i.style);return iy.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},WI=function(i){var r={fill:"#fff",stroke:ny.color,fillOpacity:0,lineWidth:2},t=(0,u.mix)({},r,i.style);return iy.addStrokeAttrs(t,i),t};function jI(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function UI(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],f=e;f<-Math.PI*2;)f+=Math.PI*2;for(;f>0;)f-=Math.PI*2;f=f/Math.PI/2*t;var h=a-i+f-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var m=v%4,T=jI(v*t/4,m,t,n);l.push(["C",T[0][0]+h,-T[0][1]+r,T[1][0]+h,-T[1][1]+r,T[2][0]+h,-T[2][1]+r]),v===s-1&&(c=T[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function ZI(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),f=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var m=e<=1?0:v/(e-1),T=a.addShape("path",{attrs:{path:UI(s,l.minY+h*t,f/4,0,f/vh.lerp(56,64,m),i,r),fill:n,opacity:vh.lerp(.6,.3,m)}}),B=Go([["t",f/2,0]]);T.animate({matrix:B},{duration:vh.lerp(c,.7*c,m),repeat:!0})}}an("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,u.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),f=HI(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return ZI(a.x,a.y,1-i.points[1].y,3,f,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,u.mix)(WI(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function ay(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,u.get)(r,"factor",.5)),1),a=(0,u.get)(r,"delay",0),o=(0,u.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,f=e.maxY,h=t.find(function(B){return B.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(B){return B.get("name")=="waves"}),m=(0,u.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],T=Go(m,[["t",-l,-f],["s",1,0],["t",l,f]]);v.setMatrix(T),v.animate({matrix:m},o,r.easing,function(){return s&&s(t,h,v)},a)}ay.animationName="liquidMoveIn",Un("liquidMoveIn",ay);var KI={column:"interval"},$I={interval:"liquid"},oy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,u.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,u.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,u.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};ai(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,u.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=Vn("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,u.get)(t,"animation.factor"),n=(0,u.get)(t,"animation.easing"),a=(0,u.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?KI[e]:$I[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,u.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,u.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var f=(0,u.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete f.visible,delete f.formatter,delete f.adjustColor,f}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,L)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Pt.Z)(o,{position:"relative"}),this.statistic=new zI((0,zt.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,u.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,u.get)(t,"statistic.adjustColor")===!1)return{fill:(0,u.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,u.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var f=this.options.color,h=.8,c=Va(f),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,f=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-f/2,m=c-f/2;return new Rr(v,m,f,f)},r}(Fn),dh=oy;Hr("liquid",oy);var QI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof dh&&a.changeValue(t)});else{var n=this.layers[0];n instanceof dh&&n.changeValue(t)}},r.getDefaultOptions=dh.getDefaultOptions,r}(Br),sy=QI,ly=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,u.clone)(t);(0,u.sortBy)(l,a);var f=(0,u.valuesOfKey)(l,a),h=(0,u.getRange)(f),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var m=vd(f);v=c/m}var T={};(0,u.each)(l,function(Y){var Z=Y[a],j=e.getBin(Z,v),ut=j[0]+"-"+j[1];(0,u.hasKey)(T,ut)||(T[ut]={name:ut,range:j,count:0,data:[]}),T[ut].data.push(Y),T[ut].count+=1});var B=[];return(0,u.each)(T,function(Y){B.push(Y)}),B},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(Ho),JI=ly;Hr("histogram",ly);var qI=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=JI.getDefaultOptions,r}(Br),uy=qI,tk={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},fy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,u.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,u.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,f=l||"epanechnikov",h=tk[f],c=(0,u.clone)(t);(0,u.sortBy)(c,a);var v=(0,u.valuesOfKey)(c,a),m=(0,u.getRange)(v),T=m.max-m.min,B=s,Y=o;!s&&o&&(B=Math.floor(T/o)),!o&&s&&(Y=T/s),!s&&!o&&(B=vd(v),Y=T/s);var Z=(0,Or.getScale)("linear"),j=new Z({min:m.min,max:m.max,tickCount:B,nice:!1}),ut=j.getTicks(),ht=[];return(0,u.each)(ut,function(Et){var Ft=e.kernelDensityEstimator(Y,h,Et,v);ht.push({value:Et.text,density:Ft})}),ht},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,u.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(th),ek=fy;Hr("density",fy);var SY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ek.getDefaultOptions,r}(Br),CY=null,rk={ring:"interval"},nk=di(rk);(0,u.assign)(qr,nk);var ik="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",ak="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",ok="font-size:32px;font-weight:bold;color:#4D4D4D";function sk(i,r,t,e){var n=ik+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+ak+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+ok+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var lk=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,u.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,u.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,u.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,u.each)(this.plot.options.data,function(f){typeof f[a]=="number"&&(e+=f[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,f=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:f.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=sk(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(ry),uk=lk,fk={ring:"interval"},hk={interval:"ring"},hy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,Pt.Z)(e,{position:"relative"}),this.statistic=new uk((0,zt.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?fk[e]:hk[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,k)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(Dg),cy=hy;Hr("donut",hy);var ck=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=cy.getDefaultOptions,r}(Br),vy=ck;function vk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,zt.__assign)((0,zt.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function dk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}an("interval","waterfall",{draw:function(i,r){var t=vk(i,!1,!0),e=this.parsePath(dk(i.points)),n=r.addShape("path",{attrs:(0,zt.__assign)((0,zt.__assign)({},t),{path:e}),name:"interval"}),a=(0,u.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,zt.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var dy=2,pk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),f=l[Ji],h=l[this.layer.options.yField],c=(0,u.isArray)(f)?f[1]:f,v=this.options.formatter,m=[].concat(e.getModel().mappingData),T=v?m[0]&&m[0]._origin[zl]:0,B=v?v(c,(n={},n[xs]=(a=m[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=m[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=T,n),T):c,Y=(s.minY+s.maxY)/2,Z="bottom";h<0?(Y=s.maxY+dy,Z="top"):Y=s.minY-dy,t.attr("y",Y),t.attr("text",B),t.attr("textBaseline",Z)},r}(nh),MY=null;ji("waterfall",pk);function gk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var yk=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,u.mix)(gk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,u.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[Ji],f=l;(0,u.isArray)(l)&&(f=l[1]-l[0]),f=f>0?"+"+f:f,o[ph]&&(f=l[0]-l[1]);var h=f;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+f,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:(0,zt.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(sn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),mk=yk,xk={waterfall:"interval"},bk={interval:"waterfall"},Ji="$$value$$",ph="$$total$$",zl="$$index$$",py=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new mk({view:this.view,fields:[t.xField,t.yField,Ji],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,u.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[ph]){var l=s[Ji];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=io(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,zt.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?xk[e]:bk[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,Ji]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,u.map)(t,function(f,h){var c,v=f[o];if(h>0){var m=n[h-1][Ji];(0,u.isArray)(m)?v=[m[1],f[o]+m[1]]:v=[m,f[o]+m]}n.push((0,zt.__assign)((0,zt.__assign)({},f),(c={},c[Ji]=v,c[zl]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,u.map)(t,function(f){return f[o]}),l=(0,u.reduce)(s,function(f,h){return f+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[Ji]=[l,0],e[zl]=n.length,e[ph]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&ai(e[t.xField],t.xAxis),e[Ji]={},(0,u.has)(t,"yAxis")&&ai(e[Ji],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=Ai("axis",{plot:this,dim:"x"}),e=Ai("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[Ji]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,F)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,Ji]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,u.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,zt.__assign)((0,zt.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,Ji,zl]};if((0,u.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",f="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,u.isString)(e.color))l=f=h=e.color;else if((0,u.isObject)(e.color)){var c=e.color,v=c.rising,m=c.falling,T=c.total;l=v,f=m,h=T}s.callback=function(B,Y,Z,j){return j===t.options.data.length?h||(Z[0]>=0?l:f):((0,u.isArray)(Z)?Z[1]-Z[0]:Z)>=0?l:f}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[Ji]=n}},r}(Fn),wk=py;Hr("waterfall",py);var Sk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=wk.getDefaultOptions,r}(Br),gy=Sk,Ck=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new Rr(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new Rr(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var f={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(f)}else s=[new Rr(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new Rr(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new Rr(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var m={name:"top-right",bbox:new Rr(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(m);var T={name:"bottom-right",bbox:new Rr(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(T)}}else if(s.length===2)if(e<=o.min){var B={name:"top-left",bbox:s[0],index:0};this.regionData.push(B);var m={name:"top-right",bbox:s[1],index:2};this.regionData.push(m)}else{var Y={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(Y);var T={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(T)}else if(t<=a.min)if(e<=o.min){var m={name:"top-right",bbox:s[0],index:2};this.regionData.push(m)}else{var T={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(T)}else if(e<=o.min){var B={name:"top-left",bbox:s[0],index:0};this.regionData.push(B)}else{var Y={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(Y)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,u.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,zt.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var f=(0,u.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,f);s.addShape("text",{attrs:(0,zt.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,u.deepMix)({},t.line,this.options.lineStyle);(0,u.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,u.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,u.isFunction)(n)&&(0,u.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,u.isFunction)(s)?s=s(r):(0,u.isArray)(s)&&(s=s[e]);var l=t.position,f=l.split("-"),h=r.name.split("-");return h[1]==="left"?(f[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),f[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(f[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),f[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(f[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),f[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(f[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),f[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,u.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,zt.__assign)({x:n,y:a,text:s},o)},i}(),Mk=Ck,Co=d(56645),Ek={exp:Co.regressionExp,linear:Co.regressionLinear,loess:Co.regressionLoess,log:Co.regressionLog,poly:Co.regressionPoly,pow:Co.regressionPow,quad:Co.regressionQuad};function Ak(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var Tk=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=Ek[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,Or.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),f=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,f,e);this.container.addShape("path",{attrs:(0,zt.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,f,e),v=[[0,0],[1,1]],m=Hf(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,zt.__assign)({path:m},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,u.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=Ak(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,u.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,f=e.start.y-e.height*s;n.push({x:l,y:f})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,u.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),m=t.scale(c.y0),T=t.scale(c.y1),B=e.start.x+e.width*v,Y=e.start.y-e.height*m,Z=e.start.y-e.height*T;n.push({x:B,y:Y}),a.push({x:B,y:Z})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",f=n[s];!isNaN(f.x)&&!isNaN(f.y)&&o.push([l,f.x,f.y])}for(var h=a.length-1;h>0;h--){var f=a[h];!isNaN(f.x)&&!isNaN(f.y)&&o.push(["L",f.x,f.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,f=o.yField,h=e==="x"?l:f,c=(0,u.minBy)(s,h)[h],v=(0,u.maxBy)(s,h)[h],m=(n-c)/(v-c),T=(a-v)/(v-c),B=(0,u.minBy)(t,e)[e],Y=(0,u.maxBy)(t,e)[e];return{min:B+m*(Y-B),max:Y+T*(Y-B)}},i}(),Pk=Tk,Lk={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},_k=di(Lk);(0,u.assign)(qr,_k);var Ok=function(i){var r=i.stroke||"#000";return{stroke:r}},Ik=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},kk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};Ui("scatter",{pointStyle:{normal:{},active:Ok,selected:Ik,inactive:kk}});var Bk={scatter:"point"},Dk={point:"point"},yy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new Mk((0,zt.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new Pk((0,zt.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,u.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,u.get)(this.options,["xAxis","type"],"linear"),l=(0,u.get)(this.options,["yAxis","type"],"linear");if(s&&l){var f=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,zt.__assign)((0,zt.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return f}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?Bk[e]:Dk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&ai(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&ai(e[t.yField],t.yAxis);var n=(0,u.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,u.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=Vn("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,zt.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=Ai("label",(0,zt.__assign)((0,zt.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||W)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(Fn),my=yy;Hr("scatter",yy);var Fk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=my.getDefaultOptions,r}(Br),xy=Fk,Rk=d(78685);an("point","bubble-point",{draw:function(i,r){var t=(0,Rk.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var Nk=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},Yk=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},Gk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};Ui("bubble",{pointStyle:{normal:{},active:Nk,selected:Yk,inactive:Gk}});var by=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,W)},r}(my),zk=by;Hr("bubble",by);var Xk=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=zk.getDefaultOptions,r}(Br),wy=Xk,Vk={bullet:"interval",bulletTarget:"bullet-target"},Hk=di(Vk);(0,u.assign)(qr,Hk);var Wk=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,u.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var f=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:f,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=f}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new Rr(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,u.get)(a,"lineHeight",0)-a.fontSize/2,f=0;f<o;f+=1){var h=r.minX+t*f*e,c=""+t*f;if(n.axis.formatter&&(c=n.axis.formatter(c,f)),this.container.addShape("text",{name:"tick",attrs:(0,zt.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;f>0&&f!==o-1&&this.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),jk=Wk,Uk=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,u.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var f=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,zt.__assign)((0,zt.__assign)({width:f.width,height:r.height*a.markerSize-f.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},f),{fill:o[l%o.length]||f.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),Zk=Uk,Kk=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},$k=function(i){var r=i.opacity||1;return{opacity:r*.5}};Ui("bullet",{columnStyle:{normal:{},active:Kk,disable:$k,selected:{}}});var Qk={bullet:"interval"},Jk={interval:"bullet"},qk="$$stackField$$",tB="$$xField$$",eB="$$yField$$",Sy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:qk,xField:tB,yField:eB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,u.has)(t,"yAxis")&&ai(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&ai(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new jk(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new Zk(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?Qk[e]:Jk[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,zt.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=Vn("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,$)},r.prototype.extractLabel=function(){var t=this.options,e=(0,u.deepMix)({},t.label);if(e.visible===!1)return!1;var n=Ai("label",(0,zt.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var f=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=f,s[e.stackField]=""+l,s))}}),n},r}(Fn),rB=Sy;Hr("bullet",Sy);var nB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=rB.getDefaultOptions,r}(Br),Cy=nB,jo="$$day$$",Uo="$$week$$",My="$$date$$",EY="$$is_month_center$$",Zo="YYYY-MM-DD",iB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],aB=["S","M","T","W","T","F","S"],Es=864e5;function oB(i){var r=(0,zt.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[ao().format((0,u.head)(r),Zo),ao().format((0,u.last)(r),Zo)]}function AY(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function sB(i){return i.getMonth()!==Xl(new Date(i),7*Es).getMonth()}function lB(i){return i.getMonth()!==Xl(new Date(i),Es).getMonth()}function Ey(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/Es+r.getDay()+1)/7)}function uB(i){return i.getDay()}function Xl(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function Ay(i){var r,t=i[0],e=i[1],n=ao().parse(t,Zo),a=ao().parse(e,Zo);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function fB(i,r,t){for(var e=[],n=Ay(r),a=n[0],o=n[1],s=new Date(a),l=function(){var f,h=ao().format(s,Zo),c=(0,u.find)(i,function(v){return v[t]===h});e.push((0,zt.__assign)((f={},f[jo]=uB(s),f[Uo]=""+Ey(s),f[t]=h,f[My]=new Date(s),f),c)),Xl(s,Es)};s<=o;)l();return e}function hB(i){var r=Ay(i),t=r[0],e=r[1],n=new Map;function a(l){var f=l.getMonth(),h=Ey(l);n.has(f)||n.set(f,[]),n.get(f).push(h)}for(var o=new Date(t);o<=e;)a(o),Xl(o,Es*7);e<o&&a(e);var s={};return n.forEach(function(l,f){var h=Math.ceil(((0,u.head)(l)+(0,u.last)(l))/2);s[h]=f}),s}var cB={rect:"polygon"},vB=di(cB);(0,u.assign)(qr,vB);var Ty=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[jo]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[Uo]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,u.isNil)(n)){var a=(0,u.map)(t,function(o){return ao().parse(""+o[e],Zo)});n=oB(a)}return fB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[Uo,jo]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[Uo,jo]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return Ai("label",(0,zt.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=Ai("axis",{plot:this,dim:"x"}),e=Ai("axis",{plot:this,dim:"y"}),n={};n[Uo]=t,n[jo]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=hB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?aB:a,s=n.months,l=s===void 0?iB:s,f=e[Uo],h=e[jo];f.formatter=function(T){var B=t[T];return B!==void 0?l[B]:""},h.formatter=function(T){return o[T]||""};var c=this.options,v=c.xAxis,m=c.yAxis;f.alias=(0,u.get)(v,["title","text"],f.alias),h.alias=(0,u.get)(m,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,z)},r}(Fn),dB=Ty;Hr("calendar",Ty),an("polygon","calendar-polygon",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,zt.__assign)((0,zt.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[My];if(sB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),lB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var pB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dB.getDefaultOptions,r}(Br),gB=pB,Py=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;an("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,f=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:f.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var m=this.getAngleRange(),T=m.starAngle,B=m.endAngle,Y=f.x*(B-T)+T;switch(l){case"meterGauge":this.drawBarGauge(Y),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(Y),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(Y),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Ii().colors,f=this.getAngleRange(),h=f.starAngle,c=f.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},m=0;m<a.length;m++){var T=this.valueToAngle(a[m],v),B=this.valueToAngle(a[m+1],v);if(B>=T){var Y=this.getPath(T,B),Z=(0,u.deepMix)({fill:l[m]},s);this.drawRing(Y,Z)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,m=this.valueToAngle(v+h/2,f);this.drawRect(m,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,m=this.valueToAngle(v,f),T=(0,u.clone)(t.tickLine.style);c%5!=0&&(T.lineWidth=T.lineWidth/2),this.drawRect(m,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:T})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,m=this.valueToAngle(v,f);this.drawRect(m,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,f=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||Ii().colors,v=this.getAngleRange(),m=v.starAngle,T=v.endAngle,B={min:a,max:o,starAngle:m,endAngle:T},Y=(T-m)/(50-1),Z=Y/3,j=0;j<50;j++){var ut=m+j*Y,ht=this.getPath(ut-Z/2,ut+Z-Z/2),Et=h;if(s&&s.length){var Ft=s.map(function(Wt){return e.valueToAngle(Wt,B)}),jt=oE(Ft,ut),$t=Math.min(jt,s.length-1);Et=(0,u.deepMix)({},{fill:c[$t-1]},f)||h}else Et=t>=ut?(0,u.deepMix)({},{fill:l},f):h;this.drawRing(ht,Et)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var f=l*(s-o)+o;return f=Math.max(f,o),f=Math.min(f,s),f},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,u.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,zt.__assign)((0,zt.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,f;o<0?f=this.gauge.ringRadius-this.gauge.options.rangeSize+o:f=this.gauge.ringRadius+o;var h=f*Math.cos(t)+l.x,c=f*Math.sin(t)+l.y,v=(f+s)*Math.cos(t)+l.x,m=(f+s)*Math.sin(t)+l.y,T=this.gauge.group.addShape("line",{attrs:(0,u.deepMix)({},{x1:h,y1:c,x2:v,y2:m},e.style)});T.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,f=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,m=(a-o)*Math.cos(e)+n.x,T=(a-o)*Math.sin(e)+n.y,B=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,B,1,c,v],["L",m,T],["A",a-o,a-o,0,B,0,f,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,f=this.gauge.pivot,h=f.thickness,c=f.thickness/2.5,v=this.gauge.group,m=t.points[0],T=this.parsePoint({x:0,y:0}),B=m.x*(a-n)+n,Y=(this.gauge.ringRadius-l)*s*Math.cos(B)+this.gauge.center.x,Z=(this.gauge.ringRadius-l)*s*Math.sin(B)+this.gauge.center.y,j={x:Y,y:Z};if(f.base.visible&&v.addShape("circle",{attrs:(0,u.deepMix)({},{x:T.x,y:T.y,r:f.base.size?f.base.size/2:h*2.2},f.base.style)}),f.pointer.visible){var ut={x:T.x-j.x,y:T.y-j.y},ht=Math.sqrt(ut.x*ut.x+ut.y*ut.y);ut.x*=1/ht,ut.y*=1/ht;var Et=-Math.PI/2,Ft=Math.cos(Et)*ut.x-Math.sin(Et)*ut.y,jt=Math.sin(Et)*ut.x+Math.cos(Et)*ut.y,$t=Math.PI/2,Wt=Math.cos($t)*ut.x-Math.sin($t)*ut.y,re=Math.sin($t)*ut.x+Math.cos($t)*ut.y,ue=[["M",j.x+Ft*c,j.y+jt*c],["L",T.x+Ft*h,T.y+jt*h],["L",T.x+Wt*h,T.y+re*h],["L",j.x+Wt*c,j.y+re*c],["Z"]];v.addShape("path",{attrs:(0,u.deepMix)({},{path:ue},f.pointer.style)}),v.addShape("circle",{attrs:{x:j.x,y:j.y,r:c,fill:f.pointer.style.fill}}),v.addShape("circle",{attrs:{x:T.x,y:T.y,r:h,fill:f.pointer.style.fill}})}f.pin.visible&&v.addShape("circle",{attrs:(0,u.deepMix)({},{x:T.x,y:T.y,r:c/1.2},f.pin.style)})}})},i}(),yB={range:"point",statistic:"annotation-text"},mB=di(yB);(0,u.assign)(qr,mB);var Ly=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(T){return+T}).sort(function(T,B){return T-B}),o=this.options,s=o.min,l=s===void 0?a[0]:s,f=o.max,h=f===void 0?a[a.length-1]:f,c=o.format,v=c===void 0?function(T){return""+T}:c,m=v(e);this.options.data=[{value:e||0}],this.options.valueText=m,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new Py((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};ai(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,U)},r}(Fn),gh=Ly;Hr("gauge",Ly);var xB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gh.getDefaultOptions,r}(Br),_y=xB,Oy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new Py((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(f,h){return{type:"text",top:!0,position:["50%","50%"],content:a(f),style:(0,u.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(gh),bB=Oy;Hr("fanGauge",Oy);var wB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bB.getDefaultOptions,r}(Br),Iy=wB,ky=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(gh),SB=ky;Hr("meterGauge",ky);var CB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=SB.getDefaultOptions,r}(Br),By=CB,MB=d(42473),Ha=d.n(MB),TY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=cy.getDefaultOptions,r}(Br),PY=null,LY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=ah.getDefaultOptions,r}(Br),_Y=null,OY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=jp.getDefaultOptions,r}(Br),IY=null,kY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=cg.getDefaultOptions,r}(Br),BY=null,DY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=Kp.getDefaultOptions,r}(Br),FY=null,RY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=Lg.getDefaultOptions,r}(Br),NY=null,YY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=rh.getDefaultOptions,r}(Br),GY=null,zY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=Jf.getDefaultOptions,r}(Br),XY=null,VY=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=Bl.getDefaultOptions,r}(Br),HY=null,EB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,u.each)(e.guideLine,function(o){var s=Ai("guideLine",{plot:t,cfg:(0,u.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(Fn),Vl=EB,AB=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,u.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,f=(0,u.deepMix)({},l,r.style);n=(0,u.deepMix)({},f,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,u.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,zt.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),Dy=AB,TB={progress:"interval"},PB=di(TB);(0,u.assign)(qr,PB);var LB={progress:"interval"},_B={interval:"progress"},Fy=["#55A6F3","#E8EDF3"],Ry=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Fy};t=(0,u.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,u.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,u.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,u.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,u.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,u.each)(this.options.marker,function(s){var l=(0,u.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),f=new Dy(l);t.markers.push(f)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?LB[e]:_B[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=Vn("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,u.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,et)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,u.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,u.isString)(e)){var n=(0,u.clone)(Fy);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,u.each)(this.markers,function(f,h){h>e-1?f.destroy():f.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,u.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new Dy(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,u.each)(l,function(f){if(f.type==="interval"){var h=f.elements;(0,u.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,u.isArray)(t)?(0,u.each)(t,function(f,h){o[h].animate(f,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,u.isArray)(t)?(0,u.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(Vl),Ny=Ry;Hr("progress",Ry);var OB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=Ny.getDefaultOptions,r}(Br),Yy=OB,IB={ringProgress:"interval"},kB=di(IB);(0,u.assign)(qr,kB);var BB=["#55A6F3","#E8EDF3"],Gy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||BB};t=(0,u.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=Vn("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,q)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(Ny),DB=Gy;Hr("ringProgress",Gy);var FB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=DB.getDefaultOptions,r}(Br),zy=FB,RB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,u.assign)(qr,RB);var NB=.6,YB={column:"interval"},GB={interval:"column"},Xy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?YB[e]:GB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=Vn("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,dt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,u.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*NB},r.prototype.getColumnNum=function(t,e){var n=[];return(0,u.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(Vl),zB=Xy;Hr("tinyColumn",Xy);var XB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=zB.getDefaultOptions,r}(Br),Vy=XB,VB={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(qr,VB);var HB={area:"area",line:"line"},Hy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return HB[e]},r.prototype.addGeometry=function(){this.area=Vn("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=Vn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,ct)},r}(Vl),WB=Hy;Hr("tinyArea",Hy);var jB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=WB.getDefaultOptions,r}(Br),Wy=jB,UB={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(qr,UB);var ZB={line:"line"},jy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return ZB[e]},r.prototype.addGeometry=function(){this.line=Vn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Mt)},r}(Vl),KB=jy;Hr("tinyLine",jy);var $B=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=KB.getDefaultOptions,r}(Br),Uy=$B,yh=5,QB=function(i){(0,zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,u.deepMix)({},t),e.themeController=new Xf,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,u.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,f=0;f<this.requiredField.length;f++){var h=this.requiredField[f];if(!(0,u.hasKey)(this.options,h))return!1}return!(!(0,u.isArray)(l)||l.length<2||!(0,u.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,u.each)(o,function(c,v){if(!(0,u.isArray)(c)||c.length===0){var m=t.getMockData(v);o[v]=m}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,u.isArray)(t[0])||(0,u.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,u.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,u.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,u.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,zt.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,u.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,u.each)(s,function(h,c){if(!(0,u.isString)(h)&&(0,u.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var f=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,u.deepMix)({},f,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,Or.getScale)("linear"),a=new n((0,u.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),f=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),f.push(c)}return f},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,u.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],f=o.max?o.max:s[s.length-1];return{min:l,max:f,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=Ii().bleeding;(0,u.isArray)(a)&&(0,u.each)(a,function(m,T){typeof a[T]=="function"&&(a[T]=a[T](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),f=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),f=h.height+yh*2);var v=s.map(function(m,T){return T===0?Math.max.apply(null,[m+f,l[T]]):Math.max.apply(null,[m,l[T]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+yh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+yh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,u.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,u.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,u.each)(s,function(l){var f=l.get("component").get("field");f===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),No(t.title)){var n=this.width,a=this.theme,o=new gl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:No(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),No(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new gl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Rr(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,u.each)(o,function(s){if(s){var l=s.position,f=s.getBBox(),h=f.minX,c=f.maxX,v=f.minY,m=f.maxY;m>=n&&m<=a&&l==="top"&&(n=m),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new Rr(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(pl),Zy=QB,Ky={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},$y={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Qy=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:$y,rightConfig:$y},lineConfigs:[(0,u.deepMix)({},Ky,{color:"#5B8FF9"}),(0,u.deepMix)({},Ky,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,f=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,m=e.customMeta;this.colors=[h[0].color,h[1].color];var T=this.getYAxisGlobalConfig(),B=this.createLayer(Ss,n[0],(0,zt.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,u.deepMix)({},T,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));B.render();var Y={};Y[s[1]]={ticks:this.getTicks()};var Z=this.createLayer(Ss,n[1],(0,zt.__assign)({xField:o,yField:s[1],meta:m?a:(0,u.deepMix)({},a,Y),serieField:s[1],xAxis:l,yAxis:(0,u.deepMix)({},T,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(j,ut){t.tooltip(j,ut)}}},f),events:v},h[1]));Z.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,u.clone)(e.items[0]),f=this.getDataByXField(e.title,0)[0];f&&(0,u.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,zt.__assign)((0,zt.__assign)({},l),{mappingData:(0,u.deepMix)({},l.mappingData,{_origin:f}),data:f,name:o[0],value:f[o[0]],color:this.colors[0]})),s.visible&&(0,u.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var m=c===0?1:0;e.items.splice(m,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,u.each)(this.geomLayers,function(f,h){var c=(0,u.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],m=new Wr.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});m.init(),m.render(),t.legends.push(m)}),(0,u.each)(this.geomLayers,function(f,h){t.legendFilter(h)})},r}(Zy),JB=Qy;Hr("dualLine",Qy);var qB=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=JB.getDefaultOptions,r}(Br),Jy=qB,tD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},eD={color:"#5B8FF9"},qy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},t0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:qy,rightConfig:qy},lineConfig:tD,columnConfig:eD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Ii(),l=s.colors,f=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?f:l,v=[];(0,u.each)(h,function(m,T){v.push(c[T+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,f=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,f.color],this.drawColumn();var m={};m[o[1]]={ticks:this.getTicks()};var T=this.createLayer(Ss,e[1],(0,zt.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,u.deepMix)({},n,m),xAxis:{visible:!1},yAxis:(0,u.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},f));T.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,f=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(Ho,n[0],(0,zt.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,u.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(m,T){t.tooltip(m,T)}}},l),events:c},f));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,f=(0,u.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,u.get)(l,"formatter");if(h&&(0,u.each)(h,function(Y,Z){var j=n.geomLayers[1].options.seriesField,ut=j?Y[j]:s[1],ht=c?c(Y[o],Y[s[1]],Y[j]):{name:ut,value:Y[s[1]]};e.items.push((0,zt.__assign)((0,zt.__assign)((0,zt.__assign)((0,zt.__assign)({},f),{mappingData:(0,u.deepMix)({},f.mappingData,{_origin:h}),data:Y}),ht),{color:(0,u.isArray)(n.colors[1])?n.colors[1][Z]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),m=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===m){t.style.display="none";return}else t.style.display="block";var T=[],B=[];(0,u.each)(e.items,function(Y){var Z=Y.name;!(0,u.contains)(T,Z)&&!(0,u.contains)(v,Z)&&(T.push(Z),B.push(Y))}),(0,u.each)(e.items,function(Y,Z){Z<B.length?e.items[Z]=B[Z]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var m=t.getValueBySeriesField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,u.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],f=new Wr.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return f.init(),f.render(),f},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,u.each)(t,function(f,h){s.push({name:f,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new Wr.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(f){var h=n.geomLayers[t].view,c=f.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,u.pull)(o,c.name),h.filter(c.value,function(v){return!(0,u.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,u.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r}(Zy),mh=t0;Hr("columnLine",t0);var rD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=mh.getDefaultOptions,r}(Br),e0=rD,nD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},iD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},r0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},n0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},r0,{colorMapping:!1}),rightConfig:r0},lineConfig:nD,columnConfig:iD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ii(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>f.length?h:f,m=[],T=s.length;(0,u.each)(c,function(Y,Z){m.push(v[Z+T])}),a.lineConfig.color=m}var B=this.options.columnConfig.color;this.options.columnConfig.color=B.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,f=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(ah,n[0],(0,zt.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(m,T){t.tooltip(m,T)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var m=t.getValueBySeriesField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else if(h.options.groupField){var m=t.getValueByGroupField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(mh),aD=n0;Hr("groupedColumnLine",n0);var oD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=aD.getDefaultOptions,r}(Br),i0=oD,sD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},lD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},a0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},o0=function(i){(0,zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},a0,{colorMapping:!1}),rightConfig:a0},lineConfig:sD,columnConfig:lD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ii(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>f.length?h:f,m=[],T=n.length;(0,u.each)(c,function(Y,Z){m.push(v[Z+T])}),o.lineConfig.color=m}var B=this.options.columnConfig.color;this.options.columnConfig.color=B.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,f=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Bl,n[0],(0,zt.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(m,T){t.tooltip(m,T)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var m=t.getValueBySeriesField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else if(h.options.stackField){var m=t.getValueByStackField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(mh),uD=o0;Hr("stackedColumnLine",o0);var fD=function(i){(0,zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=uD.getDefaultOptions,r}(Br),s0=fD,hD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},WY=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},cD=function(r,t){return new Set(r.concat(t)).size===r.length},vD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},dD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},As={sameArray:cD,camelCase:hD,isType:vD,clone:dD},pD=d(73935),gD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",pD.render(r,t),t},xh=gD;function l0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function yD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?l0(Object(t),!0).forEach(function(e){mD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):l0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function mD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function jr(i,r){var t=(0,K.useRef)(),e=(0,K.useRef)(null),n=function(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(f,h)},a=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var m,T=r;v="".concat((T==null||(m=T.title)===null||m===void 0?void 0:m.text)||(i==null?void 0:i.name),".png")}var B=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(f,h),Y=document.createElement("a");Y.href=B,Y.download=v,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),Y=null}catch(Z){console.log(Z)}},o=function(){var l,f,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var m=r.statistic.htmlContent;r.statistic.htmlContent=function(){var B=m.apply(void 0,arguments);return As.isType(B,"String")||As.isType(B,"Number")||As.isType(B,"HTMLDivElement")?B:xh(B)}}if(((f=r.tooltip)===null||f===void 0||(h=f.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=xh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var T=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(B,Y){var Z=T(B,Y)||"";return As.isType(Z,"HTMLDivElement")?Z:xh(Z)}}};return(0,K.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,K.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,yD({},r));return s.__proto__.toDataURL=function(l,f){return n(l,f)},s.__proto__.downloadImage=function(l,f,h){return a(l,f,h)},s.render(),t.current=As.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var xD=K.createContext({});function Hl(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hl=function(t){return typeof t}:Hl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(i)}function bD(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function u0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function wD(i,r,t){return r&&u0(i.prototype,r),t&&u0(i,t),i}function SD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&bh(i,r)}function bh(i,r){return bh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},bh(i,r)}function CD(i){var r=AD();return function(){var e=Wl(i),n;if(r){var a=Wl(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return MD(this,n)}}function MD(i,r){return r&&(Hl(r)==="object"||typeof r=="function")?r:ED(i)}function ED(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function AD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function Wl(i){return Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wl(i)}var TD=function(i){SD(t,i);var r=CD(t);function t(){var e;return bD(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return K.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return wD(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(K.Component),Vr=TD,jY=xD.Provider;function PD(i,r){if(i==null)return{};var t=LD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var f0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PD(i,["chartRef","style","className"]),s=jr(sg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});f0.defaultProps=sg.getDefaultOptions();var _D=f0;function OD(i,r){if(i==null)return{};var t=ID(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function ID(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var h0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OD(i,["chartRef","style","className"]),s=jr(Xp,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});h0.defaultProps=Xp.getDefaultOptions();var kD=h0;function BD(i,r){if(i==null)return{};var t=DD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function DD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var c0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=BD(i,["chartRef","style","className"]),s=jr(wy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});c0.defaultProps=wy.getDefaultOptions();var FD=c0;function RD(i,r){if(i==null)return{};var t=ND(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function ND(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var v0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=RD(i,["chartRef","style","className"]),s=jr(Cy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});v0.defaultProps=Cy.getDefaultOptions();var YD=v0;function GD(i,r){if(i==null)return{};var t=zD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function zD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var XD=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=GD(i,["chartRef","style","className"]),s=jr(gB,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))}),VD=XD;function HD(i,r){if(i==null)return{};var t=WD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function WD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var d0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=HD(i,["chartRef","style","className"]),s=jr(yg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});d0.defaultProps=yg.getDefaultOptions();var p0=d0;function jD(i,r){if(i==null)return{};var t=UD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function UD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var g0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=jD(i,["chartRef","style","className"]),s=jr(e0,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});g0.defaultProps=e0.getDefaultOptions();var ZD=g0;function KD(i,r){if(i==null)return{};var t=$D(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $D(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KD(i,["chartRef","style","className"]),s=jr(Yg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});y0.defaultProps=Yg.getDefaultOptions();var QD=y0;function JD(i,r){if(i==null)return{};var t=qD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function qD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=JD(i,["chartRef","style","className"]),s=jr(vy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});m0.defaultProps=vy.getDefaultOptions();var x0=m0;function t5(i,r){if(i==null)return{};var t=e5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function e5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var b0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=t5(i,["chartRef","style","className"]),s=jr(Jy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});b0.defaultProps=Jy.getDefaultOptions();var r5=b0;function n5(i,r){if(i==null)return{};var t=i5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function i5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var w0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=n5(i,["chartRef","style","className"]),s=jr(Iy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});w0.defaultProps=Iy.getDefaultOptions();var a5=w0;function o5(i,r){if(i==null)return{};var t=s5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function s5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var l5=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=o5(i,["chartRef","style","className"]),s=jr(gI,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))}),u5=l5;function f5(i,r){if(i==null)return{};var t=h5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function h5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var S0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=f5(i,["chartRef","style","className"]),s=jr(_y,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});S0.defaultProps=_y.getDefaultOptions();var C0=S0;function c5(i,r){if(i==null)return{};var t=v5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function v5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var M0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=c5(i,["chartRef","style","className"]),s=jr(Up,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});M0.defaultProps=Up.getDefaultOptions();var d5=M0;function p5(i,r){if(i==null)return{};var t=g5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function g5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var E0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=p5(i,["chartRef","style","className"]),s=jr(xg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});E0.defaultProps=xg.getDefaultOptions();var y5=E0;function m5(i,r){if(i==null)return{};var t=x5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function x5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var A0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=m5(i,["chartRef","style","className"]),s=jr(i0,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});A0.defaultProps=i0.getDefaultOptions();var b5=A0;function w5(i,r){if(i==null)return{};var t=S5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function S5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var T0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=w5(i,["chartRef","style","className"]),s=jr(qg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});T0.defaultProps=qg.getDefaultOptions();var C5=T0;function M5(i,r){if(i==null)return{};var t=E5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function E5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=M5(i,["chartRef","style","className"]),s=jr(Vg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});P0.defaultProps=Vg.getDefaultOptions();var A5=P0;function T5(i,r){if(i==null)return{};var t=P5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function P5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=T5(i,["chartRef","style","className"]),s=jr(uy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});L0.defaultProps=uy.getDefaultOptions();var L5=L0;function _5(i,r){if(i==null)return{};var t=O5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function O5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_5(i,["chartRef","style","className"]),s=jr(Sp,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});_0.defaultProps=Sp.getDefaultOptions();var O0=_0;function I5(i,r){if(i==null)return{};var t=k5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function k5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var I0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=I5(i,["chartRef","style","className"]),s=jr(sy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});I0.defaultProps=sy.getDefaultOptions();var k0=I0;function B5(i,r){if(i==null)return{};var t=D5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function D5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=B5(i,["chartRef","style","className"]),s=jr(By,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});B0.defaultProps=By.getDefaultOptions();var F5=B0;function R5(i,r){if(i==null)return{};var t=N5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function N5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=R5(i,["chartRef","style","className"]),s=jr(vg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});D0.defaultProps=vg.getDefaultOptions();var Y5=D0;function G5(i,r){if(i==null)return{};var t=z5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function z5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=G5(i,["chartRef","style","className"]),s=jr($p,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});F0.defaultProps=$p.getDefaultOptions();var X5=F0;function V5(i,r){if(i==null)return{};var t=H5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function H5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=V5(i,["chartRef","style","className"]),s=jr(_g,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});R0.defaultProps=_g.getDefaultOptions();var W5=R0;function j5(i,r){if(i==null)return{};var t=U5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function U5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=j5(i,["chartRef","style","className"]),s=jr(Fg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});N0.defaultProps=Fg.getDefaultOptions();var Z5=N0;function K5(i,r){if(i==null)return{};var t=$5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=K5(i,["chartRef","style","className"]),s=jr(Yy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});Y0.defaultProps=Yy.getDefaultOptions();var G0=Y0;function Q5(i,r){if(i==null)return{};var t=J5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function J5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Q5(i,["chartRef","style","className"]),s=jr(ey,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});z0.defaultProps=ey.getDefaultOptions();var X0=z0;function q5(i,r){if(i==null)return{};var t=tF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function tF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=q5(i,["chartRef","style","className"]),s=jr(rg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});V0.defaultProps=rg.getDefaultOptions();var eF=V0;function rF(i,r){if(i==null)return{};var t=nF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function nF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=rF(i,["chartRef","style","className"]),s=jr(Tg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});H0.defaultProps=Tg.getDefaultOptions();var iF=H0;function aF(i,r){if(i==null)return{};var t=oF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function oF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=aF(i,["chartRef","style","className"]),s=jr(zy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});W0.defaultProps=zy.getDefaultOptions();var j0=W0;function sF(i,r){if(i==null)return{};var t=lF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function lF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=sF(i,["chartRef","style","className"]),s=jr(Wg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});U0.defaultProps=Wg.getDefaultOptions();var uF=U0;function fF(i,r){if(i==null)return{};var t=hF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function hF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=fF(i,["chartRef","style","className"]),s=jr(xy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});Z0.defaultProps=xy.getDefaultOptions();var cF=Z0;function vF(i,r){if(i==null)return{};var t=dF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function dF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var K0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=vF(i,["chartRef","style","className"]),s=jr(fg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});K0.defaultProps=fg.getDefaultOptions();var pF=K0;function gF(i,r){if(i==null)return{};var t=yF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function yF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=gF(i,["chartRef","style","className"]),s=jr(Hp,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});$0.defaultProps=Hp.getDefaultOptions();var mF=$0;function xF(i,r){if(i==null)return{};var t=bF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function bF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=xF(i,["chartRef","style","className"]),s=jr(Sg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});Q0.defaultProps=Sg.getDefaultOptions();var wF=Q0;function SF(i,r){if(i==null)return{};var t=CF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function CF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=SF(i,["chartRef","style","className"]),s=jr(s0,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});J0.defaultProps=s0.getDefaultOptions();var MF=J0;function EF(i,r){if(i==null)return{};var t=AF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function AF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=EF(i,["chartRef","style","className"]),s=jr(Qg,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});q0.defaultProps=Qg.getDefaultOptions();var TF=q0;function PF(i,r){if(i==null)return{};var t=LF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PF(i,["chartRef","style","className"]),s=jr(Dp,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});tm.defaultProps=Dp.getDefaultOptions();var _F=tm;function OF(i,r){if(i==null)return{};var t=IF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function IF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OF(i,["chartRef","style","className"]),s=jr(Wy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});em.defaultProps=Wy.getDefaultOptions();var rm=em;function kF(i,r){if(i==null)return{};var t=BF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function BF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=kF(i,["chartRef","style","className"]),s=jr(Vy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});nm.defaultProps=Vy.getDefaultOptions();var im=nm;function DF(i,r){if(i==null)return{};var t=FF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function FF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var am=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=DF(i,["chartRef","style","className"]),s=jr(Uy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});am.defaultProps=Uy.getDefaultOptions();var RF=am;function NF(i,r){if(i==null)return{};var t=YF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function YF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var om=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=NF(i,["chartRef","style","className"]),s=jr(kp,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});om.defaultProps=kp.getDefaultOptions();var GF=om;function zF(i,r){if(i==null)return{};var t=XF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function XF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=zF(i,["chartRef","style","className"]),s=jr(gy,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))});sm.defaultProps=gy.getDefaultOptions();var VF=sm;function HF(i,r){if(i==null)return{};var t=WF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function WF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var jF=(0,K.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=HF(i,["chartRef","style","className"]),s=jr(eI,o),l=s.chart,f=s.container;return(0,K.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,K.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),K.createElement(Vr,null,K.createElement("div",{className:a,style:n,ref:f}))}),lm=jF,UF={i8:"3.8.5"},Yn=d(50229),ZF={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,gn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,gn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},KF=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,Yn.d9)(ZF);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var f={};l&&((0,Yn.S6)(l,function(h,c){f[c]=(0,Yn.Ko)(s,h)}),this.events=f)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),wh=KF,Sh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Sh||(Sh={}));var ya=d(16185);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ch=function(r,t){return Ch=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Ch(r,t)};function Ln(i,r){Ch(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Qt=function(){return Qt=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Qt.apply(this,arguments)};function Gi(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function UY(i,r,t,e){var n=arguments.length,a=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(r,t,a):o(r,t))||a);return n>3&&a&&Object.defineProperty(r,t,a),a}function ZY(i,r){return function(t,e){r(t,e,i)}}function KY(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function $Y(i,r,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{f(e.next(h))}catch(c){o(c)}}function l(h){try{f(e.throw(h))}catch(c){o(c)}}function f(h){h.done?a(h.value):n(h.value).then(s,l)}f((e=e.apply(i,r||[])).next())})}function QY(i,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(h){return l([f,h])}}function l(f){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=f[0]&2?n.return:f[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,f[1])).done)return a;switch(n=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(i,t)}catch(h){f=[6,h],n=0}finally{e=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function JY(i,r,t,e){e===void 0&&(e=t),i[e]=r[t]}function qY(i,r){for(var t in i)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=i[t])}function um(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function $F(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,a=[],o;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function tG(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat($F(arguments[r]));return i}function Ts(){for(var i=0,r=0,t=arguments.length;r<t;r++)i+=arguments[r].length;for(var e=Array(i),n=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function jl(i){return this instanceof jl?(this.v=i,this):new jl(i)}function eG(i,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(i,r||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(v){e[v]&&(n[v]=function(m){return new Promise(function(T,B){a.push([v,m,T,B])>1||s(v,m)})})}function s(v,m){try{l(e[v](m))}catch(T){c(a[0][3],T)}}function l(v){v.value instanceof jl?Promise.resolve(v.value.v).then(f,h):c(a[0][2],v)}function f(v){s("next",v)}function h(v){s("throw",v)}function c(v,m){v(m),a.shift(),a.length&&s(a[0][0],a[0][1])}}function rG(i){var r,t;return r={},e("next"),e("throw",function(n){throw n}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(n,a){r[n]=i[n]?function(o){return(t=!t)?{value:jl(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function nG(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],t;return r?r.call(i):(i=typeof um=="function"?um(i):i[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(f){a({value:f,done:s})},o)}}function iG(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}function aG(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r.default=i,r}function oG(i){return i&&i.__esModule?i:{default:i}}function sG(i,r){if(!r.has(i))throw new TypeError("attempted to get private field on non-instance");return r.get(i)}function lG(i,r,t){if(!r.has(i))throw new TypeError("attempted to set private field on non-instance");return r.set(i,t),t}var QF=d(30490),JF=function(i){Ln(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(QF.Z),Mh=function(r){var t=0,e=0,n=0,a=0;if((0,ya.default)(r))t=e=n=a=r;else if((0,un.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,Ei.default)(r)&&(t=r[0],n=(0,Mi.default)(r[1])?r[0]:r[1],a=(0,Mi.default)(r[2])?r[0]:r[2],e=(0,Mi.default)(r[3])?n:r[3]);return[t,n,a,e]},Ul=function(r){var t=new JF(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},fm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},Wa=function(r){return Number.isNaN(Number(r))},hm=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),f=l.minX,h=l.minY,c=l.maxX,v=l.maxY;f<t&&(t=f),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var m=Math.floor(t),T=Math.floor(n),B=Math.ceil(e)-Math.floor(t),Y=Math.ceil(a)-Math.floor(n);return{x:m,y:T,width:B,height:Y,minX:t,minY:n,maxX:e,maxY:a}},qF=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},f=0;f<e;f++){var h=r[f],c=h.source,v=h.target,m=c+"-"+v;if(!s[f]){o[m]||(o[m]=[]),s[f]=!0,o[m].push(h);for(var T=0;T<e;T++)if(f!==T){var B=r[T],Y=B.source,Z=B.target;s[T]||(c===Z&&v===Y?(o[m].push(B),s[T]=!0,l[Y+"|"+Z+"|"+(o[m].length-1)]=!0):c===Y&&v===Z&&(o[m].push(B),s[T]=!0))}}}for(var j in o)for(var ut=o[j],ht=ut.length,Et=0;Et<ht;Et++){var Ft=ut[Et];if(Ft.source===Ft.target){Ft.type="loop",Ft.loopCfg={position:a[Et%8],dist:Math.floor(Et/8)*20+50};continue}Ft.type="quadratic";var jt=(Et%2==0?1:-1)*(l[Ft.source+"|"+Ft.target+"|"+Et]?-1:1);ht%2==1?Ft.curveOffset=jt*Math.ceil(Et/2)*n:Ft.curveOffset=jt*(Math.floor(Et/2)*n+t)}return r},cm=Math.abs,tR=10,eR=["shift","ctrl","alt","control"],rR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(Wa(e)||Wa(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),f=this.graph.get("canvas").getCanvasBBox();(f.minX<=s+this.scalableRange&&f.minX+a>s+this.scalableRange||f.maxX+this.scalableRange>=0&&f.maxX+this.scalableRange+a<0)&&(a=0),(f.minY<=l+this.scalableRange&&f.minY+o>l+this.scalableRange||f.maxY+this.scalableRange>=0&&f.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Sh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(j){j.hide()})}for(var f=n.getNodes(),h=0,c=f.length;h<c;h++)for(var v=f[h].getContainer(),m=v.get("children"),T=0,B=m;T<B.length;T++){var Y=B[T],Z=Y.get("isKeyShape");Z||Y.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=Ul(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(cm(this.origin.x-r.clientX)+cm(this.origin.y-r.clientY)<tR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(Y){Y.show()})}for(var s=t.getNodes(),l=0,f=s.length;l<f;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,m=c;v<m.length;v++){var T=m[v],B=T.get("isKeyShape");B||T.show()}}if(!this.dragging){this.origin=null;return}r=Ul(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(eR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},nR=d(6767),Zl=d.n(nR),iR=d(17621),Kl=d.n(iR),$l=2,vm=.16,aR=.05,oR=.05,sR=.15,dm=5,pm=4,lR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function gm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-$l*r:Math.round(i.h)+$l*r:e=t?Math.round(i.h)+$l*r:Math.round(i.h)-$l*r,e<0?e+=360:e>=360&&(e-=360),e}function ym(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-vm*r:r===pm?e=i.s+vm:e=i.s+aR*r,e>1&&(e=1),t&&r===dm&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function mm(i,r,t){var e;return t?e=i.v+oR*r:e=i.v-sR*r,e>1&&(e=1),Number(e.toFixed(2))}function Eh(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=Kl()(i),n=dm;n>0;n-=1){var a=e.toHsv(),o=Kl()({h:gm(a,n,!0),s:ym(a,n,!0),v:mm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=pm;s+=1){var l=e.toHsv(),f=Kl()({h:gm(l,s),s:ym(l,s),v:mm(l,s)}).toHexString();t.push(f)}return r.theme==="dark"?lR.map(function(h){var c=h.index,v=h.opacity,m=Kl().mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return m}):t}var Ah={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},zi={},Th={};Object.keys(Ah).forEach(function(i){zi[i]=Eh(Ah[i]),zi[i].primary=zi[i][5],Th[i]=Eh(Ah[i],{theme:"dark",backgroundColor:"#141414"}),Th[i].primary=Th[i][5]});var uG=zi.red,fG=zi.volcano,hG=zi.gold,cG=zi.orange,vG=zi.yellow,dG=zi.lime,pG=zi.green,gG=zi.cyan,yG=zi.blue,mG=zi.geekblue,xG=zi.purple,bG=zi.magenta,wG=zi.grey,Ta=function(r,t,e){var n=Zl()(r),a=Zl()(t);return Zl()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},xm=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Ta(t,r,.05).rgb().toString(),o=Ta(t,n,.02).rgb().toString(),s=Ta(t,n,.05).rgb().toString(),l=Ta(t,n,.1).rgb().toString(),f=Ta(t,n,.2).rgb().toString(),h=Ta(t,n,.3).rgb().toString(),c=Eh(r,{theme:e,backgroundColor:t}),v=Zl()(r).hex().toLowerCase(),m=c.indexOf(v),T=r;return m!==-1&&(T=c[m+1]),{mainStroke:r,mainFill:Ta(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Ta(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:T,highlightFill:Ta(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:f,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:T,comboHighlightFill:o,comboDisableStroke:f,comboDisableFill:s}},uR="rgb(95, 149, 255)",fR="rgb(255, 255, 255)",bm="rgb(0, 0, 0)",nn=xm(uR,fR),Ne={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:nn.mainStroke,fill:nn.mainFill},size:20,color:nn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:nn.activeFill,stroke:nn.activeStroke}},nodeStateStyles:{active:{fill:nn.activeFill,stroke:nn.activeStroke,lineWidth:2,shadowColor:nn.mainStroke,shadowBlur:10},selected:{fill:nn.selectedFill,stroke:nn.selectedStroke,lineWidth:4,shadowColor:nn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:nn.highlightFill,stroke:nn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:nn.inactiveFill,stroke:nn.inactiveStroke,lineWidth:1},disable:{fill:nn.disableFill,stroke:nn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:bm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:nn.edgeMainStroke,lineAppendWidth:2},color:nn.edgeMainStroke},edgeStateStyles:{active:{stroke:nn.edgeActiveStroke,lineWidth:1},selected:{stroke:nn.edgeSelectedStroke,lineWidth:2,shadowColor:nn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:nn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:nn.edgeInactiveStroke,lineWidth:1},disable:{stroke:nn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:bm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:nn.comboMainFill,lineWidth:1,stroke:nn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:nn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:nn.comboActiveStroke,lineWidth:1,fill:nn.comboActiveFill},selected:{stroke:nn.comboSelectedStroke,lineWidth:2,fill:nn.comboSelectedFill,shadowColor:nn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:nn.comboHighlightStroke,lineWidth:2,fill:nn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:nn.comboInactiveStroke,fill:nn.comboInactiveFill,lineWidth:1},disable:{stroke:nn.comboDisableStroke,fill:nn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},hR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),f=e.get("id"),h=l.filter(function(v){var m=v.get("id");return f===m});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var m=v.hasLocked();m||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,Yn.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,Yn.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,m=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:m})}else{var e=this.graph.get("group"),n=(0,Yn.b$)({},Ne.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,f=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:f,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:Qt({width:l,height:f,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var f=e[l],h=f.getBBox(),c=h.minX,v=h.minY,m=h.maxX,T=h.maxY;c<n&&(n=c),v<o&&(o=v),m>a&&(a=m),T>s&&(s=T)}var B=Math.floor(n),Y=Math.floor(o),Z=Math.ceil(a)-Math.floor(n),j=Math.ceil(s)-Math.floor(o);return{x:B,y:Y,width:Z,height:j,minX:n,minY:o}}},cR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var v=s[c],m=v.hasState("selected");n.resetSelected&&m&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var T=l[c];e.setItemState(T,a,!1),o&&e.setItemState(T,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var B=t.getEdges(),Y=B.length,c=0;c<Y;c++){var T=B[c],Z=void 0;T.getSource()===t?Z=T.getTarget():Z=T.getSource(),o&&e.setItemState(Z,o,!1),e.setItemState(Z,a,!0),e.setItemState(T,o,!1),e.setItemState(T,a,!0),T.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var m=l[c];e.clearItemStates(m,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,f=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<f;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},Ql=Math.min,wm=Math.max,Sm=Math.abs,Cm="shift",vR=["drag","shift","ctrl","alt","control"],dR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Cm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return vR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Cm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},f=n.getPointByCanvas(a.x,a.y),h=Ql(l.x,f.x),c=wm(l.x,f.x),v=Ql(l.y,f.y),m=wm(l.y,f.y),T=[],B=[];n.getNodes().forEach(function(Z){var j=Z.getBBox();if(j.centerX>=h&&j.centerX<=c&&j.centerY>=v&&j.centerY<=m&&o(Z,"select")){T.push(Z);var ut=Z.getModel();B.push(ut.id),n.setItemState(Z,s,!0)}});var Y=[];this.includeEdges&&T.forEach(function(Z){var j=Z.getOutEdges();j.forEach(function(ut){var ht=ut.getModel(),Et=ht.source,Ft=ht.target;B.includes(Et)&&B.includes(Ft)&&o(ut,"select")&&(Y.push(ut),n.setItemState(ut,t.selectedState,!0))})}),this.selectedEdges=Y,this.selectedNodes=T,this.onSelect&&this.onSelect(T,Y),n.emit("nodeselectchange",{selectedItems:{nodes:T,edges:Y},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:Sm(r.canvasX-t.x),height:Sm(r.canvasY-t.y),x:Ql(r.canvasX,t.x),y:Ql(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Mm="shift",pR=["shift","ctrl","alt","control"],gR={getDefaultCfg:function(){return{multiple:!0,trigger:Mm,selectedState:"selected"}},getEvents:function(){var r=this;return pR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Mm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,f=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,gn.default)(c,function(T){T!==e&&o.setItemState(T,t.selectedState,!1)})}if(e.hasState(this.selectedState)){f.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),m=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:m},select:!1})}else{f.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),m=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:m},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,gn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,gn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},qi=d(31502);qi.translate=function(i,r,t){var e=new Array(9);return qi.fromTranslation(e,t),qi.multiply(i,e,r)},qi.rotate=function(i,r,t){var e=new Array(9);return qi.fromRotation(e,t),qi.multiply(i,e,r)},qi.scale=function(i,r,t){var e=new Array(9);return qi.fromScaling(e,t),qi.multiply(i,e,r)},qi.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":qi.translate(t,t,[a[1],a[2]]);break;case"s":qi.scale(t,t,[a[1],a[2]]);break;case"r":qi.rotate(t,t,a[1]);break;default:break}}return t};var ja=qi,Pa=d(76172);Pa.angle=function(i,r){var t=Pa.dot(i,r)/(Pa.length(i)*Pa.length(r));return Math.acos((0,u.clamp)(t,-1,1))},Pa.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Pa.angleTo=function(i,r,t){var e=Pa.angle(i,r),n=Pa.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Pa.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var _n=Pa,yR=d(88395),Em=yR,La=function(i,r){var t=i?(0,u.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,u.each)(r,function(e){switch(e[0]){case"t":ja.translate(t,t,[e[1],e[2]]);break;case"s":ja.scale(t,t,[e[1],e[2]]);break;case"r":ja.rotate(t,t,e[1]);break;case"m":ja.multiply(t,t,e[1]);break;default:return!1}}),t},Am=.05,mR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(m,T){return Math.hypot(T.x-m.x,T.y-m.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),f=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>f||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),f=n.getZoom(),h=f,c=f;r.wheelDelta<0?h=1-Am*l:h=1/(1-Am*l),c=f*h;var v=this.get("minZoom")||n.get("minZoom"),m=this.get("maxZoom")||n.get("maxZoom");if(!(c>m||c<v)){var T=this.get("enableOptimize");if(T){var B=this.get("optimizeZoom"),Y=this.get("optimized"),Z=n.getNodes(),j=n.getEdges(),ut=Z.length,ht=j.length;if(!Y){for(var Et=0;Et<ut;Et++){var Ft=Z[Et];if(!Ft.destroyed)for(var jt=Ft.get("group").get("children"),$t=jt.length,Wt=0;Wt<$t;Wt++){var re=jt[Wt];!re.destoryed&&!re.get("isKeyShape")&&re.hide()}}for(var ue=0;ue<ht;ue++)for(var oe=j[ue],jt=oe.get("group").get("children"),$t=jt.length,Wt=0;Wt<$t;Wt++){var re=jt[Wt];re.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ee=setTimeout(function(){var Tr=n.getZoom(),Xr=t.get("optimized");if(Xr){t.set("optimized",!1);for(var tn=0;tn<ut;tn++){var An=Z[tn],hn=An.get("group").get("children"),kn=hn.length;if(Tr<B)An.getKeyShape().show();else for(var Gn=0;Gn<kn;Gn++){var Li=hn[Gn];Li.get("visible")||Li.show()}}for(var Di=0;Di<ht;Di++){var ti=j[Di],hn=ti.get("group").get("children"),kn=hn.length;if(Tr<B)ti.getKeyShape().show();else for(var Gn=0;Gn<kn;Gn++){var Li=hn[Gn];Li.get("visible")||Li.show()}}}},500);this.set("timeout",Ee)}if(f<=1){var _e=void 0,Pe=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){_e=n.findAllByState("node",a.fixState),Pe=n.findAllByState("edge",a.fixState);for(var ze=f/c,He=_e.length,je=0;je<He;je++){var Ft=_e[je],Ye=Ft.getContainer(),Ge=Ft.getModel(),ar=Ft.getOriginStyle(),nr=Ft.getStateStyle(a.fixState),hr=Ft.get("shapeFactory").getShape(Ge.shape||Ge.type).getStateStyle(a.fixState,Ft)[a.fixState];if(a.fixAll){if(c<=1){var Ue=(0,u.clone)(Ye.getMatrix());Ue||(Ue=[1,0,0,0,1,0,0,0,1]);var lr=Ft.getModel(),xr=lr.x,fr=lr.y;ja.translate(Ue,Ue,[-xr,-fr]),ja.scale(Ue,Ue,[ze,ze]),ja.translate(Ue,Ue,[xr,fr]),Ye.setMatrix(Ue)}}else for(var jt=Ye.get("children"),$t=jt.length,Wt=0;Wt<$t;Wt++){var re=jt[Wt],ur=void 0,wr=void 0;if(a.fixLabel){var Nr=re.get("type");if(Nr==="text"){ur=re.attr("fontSize")||12;var vr=nr[re.get("name")],Ie=hr[re.get("name")],Ke=vr?vr.fontSize:12,Sr=Ie?Ie.fontSize:12,kr=Ke||Sr||12;if(c<=1&&re.attr("fontSize",kr/c),wr)break}}if(a.fixLineWidth&&re.get("isKeyShape")){wr=re.attr("lineWidth")||0;var yr=nr.lineWidth||hr.lineWidth||ar.lineWidth||0;if(c<=1&&re.attr("lineWidth",yr/c),ur)break}}}for(var zr=Pe.length,Fr=0;Fr<zr;Fr++)for(var oe=Pe[Fr],Ye=oe.getContainer(),jt=Ye.get("children"),Ge=oe.getModel(),nr=oe.getStateStyle(a.fixState),hr=oe.get("shapeFactory").getShape(Ge.shape||Ge.type).getStateStyle(a.fixState,oe)[a.fixState],$t=jt.length,Wt=0;Wt<$t;Wt++){var re=jt[Wt],ur=void 0,wr=void 0;if(a.fixLabel||a.fixAll){var Nr=re.get("type");if(Nr==="text"){ur=re.attr("fontSize")||12;var vr=nr[re.get("name")],Ie=hr[re.get("name")],Ke=vr?vr.fontSize:12,Sr=Ie?Ie.fontSize:12,kr=Ke||Sr||12;if(c<=1&&re.attr("fontSize",kr/c),wr)break}}if((a.fixLineWidth||a.fixAll)&&re.get("isKeyShape")){wr=re.attr("lineWidth")||0;var yr=nr.lineWidth||hr.lineWidth||1;if(c<=1&&re.attr("lineWidth",yr/c),ur)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},wn=d(1513),qn=d(57821),Tm={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,wn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,wn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,wn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),f=s.getCanvasByPoint(l.x,l.y),h=f.x,c=f.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var m=h+"px",T=c+"px";(0,wn.Z)(this.container,{left:m,top:T,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,qn.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,wn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},xR=Qt({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Tm),bR=Qt({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Tm),ki=d(90497),wR={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,f=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){f=c.parentId;break}}if(f){var v=o[f].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var Z=this,j=Z.mouseOrigin,ut=Z.shapeOrigin,ht=r.x-j.x,Et=r.y-j.y,Ft=ht+ut.x,jt=Et+ut.y;a.attr({x:Ft,y:jt}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),f=o.x,h=o.y,c=o.width,v=o.height,m=Qt({width:c,height:v},(0,ki.default)({},Ne.delegateStyle,this.delegateStyle));if(s==="circle"){var T=c>v?c/2:v/2,B=f+T,Y=h+T;a=l.addShape("circle",{attrs:Qt({x:B,y:Y,r:T},m),name:"circle-delegate-shape"}),this.shapeOrigin={x:B,y:Y}}else a=l.addShape("rect",{attrs:Qt({x:f,y:h},m),name:"rect-delegate-shape"}),this.shapeOrigin={x:f,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},SR=document.body,CR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");o.setGroupStyle(f,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(f,"default"):o.setGroupStyle(f,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,f=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),m=c.getBBox(),T=v.centerX,B=v.centerY,Y=m.minX,Z=m.minY,j=m.maxX,ut=m.maxY;if(!(T<j*this.maxMultiple&&T>Y*this.minMultiple&&B<ut*this.maxMultiple&&B>Z*this.minMultiple)||this.inGroupId!==a){var ht=f[a];f[a]=ht.filter(function(jt){return jt!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var Et=l[this.inGroupId].nodeGroup;if(!Et)return;var Ft=Et.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,Et,Ft)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var Et=l[this.inGroupId].nodeGroup;if(!Et)return;var c=Et.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,Et,c)}else if(!this.inGroupId&&a){Object.keys(f).forEach(function(Wt){var re=f[Wt];f[Wt]=re.filter(function(ue){return ue!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&SR.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var f={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,f):(r.updatePosition(f),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),f=(0,ki.default)({},Ne.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:Qt({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},f),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},Pm="dblclick",MR=["click","dblclick"],ER={getDefaultCfg:function(){return{trigger:Pm}},getEvents:function(){var r,t;return MR.includes(this.trigger)?t=this.trigger:(t=Pm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},Lm="click",AR=["click","dblclick"],TR={getDefaultCfg:function(){return{trigger:Lm,onChange:function(){}}},getEvents:function(){var r,t;return AR.includes(this.trigger)?t=this.trigger:(t=Lm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},PR=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,Yn.S6)(e,function(n){i(n,t)})}},LR={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var f=l.get("id");return o===f});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var f=l.getModel();if(f.parentId){var h=e.findById(f.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],PR(n,function(l){if(l.destroyed)return!1;var f=l.getModel();return t.currentItemChildCombos.push(f.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,f=s.centerY,h=s.width,c=o.filter(function(v){var m=v.getModel();return a.parentId,m.id!==a.id&&!t.currentItemChildCombos.includes(m.id)});c.map(function(v){var m=v.getBBox(),T=m.centerX,B=m.centerY,Y=m.width,Z=l-T,j=f-B,ut=2*Math.sqrt(Z*Z+j*j);h+Y-ut>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,Yn.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,Yn.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var f=l.getModel();f.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,Yn.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,Yn.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,m=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:m})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=hm(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,f=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:f,minY:h};var c=Qt(Qt({},Ne.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:Qt({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},_m="dblclick",_R=["click","dblclick"],OR={getDefaultCfg:function(){return{trigger:_m,relayout:!0}},getEvents:function(){var r,t;return _R.includes(this.trigger)?t=this.trigger:(t=_m,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},Om=function(r,t,e){return r>=t&&r<=e},Ps=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},f=s.x*l.y-s.y*l.x,h=f*f,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,m=null;if(h>a*c*v){var T=(o.x*l.y-o.y*l.x)/f,B=(o.x*s.y-o.y*s.x)/f;Om(T,0,1)&&Om(B,0,1)&&(m={x:r.x+T*s.x,y:r.y+T*s.y})}return m},Im=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,f=[],h={x:s,y:l};f.push({x:e,y:n}),f.push({x:e+a,y:n}),f.push({x:e+a,y:n+o}),f.push({x:e,y:n+o}),f.push({x:e,y:n});for(var c=null,v=1;v<f.length&&(c=Ps(f[v-1],f[v],h,t),!c);v++);return c},km=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,f=s-n,h=Math.sqrt(l*l+f*f);if(h<a)return null;var c=Math.sign(l),v=Math.sign(f),m=Math.atan(f/l);return{x:e+Math.abs(a*Math.cos(m))*c,y:n+Math.abs(a*Math.sin(m))*v}},Bm=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,f=Math.atan2(l/n,s/e);return f<0&&(f+=2*Math.PI),{x:a+e*Math.cos(f),y:o+n*Math.sin(f)}},Ls=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Em.transformMat3(n,n,t),{x:n[0],y:n[1]}},Dm=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=ja.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Em.transformMat3(a,a,n),{x:a[0],y:a[1]}},Ph=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,f=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*f)/h,y:-(n*f-o*l)/h}},_s=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},Fm=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},Lh=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},_h=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.source,f=s.target,h=o[l],c=o[f];a[h][c]=1,t||(a[c][h]=1)}),a},Rm=function(r,t){r.translate(t.x,t.y)},Nm=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=La(e,[["t",a,o]]);r.setMatrix(s)},IR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Ei.default)(t)||(n=[t,t]),(0,Ei.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=La(e,[["s",n[0],n[1]]]),r.setMatrix(e)},kR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=La(e,[["r",t]]),r.setMatrix(e)},Jl=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function BR(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Os=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var f=r[l],h=r[(l+1)%a];if(BR(f,h,[t,e]))return!0;s(f[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-f[1])*(f[0]-h[0])/(f[1]-h[1])-f[0])<0&&(n=!n)}return n},Ym=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},DR=function(r,t){var e=!1;return(0,u.each)(r,function(n){if(Ps(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Oh=function(r,t){var e=function(v){var m=v.map(function(B){return B[0]}),T=v.map(function(B){return B[1]});return{minX:Math.min.apply(null,m),maxX:Math.max.apply(null,m),minY:Math.min.apply(null,T),maxY:Math.max.apply(null,T)}},n=function(v){for(var m=[],T=v.length,B=0;B<T-1;B++){var Y=v[B],Z=v[B+1];m.push({from:{x:Y[0],y:Y[1]},to:{x:Z[0],y:Z[1]}})}if(m.length>1){var j=v[0],ut=v[T-1];m.push({from:{x:ut[0],y:ut[1]},to:{x:j[0],y:j[1]}})}return m};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!Ym(a,o))return!1;var s=!1;if((0,u.each)(t,function(c){if(Os(r,c[0],c[1]))return s=!0,!1}),s||((0,u.each)(r,function(c){if(Os(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),f=n(t),h=!1;return(0,u.each)(f,function(c){if(DR(l,c))return h=!0,!1}),h},Mo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),Ih=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},FR=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},Gm=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=Ih(n,e[s]),f=l[0],h=l[1],c=l[2],v=l[3];o[s]=Ps({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:f,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},kh=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Ih(n,e[s]),f=l[0],h=l[1],c=l[2],v=l[3],m=FR(t,new Mo(f,h,c,v));m=Math.abs(m-.5),m>=0&&m<=1&&(o+=1,a=m<a?m:a)}return o===0?-1:a},zm=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},ql=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},Xm=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,f=s*a+l*o,h;f<=0?h=0:(s=a-s,l=o-l,f=s*a+l*o,f<=0?h=0:h=f*f/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},Bh=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},Vm=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),f=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+f*f},RR=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Hm=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,Us.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},tu=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];_n.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},Wm=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=RR(a,s)}return t&&(n+="Z"),n},eu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},Dh=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,f=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,m=r[s+1].y,T=s!==r.length-2?r[s+2].x:v,B=s!==r.length-2?r[s+2].y:m,Y=h+(v-l)/6,Z=c+(m-f)/6,j=v-(T-h)/6,ut=m-(B-c)/6;o.push(["C",Y,Z,j,ut,v,m])}return o.unshift(["M",n.x,n.y]),o},jm=function(r,t){return _n.scale([],_n.normalize([],r),t)},Um=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},Zm=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function Km(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],m=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+m+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=_n.scale([],Um(c[0],c[1]),r),m=_n.scale([],v,-1),T=_n.add([],c[0],v),B=_n.add([],c[1],v),Y=_n.add([],c[1],m),Z=_n.add([],c[0],m);return"M "+T+" L "+B+" A "+[r,r,"0,0,0",Y].join(",")+" L "+Z+" A "+[r,r,"0,0,0",T].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=_n.scale([],Um(o,s),r);n[a]=[_n.add([],o,l),_n.add([],s,l)]}var f="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=f+h[0]+" L "+h[1],v}),n.join(" ")}function $m(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=Zm(h[0],h[1]),v=jm(c,r),m=_n.add([],h[0],_n.scale([],v,-1)),T=_n.add([],h[1],v),B=1.2*r,Y=jm(_n.normalize([],c),B),Z=_n.scale([],Y,-1),j=_n.add([],m,Z),ut=_n.add([],T,Z),ht=_n.add([],m,Y);return"M "+m+" C "+[j,ut,T].join(",")+" S "+[ht,m].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(f,h){var c=i[(h+1)%t];return{p:f,v:_n.normalize([],Zm(f,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=_n.normalize([],_n.add([],a[s].v,_n.scale([],a[o].v,-1)));a[o].p=_n.add([],a[o].p,_n.scale([],l,r))}return a.map(function(f){var h=f.p;return{x:h[0],y:h[1]}})}var Qm="shift",NR=["drag","shift","ctrl","alt","control"],YR=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=eu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Oh(t,e)},GR={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Qm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return NR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Qm,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(YR(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var f=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var m=v.getModel(),T=m.source,B=m.target;l.includes(T)&&l.includes(B)&&n(v,"select")&&(f.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=f,this.selectedNodes=s,this.onSelect&&this.onSelect(s,f),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:f},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:Qt({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Jm="click",zR=["click","drag"],qm=void 0,XR=["shift","ctrl","control","alt","meta",void 0],VR={getDefaultCfg:function(){return{trigger:Jm,key:qm,edgeConfig:{}}},getEvents:function(){var r=this;zR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Jm,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&XR.indexOf(r.key.toLowerCase())===-1&&(r.trigger=qm,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",Qt({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),f=l.length,h=0;h<f;h++){var c=l[h],v=c.getModel(),m=c.getBBox();if(o<=m.maxX&&o>=m.minX&&s<=m.maxY&&s>=m.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},tx="ctrl",HR=["shift","ctrl","alt","control"],WR="1",jR={getDefaultCfg:function(){return{trigger:tx,combinedKey:WR,functionName:"fitView",functionParams:[]}},getEvents:function(){return HR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=tx,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},UR={"drag-canvas":rR,"zoom-canvas":mR,"drag-node":hR,"activate-relations":cR,"brush-select":dR,"click-select":gR,"lasso-select":GR,tooltip:xR,"edge-tooltip":bR,"drag-group":wR,"drag-node-with-group":CR,"collapse-expand-group":ER,"collapse-expand":TR,"drag-combo":LR,"collapse-expand-combo":OR,"create-edge":VR,"shortcuts-call":jR};(0,gn.default)(UR,function(i,r){wh.registerBehavior(r,i)});var ex=wh,Eo=d(14563),Is=d(70673),ma=d(83077),rx=d(54544),ZR=function(r){var t=(0,rx.default)(r.groups,"id"),e=(0,rx.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=Ts(o,s);n[a]=l}else o&&(n[a]=o)}var f=Qt(Qt({},t),n),h={};for(var c in f)if(!(!c||c==="undefined")){var o=f[c].map(function(B){return B.id});h[c]=o}var v={},m=function(B){if(!B||B==="undefined")return"continue";for(var Y=h[B],Z=[],j=0,ut=Y;j<ut.length;j++){var ht=ut[j],Et=f[ht].map(function(jt){return jt.id});Z.push.apply(Z,Et)}var Ft=r.nodes?r.nodes.filter(function(jt){return Z.indexOf(jt.groupId)>-1||Z.indexOf(jt.parentId)>-1}).map(function(jt){return jt.id}):[];v[B]=Ft};for(var c in h)m(c);return v},KR=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,gn.default)(r,function(t){(0,gn.default)(t,function(e,n){(0,un.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,gn.default)(e||[],function(o){var s=wh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,gn.default)(t,function(e){r.indexOf(e)<0&&((0,un.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,un.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,gn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,Ei.default)(r)?a=r:a=[r],(0,Ei.default)(t))return(0,gn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),$R=KR,QR=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var f=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=f;f>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Mh(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],f=(o.y-r.y)*s[4],h=0,c=0,v=0,m=0;this.graph.get("canvas").animate(function(T){v=l*T,m=f*T,n.graph.translate(v-h,m-c),h=v,c=m},Qt({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=Dm({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Ls({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,un.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,ya.default)(r)||!(0,ya.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,wn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,wn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),JR=QR,ks=d(73136),ru=d(61262),qR=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,ru.default)(this,"onCanvasEvents"),s=(0,ru.default)(this,"onExtendEvents"),l=(0,ru.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,ks.Z)(a,"DOMMouseScroll",l)),e.push((0,ks.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,ks.Z)(window,"keydown",s)),e.push((0,ks.Z)(window,"keyup",s)),e.push((0,ks.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),fm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var f=i.getItemRoot(n);if(!f){t.emit(a,r);return}var h=f.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,Mi.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=Ul(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,gn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),t3=qR,nx=d(8289),ix=d(33643),ax=d(85260),e3=d(58070),r3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},fa=Math.PI,Fh=Math.sin,Rh=Math.cos,Ti=Fh(fa/8),Pi=Rh(fa/8),nu=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Ls(n,o),a=Ls(a,o)}var s=n.x,l=n.y,f=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:f,maxY:h,width:f-s,height:h-l}},ox=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,f=s.position||Ne.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],m=o.height/2,T=o.height/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi;if(c[0]===v[0]&&c[1]===v[1]){switch(f){case"top":c=[h[0]-B,h[1]-Y],v=[h[0]+Z,h[1]-j];break;case"top-right":m=o.height/2,T=o.width/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi,c=[h[0]+B,h[1]-Y],v=[h[0]+j,h[1]-Z];break;case"right":m=o.width/2,T=o.width/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi,c=[h[0]+Y,h[1]-B],v=[h[0]+j,h[1]+Z];break;case"bottom-right":m=o.width/2,T=o.height/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi,c=[h[0]+Y,h[1]+B],v=[h[0]+Z,h[1]+j];break;case"bottom":m=o.height/2,T=o.height/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi,c=[h[0]+B,h[1]+Y],v=[h[0]-Z,h[1]+j];break;case"bottom-left":m=o.height/2,T=o.width/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi,c=[h[0]-B,h[1]+Y],v=[h[0]-j,h[1]+Z];break;case"left":m=o.width/2,T=o.width/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi,c=[h[0]-Y,h[1]+B],v=[h[0]-j,h[1]-Z];break;case"top-left":m=o.width/2,T=o.height/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi,c=[h[0]-Y,h[1]-B],v=[h[0]-Z,h[1]-j];break;default:m=o.width/2,T=o.width/2,B=m*Ti,Y=m*Pi,Z=T*Ti,j=T*Pi,c=[h[0]-B,h[1]-Y],v=[h[0]+Z,h[1]-j]}if(s.clockwise===!1){var ut=[c[0],c[1]];c=[v[0],v[1]],v=[ut[0],ut[1]]}}var ht=[c[0]-h[0],c[1]-h[1]],Et=(m+l)/m,Ft=(T+l)/T;s.clockwise===!1&&(Et=(T+l)/T,Ft=(m+l)/m);var jt=_n.scale([],ht,Et),$t=[h[0]+jt[0],h[1]+jt[1]],Wt=[v[0]-h[0],v[1]-h[1]],re=_n.scale([],Wt,Ft),ue=[h[0]+re[0],h[1]+re[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:$t[0],y:$t[1]},{x:ue[0],y:ue[1]}],r},iu=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var f=r.getPoint(t+o);s.push([l.x,l.y]),s.push([f.x,f.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=fa*2),e&&(l.x+=Rh(h)*e,l.y+=Fh(h)*e),n){var c=h-fa/2;h>1/2*fa&&h<3*1/2*fa&&(c-=fa),l.x+=Rh(c)*n,l.y+=Fh(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*fa&&h<3*1/2*fa&&(h-=fa),Qt({rotate:h},v)):v},sx=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},n3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},Xi=function(r,t){typeof t=="function"&&sx(r,t)},ha=function(r,t){typeof t=="function"&&n3(r,t)},lx=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;Xi(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var f=fa*2/l,h=a[s]-n[s];return h===0||Xi(r,function(c){var v=(c[s]-n[s])/h*(fa*2-f)+f,m=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=m*Math.cos(v),c.y=m*Math.sin(v),!0}),r},ux=function(r,t){return t*(r3[r]||1)},fx=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=ux(a,t)}),[e,t]},Nh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var f=(0,u.clone)(s);f.itemType="combo",f.children=void 0,f.parentId===f.id?(console.warn("The parentId for combo "+f.id+" can not be the same as the combo's id"),delete f.parentId):f.parentId&&!a[f.parentId]&&(console.warn("The parent combo for combo "+f.id+" does not exist!"),delete f.parentId);var h=n[f.id];if(h){if(f.children=h.children,n[f.id]=f,h=f,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(f):c.children=[f];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[f.id]=f}return}if((0,u.isString)(s.parentId)){var m=n[s.parentId];if(m)m.children?m.children.push(f):m.children=[f],n[f.id]=f;else{var T={id:s.parentId,children:[f]};n[T.id]=T,n[f.id]=f}}else e.push(f),n[f.id]=f});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var f={id:s.id,comboId:s.comboId};l.children?l.children.push(f):l.children=[f],f.itemType="node",n[s.id]=f}}),e.forEach(function(s){s.depth=0,sx(s,function(l){var f,h=n[l.id].itemType;h==="node"?f=n[l.comboId]:f=n[l.parentId],f?h==="node"?l.depth=f.depth+1:l.depth=f.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},Yh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(m){if(!s){if(m.id===t){a=m,m.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}Xi(m,function(T){return o[T.id]={children:T.children},n=o[T.parentId||T.comboId||"root"].children,T&&(T.removed||t===T.id)&&n?(l=T.parentId||T.comboId||"root",a=T,T.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var f=n?n.indexOf(a):-1;if(f>-1&&n.splice(f,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(m){h||Xi(m,function(T){return e===T.id?(h=!0,T.children?T.children.push(a):T.children=[a],c=T.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;Xi(a,function(m){return m.itemType==="node"?v+=2:v+=1,m.depth=v,!0})}return r},Gh=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},i3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),f=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/f,h.end.x=(a+n)/l,h.end.y=(o+e)/f,h};function au(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(i)}function hx(i){if(typeof i!="string")return i;var r=function(jt){if(typeof jt!="string")return jt;try{return JSON.parse(jt.trim())}catch($t){return jt.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(jt){return jt[jt.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var jt=[],$t=0;$t<arguments.length;$t++)jt[$t]=arguments[$t];return jt.some(function(Wt){return e(o)===Wt})},l=function(){return e(a)},f=null,h=0,c="";h<n.length;){var v=n[h],m=s('"',"'");if(!m&&!v.trim()){h+=1;continue}var T=n[h-1]==="\\",B=s("}"),Y=s("]"),Z=s(","),j=l();if(m)if(e(o)===v&&!T){o.pop();var ut=r(c);j.push(ut),f=ut,c=""}else c+=v;else if(Y&&v===",")c&&(j.push(r(c)),c="");else if(B&&v===":")o.push(","),c&&(j.push(c),c="");else if(Z&&v===",")c&&(j.push(r(c)),c=""),o.pop();else if(v==="}"&&(B||Z)){c&&(j.push(r(c)),c=""),Z&&o.pop();for(var ht={},Et=1;Et<j.length;Et+=2)ht[j[Et-1]]=j[Et];a.pop(),a.length&&e(a).push(ht),o.pop(),f=ht}else v==="]"&&Y?(c&&(j.push(r(c)),c=""),a.pop(),a.length&&e(a).push(j),o.pop(),f=j):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return f||c}var a3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},o3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,e3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,f){return n[f-1]&&n[f-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function cx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return cx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=a3(s),f=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=hx(f);t=Qt(Qt({},t),h)}else a[l]=hx(f)}catch(c){if(l==="style")throw c;a[l]=f}}),a.attrs=t,r&&r.style&&a.name&&au(r.style[a.name])==="object"&&(a.attrs=Qt(Qt({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=Qt(Qt({},a.attrs),r.style)),n.length&&(a.children=n),a}function s3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=fx(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=Qt({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function vx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=Qt({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=Qt({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var f=vx(i.children[l],s);if(f.bbox){var h=f.bbox;f.attrs.next==="inline"?s.x+=f.bbox.width:s.y+=f.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=s3(i,r,e),i.attrs=Qt(Qt({},i.attrs),i.bbox),i}function dx(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var f=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<f;v+=1)l.push(dx(c[v],h[v]));var m=Object.keys(r.attrs),T=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:m.filter(function(B){return B!=="children"}).some(function(B){return i.attrs[B]!==r.attrs[B]||!T.includes(B)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function px(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=o3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],f=vx(cx(l,n));return s.remove(),f};return{draw:function(n,a){var o=t(n),s=a,l=function f(h){var c=h.attrs,v=c===void 0?{}:c,m=h.bbox,T=h.type,B=h.children,Y=Gi(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var Z=a.addShape(h.type,Qt({attrs:v,origin:{bbox:m,type:T,children:B}},Y));h.keyshape&&(s=Z)}h.children&&h.children.forEach(function(j){return f(j)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),f=r[n.id].pop(),h=dx(l,f),c=function T(B){var Y;B.type!=="group"&&o.addShape(B.type,{attrs:B.attrs}),((Y=B.children)===null||Y===void 0?void 0:Y.length)&&B.children.map(function(Z){return T(Z)})},v=function T(B){var Y,Z=s.find(function(j){return j.attrs.key===B.attrs.key});Z&&o.removeChild(Z),((Y=B.children)===null||Y===void 0?void 0:Y.length)&&B.children.map(function(j){return T(j)})},m=function T(B){var Y=B.key;if(B.type!=="group"){var Z=s.find(function(ut){return ut.attrs.key===Y});switch(B.action){case"change":if(Z){var j=B.val.keyshape?a.getOriginStyle():{};Z.attr(Qt(Qt({},j),B.val.attrs))}break;case"add":c(B.val);break;case"delete":v(B.val);break;case"restructure":v(B.formerTarget),c(B.nowTarget);break;default:break}}B.children&&B.children.forEach(function(ut){return T(ut)})};m(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var zh={};function gx(i){return zh[i]||(zh[i]=(0,u.upperFirst)(i)),zh[i]}var l3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},Xh={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},ou=function(){function i(){}return i.registerFactory=function(r,t){var e=gx(r),n=l3,a=Qt(Qt({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=gx(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=px(t);a=Qt(Qt({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=px(s);a=Qt(Qt(Qt({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):Xh;a=Qt(Qt({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):Xh,o=Qt(Qt({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):Xh,o=Qt(Qt({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),Hn=ou;ou.registerFactory("node",{defaultShapeType:"circle"}),ou.registerFactory("edge",{defaultShapeType:"line"}),ou.registerFactory("combo",{defaultShapeType:"circle"});var Vh="bboxCache",Hh="bboxCanvasCache",u3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,u.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var f=l[s].options;if(f&&f.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,u.deepMix)({},f.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=nu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=nu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,u.each)(n,function(f){var h=f.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,u.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,u.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,u.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=Hn.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,u.isPlainObject)(r)?this._cfg=Qt(Qt({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(Vh,null),this.set(Hh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,u.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=Qt(Qt({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,u.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,u.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,u.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,u.isString)(t)){var f=e.filter(function(v){return v.includes(o)});f.length>0&&this.clearStates(f),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,u.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,u.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,u.isNil)(r.x)?t.x:r.x,n=(0,u.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,u.isNil)(e)||(0,u.isNil)(n)||(a.resetMatrix(),Rm(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(Vh);return r||(r=this.calculateBBox(),this.set(Vh,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(Hh);return r||(r=this.calculateCanvasBBox(),this.set(Hh,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),yx=u3,su={source:"start",target:"end"},_a="Node",Ko="Point",f3="Anchor",h3=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=su[t]+Ko,a=t+_a,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,u.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=su[t]+Ko,o=t+_a,s=this.get(a);if(!s){var l=this.get(o),f=t+f3,h=this.getPrePoint(t,n),c=e[f];(0,u.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,u.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+_a,n=su[t]+Ko,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+_a,n=su[t]+Ko,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+_a),n=this.get("target"+_a);return e?delete t["source"+_a]:t.source=this.get("start"+Ko),n?delete t["target"+_a]:t.target=this.get("end"+Ko),!(0,u.isString)(t.source)&&!(0,u.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,u.isString)(t.target)&&!(0,u.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,u.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+_a),e=this.get("target"+_a);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(yx),c3=h3,Bs=d(66974),Wh="anchorPointsCache",v3="bboxCache",d3=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=_s(t[0],e),s=0;s<t.length;s++){var l=t[s],f=_s(l,e);f<o&&(a=l,o=f,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(f){return f.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(f){return f.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(f){return f.getSource()===e?f.getTarget():f.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var f=this.getAnchorPoints(),h;switch(n){case"circle":h=km({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=Bm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=Im(l,t)}var c=h;return f.length&&(c||(c=t),c=this.getNearestPoint(f,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(Wh);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,gn.default)(l,function(f,h){var c=(0,Bs.default)({x:n.minX+f[0]*n.width,y:n.minY+f[1]*n.height},f[2],{index:h});t.push(c)}),this.set(Wh,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(v3,null),this.set(Wh,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,Mi.default)(t.x),n=!(0,Mi.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(yx),mx=d3,p3="bboxCache",xx="bboxCanvasCache",jh="sizeCache",g3="anchorPointsCache",y3=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||Ne.defaultCombo.size[0]/2,width:n.width||Ne.defaultCombo.size[0],height:n.height||Ne.defaultCombo.size[1]};a.style=Qt(Qt(Qt({},e),t.style),o);var s=t.padding||Ne.defaultCombo.padding;return(0,ya.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(jh,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=nu(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(jh);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(xx,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(p3,null),this.set(xx,null),this.set(g3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(jh,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(mx),m3=y3,lu="node",uu="edge",bx="vedge",fu="combo",x3="default",wx="Mapper",Ua="stateStyles",b3=Object.hasOwnProperty,w3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===bx?uu:r,o=n.get(a+"Group")||n.get("group"),s=(0,ax.default)(a),l=null,f=n.get(a+(0,ax.default)(Ua))||{},h=n.get(x3+s);t[Ua]&&(f=t[Ua]);var c=n.get(a+wx);if(c){var v=c(t);v[Ua]&&(f=v[Ua],delete v[Ua]),t=(0,ki.default)({},h,t,v)}else h&&(0,gn.default)(h,function(ut,ht){b3.call(t,ht)||((0,ix.default)(ut)?t[ht]=(0,nx.default)(ut):t[ht]=h[ht])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===uu||r===bx){var m=void 0,T=void 0;if(m=t.source,T=t.target,m&&(0,un.default)(m)&&(m=n.findById(m)),T&&(0,un.default)(T)&&(T=n.findById(T)),!m||!T){console.warn("The source or target node of edge "+t.id+" does not exist!");return}m.getType&&m.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(m)),T.getType&&T.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(T)),l=new c3({model:t,source:m,target:T,styles:f,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===lu)l=new mx({model:t,styles:f,group:o.addGroup()});else if(r===fu){var B=t.children,Y=Gh(B,n);t.x=Y.x||t.x||Math.random()*100,t.y=Y.y||t.y||Math.random()*100;var Z=o.addGroup();Z.setZIndex(t.depth),l=new m3({model:t,styles:f,bbox:Y,group:Z});var j=l.getModel();(B||[]).forEach(function(ut){var ht=n.findById(ut.id);l.addChild(ht),ut.depth=j.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,un.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+wx),o=r.getModel();if(a){var s=(0,ki.default)({},o,t),l=a(s),f=(0,ki.default)({},o,l,t);l[Ua]&&(r.set("styles",f[Ua]),delete f[Ua]),(0,gn.default)(f,function(m,T){t[T]=m})}else(0,gn.default)(t,function(m,T){o[T]&&(0,ix.default)(m)&&!(0,Ei.default)(m)&&(t[T]=Qt(Qt({},o[T]),t[T]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===uu){if(t.source){var h=t.source;(0,un.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,un.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===lu||n===fu){var v=r.getEdges();(0,gn.default)(v,function(m){m.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,un.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=Gh(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,un.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,un.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,un.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,nx.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===uu){var l=e.get("v"+a+"s"),f=l.indexOf(r);f>-1&&l.splice(f,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),m=r.get("id");if(a===lu){var T=r.getModel().comboId;if(v){var B=v,Y=!1;v.forEach(function(Ft){Y||Xi(Ft,function(jt){if(jt.id===m&&B){var $t=B.indexOf(jt);return B.splice($t,1),Y=!0,!1}return B=jt.children,!0})})}for(var Z=r.getEdges(),j=Z.length-1;j>=0;j--)e.removeItem(Z[j],!1);T&&e.updateCombo(T)}else if(a===fu){var ut=r.getModel().parentId,ht,Et=!1;(v||[]).forEach(function(jt){Et||Xi(jt,function($t){return $t.id===m?(ht=$t,Et=!0,!1):!0})}),ht.removed=!0,ht&&ht.children&&ht.children.forEach(function(jt){t.removeItem(jt.id)});for(var Z=r.getEdges(),j=Z.length;j>=0;j--)e.removeItem(Z[j],!1);ut&&e.updateCombo(ut)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,un.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,un.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,un.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,un.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,un.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){ha(o,function(s){var l;return t.forEach(function(f){f.id===s.id&&(f.children=s.children,f.depth=s.depth,l=f)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,un.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===lu){var a=r.getEdges();(0,gn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===fu){var o=n.get("comboTrees"),s=r.get("id"),l=[],f=!1;(o||[]).forEach(function(c){f||!c.children||c.children.length===0||Xi(c,function(v){return v.id===s?(l=v.children,f=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,gn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),S3=w3,ca=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Bs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),Sx={registerLayout:function(r,t,e){if(e===void 0&&(e=ca),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){Ln(o,a);function o(s){var l=a.call(this)||this,f=l,h={},c=f.getDefaultCfg();return(0,Bs.default)(h,c,t,s),(0,gn.default)(h,function(v,m){f[m]=v}),l}return o}(e);Sx[r]=n}},Cx=Sx;function C3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function M3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function E3(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var A3=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,f=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,m=(v-c)/a,T={};e.forEach(function(Wt,re){T[Wt.id]=re}),t.nodeMap=T;var B=Jl(e.length,T,n);t.degrees=B,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!f?s=t.height>t.width?t.width/2:t.height/2:!l&&f?l=f:l&&!f&&(f=l);var Y=t.angleRatio,Z=m*Y;t.astep=Z;var j=t.ordering,ut=[];j==="topology"?ut=t.topologyOrdering():j==="topology-directed"?ut=t.topologyOrdering(!0):j==="degree"?ut=t.degreeOrdering():ut=e;for(var ht=t.clockwise,Et=Math.ceil(a/h),Ft=0;Ft<a;++Ft){var jt=s;!jt&&l!==null&&f!==null&&(jt=l+Ft*(f-l)/(a-1)),jt||(jt=10+Ft*100/(a-1));var $t=c+Ft%Et*Z+2*Math.PI/h*Math.floor(Ft/Et);ht||($t=v-Ft%Et*Z-2*Math.PI/h*Math.floor(Ft/Et)),ut[Ft].x=o[0]+Math.cos($t)*jt,ut[Ft].y=o[1]+Math.sin($t)*jt,ut[Ft].weight=B[Ft]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,u.clone)(o),l=e.nodeMap,f=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,C3(s,a,l,t);var m=0;return s.forEach(function(T,B){if(B!==0)if((B===v-1||n[B]!==n[B+1]||M3(f[m],T,a))&&c[B]!==!0)f.push(T),h.push(o[l[T.id]]),c[B]=!0,m++;else{for(var Y=f[m].children,Z=!1,j=0;j<Y.length;j++){var ut=l[Y[j]];if(n[ut]===n[B]&&c[ut]!==!0){f.push(s[ut]),h.push(o[l[s[ut].id]]),c[ut]=!0,Z=!0;break}}for(var ht=0;!Z&&(c[ht]||(f.push(s[ht]),h.push(o[l[s[ht].id]]),c[ht]=!0,Z=!0),ht++,ht!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(E3),n},r}(ca),T3=A3,P3=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,Ei.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function($t){s.push($t);var Wt=l;(0,Ei.default)($t.size)?Wt=Math.max($t.size[0],$t.size[1]):(0,u.isNumber)($t.size)&&(Wt=$t.size),l=Math.max(l,Wt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var f={},h={};if(s.forEach(function($t,Wt){f[$t.id]=$t,h[$t.id]=Wt}),(t.sortBy==="degree"||!(0,un.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,u.isNumber)(e[0].degree))){var c=Jl(e.length,h,n);s.forEach(function($t,Wt){$t.degree=c[Wt]})}s.sort(function($t,Wt){return Wt[t.sortBy]-$t[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],m=v[0];s.forEach(function($t){if(m.length>0){var Wt=Math.abs(m[0][t.sortBy]-$t[t.sortBy]);t.maxLevelDiff&&Wt>=t.maxLevelDiff&&(m=[],v.push(m))}m.push($t)});var T=l+t.minNodeSpacing;if(!t.preventOverlap){var B=v.length>0&&v[0].length>1,Y=Math.min(t.width,t.height)/2-T,Z=Y/(v.length+(B?1:0));T=Math.min(T,Z)}var j=0;if(v.forEach(function($t){var Wt=t.sweep;Wt===void 0&&(Wt=2*Math.PI-2*Math.PI/$t.length);var re=$t.dTheta=Wt/Math.max(1,$t.length-1);if($t.length>1&&t.preventOverlap){var ue=Math.cos(re)-Math.cos(0),oe=Math.sin(re)-Math.sin(0),Ee=Math.sqrt(T*T/(ue*ue+oe*oe));j=Math.max(Ee,j)}$t.r=j,j+=T}),t.equidistant){for(var ut=0,ht=0,Et=0;Et<v.length;Et++){var Ft=v[Et],jt=Ft.r-ht;ut=Math.max(ut,jt)}ht=0,v.forEach(function($t,Wt){Wt===0&&(ht=$t.r),$t.r=ht,ht+=ut})}v.forEach(function($t){var Wt=$t.dTheta,re=$t.r;$t.forEach(function(ue,oe){var Ee=t.startAngle+(t.clockwise?1:-1)*Wt*oe;ue.x=o[0]+re*Math.cos(Ee),ue.y=o[1]+re*Math.sin(Ee)})})}},r}(ca),L3=P3,_3=d(49772),Mx=d.n(_3),O3=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(Mx()).graphlib.Graph,l;n?(0,Ei.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(m){return m.size?(0,Ei.default)(m.size)?m.size:[m.size,m.size]:[40,40]};var f=hu(t.nodesepFunc,t.nodesep,50),h=hu(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(f=hu(t.ranksepFunc,t.ranksep,50),h=hu(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var m=l(v),T=h(v),B=f(v),Y=m[0]+2*B,Z=m[1]+2*T;s.setNode(v.id,{width:Y,height:Z})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),Mx().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var m=e.findIndex(function(T){return T.id===v});e[m].x=c.x,e[m].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var m=o.findIndex(function(T){return T.source===v.v&&T.target===v.w});t.controlPoints&&o[m].type!=="loop"&&o[m].shape!=="loop"&&(o[m].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,f={};if(s.forEach(function(B){var Y=B.comboId;f[Y]||(f[Y]={x:0,y:0,count:0}),f[Y].x+=B.x,f[Y].y+=B.y,f[Y].count++}),Object.keys(f).forEach(function(B){f[B].x/=f[B].count,f[B].y/=f[B].count}),l!==1){var h=s.sort(function(B,Y){return B.x-Y.x}),c=h[0].x,v=h[l-1].x,m=(v-c)/(l-1),T=s.sort(function(B,Y){var Z=B[t]||"undefined",j=Y[t]||"undefined";return Z<j?-1:Z>j?1:0});T.forEach(function(B,Y){B.x=c+Y*m})}})},r}(ca),I3=O3;function hu(i,r,t){var e;return i?e=i:(0,u.isNumber)(r)?e=function(){return r}:e=function(){return t},e}var Ex=d(14885),Ax=d(73388),k3=d(1719),Tx=d(76406),Px=d(77577),B3=d(83797),D3=d(26345);function F3(){function i(Ue){return function(){return Ue}}var r=function(lr){return lr.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},f=[],h=100,c=100,v={none:{x:0,y:0}},m=[],T,B="force",Y=!0,Z=.1;function j(Ue){if(!Y)return j;T.tick(),$t();for(var lr=0,xr=s.length,fr=void 0,ur=Ue*Z;lr<xr;++lr)fr=s[lr],fr.vx+=(v[r(fr)].x-fr.x)*ur,fr.vy+=(v[r(fr)].y-fr.y)*ur}function ut(){!s||ht()}function ht(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Ue=Et();T=Ax.Z(Ue.nodes).force("x",B3.Z(h).strength(.1)).force("y",D3.Z(c).strength(.1)).force("collide",Px.Z(function(lr){return lr.r}).iterations(4)).force("charge",Ex.Z().strength(e)).force("links",Tx.Z(Ue.nodes.length?Ue.links:[]).distance(n).strength(a)),m=T.nodes(),$t()}}function Et(){var Ue=[],lr=[],xr={},fr=[],ur={},wr=[];return ur=Ft(s),wr=jt(f),fr=Object.keys(ur),fr.forEach(function(Nr,vr){var Ie=ur[Nr];Ue.push({id:Nr,size:Ie.count,r:Math.sqrt(Ie.sumforceNodeSize/Math.PI)}),xr[Nr]=vr}),wr.forEach(function(Nr){var vr=xr[Nr.source],Ie=xr[Nr.target];vr!==void 0&&Ie!==void 0&&lr.push({source:vr,target:Ie,count:Nr.count})}),{nodes:Ue,links:lr}}function Ft(Ue){var lr={};return Ue.forEach(function(xr){var fr=r(xr);lr[fr]||(lr[fr]={count:0,sumforceNodeSize:0})}),Ue.forEach(function(xr){var fr=r(xr),ur=t(xr),wr=lr[fr];wr.count=wr.count+1,wr.sumforceNodeSize=wr.sumforceNodeSize+Math.PI*(ur*ur)*1.3,lr[fr]=wr}),lr}function jt(Ue){var lr={},xr=[];Ue.forEach(function(ur){var wr=Wt(ur),Nr=0;lr[wr]!==void 0&&(Nr=lr[wr]),Nr+=1,lr[wr]=Nr});var fr=Object.entries(lr);return fr.forEach(function(ur){var wr=ur[0],Nr=ur[1],vr=wr.split("~")[0],Ie=wr.split("~")[1];vr!==void 0&&Ie!==void 0&&xr.push({source:vr,target:Ie,count:Nr})}),xr}function $t(){return v={none:{x:0,y:0}},m.forEach(function(Ue){v[Ue.id]={x:Ue.x-o[0],y:Ue.y-o[1]}}),v}function Wt(Ue){var lr=r(l[Ue.source]),xr=r(l[Ue.target]);return lr<=xr?lr+"~"+xr:xr+"~"+lr}function re(Ue){l={},Ue.forEach(function(lr){l[lr.id]=lr})}function ue(Ue){return arguments.length?(B=Ue,ut(),j):B}function oe(Ue){return arguments.length?typeof Ue=="string"?(r=function(xr){return xr[Ue]},j):(r=Ue,j):r}function Ee(Ue){return arguments.length?(Y=Ue,j):Y}function _e(Ue){return arguments.length?(Z=Ue,j):Z}function Pe(Ue){return arguments.length?(h=Ue,j):h}function ze(Ue){return arguments.length?(c=Ue,j):c}function He(Ue){return arguments.length?(re(Ue||[]),s=Ue||[],j):s}function je(Ue){return arguments.length?(f=Ue||[],ut(),j):f}function Ye(Ue){return arguments.length?(typeof Ue=="function"?t=Ue:t=i(+Ue),ut(),j):t}function Ge(Ue){return arguments.length?(typeof Ue=="function"?e=Ue:e=i(+Ue),ut(),j):e}function ar(Ue){return arguments.length?(typeof Ue=="function"?n=Ue:n=i(+Ue),ut(),j):n}function nr(Ue){return arguments.length?(typeof Ue=="function"?a=Ue:a=i(+Ue),ut(),j):a}function hr(Ue){return arguments.length?(o=Ue,j):o}return j.initialize=function(Ue){s=Ue,ut()},j.template=ue,j.groupBy=oe,j.enableGrouping=Ee,j.strength=_e,j.centerX=Pe,j.centerY=ze,j.nodes=He,j.links=je,j.forceNodeSize=Ye,j.nodeSize=j.forceNodeSize,j.forceCharge=Ge,j.forceLinkDistance=ar,j.forceLinkStrength=nr,j.offset=hr,j.getFocis=$t,j}var Za={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},R3=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,f=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(f).restart(),this.ticking=!0;else try{var h=Ex.Z();if(e.nodeStrength&&h.strength(e.nodeStrength),o=Ax.Z().nodes(n),e.clustering){var c=F3();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",k3.Z(e.center[0],e.center[1])).force("charge",h).alpha(f).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=Tx.Z().id(function(B){return B.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!G3()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var m=Y3(o),T=1;T<=m;T++)o.tick(),postMessage({type:Za.TICK,currentTick:T,totalTicks:m,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(B){e.ticking=!1,console.warn(B)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,ya.default)(a)?s=function(){return a}:(0,$s.default)(a)?s=a:s=function(){return 0},!n)o=function(m){if(m.size){if((0,Ei.default)(m.size)){var T=m.size[0]>m.size[1]?m.size[0]:m.size[1];return T/2+s(m)}return m.size/2+s(m)}return 10+s(m)};else if((0,$s.default)(n))o=function(m){var T=n(m);return T+s(m)};else if((0,Ei.default)(n)){var f=n[0]>n[1]?n[0]:n[1],h=f/2;o=function(m){return h+s(m)}}else if((0,ya.default)(n)){var c=n/2;o=function(m){return c+s(m)}}else o=function(){return 10};t.force("collisionForce",Px.Z(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Bs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(ca),N3=R3;function Y3(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function G3(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var z3=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,f;t.initVals(),l&&(f=t.getClusterMap());for(var h=function(Y){var Z=[];e.forEach(function(j,ut){Z[ut]={x:0,y:0}}),t.applyCalculate(e,n,Z),l&&t.applyClusterForce(f,Z),e.forEach(function(j,ut){!(0,u.isNumber)(j.x)||!(0,u.isNumber)(j.y)||(j.x+=Z[ut].x*s,j.y+=Z[ut].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var m=[0,0];e.forEach(function(B){!(0,u.isNumber)(B.x)||!(0,u.isNumber)(B.y)||(m[0]+=B.x,m[1]+=B.y)}),m[0]/=e.length,m[1]/=e.length;var T=[o[0]-m[0],o[1]-m[1]];e.forEach(function(B,Y){!(0,u.isNumber)(B.x)||!(0,u.isNumber)(B.y)||(B.x+=T[0],B.y+=T[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,f,h;if((0,u.isNumber)(l)?h=function(){return l}:(0,u.isFunction)(l)?h=l:h=function(){return 0},!s)f=function(Et){if(Et.size){if((0,u.isArray)(Et.size)){var Ft=Et.size[0]>Et.size[1]?Et.size[0]:Et.size[1];return Ft/2+h(Et)}return Et.size/2+h(Et)}return 10+h(Et)};else if((0,u.isFunction)(s))f=function(Et){var Ft=s(Et);return Ft+h(Et)};else if((0,u.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;f=function(Et){return v+h(Et)}}else if((0,u.isNumber)(s)){var m=s/2;f=function(Et){return m+h(Et)}}else f=function(){return 10};this.nodeSize=f;var T=this.linkDistance,B;T||(T=50),(0,u.isNumber)(T)&&(B=function(Et){return T}),this.linkDistance=B;var Y=this.linkStrength,Z;Y||(Y=1),(0,u.isNumber)(Y)&&(Z=function(Et){return Y}),this.linkStrength=Z;var j=this.nodeStrength,ut;j||(j=30),(0,u.isNumber)(j)&&(ut=function(Et){return j}),this.nodeStrength=ut},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,u.isNumber)(o.x)&&(l.cx+=o.x),(0,u.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(h.y))){var v=t[h.cluster],m=h.x-v.cx,T=h.y-v.cy,B=Math.sqrt(m*m+T*T);e[c].x-=m*s*l/B,e[c].y-=T*s*l/B}});for(var f in t)t[f].cx=0,t[f].cy=0,t[f].count=0;o.forEach(function(h){var c=t[h.cluster];(0,u.isNumber)(h.x)&&(c.cx+=h.x),(0,u.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var f in t)t[f].cx/=t[f].count,t[f].cy/=t[f].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(!(l<h)){var c=s.x-f.x,v=s.y-f.y,m=c*c+v*v;m<1&&(m=Math.sqrt(m)),c===0&&(c=Math.random()*.01,m+=c*c),v===0&&(v=Math.random()*.01,m+=v*v);var T=Math.sqrt(m);o[s.id+"-"+f.id]={vx:c,vy:v,vl:m,sqrtVl:T},o[f.id+"-"+s.id]={vx:-c,vy:-v,vl:m,sqrtVl:T}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,f=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(m,T){if(v!==T&&!(!(0,u.isNumber)(c.x)||!(0,u.isNumber)(m.x)||!(0,u.isNumber)(c.y)||!(0,u.isNumber)(m.y))){var B=n[c.id+"-"+m.id],Y=B.vl,Z=B.vx,j=B.vy;if(!(Y>a)&&(e[v].x+=Z*o(m)*s/Y,e[v].y+=j*o(m)*s/Y,f&&v<T)){var ut=h(c),ht=h(m),Et=ut+ht;if(Y<Et*Et){var Ft=n[c.id+"-"+m.id].sqrtVl,jt=(Et-Ft)/Ft*l,$t=ht*ht/(ut*ut+ht*ht),Wt=Z*jt,re=j*jt;e[v].x+=Wt*$t,e[v].y+=re*$t,$t=1-$t,e[T].x-=Wt*$t,e[T].y-=re*$t}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,f=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],m=a.nodeIdxMap[h.target];if(v!==m){var T=a.nodeMap[h.source],B=a.nodeMap[h.target];if(!(!(0,u.isNumber)(B.x)||!(0,u.isNumber)(T.x)||!(0,u.isNumber)(B.y)||!(0,u.isNumber)(T.y))){var Y=n[h.target+"-"+h.source],Z=Y.vl,j=Y.sqrtVl,ut=Y.vx,ht=Y.vy,Et=(j-o(h))/j*s*l(h),Ft=ut*Et,jt=ht*Et,$t=f[c];e[m].x-=Ft*$t,e[m].y-=jt*$t,e[v].x+=Ft*(1-$t),e[v].y+=jt*(1-$t)}}}})},r}(ca),X3=z3,V3=800,H3=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,f){(0,u.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,u.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=f}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),f=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(Y){if(v[Y.cluster]===void 0){var Z={name:Y.cluster,cx:0,cy:0,count:0};v[Y.cluster]=Z}var j=v[Y.cluster];(0,u.isNumber)(Y.x)&&(j.cx+=Y.x),(0,u.isNumber)(Y.y)&&(j.cy+=Y.y),j.count++});for(var m in v)v[m].cx/=v[m].count,v[m].cy/=v[m].count}for(var T=function(Z){var j=[];if(e.forEach(function(Et,Ft){j[Ft]={x:0,y:0}}),t.applyCalculate(e,n,j,l),c){var ut=t.clusterGravity||f;e.forEach(function(Et,Ft){if(!(!(0,u.isNumber)(Et.x)||!(0,u.isNumber)(Et.y))){var jt=v[Et.cluster],$t=Math.sqrt((Et.x-jt.cx)*(Et.x-jt.cx)+(Et.y-jt.cy)*(Et.y-jt.cy)),Wt=l*ut;j[Ft].x-=Wt*(Et.x-jt.cx)/$t,j[Ft].y-=Wt*(Et.y-jt.cy)/$t}});for(var ht in v)v[ht].cx=0,v[ht].cy=0,v[ht].count=0;e.forEach(function(Et){var Ft=v[Et.cluster];(0,u.isNumber)(Et.x)&&(Ft.cx+=Et.x),(0,u.isNumber)(Et.y)&&(Ft.cy+=Et.y),Ft.count++});for(var ht in v)v[ht].cx/=v[ht].count,v[ht].cy/=v[ht].count}e.forEach(function(Et,Ft){if(!(!(0,u.isNumber)(Et.x)||!(0,u.isNumber)(Et.y))){var jt=.01*l*f;j[Ft].x-=jt*(Et.x-o[0]),j[Ft].y-=jt*(Et.y-o[1])}}),e.forEach(function(Et,Ft){if(!(!(0,u.isNumber)(Et.x)||!(0,u.isNumber)(Et.y))){var jt=Math.sqrt(j[Ft].x*j[Ft].x+j[Ft].y*j[Ft].y);if(jt>0){var $t=Math.min(s*(h/V3),jt);Et.x+=j[Ft].x/jt*$t,Et.y+=j[Ft].y/jt*$t}}})},B=0;B<a;B++)T(B)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,u.isNumber)(a.x)||!(0,u.isNumber)(s.x)||!(0,u.isNumber)(a.y)||!(0,u.isNumber)(s.y))){var f=a.x-s.x,h=a.y-s.y,c=f*f+h*h;if(c===0){c=1;var v=o>l?1:-1;f=.01*v,h=.01*v}var m=n*n/c;e[o].x+=f*m,e[o].y+=h*m}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var f=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(f.x)||!(0,u.isNumber)(h.y)||!(0,u.isNumber)(f.y))){var c=h.x-f.x,v=h.y-f.y,m=Math.sqrt(c*c+v*v),T=m*m/n;e[l].x-=c/m*T,e[l].y-=v/m*T,e[s].x+=c/m*T,e[s].y+=v/m*T}}}})},r}(ca),W3=H3,j3=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(j){s.push(j)});var l={};if(s.forEach(function(j,ut){l[j.id]=ut}),(t.sortBy==="degree"||!(0,un.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",Wa(e[0].degree))){var f=Jl(s.length,l,o);s.forEach(function(j,ut){j.degree=f[ut]})}s.sort(function(j,ut){return ut[t.sortBy]-j[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),m=t.large();(v-1)*m>=t.cells?t.small(v-1):(m-1)*v>=t.cells&&t.large(m-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),m=t.large();(m+1)*v>=t.cells?t.large(m+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(j){(!j.x||!j.y)&&(j.x=0,j.y=0);var ut,ht;(0,u.isArray)(j.size)?(ut=j.size[0],ht=j.size[1]):(0,u.isNumber)(j.size)&&(ut=j.size,ht=j.size),(ut===void 0||ht===void 0)&&((0,u.isArray)(t.nodeSize)?(ut=t.nodeSize[0],ht=t.nodeSize[1]):(0,u.isNumber)(t.nodeSize)?(ut=t.nodeSize,ht=t.nodeSize):(ut=30,ht=30));var Et=t.preventOverlapPadding,Ft=ut+Et,jt=ht+Et;t.cellWidth=Math.max(t.cellWidth,Ft),t.cellHeight=Math.max(t.cellHeight,jt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var T=0;T<s.length;T++){var B=s[T],Y=void 0;if(t.position&&(Y=t.position(B)),Y&&(Y.row!==void 0||Y.col!==void 0)){var Z={row:Y.row,col:Y.col};if(Z.col===void 0)for(Z.col=0;t.used(Z.row,Z.col);)Z.col++;else if(Z.row===void 0)for(Z.row=0;t.used(Z.row,Z.col);)Z.row++;t.id2manPos[B.id]=Z,t.use(Z.row,Z.col)}t.getPos(B)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,f=e.id2manPos[t.id];if(f)s=f.col*a+a/2+n[0],l=f.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(ca),U3=j3,Z3=d(40670),Lx=d(81306),_x=d(59206),cu=d(69610),vu=d(54941);const K3=Object.prototype.toString;function du(i){return K3.call(i).endsWith("Array]")}function $3(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!du(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}var Q3=$3;function J3(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!du(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}var q3=J3;function Ox(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(du(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!du(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=q3(i),n=Q3(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var f=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*f+o;return t}var pu=" ".repeat(2),Ix=" ".repeat(4);function tN(){return kx(this)}function kx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o;return"".concat(i.constructor.name,` {
`).concat(pu,`[
`).concat(Ix).concat(eN(i,e,a,s),`
`).concat(pu,`]
`).concat(pu,"rows: ").concat(i.rows,`
`).concat(pu,"columns: ").concat(i.columns,`
}`)}function eN(i,r,t,e){for(var n=i.rows,a=i.columns,o=Math.min(n,r),s=Math.min(a,t),l=[],f=0;f<o;f++){for(var h=[],c=0;c<s;c++)h.push(rN(i.get(f,c),e));l.push("".concat(h.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-t," more columns")),o!==n&&l.push("... ".concat(n-r," more rows")),l.join(`
`.concat(Ix))}function rN(i,r){var t=String(i);if(t.length<=r)return t.padEnd(r," ");var e=i.toPrecision(r-2);if(e.length<=r)return e;var n=i.toExponential(r-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,r-o.length)+o}function nN(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function xa(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function ba(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function $o(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Qo(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function iN(i,r,t){return{row:aN(i,r),column:oN(i,t)}}function aN(i,r){if(typeof r!="object")throw new TypeError("unexpected type for row indices");var t=r.some(function(e){return e<0||e>=i.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function oN(i,r){if(typeof r!="object")throw new TypeError("unexpected type for column indices");var t=r.some(function(e){return e<0||e>=i.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function Bx(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(yu("startRow",r),yu("endRow",t),yu("startColumn",e),yu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function gu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function yu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function Jo(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function sN(i){for(var r=gu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function lN(i){for(var r=gu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function uN(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function fN(i){for(var r=gu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function hN(i){for(var r=gu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function cN(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function vN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,f=0,h=0;h<n;h++)f=i.get(o,h)-t[o],s+=f,l+=f*f;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function dN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,f=0,h=0;h<e;h++)f=i.get(h,o)-t[o],s+=f,l+=f*f;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function pN(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,f=0;f<e;f++)for(var h=0;h<n;h++)l=i.get(f,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function gN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function yN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function mN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function xN(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function bN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function wN(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function SN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function CN(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function MN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var pi=function(){function i(){(0,cu.Z)(this,i)}return(0,vu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var f=e+1;f<t.rows;f++){var h=t.get(f,n)/t.get(e,n);t.set(f,n,0);for(var c=n+1;c<t.columns;c++)t.set(f,c,t.get(f,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var f=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-f*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new Gr(this.rows*n,this.columns*o),l=0;l<n;l++)for(var f=0;f<o;f++)s.setSubMatrix(this,this.rows*l,this.columns*f);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){xa(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return Gr.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){xa(this,t),e=$o(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){xa(this,t),xa(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){ba(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return Gr.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){ba(this,t),e=Qo(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){ba(this,t),ba(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=$o(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=$o(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=$o(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=$o(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){xa(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){ba(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxIndex",value:function(){Jo(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minIndex",value:function(){Jo(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(xa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){xa(this,t),Jo(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(xa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){xa(this,t),Jo(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(ba(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){ba(this,t),Jo(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(ba(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){ba(this,t),Jo(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=Gr.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new Gr(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var f=0;f<n;f++)s[f]=t.get(f,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=Gr.checkMatrix(t);var e=new Gr(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),f=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),m=(l+h)*a,T=n*(s-c),B=h*(f-a),Y=(n+o)*c,Z=(l-n)*(a+s),j=(o-h)*(f+c),ut=v+B-Y+j,ht=T+Y,Et=m+B,Ft=v-m+T+Z;return e.set(0,0,ut),e.set(0,1,ht),e.set(1,0,Et),e.set(1,1,Ft),e}},{key:"strassen3x3",value:function(t){t=Gr.checkMatrix(t);var e=new Gr(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),f=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),m=t.get(0,0),T=t.get(0,1),B=t.get(0,2),Y=t.get(1,0),Z=t.get(1,1),j=t.get(1,2),ut=t.get(2,0),ht=t.get(2,1),Et=t.get(2,2),Ft=(n+a+o-s-l-c-v)*Z,jt=(n-s)*(-T+Z),$t=l*(-m+T+Y-Z-j-ut+Et),Wt=(-n+s+l)*(m-T+Z),re=(s+l)*(-m+T),ue=n*m,oe=(-n+h+c)*(m-B+j),Ee=(-n+h)*(B-j),_e=(h+c)*(-m+B),Pe=(n+a+o-l-f-h-c)*j,ze=c*(-m+B+Y-Z-j-ut+ht),He=(-o+c+v)*(Z+ut-ht),je=(o-v)*(Z-ht),Ye=o*ut,Ge=(c+v)*(-ut+ht),ar=(-o+l+f)*(j+ut-Et),nr=(o-f)*(j-Et),hr=(l+f)*(-ut+Et),Ue=a*Y,lr=f*ht,xr=s*B,fr=h*T,ur=v*Et,wr=ue+Ye+Ue,Nr=Ft+Wt+re+ue+He+Ye+Ge,vr=ue+oe+_e+Pe+Ye+ar+hr,Ie=jt+$t+Wt+ue+Ye+ar+nr,Ke=jt+Wt+re+ue+lr,Sr=Ye+ar+nr+hr+xr,kr=ue+oe+Ee+ze+He+je+Ye,yr=He+je+Ye+Ge+fr,zr=ue+oe+Ee+_e+ur;return e.set(0,0,wr),e.set(0,1,Nr),e.set(0,2,vr),e.set(1,0,Ie),e.set(1,1,Ke),e.set(1,2,Sr),e.set(2,0,kr),e.set(2,1,yr),e.set(2,2,zr),e}},{key:"mmulStrassen",value:function(t){t=Gr.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,m,T){var B=v.rows,Y=v.columns;if(B===m&&Y===T)return v;var Z=i.zeros(m,T);return Z=Z.setSubMatrix(v,0,0),Z}var f=Math.max(n,o),h=Math.max(a,s);e=l(e,f,h),t=l(t,f,h);function c(v,m,T,B){if(T<=512||B<=512)return v.mmul(m);T%2==1&&B%2==1?(v=l(v,T+1,B+1),m=l(m,T+1,B+1)):T%2==1?(v=l(v,T+1,B),m=l(m,T+1,B)):B%2==1&&(v=l(v,T,B+1),m=l(m,T,B+1));var Y=parseInt(v.rows/2,10),Z=parseInt(v.columns/2,10),j=v.subMatrix(0,Y-1,0,Z-1),ut=m.subMatrix(0,Y-1,0,Z-1),ht=v.subMatrix(0,Y-1,Z,v.columns-1),Et=m.subMatrix(0,Y-1,Z,m.columns-1),Ft=v.subMatrix(Y,v.rows-1,0,Z-1),jt=m.subMatrix(Y,m.rows-1,0,Z-1),$t=v.subMatrix(Y,v.rows-1,Z,v.columns-1),Wt=m.subMatrix(Y,m.rows-1,Z,m.columns-1),re=c(i.add(j,$t),i.add(ut,Wt),Y,Z),ue=c(i.add(Ft,$t),ut,Y,Z),oe=c(j,i.sub(Et,Wt),Y,Z),Ee=c($t,i.sub(jt,ut),Y,Z),_e=c(i.add(j,ht),Wt,Y,Z),Pe=c(i.sub(Ft,j),i.add(ut,Et),Y,Z),ze=c(i.sub(ht,$t),i.add(jt,Wt),Y,Z),He=i.add(re,Ee);He.sub(_e),He.add(ze);var je=i.add(oe,_e),Ye=i.add(ue,Ee),Ge=i.sub(re,ue);Ge.add(oe),Ge.add(Pe);var ar=i.zeros(2*He.rows,2*He.columns);return ar=ar.setSubMatrix(He,0,0),ar=ar.setSubMatrix(je,He.rows,0),ar=ar.setSubMatrix(Ye,0,He.columns),ar=ar.setSubMatrix(Ge,He.rows,He.columns),ar.subMatrix(0,T-1,0,B-1)}return c(e,t,f,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Gr(this.rows,this.columns),l=0;l<this.rows;l++){var f=this.getRow(l);f.length>0&&Ox(f,{min:n,max:o,output:f}),s.setRow(l,f)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Gr(this.rows,this.columns),l=0;l<this.columns;l++){var f=this.getColumn(l);f.length&&Ox(f,{min:n,max:o,output:f}),s.setColumn(l,f)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=Gr.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new Gr(e*a,n*o),l=0;l<e;l++)for(var f=0;f<n;f++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*f+c,this.get(l,f)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=Gr.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(Gr.eye(n,n)),o=Gr.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new Gr(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dx,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dx,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){Bx(this,t,e,n,a);for(var o=new Gr(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new Gr(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new Gr(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=Gr.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;Bx(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){for(var n=iN(this,t,e),a=new Gr(t.length,e.length),o=0;o<n.row.length;o++)for(var s=n.row[o],l=0;l<n.column.length;l++){var f=n.column[l];a.set(o,l,this.get(s,f))}return a}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new Gr(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return sN(this);case"column":return lN(this);case void 0:return uN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return fN(this);case"column":return hN(this);case void 0:return cN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(l))throw new TypeError("mean must be an array");return vN(this,o,l)}case"column":{if(!Array.isArray(l))throw new TypeError("mean must be an array");return dN(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return pN(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!Array.isArray(o))throw new TypeError("center must be an array");return gN(this,o),this}case"column":{if(!Array.isArray(o))throw new TypeError("center must be an array");return yN(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return mN(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=xN(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return bN(this,n),this}case"column":{if(n===void 0)n=wN(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return SN(this,n),this}case void 0:{if(n===void 0)n=CN(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return MN(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return kx(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new Gr(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new Gr(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new Gr(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new Gr(t,e)}},{key:"ones",value:function(t,e){return new Gr(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new Gr(t,e),l=0;l<t;l++)for(var f=0;f<e;f++)s.set(l,f,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,f=n.random,h=f===void 0?Math.random:f;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new Gr(t,e),m=0;m<t;m++)for(var T=0;T<e;T++){var B=o+Math.round(h()*c);v.set(m,T,B)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new Gr(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new Gr(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();pi.prototype.klass="Matrix",typeof Symbol!="undefined"&&(pi.prototype[Symbol.for("nodejs.util.inspect.custom")]=tN);function Dx(i,r){return i-r}pi.random=pi.rand,pi.randomInt=pi.randInt,pi.diagonal=pi.diag,pi.prototype.diagonal=pi.prototype.diag,pi.identity=pi.eye,pi.prototype.negate=pi.prototype.neg,pi.prototype.tensorProduct=pi.prototype.kroneckerProduct;var Gr=function(i){(0,Lx.Z)(t,i);var r=(0,_x.Z)(t);function t(e,n){var a;if((0,cu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,Z3.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,vu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return xa(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),xa(this,n,!0),a=Float64Array.from($o(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){ba(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),ba(this,n,!0),a=Qo(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(pi);nN(pi,Gr);var EN=function(i){(0,Lx.Z)(t,i);var r=(0,_x.Z)(t);function t(e){var n;return(0,cu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,vu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(pi);function qo(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var Fx=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,cu.Z)(this,i),r=EN.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,f=t.autoTranspose,h=f===void 0?!1:f,c=Boolean(o),v=Boolean(l),m=!1,T;if(e<n)if(!h)T=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{T=r.transpose(),e=T.rows,n=T.columns,m=!0;var B=c;c=v,v=B}else T=r.clone();for(var Y=Math.min(e,n),Z=Math.min(e+1,n),j=new Float64Array(Z),ut=new Gr(e,Y),ht=new Gr(n,n),Et=new Float64Array(n),Ft=new Float64Array(e),jt=new Float64Array(Z),$t=0;$t<Z;$t++)jt[$t]=$t;for(var Wt=Math.min(e-1,n),re=Math.max(0,Math.min(n-2,e)),ue=Math.max(Wt,re),oe=0;oe<ue;oe++){if(oe<Wt){j[oe]=0;for(var Ee=oe;Ee<e;Ee++)j[oe]=qo(j[oe],T.get(Ee,oe));if(j[oe]!==0){T.get(oe,oe)<0&&(j[oe]=-j[oe]);for(var _e=oe;_e<e;_e++)T.set(_e,oe,T.get(_e,oe)/j[oe]);T.set(oe,oe,T.get(oe,oe)+1)}j[oe]=-j[oe]}for(var Pe=oe+1;Pe<n;Pe++){if(oe<Wt&&j[oe]!==0){for(var ze=0,He=oe;He<e;He++)ze+=T.get(He,oe)*T.get(He,Pe);ze=-ze/T.get(oe,oe);for(var je=oe;je<e;je++)T.set(je,Pe,T.get(je,Pe)+ze*T.get(je,oe))}Et[Pe]=T.get(oe,Pe)}if(c&&oe<Wt)for(var Ye=oe;Ye<e;Ye++)ut.set(Ye,oe,T.get(Ye,oe));if(oe<re){Et[oe]=0;for(var Ge=oe+1;Ge<n;Ge++)Et[oe]=qo(Et[oe],Et[Ge]);if(Et[oe]!==0){Et[oe+1]<0&&(Et[oe]=0-Et[oe]);for(var ar=oe+1;ar<n;ar++)Et[ar]/=Et[oe];Et[oe+1]+=1}if(Et[oe]=-Et[oe],oe+1<e&&Et[oe]!==0){for(var nr=oe+1;nr<e;nr++)Ft[nr]=0;for(var hr=oe+1;hr<e;hr++)for(var Ue=oe+1;Ue<n;Ue++)Ft[hr]+=Et[Ue]*T.get(hr,Ue);for(var lr=oe+1;lr<n;lr++)for(var xr=-Et[lr]/Et[oe+1],fr=oe+1;fr<e;fr++)T.set(fr,lr,T.get(fr,lr)+xr*Ft[fr])}if(v)for(var ur=oe+1;ur<n;ur++)ht.set(ur,oe,Et[ur])}}var wr=Math.min(n,e+1);if(Wt<n&&(j[Wt]=T.get(Wt,Wt)),e<wr&&(j[wr-1]=0),re+1<wr&&(Et[re]=T.get(re,wr-1)),Et[wr-1]=0,c){for(var Nr=Wt;Nr<Y;Nr++){for(var vr=0;vr<e;vr++)ut.set(vr,Nr,0);ut.set(Nr,Nr,1)}for(var Ie=Wt-1;Ie>=0;Ie--)if(j[Ie]!==0){for(var Ke=Ie+1;Ke<Y;Ke++){for(var Sr=0,kr=Ie;kr<e;kr++)Sr+=ut.get(kr,Ie)*ut.get(kr,Ke);Sr=-Sr/ut.get(Ie,Ie);for(var yr=Ie;yr<e;yr++)ut.set(yr,Ke,ut.get(yr,Ke)+Sr*ut.get(yr,Ie))}for(var zr=Ie;zr<e;zr++)ut.set(zr,Ie,-ut.get(zr,Ie));ut.set(Ie,Ie,1+ut.get(Ie,Ie));for(var Fr=0;Fr<Ie-1;Fr++)ut.set(Fr,Ie,0)}else{for(var Tr=0;Tr<e;Tr++)ut.set(Tr,Ie,0);ut.set(Ie,Ie,1)}}if(v)for(var Xr=n-1;Xr>=0;Xr--){if(Xr<re&&Et[Xr]!==0)for(var tn=Xr+1;tn<n;tn++){for(var An=0,hn=Xr+1;hn<n;hn++)An+=ht.get(hn,Xr)*ht.get(hn,tn);An=-An/ht.get(Xr+1,Xr);for(var kn=Xr+1;kn<n;kn++)ht.set(kn,tn,ht.get(kn,tn)+An*ht.get(kn,Xr))}for(var Gn=0;Gn<n;Gn++)ht.set(Gn,Xr,0);ht.set(Xr,Xr,1)}for(var Li=wr-1,Di=0,ti=Number.EPSILON;wr>0;){var br=void 0,Bn=void 0;for(br=wr-2;br>=-1&&br!==-1;br--){var gi=Number.MIN_VALUE+ti*Math.abs(j[br]+Math.abs(j[br+1]));if(Math.abs(Et[br])<=gi||Number.isNaN(Et[br])){Et[br]=0;break}}if(br===wr-2)Bn=4;else{var oi=void 0;for(oi=wr-1;oi>=br&&oi!==br;oi--){var Fa=(oi!==wr?Math.abs(Et[oi]):0)+(oi!==br+1?Math.abs(Et[oi-1]):0);if(Math.abs(j[oi])<=ti*Fa){j[oi]=0;break}}oi===br?Bn=3:oi===wr-1?Bn=1:(Bn=2,br=oi)}switch(br++,Bn){case 1:{var yi=Et[wr-2];Et[wr-2]=0;for(var vn=wr-2;vn>=br;vn--){var ln=qo(j[vn],yi),Tn=j[vn]/ln,In=yi/ln;if(j[vn]=ln,vn!==br&&(yi=-In*Et[vn-1],Et[vn-1]=Tn*Et[vn-1]),v)for(var Fi=0;Fi<n;Fi++)ln=Tn*ht.get(Fi,vn)+In*ht.get(Fi,wr-1),ht.set(Fi,wr-1,-In*ht.get(Fi,vn)+Tn*ht.get(Fi,wr-1)),ht.set(Fi,vn,ln)}break}case 2:{var To=Et[br-1];Et[br-1]=0;for(var wa=br;wa<wr;wa++){var Gs=qo(j[wa],To),oc=j[wa]/Gs,sc=To/Gs;if(j[wa]=Gs,To=-sc*Et[wa],Et[wa]=oc*Et[wa],c)for(var so=0;so<e;so++)Gs=oc*ut.get(so,wa)+sc*ut.get(so,br-1),ut.set(so,br-1,-sc*ut.get(so,wa)+oc*ut.get(so,br-1)),ut.set(so,wa,Gs)}break}case 3:{var zs=Math.max(Math.abs(j[wr-1]),Math.abs(j[wr-2]),Math.abs(Et[wr-2]),Math.abs(j[br]),Math.abs(Et[br])),es=j[wr-1]/zs,k1=j[wr-2]/zs,Fu=Et[wr-2]/zs,lc=j[br]/zs,b9=Et[br]/zs,Po=((k1+es)*(k1-es)+Fu*Fu)/2,Ru=es*Fu*(es*Fu),Xs=0;(Po!==0||Ru!==0)&&(Po<0?Xs=0-Math.sqrt(Po*Po+Ru):Xs=Math.sqrt(Po*Po+Ru),Xs=Ru/(Po+Xs));for(var Lo=(lc+es)*(lc-es)+Xs,rs=lc*b9,dn=br;dn<wr-1;dn++){var Zi=qo(Lo,rs);Zi===0&&(Zi=Number.MIN_VALUE);var Sa=Lo/Zi,Ca=rs/Zi;if(dn!==br&&(Et[dn-1]=Zi),Lo=Sa*j[dn]+Ca*Et[dn],Et[dn]=Sa*Et[dn]-Ca*j[dn],rs=Ca*j[dn+1],j[dn+1]=Sa*j[dn+1],v)for(var lo=0;lo<n;lo++)Zi=Sa*ht.get(lo,dn)+Ca*ht.get(lo,dn+1),ht.set(lo,dn+1,-Ca*ht.get(lo,dn)+Sa*ht.get(lo,dn+1)),ht.set(lo,dn,Zi);if(Zi=qo(Lo,rs),Zi===0&&(Zi=Number.MIN_VALUE),Sa=Lo/Zi,Ca=rs/Zi,j[dn]=Zi,Lo=Sa*Et[dn]+Ca*j[dn+1],j[dn+1]=-Ca*Et[dn]+Sa*j[dn+1],rs=Ca*Et[dn+1],Et[dn+1]=Sa*Et[dn+1],c&&dn<e-1)for(var uo=0;uo<e;uo++)Zi=Sa*ut.get(uo,dn)+Ca*ut.get(uo,dn+1),ut.set(uo,dn+1,-Ca*ut.get(uo,dn)+Sa*ut.get(uo,dn+1)),ut.set(uo,dn,Zi)}Et[wr-2]=Lo,Di=Di+1;break}case 4:{if(j[br]<=0&&(j[br]=j[br]<0?-j[br]:0,v))for(var Nu=0;Nu<=Li;Nu++)ht.set(Nu,br,-ht.get(Nu,br));for(;br<Li&&!(j[br]>=j[br+1]);){var Vs=j[br];if(j[br]=j[br+1],j[br+1]=Vs,v&&br<n-1)for(var ns=0;ns<n;ns++)Vs=ht.get(ns,br+1),ht.set(ns,br+1,ht.get(ns,br)),ht.set(ns,br,Vs);if(c&&br<e-1)for(var is=0;is<e;is++)Vs=ut.get(is,br+1),ut.set(is,br+1,ut.get(is,br)),ut.set(is,br,Vs);br++}Di=0,wr--;break}}}if(m){var w9=ht;ht=ut,ut=w9}this.m=e,this.n=n,this.s=j,this.U=ut,this.V=ht}return(0,vu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=Gr.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,f=this.rightSingularVectors,h=f.mmul(o),c=f.rows,v=l.rows,m=Gr.zeros(c,v),T=0;T<c;T++)for(var B=0;B<v;B++){for(var Y=0,Z=0;Z<a;Z++)Y+=h.get(T,Z)*l.get(B,Z);m.set(T,B,Y)}return m.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(Gr.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new Gr(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var f=this.U,h=f.rows,c=f.columns,v=new Gr(n,h),m=0;m<n;m++)for(var T=0;T<h;T++){for(var B=0,Y=0;Y<c;Y++)B+=o.get(m,Y)*f.get(T,Y);v.set(m,T,B)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Gr.diag(this.s)}}]),i}(),AN=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=_h({nodes:e,edges:a},!1),f=Lh(l);t.handleInfinity(f);var h=Fm(f,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,m){e[m].x=v[0]+o[0],e[m].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=Gr.mul(Gr.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new Fx(a),h=Gr.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(c){return Gr.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(ca),TN=AN,PN=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=Gr.mul(Gr.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new Fx(a),h=Gr.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(B){return Gr.mul([B],[h]).toJSON()[0].splice(0,t)})}catch(B){for(var c=[],v=0;v<e.length;v++){var m=Math.random()*n,T=Math.random()*n;c.push([m,T])}return c}},i}(),LN=PN,_N=800,ON=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(l!==h&&o[l]===o[h]){var c=s[0]-f[0],v=s[1]-f[1],m=Math.sqrt(c*c+v*v);if(m===0){m=1;var T=l>h?1:-1;c=.01*T,v=.01*T}if(m<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var B=a*a/m;n[l].x+=c/m*B,n[l].y+=v/m*B}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(f,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],m=Math.sqrt(c*c+v*v),T=v/m,B=-c/m,Y=Math.sqrt(f.x*f.x+f.y*f.y),Z=Math.acos((T*f.x+B*f.y)/Y);Z>Math.PI/2&&(Z-=Math.PI/2,T*=-1,B*=-1);var j=Math.cos(Z)*Y;f.x=T*j,f.y=B*j});var l=r.radii;t.forEach(function(f,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/_N),c);if(f[0]+=e[h].x/c*v,f[1]+=e[h].y/c*v,a){var m=f[0]-t[o][0],T=f[1]-t[o][1],B=Math.sqrt(m*m+T*T);m=m/B*l[h],T=T/B*l[h],f[0]=t[o][0]+m,f[1]=t[o][1]+T}}}})},i}(),IN=ON;function kN(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function BN(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function Rx(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var DN=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,un.default)(t.focusNode)){for(var l=!1,f=0;f<e.length;f++)e[f].id===t.focusNode&&(s=e[f],t.focusNode=s,l=!0,f=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=BN(e,s.id);t.focusIndex=h;var c=_h({nodes:e,edges:n},!1),v=Lh(c),m=t.maxToFocus(v,h);t.handleInfinity(v,h,m+1),t.distances=v;var T=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var B=t.width||500,Y=t.height||500,Z=B-a[0]>a[0]?a[0]:B-a[0],j=Y-a[1]>a[1]?a[1]:Y-a[1];Z===0&&(Z=B/2),j===0&&(j=Y/2);var ut=j>Z?Z:j,ht=Math.max.apply(Math,T),Et=[];T.forEach(function(je,Ye){t.unitRadius||(t.unitRadius=ut/ht),Et[Ye]=je*t.unitRadius}),t.radii=Et;var Ft=t.eIdealDisMatrix();t.eIdealDistances=Ft;var jt=kN(Ft);t.weights=jt;var $t=new LN({distances:Ft,linkDistance:o}),Wt=$t.layout();Wt.forEach(function(je){Wa(je[0])&&(je[0]=Math.random()*o),Wa(je[1])&&(je[1]=Math.random()*o)}),t.positions=Wt,Wt.forEach(function(je,Ye){e[Ye].x=je[0]+a[0],e[Ye].y=je[1]+a[1]}),Wt.forEach(function(je){je[0]-=Wt[h][0],je[1]-=Wt[h][1]}),t.run();var re=t.preventOverlap,ue=t.nodeSize,oe,Ee=t.strictRadial;if(re){var _e=t.nodeSpacing,Pe;(0,ya.default)(_e)?Pe=function(){return _e}:(0,$s.default)(_e)?Pe=_e:Pe=function(){return 0},ue?(0,Ei.default)(ue)?oe=function(Ye){var Ge=ue[0]>ue[1]?ue[0]:ue[1];return Ge+Pe(Ye)}:oe=function(Ye){return ue+Pe(Ye)}:oe=function(Ye){if(Ye.size){if((0,Ei.default)(Ye.size)){var Ge=Ye.size[0]>Ye.size[1]?Ye.size[0]:Ye.size[1];return Ge+Pe(Ye)}return Ye.size+Pe(Ye)}return 10+Pe(Ye)};var ze={nodeSizeFunc:oe,adjMatrix:c,positions:Wt,radii:Et,height:Y,width:B,strictRadial:Ee,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Wt.length/4.5,nodes:e},He=new IN(ze);Wt=He.layout()}Wt.forEach(function(je,Ye){e[Ye].x=je[0]+a[0],e[Ye].y=je[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var f=l/e;t.oneIteration(f,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,f=s.focusIndex;e.forEach(function(h,c){var v=Rx(h,[0,0]),m=v===0?0:1/v;if(c!==f){var T=0,B=0,Y=0;e.forEach(function(j,ut){if(c!==ut){var ht=Rx(h,j),Et=ht===0?0:1/ht,Ft=a[ut][c];Y+=o[c][ut],T+=o[c][ut]*(j[0]+Ft*(h[0]-j[0])*Et),B+=o[c][ut]*(j[1]+Ft*(h[1]-j[1])*Et)}});var Z=n[c]===0?0:1/n[c];Y*=l,Y+=t*Z*Z,T*=l,T+=t*Z*h[0]*m,h[0]=T/Y,B*=l,B+=t*Z*h[1]*m,h[1]=B/Y}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(f,h){var c=[];f.forEach(function(v,m){if(h===m)c.push(0);else if(o[h]===o[m])if(t.sortBy==="data")c.push(v*(Math.abs(h-m)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var T=e[h][t.sortBy]||0,B=e[m][t.sortBy]||0;(0,un.default)(T)&&(T=T.charCodeAt(0)),(0,un.default)(B)&&(B=B.charCodeAt(0)),c.push(v*(Math.abs(T-B)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var Y=(a+s)/2;c.push(v*Y)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(ca),FN=DN,RN=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(ca),NN=RN,YN=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(m){var T=[];e.forEach(function(B,Y){T[Y]={x:0,y:0}}),t.applyCalculate(T),t.applyComboCenterForce(T),e.forEach(function(B,Y){!(0,u.isNumber)(B.x)||!(0,u.isNumber)(B.y)||(B.x+=T[Y].x*o,B.y+=T[Y].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},f=0;f<n;f++)l(f);var h=[0,0];e.forEach(function(v){!(0,u.isNumber)(v.x)||!(0,u.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,m){!(0,u.isNumber)(v.x)||!(0,u.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var m=s[v.id];m&&m.empty&&(v.x=m.cx||v.x,v.y=m.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Pe,ze){s[Pe.id]=Pe,l[Pe.id]=ze}),t.nodeMap=s,t.nodeIdxMap=l;var f={};a.forEach(function(Pe){f[Pe.id]=Pe}),t.oriComboMap=f,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var m=[],v=0;v<e.length;++v)m[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=m;var T=t.nodeSize,B=t.nodeSpacing,Y,Z;if((0,u.isNumber)(B)?Z=function(){return B}:(0,u.isFunction)(B)?Z=B:Z=function(){return 0},this.nodeSpacing=Z,!T)Y=function(ze){if(ze.size){if((0,u.isArray)(ze.size)){var He=ze.size[0]>ze.size[1]?ze.size[0]:ze.size[1];return He/2}return ze.size/2}return 10};else if((0,u.isFunction)(T))Y=function(ze){return T(ze)};else if((0,u.isArray)(T)){var j=T[0]>T[1]?T[0]:T[1],ut=j/2;Y=function(ze){return ut}}else{var ht=T/2;Y=function(ze){return ht}}this.nodeSize=Y;var Et=t.comboSpacing,Ft;(0,u.isNumber)(Et)?Ft=function(){return Et}:(0,u.isFunction)(Et)?Ft=Et:Ft=function(){return 0},this.comboSpacing=Ft;var jt=t.comboPadding,$t;(0,u.isNumber)(jt)?$t=function(){return jt}:(0,u.isArray)(jt)?$t=function(){return Math.max.apply(null,jt)}:(0,u.isFunction)(jt)?$t=jt:$t=function(){return 0},this.comboPadding=$t;var Wt=this.linkDistance,re;Wt||(Wt=10),(0,u.isNumber)(Wt)?re=function(ze){return Wt}:re=Wt,this.linkDistance=re;var ue=this.edgeStrength,oe;ue||(ue=1),(0,u.isNumber)(ue)?oe=function(ze){return ue}:oe=ue,this.edgeStrength=oe;var Ee=this.nodeStrength,_e;Ee||(Ee=30),(0,u.isNumber)(Ee)?_e=function(ze){return Ee}:_e=Ee,this.nodeStrength=_e},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var f=[];ha(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(j){if(!s[j.id]&&!e[j.id])return!0;f.push(j)});var m=s[h.id];if(m.cx=0,m.cy=0,f.length===0){m.empty=!0;var T=o[h.id],B=Object.keys(e).length,Y=h.id+"-visual-child-"+B,Z={id:Y,x:T.x,y:T.y,depth:m.depth+1,itemType:"node"};t.nodes.push(Z),e[Y]=Z,n[Y]=B,m.cx=T.x,m.cy=T.y,f.push(Z)}return f.forEach(function(j){if(m.count++,j.itemType!=="node"){var ut=s[j.id];(0,u.isNumber)(ut.cx)&&(m.cx+=ut.cx),(0,u.isNumber)(ut.cy)&&(m.cy+=ut.cy);return}var ht=e[j.id];!ht||((0,u.isNumber)(ht.x)&&(m.cx+=ht.x),(0,u.isNumber)(ht.y)&&(m.cy+=ht.y))}),m.cx/=m.count,m.cy/=m.count,m.children=f,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,f=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){ha(c,function(v){if(v.itemType==="node")return!0;var m=h[v.id];if(!m)return!0;var T=h[v.id],B=(T.depth+1)*.5,Y=T.cx,Z=T.cy;return T.cx=0,T.cy=0,T.children.forEach(function(j){if(j.itemType!=="node"){var ut=h[j.id];ut&&(0,u.isNumber)(ut.cx)&&(T.cx+=ut.cx),ut&&(0,u.isNumber)(ut.cy)&&(T.cy+=ut.cy);return}var ht=f[j.id],Et=ht.x-Y||.005,Ft=ht.y-Z||.005,jt=Math.sqrt(Et*Et+Ft*Ft),$t=l[ht.id],Wt=a*o/jt*B;t[$t].x-=Et*Wt,t[$t].y-=Ft*Wt,(0,u.isNumber)(ht.x)&&(T.cx+=ht.x),(0,u.isNumber)(ht.y)&&(T.cy+=ht.y)}),T.cx/=T.count,T.cy/=T.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,f){a.forEach(function(h,c){if(!(f<c)){var v=l.x-h.x||.005,m=l.y-h.y||.005,T=v*v+m*m,B=Math.sqrt(T);T<1&&(T=B),o[l.id+"-"+h.id]={vx:v,vy:m,vl2:T,vl:B},o[h.id+"-"+l.id]={vx:-v,vy:-m,vl2:T,vl:B}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(f){var h=[];ha(f,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var m=c.children;m&&m.forEach(function(Y){!t[Y.id]&&!a[Y.id]||h.push(Y)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(Y){if(Y.itemType!=="node")return!0;var Z=a[Y.id];if(!Z)return!0;var j=o(Z),ut=Z.x-j,ht=Z.y-j,Et=Z.x+j,Ft=Z.y+j;v.minX>ut&&(v.minX=ut),v.minY>ht&&(v.minY=ht),v.maxX<Et&&(v.maxX=Et),v.maxY<Ft&&(v.maxY=Ft)});var T=e.oriComboMap[c.id].size||Ne.defaultCombo.size;(0,u.isArray)(T)&&(T=T[0]);var B=Math.max(v.maxX-v.minX,v.maxY-v.minY,T);return v.r=B/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;ha(a,function(f){if(!(!e[f.id]&&!l[f.id]&&f.id!=="comboTreeRoot")){var h=f.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var m=e[c.id];!m||h.forEach(function(T,B){if(!(v<=B)&&T.itemType!=="node"){var Y=e[T.id];if(!!Y){var Z=m.cx-Y.cx||.005,j=m.cy-Y.cy||.005,ut=Z*Z+j*j,ht=m.r,Et=Y.r,Ft=ht+Et,jt=Et*Et,$t=ht*ht;if(ut<Ft*Ft){var Wt=c.children;if(!Wt||Wt.length===0)return;var re=T.children;if(!re||re.length===0)return;var ue=Math.sqrt(ut),oe=(Ft-ue)/ue*o,Ee=Z*oe,_e=j*oe,Pe=jt/($t+jt),ze=1-Pe;Wt.forEach(function(He){if(He.itemType==="node"&&!!l[He.id]){var je=s[He.id];re.forEach(function(Ye){if(Ye.itemType==="node"&&!!l[Ye.id]){var Ge=s[Ye.id];t[je].x+=Ee*Pe,t[je].y+=_e*Pe,t[Ge].x-=Ee*ze,t[Ge].y-=_e*ze}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,f=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,m=n.depthRepulsiveForceScale,T=n.center;a.forEach(function(B,Y){if(!(!B.x||!B.y)){if(T){var Z=n.gravity,j=B.x-T[0]||.005,ut=B.y-T[1]||.005,ht=Math.sqrt(j*j+ut*ut);t[Y].x-=j*Z*l/ht,t[Y].y-=ut*Z*l/ht}a.forEach(function(Et,Ft){if(Y!==Ft&&!(!Et.x||!Et.y)){var jt=e[B.id+"-"+Et.id],$t=jt.vl2,Wt=jt.vl;if(!(Wt>o)){var re=e[B.id+"-"+Et.id],ue=re.vx,oe=re.vy,Ee=Math.abs(Et.depth-B.depth)+1||1;Et.comboId!==B.comboId&&Ee++;var _e=Ee?Math.pow(m,Ee):1,Pe=s(Et)*l/$t*_e;if(t[Y].x+=ue*Pe,t[Y].y+=oe*Pe,Y<Ft&&h){var ze=c(B)+v(B),He=c(Et)+v(Et),je=ze+He;if($t<je*je){var Ye=(je-Wt)/Wt*f,Ge=He*He,ar=Ge/(ze*ze+Ge),nr=ue*Ye,hr=oe*Ye;t[Y].x+=nr*ar,t[Y].y+=hr*ar,ar=1-ar,t[Ft].x-=nr*ar,t[Ft].y-=hr*ar}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,f=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var m=n.nodeIdxMap[c.source],T=n.nodeIdxMap[c.target],B=n.nodeMap[c.source],Y=n.nodeMap[c.target],Z=Math.abs(B.depth-Y.depth);B.comboId===Y.comboId&&(Z=Z/2);var j=Z?Math.pow(h,Z):1;if(B.comboId!==Y.comboId&&j===1?j=h/2:B.comboId===Y.comboId&&(j=2),!(!(0,u.isNumber)(Y.x)||!(0,u.isNumber)(B.x)||!(0,u.isNumber)(Y.y)||!(0,u.isNumber)(B.y))){var ut=e[c.target+"-"+c.source],ht=ut.vl,Et=ut.vx,Ft=ut.vy,jt=(ht-o(c))/ht*s*l(c)*j,$t=Et*jt,Wt=Ft*jt,re=f[v];t[T].x-=$t*re,t[T].y-=Wt*re,t[m].x+=$t*(1-re),t[m].y+=Wt*(1-re)}}})},r}(ca),GN=YN,zN={circular:T3,concentric:L3,dagre:I3,force:N3,g6force:X3,comboForce:GN,fruchterman:W3,grid:U3,mds:TN,radial:FN,random:NN};(0,gn.default)(zN,function(i,r){Cx.registerLayout(r,{},i)});var Ds=Cx,Uh=self;function XN(i){var r=i.data.type;return r===Za.RUN}function VN(i){var r=i.data.type;switch(r){case Za.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Ds[s];if(!l){Uh.postMessage({type:Za.ERROR,message:"layout "+s+" not found"});break}var f=new l(o);f.init({nodes:e,edges:n}),f.execute(),Uh.postMessage({type:Za.END,nodes:e}),f.destroy();break}default:break}}Uh.onmessage=function(i){XN(i)&&VN(i)};var HN=null;function mu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(i)}var WN=function(r){return setTimeout(r,16)},jN=function(r){return clearTimeout(r)},xu={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||WN;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||jN;return t(r)}},UN=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new HN,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(xu.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(xu.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var f=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var m=!1;if(this.layoutType!==void 0){try{l=new Ds[this.layoutType](o)}catch(Z){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(m=l.enableTick,m){var T=o.onTick,B=o.onLayoutEnd,c=function(){T&&T(),t.refreshPositions()};l.tick=c;var Y=function(){B&&B(),t.emit("afterlayout")};l.onLayoutEnd=Y}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!f)&&this.layoutType!=="force"&&!m&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,f=this.getWorker(),h=this.workerData;if(!f)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=KN(s,function(v){return typeof v!="function"});return f.postMessage({type:Za.RUN,nodes:n,edges:a,layoutCfg:c}),f.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,f=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(f){case Za.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=xu.requestAnimationFrame(function(){Zh(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=xu.requestAnimationFrame(function(){Zh(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case Za.END:o.currentTick==null&&(Zh(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case Za.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var f=l.getModel();r.push(f)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();f.isComboEdge||t.push(f)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();e.push(f)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||Wa(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),f=Math.ceil(s/l),h=a/(l-1),c=o/(f-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,m=r[1]-o/2;return t.forEach(function(T,B){Wa(T.x)&&(n=!1,T.x=B%l*h+v),Wa(T.y)&&(n=!1,T.y=Math.floor(B/l)*c+m)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),ZN=UN;function Zh(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function KN(i,r){var t={};return i&&mu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var Ao=null,$N=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,f=s.disabled;e?(a(r,t,f),o(r,t,l)):(a(r,t,l),o(r,t,f)),Ao&&clearTimeout(Ao),Ao=setTimeout(function(){Ao=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,un.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,gn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,gn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ao&&clearTimeout(Ao),Ao=null,this.destroyed=!0},i}(),QN=$N,Kh=null,JN=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,ki.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),f=l.get("children").map(function(hr){return hr.get("id")});if(f.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),m=v.x,T=v.y,B=v.width,Y=v.height,Z=v.maxX,j=this.getGroupPadding(r),ut=s.get("groupBBoxs");ut[r]={x:m,y:T,width:B,height:Y,maxX:Z};var ht=null;if(a){var Et=s.get("groups");t.forEach(function(hr){var Ue=s.findById(hr),lr=Ue.getModel();lr.groupId||(lr.groupId=r)}),Et.find(function(hr){return hr.id===r})||(Et.push({id:r,title:o}),s.set({groups:Et}))}var Ft=s.get("groups").filter(function(hr){return hr.id===r});Ft&&Ft.length>0&&(ht=Ft[0].title);var jt=0,$t=0,Wt=null;if(e==="circle"){var re=B>Y?B/2:Y/2,ue=(B+2*m)/2,oe=(Y+2*T)/2,Ee=re+j;Wt=h.addShape("circle",{attrs:Qt(Qt({},c),{x:ue,y:oe,r:Ee}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),jt=ue,$t=oe-Ee,this.setDeletageGroupByStyle(r,h,{width:B,height:Y,x:ue,y:oe,r:Ee})}else{var _e=j*c.disCoefficient;Wt=h.addShape("rect",{attrs:Qt(Qt({},c),{x:m-_e,y:T-_e,width:B+_e*2,height:Y+_e*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),jt=m-_e+15,$t=T-_e+15,this.setDeletageGroupByStyle(r,h,{x:m-_e,y:T-_e,width:B+_e,height:Y+_e,btnOffset:Z-3})}if(ht){var Pe=ht.offsetX,ze=Pe===void 0?0:Pe,He=ht.offsetY,je=He===void 0?0:He,Ye=ht.text,Ge=Ye===void 0?ht:Ye,ar=Gi(ht,["offsetX","offsetY","text"]),nr=h.addShape("text",{attrs:Qt({text:Ge,stroke:"#444",x:jt+ze,y:$t+je},ar),className:"group-title",name:"group-title-shape"});nr.set("capture",!1)}h.set("keyShape",Wt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,un.default)(t)?t==="default"?e=(0,ki.default)({},o):t==="hover"&&(e=(0,ki.default)({},a)):e=(0,ki.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var m=(0,un.default)(v)?e.findById(v):v,T=m.getBBox(),B=T.minX,Y=T.minY,Z=T.maxX,j=T.maxY;B<n&&(n=B),Y<o&&(o=Y),Z>a&&(a=Z),j>s&&(s=j)});var l=Math.floor(n),f=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-f;return{x:l,y:f,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&(Kh||(Kh=this.flatToTree(n)),Xi(Kh[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,f=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return f},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,f=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:f}};else{var c=h.groupStyle,v=(0,ki.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],f=n.get("keyShape"),h=a.r,c=a.width,v=a.height,m=a.offsetX,T=a.offsetY,B=Gi(a,["r","width","height","offsetX","offsetY"]);Object.keys(B).forEach(function(jt){f.attr(jt,B[jt])});var Y={groupId:r,id:r+"-custom-node",x:f.attr("x"),y:f.attr("y"),style:{r:h},type:"circle"},Z=n.find(function(jt){return jt.get("className")==="group-title"});s==="circle"?(f.animate({r:h},{duration:500,easing:"easeCubic"}),Z&&Z.attr({x:f.attr("x")+m,y:f.attr("y")+T})):s==="rect"&&(f.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),Z&&Z.attr({x:f.attr("x")+10,y:f.attr("y")+v/2+5}),Y={groupId:r,id:r+"-custom-node",x:f.attr("x")+c/2,y:f.attr("y")+v/2,size:[c,v],type:"rect"});var j=o.getEdges(),ut=j.filter(function(jt){var $t=jt.getModel();return!l.includes($t.source)&&l.includes($t.target)}),ht=j.filter(function(jt){var $t=jt.getModel();return l.includes($t.source)&&!l.includes($t.target)}),Et=j.filter(function(jt){var $t=jt.getModel();return l.includes($t.source)&&l.includes($t.target)});if(l.forEach(function(jt){var $t=o.findById(jt),Wt=$t.getModel(),re=Wt.groupId;if(re&&re!==r){var ue=t.getDeletageGroupById(re),oe=ue.nodeGroup;oe.hide()}$t.hide()}),Et.forEach(function(jt){var $t=jt.getSource(),Wt=jt.getTarget();$t.isVisible()&&Wt.isVisible()?jt.show():jt.hide()}),ut.length>0||ht.length>0){var Ft=o.add("node",Y);Ft.set("capture",!1),Ft.hide(),this.delegateInGroup[r]={delegateNode:Ft},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,ut,ht)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.target;return a[f]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.source;return o[f]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,ki.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(He){return He.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,f=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,m=v.default,T=v.collapse;Object.keys(m).forEach(function(He){c.attr(He,m[He])});var B=h.find(function(He){return He.get("className")==="group-title"}),Y=this.getGroupPadding(r);if(n==="circle"){var Z=l>f?l/2:f/2;c.animate({r:Z+Y},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var j=T.width,ut=T.height;c.animate({width:j+l+Y*m.disCoefficient*2,height:ut+f+Y*m.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(B){var ht=null,Et=e.get("groups").filter(function(He){return He.id===r});Et&&Et.length>0&&(ht=Et[0].title);var Ft=ht.offsetX,jt=Ft===void 0?0:Ft,$t=ht.offsetY,Wt=$t===void 0?0:$t;n==="circle"?B.animate({x:c.attr("x")+jt,y:c.attr("y")-c.attr("r")+Wt},{duration:600,easing:"easeCubic"}):n==="rect"&&B.animate({x:c.attr("x")+(15+jt),y:c.attr("y")+(15+Wt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(Ye){var Ge=e.findById(Ye),ar=Ge.getModel(),nr=ar.groupId;if(nr&&nr!==r){var hr=t.getDeletageGroupById(nr),Ue=hr.nodeGroup;Ue.show();var lr=Ue.get("hasHidden");lr||Ge.show()}else Ge.show()});var He=e.getEdges(),je=He.filter(function(Ye){var Ge=Ye.getModel();return a.includes(Ge.source)||a.includes(Ge.target)});je.forEach(function(Ye){var Ge=Ye.getSource(),ar=Ye.getTarget();Ge.isVisible()&&ar.isVisible()&&Ye.show()})},300);var re=this.delegateInGroup[r];if(re){var ue=re.sourceOutTargetInEdges,oe=re.sourceInTargetOutEdges,Ee=re.edgesOuts,_e=re.edgesIn,Pe=re.delegateNode;ue.map(function(He){var je=He.get("id"),Ye=Ee[je];return e.updateItem(He,{target:Ye}),!0}),oe.map(function(He){var je=He.get("id"),Ye=_e[je];return e.updateItem(He,{source:Ye}),!0});var ze=Pe.getModel();this.deleteTmpNode(r,ze.id),e.remove(Pe),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(f){return f.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(m){var T=t.findById(m),B=T.getModel(),Y=B.groupId;!Y||r===Y&&(delete B.groupId,t.updateItem(T,B))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(m){return m.id!==r});t.set("groups",l)}for(var f=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){f=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],f&&(a[f]=a[f].filter(function(m){return!o.includes(m)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,f=0;f<o.length;f++){var h=o[f];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var m=v.getBBox(),T=m.minX,B=m.minY,Y=m.maxX,Z=m.maxY,j=this.getDeletageGroupById(r).nodeGroup,ut=j.get("keyShape"),ht=ut.getBBox(),Et=ht.x,Ft=ht.y;if(!(Et<Y&&Et>T&&Ft<Z&&Ft>B)){delete l.parentId;var jt=n.get("groupNodes"),$t=jt[r],Wt=jt[s];jt[s]=Wt.filter(function(fr){return $t.indexOf(fr)===-1});var re=this.calculationGroupPosition(jt[s]),ue=re.x,oe=re.y,Ee=re.width,_e=re.height,Pe=this.getGroupPadding(s),ze=c.find(function(fr){return fr.get("className")==="group-title"}),He=0,je=0;if(a==="circle"){var Ye=Ee>_e?Ee/2:_e/2,Ge=ue,ar=oe;v.attr({r:Ye+Pe,x:Ge,y:ar}),He=Ge,je=ar-v.attr("r")}else if(a==="rect"){var nr=this.styles.default,hr=Pe*nr.disCoefficient;v.attr({x:ue-hr,y:oe-hr}),He=ue-hr+15,je=oe-hr+15}if(ze){var Ue=l.title,lr=0,xr=0;Ue&&(lr=Ue.offsetX,xr=Ue.offsetY),ze.attr({x:He+lr,y:je+xr})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],f=this.getDeletageGroupById(r).nodeGroup,h=f.getBBox(),c=[];l.forEach(function(v,m){var T=a.findById(v),B=T.getModel(),Y=B.groupId;Y&&!c.includes(Y)&&c.push(Y),n.nodePoint[m]||(n.nodePoint[m]={x:B.x,y:B.y});var Z=t.x-h.x+n.nodePoint[m].x,j=t.y-h.y+n.nodePoint[m].y;n.nodePoint[m]={x:Z,y:j},a.updateItem(T,{x:Z,y:j})}),c.includes(r)||c.push(r),c.forEach(function(v){var m=n.getDeletageGroupById(v).nodeGroup,T=m.get("keyShape"),B=s[v].filter(function(_e){return _e.indexOf("custom-node")===-1}),Y=n.calculationGroupPosition(B,t),Z=Y.x,j=Y.y,ut=Y.width,ht=Y.height,Et=0,Ft=0;if(o==="circle"){var jt=(ut+2*Z)/2,$t=(ht+2*j)/2;T.attr({x:jt,y:$t}),Et=jt,Ft=$t-T.attr("r")}else if(o==="rect"){var Wt=m.get("hasHidden"),re=n.getGroupPadding(v),ue={},oe=n.styles.default,Ee=re*oe.disCoefficient;Et=Z-Ee+15,Ft=j-Ee+15,Wt?(ue={x:Z-Ee,y:j-Ee},Ft=Ft+10):ue={x:Z-Ee,y:j-Ee,width:ut+Ee*2,height:ht+Ee*2},T.attr(ue)}n.updateGroupTitle(m,v,Et,Ft)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var f=0,h=0;s&&(f=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+f,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),f=s.get("groupNodes"),h=f[o];if(h.length===0){delete f[o];var c=s.get("groups");s.set("groups",c.filter(function(Wt){return Wt.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),m=v.x,T=v.y,B=v.width,Y=v.height,Z=this.getGroupPadding(o),j=0,ut=0;if(l==="circle"){var ht=B>Y?B/2:Y/2,Et=(B+2*m)/2,Ft=(Y+2*T)/2;e.attr({r:ht+Z,x:Et,y:Ft}),j=Et,ut=Ft-e.attr("r")}else if(l==="rect"){var jt=this.styles.default,$t=Z*jt.disCoefficient;e.attr({x:m-$t,y:T-$t,width:B+$t*2,height:Y+$t*2}),j=m-$t+15,ut=T-$t+15}this.updateGroupTitle(t,o,j,ut)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),qN=JN,t4=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},Nx=t4,e4=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),r4=e4,Yx=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),n4=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new r4(r)}return i.prototype.prepend=function(r){var t=new Yx(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new Yx(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),Gx=n4,i4=function(){function i(r){r===void 0&&(r=10),this.linkedList=new Gx,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),zx=i4,a4=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.getModel(),f=l.source,h=l.target,c=o[f],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},bu=a4,o4=function(r,t){var e=r.get("adjMatrix");e||(e=bu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},Xx=o4,Vx=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},Hx=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Vx(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&Vx(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},s4={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function l4(i,r,t){var e=!1,n=function(l,f){return r.cells[l+f*r.width]},a=function(l,f){var h=0;return n(l-1,f-1)>=t&&(h+=1),n(l,f-1)>t&&(h+=2),n(l-1,f)>t&&(h+=4),n(l,f)>t&&(h+=8),h},o=function(l,f){for(var h=l,c=f,v,m,T=0;T<r.width*r.height;T++){if(v=h,m=c,i.findIndex(function(Y){return Y.x===h&&Y.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var B=a(h,c);switch(B){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(m===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(m===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+B),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var u4=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},f4=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},f=ql(s,l),h=new Mo(s.x,s.y,l.x,l.y),c=e.reduce(function(v,m){return kh(m,h)>0?v+1:v},0);f*Math.pow(c+1,2)<a&&(n=o,a=f*Math.pow(c+1,2))}),n},Wx=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=kh(a,t);o>=0&&o<e&&(n=a,e=o)}),n},h4=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,f=function(m,T){var B=!1;return T.forEach(function(Y){B||(Bh(m,{x:Y.x1,y:Y.y1})||Bh(m,{x:Y.x2,y:Y.y2}))&&(B=!0)}),B},h=function(m,T){for(var B=0,Y=T;B<Y.length;B++){var Z=Y[B],j=Z.getBBox(),ut=[[j.x,j.y],[j.x+j.width,j.y],[j.x,j.y+j.height],[j.x+j.width,j.y+j.height]];if(Os(ut,m.x,m.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var m=o.pop(),T=Wx(t,m);if(T){var B=Gm(T,m),Y=B[0],Z=B[1];if(Z===2){var j=function(ht){for(var Et=n,Ft=jx(T,Et,Y,ht),jt=f(Ft,o)||f(Ft,a),$t=h(Ft,t);!jt&&$t&&Et>=1;)Et/=1.5,Ft=jx(T,Et,Y,ht),jt=f(Ft,o)||f(Ft,a),$t=h(Ft,t);Ft&&!jt&&(!ht||!$t)&&(o.push(new Mo(m.x1,m.y1,Ft.x,Ft.y)),o.push(new Mo(Ft.x,Ft.y,m.x2,m.y2)),s=!0)};j(!0),s||j(!1)}}s||a.push(m),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function c4(i,r,t,e,n){var a=f4(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var m=c.pop();if(c.length===0){v.push(m);break}var T=c.pop(),B=new Mo(m.x1,m.y1,T.x2,T.y2),Y=Wx(r,B);Y?(v.push(m),c.push(T)):c.push(B)}return v},s=new Mo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=h4(s,r,e,n),f=o(l);return f}var v4=function(r,t,e){var n=Object.assign(s4,e),a=zm(r.map(function(j){return{x:j.getModel().x,y:j.getModel().y}}));r=r.sort(function(j,ut){return ql({x:j.getModel().x,y:j.getModel().y},a)-ql({x:ut.getModel().x,y:ut.getModel().y},a)});var o=[],s=[];r.forEach(function(j){var ut=c4(j,t,o,n.maxRoutingIterations,n.morphBuffer);ut.forEach(function(ht){s.push(ht)}),o.push(j)});for(var l=d4(r,s,n.nodeR0),f=u4(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(p4(r,t,s,l,f,n),h=[],c=[],!!new l4(h,f,n.threshold).march()){var m=h.map(function(j){return{x:Math.round(j.x*n.pixelGroupSize+l.minX),y:Math.round(j.y*n.pixelGroupSize+l.minY)}});if(m){var T=m.length;if(n.skip>1)for(T=Math.floor(m.length/n.skip);T<3&&n.skip>1;)n.skip-=1,T=Math.floor(m.length/n.skip);for(var B=0,Y=0;Y<T;Y+=1,B+=n.skip)c.push({x:m[B].x,y:m[B].y})}var Z=function(){for(var ut=0,ht=r;ut<ht.length;ut++){var Et=ht[ut],Ft=c.map(function(jt){return[jt.x,jt.y]});if(!Os(Ft,Et.getBBox().centerX,Et.getBBox().centerY))return!1}return!0};if(c&&Z())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function d4(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function p4(i,r,t,e,n,a){function o(m,T){var B=Math.floor((m-T)/a.pixelGroupSize);return B<0?0:B}function s(m,T){return m*a.pixelGroupSize+T}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),f=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(T,B){var Y=Math.min(o(T.minX,B+e.minX),n.width),Z=Math.min(o(T.minY,B+e.minY),n.height),j=Math.min(o(T.maxX,-B+e.minX),n.width),ut=Math.min(o(T.maxY,-B+e.minY),n.height);return[Y,Z,j,ut]},c=function(T,B){for(var Y=T.getBBox(),Z=h(Y,a.nodeR1),j=Z[0],ut=Z[1],ht=Z[2],Et=Z[3],Ft=ut;Ft<Et;Ft+=1)for(var jt=j;jt<ht;jt+=1)if(!(B<0&&n[jt+Ft*n.width]<=0)){var $t=s(jt,e.minX),Wt=s(Ft,e.minY),re=Vm({x:$t,y:Wt},{x:Y.minX,y:Y.minY,width:Y.width,height:Y.height});if(re<Math.pow(a.nodeR1,2)){var ue=Math.sqrt(re)-a.nodeR1;n.cells[jt+Ft*n.width]+=B*ue*ue}}},v=function(T,B){for(var Y=T.getBBox(),Z=h(Y,a.edgeR1),j=Z[0],ut=Z[1],ht=Z[2],Et=Z[3],Ft=ut;Ft<Et;Ft+=1)for(var jt=j;jt<ht;jt+=1)if(!(B<0&&n.cells[jt+Ft*n.width]<=0)){var $t=s(jt,e.minX),Wt=s(Ft,e.minY),re=Xm({x:$t,y:Wt},T);if(re<Math.pow(a.edgeR1,2)){var ue=Math.sqrt(re)-a.edgeR1;n.cells[jt+Ft*n.width]+=B*ue*ue}}};a.nodeInfluenceFactor&&i.forEach(function(m){c(m,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(m){v(m,a.edgeInfluenceFactor/f)}),a.negativeNodeInfluenceFactor&&r.forEach(function(m){c(m,a.negativeNodeInfluenceFactor/l)})}function jx(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],f={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(T,B){return n.width*((T.y-n.minY+(B.y-n.minY))*.5)}if(o){if(a)return e?f.topLeft:f.bottomRight;if(s)return e?f.bottomLeft:f.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?f.topLeft:f.bottomRight:e?f.topRight:f.bottomLeft:o.y<l.y?e?f.bottomLeft:f.topRight:e?f.bottomRight:f.topLeft}if(l){if(a)return e?f.topRight:f.bottomLeft;if(s)return e?f.bottomRight:f.topLeft}var m=c(a,s);return m<h*.5?a.x>s.x?e?f.topLeft:f.bottomRight:e?f.bottomLeft:f.topRight:a.x<s.x?e?f.topRight:f.bottomLeft:e?f.bottomRight:f.topLeft}var g4=function(){function i(r,t){this.cfg=(0,u.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,u.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,u.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=Hx(r),a=Km(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,Us.parsePathString)(a);break;case"smooth-convex":e=Hx(r),a=$m(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&Dh(a);break;case"bubble":e=v4(r,t,this.cfg.bubbleCfg),n=e.length>=2&&Dh(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:Qt({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,u.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,u.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr(Qt({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,u.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,u.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,u.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,u.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=eu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Oh(n,eu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),y4=g4,m4="node",x4="svg",b4=function(i){Ln(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,u.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new zx(e.cfg.maxStep),e.redoStack=new zx(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new t3(this),e=new JR(this),n=new $R(this),a=new S3(this),o=new ZN(this),s=new QN(this),l=new qN(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,u.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===x4)o=new Is.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Eo.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,u.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:Ne.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:Ne.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:Ne.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:Ne.comboContainerClassName}),f=a.addGroup({id:n+"-group",className:Ne.customGroupContainerClassName});f.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:f,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:Ne.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,u.isPlainObject)(t)?this.cfg=Qt(Qt({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,u.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,u.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,u.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,u.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),ma.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");Nm(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,u.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(ma.wO.translate(a,a,[-e.x,-e.y]),ma.wO.scale(a,a,[t,t]),ma.wO.translate(a,a,[e.x,e.y])):ma.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],f.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],f.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],f.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:f})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],f.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],f.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],f.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:f})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,u.isString)(t)&&(n=this.findById(t)),!n&&(0,u.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=Qt(Qt({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var f=n.getEdges(),h=f.length-1;h>=0;h--)l.edges.push(Qt(Qt({},f[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=Yh(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,f=e.nodes,h=e.type,c=e.zIndex,v=e.title,m=v;return(0,u.isString)(v)&&(m={text:v}),this.get("customGroupControll").create(l,f,h,c,!0,m)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var T,B=this.get("comboTrees");if(B||(B=[]),t==="combo"){var Y=this.get("itemMap"),Z=!1;if(B.forEach(function(re){Z||ha(re,function(ue){if(e.parentId===ue.id){Z=!0;var oe=Qt({id:e.id,depth:ue.depth+2},e);ue.children?ue.children.push(oe):ue.children=[oe],e.depth=oe.depth,T=s.addItem(t,e)}var Ee=Y[ue.id];return Z&&Ee&&Ee.getType&&Ee.getType()==="combo"&&s.updateCombo(Ee,ue.children),!0})}),!Z){var j=Qt({id:e.id,depth:0},e);e.depth=j.depth,B.push(j),T=s.addItem(t,e)}this.set("comboTrees",B)}else if(t==="node"&&(0,u.isString)(e.comboId)&&B){var ut=this.findById(e.comboId);if(ut&&ut.getType&&ut.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}T=s.addItem(t,e);var ht=this.get("itemMap"),Et=!1,Ft=!1;(B||[]).forEach(function(re){Ft||Et||ha(re,function(ue){if(ue.id===e.id)return Ft=!0,!1;if(e.comboId===ue.id&&!Ft){Et=!0;var oe=(0,u.clone)(e);oe.itemType="node",ue.children?ue.children.push(oe):ue.children=[oe],e.depth=ue.depth+1}return Et&&ht[ue.id].getType&&ht[ue.id].getType()==="combo"&&s.updateCombo(ht[ue.id],ue.children),!0})})}else T=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var ut=this.findById(e.comboId||e.parentId);ut&&ut.addChild(T)}var jt=this.get("combos");if(jt&&jt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var $t=Qt(Qt({},T.getModel()),{itemType:t}),Wt={};switch(t){case"node":Wt.nodes=[$t];break;case"edge":Wt.edges=[$t];break;case"combo":Wt.combos=[$t];break;default:break}this.pushStack("add",{before:{},after:Wt})}return T},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,u.isString)(t)?s=this.findById(t):s=t;var l=(0,u.clone)(s.getModel()),f="";s.getType&&(f=s.getType());var h=Ts(s.getStates());if(f==="combo"&&(0,u.each)(h,function(T){return a.setItemState(s,T,!1)}),o.updateItem(s,e),f==="combo"&&(0,u.each)(h,function(T){return a.setItemState(s,T,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},m=Qt({id:l.id},e);switch(f){case"node":c.nodes.push(l),v.nodes.push(m);break;case"edge":c.edges.push(l),v.edges.push(m);break;case"combo":c.combos.push(l),v.combos.push(m);break;default:break}f==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,u.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,u.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,f=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,u.each)(a,function(j){t.add("node",j,!1,!1)}),f&&f.length!==0){var h=Nh(f,a);this.set("comboTrees",h),t.addCombos(f)}(0,u.each)(s,function(j){t.add("edge",j,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(m)||m();function m(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(f&&f.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var T=this.getNodes();T.forEach(function(j){j.toFront()})}else{var B=this.getEdges();B.forEach(function(j){j.toBack()})}if(e.nodes){var Y=e.nodes.filter(function(j){return j.groupId});if(Y.length>0){var Z=t.get("groupType");this.renderCustomGroup(e,Z)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,u.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===m4){var f=o.getContainer().getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:f[6],y:f[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(B){return n.clearItemStates(B)}),this.getEdges().map(function(B){return n.clearItemStates(B)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},f=t.combos;if(f){var h=Nh(f,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,u.each)(s,function(B,Y){s[Y].getModel().depth=0,!(B.getType&&B.getType()==="edge")&&(B.getType&&B.getType()==="combo"?(delete s[Y],B.destroy()):l.nodes.indexOf(B)<0&&(delete s[Y],n.remove(B,!1)))});for(var c=this.getCombos(),v=c.length,m=v-1;m>=0;m--)c[m].destroyed&&c.splice(m,1);f&&(n.addCombos(f),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,u.each)(s,function(B,Y){B.getType&&(B.getType()==="node"||B.getType()==="combo")||l.edges.indexOf(B)<0&&(delete s[Y],n.remove(B,!1))}),this.set({nodes:l.nodes,edges:l.edges});var T=this.get("layoutController");return T.changeData(),n.get("animate")&&!T.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,u.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(f){var h=n.findById(f),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(f){ha(f,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,u.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var f=this.get("itemMap"),h=o.get("id"),c,v=[],m=this.get("combos"),T=this.findById(s);if(l.forEach(function(Y){c||ha(Y,function(Z){var j;if(Z.id===h){c=Z;var ut=o.getEdges();ut.forEach(function(Et){e.removeItem(Et,!1)});var ht=m.indexOf(t);m.splice(ht,1),delete f[h],o.destroy()}if(s&&c&&Z.id===s){T.removeCombo(o),v=Z.children;var ht=v.indexOf(c);return ht!==-1&&v.splice(ht,1),(j=c.children)===null||j===void 0||j.forEach(function(Ft){var jt=e.findById(Ft.id),$t=jt.getModel();jt.getType&&jt.getType()==="combo"?(Ft.parentId=s,delete Ft.comboId,$t.parentId=s,delete $t.comboId):jt.getType&&jt.getType()==="node"&&(Ft.comboId=s,$t.comboId=s),T.addChild(jt),v.push(Ft)}),!1}return!0})}),!s&&c){var B=l.indexOf(c);l.splice(B,1),(n=c.children)===null||n===void 0||n.forEach(function(Y){Y.parentId=void 0;var Z=e.findById(Y.id).getModel();Z.parentId=void 0,Y.itemType!=="node"&&l.push(Y)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){ha(s,function(l){if(!l)return!0;var f=o[l.id];if(f&&f.getType&&f.getType()==="combo"){var h=Ts(f.getStates());(0,u.each)(h,function(c){return t.setItemState(f,c,!1)}),a.updateCombo(f,l.children),(0,u.each)(h,function(c){return t.setItemState(f,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,u.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),f=n.get("itemMap");(s||[]).forEach(function(h){ha(h,function(c){if(!c)return!0;var v=f[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var m=Ts(v.getStates());(0,u.each)(m,function(T){v.getStateStyle(T)&&e.setItemState(v,T,!1)}),l.updateCombo(v,c.children),(0,u.each)(m,function(T){v.getStateStyle(T)&&e.setItemState(v,T,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,u.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),f=!0,h;if((l||[]).forEach(function(B){h||Xi(B,function(Y){if(!h)return Y.id===a.getID()&&(h=Y),!0})}),Xi(h,function(B){return B.id===e?(f=!1,!1):!0}),!f){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var m=this.findById(e);m&&m.addChild(a)}if(s){var m=this.findById(s);m&&m.removeChild(a)}var T=Yh(this.get("comboTrees"),o.id,e);this.set("comboTrees",T),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=ZR(t);Object.keys(v).forEach(function(T){var B=v[T];n.get("customGroupControll").create(T,B,e,l),l--});var m=this.get("customGroup");m.sort()}else{var f=s.filter(function(T){return T.groupId}),h=[],c=(0,u.groupBy)(f,"groupId");Object.keys(c).forEach(function(T){var B=c[T].map(function(Y){return Y.id});n.get("customGroupControll").create(T,B,e,l),l--,h.find(function(Y){return Y.id===T})||h.push({id:T})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,u.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,u.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,u.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,u.each)(e,function(o){o.refresh()}),(0,u.each)(n,function(o){o.refresh()}),(0,u.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var f=l.getModel();return{id:f.id,x:f.x,y:f.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,u.each)(o,function(f){var h=t.findById(f.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var m=h.getContainer().getMatrix();m||(m=[1,0,0,0,1,0,0,0,1]),c={x:m[6],y:m[7]},h.set("originAttrs",c)}if(n){var T=n(h,l,f,c);h.set("model",Object.assign(v,T))}else v.x=c.x+(f.x-c.x)*l,v.y=c.y+(f.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,u.each)(a,function(f){f.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,u.each)(e,function(f){s=f.getModel();var h=f.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(f.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,u.each)(n,function(f){var h=f.getSource().getModel(),c=f.getTarget().getModel();(l[h.id]||l[c.id]||f.getModel().isComboEdge)&&f.refresh()}),(0,u.each)(a,function(f){f.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),f=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",f);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,m=o.getContext("2d"),T=this.get("width"),B=this.get("height"),Y=void 0;if(e){var Z=window.devicePixelRatio;v=m.getImageData(0,0,T*Z,B*Z),Y=m.globalCompositeOperation,m.globalCompositeOperation="destination-over",m.fillStyle=e,m.fillRect(0,0,T,B)}s=o.toDataURL(t),e&&(m.clearRect(0,0,T,B),m.putImageData(v,0,0),m.globalCompositeOperation=Y)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),f=(0,qn.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,u.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],m=s+c[1]+c[3],T={container:f,height:v,width:m,quickHit:!0},B=l==="svg"?new Is.Z(T):new Eo.Z(T),Y=this.get("group"),Z=Y.clone(),j=(0,u.clone)(Z.getMatrix());j||(j=[1,0,0,0,1,0,0,0,1]);var ut=(a.maxX+a.minX)/2,ht=(a.maxY+a.minY)/2;ma.wO.translate(j,j,[-ut,-ht]),ma.wO.translate(j,j,[s/2+c[3],o/2+c[0]]),Z.resetMatrix(),Z.setMatrix(j),B.add(Z);var Et=B.get("el"),Ft="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var jt=Et.cloneNode(!0),$t=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Wt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",$t);Wt.replaceChild(jt,Wt.documentElement);var re=new XMLSerializer().serializeToString(Wt);Ft="data:image/svg+xml;charset=utf8,"+encodeURIComponent(re)}else{var ue=void 0,oe=Et.getContext("2d"),Ee=void 0;if(h){var _e=window.devicePixelRatio;ue=oe.getImageData(0,0,m*_e,v*_e),Ee=oe.globalCompositeOperation,oe.globalCompositeOperation="destination-over",oe.fillStyle=h,oe.fillRect(0,0,m,v)}Ft=Et.toDataURL(e),h&&(oe.clearRect(0,0,m,v),oe.putImageData(ue,0,0),oe.globalCompositeOperation=Ee)}t==null||t(Ft)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,f=this.get("renderer"),h=(0,qn.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,u.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var m=s+v[0]+v[2],T=l+v[1]+v[3],B={container:h,height:m,width:T},Y=f==="svg"?new Is.Z(B):new Eo.Z(B),Z=this.get("group"),j=Z.clone(),ut=(0,u.clone)(j.getMatrix());ut||(ut=[1,0,0,0,1,0,0,0,1]);var ht=(o.maxX+o.minX)/2,Et=(o.maxY+o.minY)/2;ma.wO.translate(ut,ut,[-ht,-Et]),ma.wO.translate(ut,ut,[l/2+v[3],s/2+v[0]]),j.resetMatrix(),j.setMatrix(ut),Y.add(j);var Ft=Y.get("el");e||(e="image/png"),setTimeout(function(){var jt="";if(f==="svg"){var $t=Ft.cloneNode(!0),Wt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),re=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Wt);re.replaceChild($t,re.documentElement);var ue=new XMLSerializer().serializeToString(re);jt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ue)}else{var oe=void 0,Ee=Ft.getContext("2d"),_e=void 0;if(c){var Pe=window.devicePixelRatio;oe=Ee.getImageData(0,0,T*Pe,m*Pe),_e=Ee.globalCompositeOperation,Ee.globalCompositeOperation="destination-over",Ee.fillStyle=c,Ee.fillRect(0,0,T,m)}jt=Ft.toDataURL(e),c&&(Ee.clearRect(0,0,T,m),Ee.putImageData(oe,0,0),Ee.globalCompositeOperation=_e)}var ze=document.createElement("a"),He=(t||"graph")+(f==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(jt,f,ze,He);var je=document.createEvent("MouseEvents");je.initEvent("click",!1,!1),ze.dispatchEvent(je)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var f=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,f);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var f=atob(o[1]),h=f.length,c=new Uint8Array(h);h--;)c[h]=f.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,u.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(T){c[T.id]=T}),(f||[]).forEach(function(T){h||Xi(T,function(B){if(h&&c[B.id])return!1;if(n.parentId===B.id?(c={},B.children.forEach(function(Z){c[Z.id]=Z})):n.id===B.id&&(h=!0),h){var Y=e.findById(B.id);Y&&Y.getType&&Y.getType()==="combo"&&(s=s.concat(Y.getNodes()),l=l.concat(Y.getCombos()))}return!0})});var v={},m=[];o.forEach(function(T){if(!(T.isVisible()&&!T.getModel().isVEdge)){var B=T.getSource(),Y=T.getTarget();if((s.includes(B)||l.includes(B))&&!s.includes(Y)&&!l.includes(Y)||B.getModel().id===n.id){var Z=T.getModel();if(Z.isVEdge){e.removeItem(T,!1);return}for(var j=Y.getModel();!Y.isVisible();){if(Y=e.findById(j.parentId||j.comboId),!Y||!j.parentId&&!j.comboId)return;j=Y.getModel()}var ut=j.id;if(v[n.id+"-"+ut]){v[n.id+"-"+ut]+=Z.size||1;return}var ht=e.addItem("vedge",{source:n.id,target:ut,isVEdge:!0},!1);v[n.id+"-"+ut]=Z.size||1,m.push(ht)}else if(!s.includes(B)&&!l.includes(B)&&(s.includes(Y)||l.includes(Y))||Y.getModel().id===n.id){var Z=T.getModel();if(Z.isVEdge){e.removeItem(T,!1);return}for(var Et=B.getModel();!B.isVisible();){if(B=e.findById(Et.parentId||Et.comboId),!B||!Et.parentId&&!Et.comboId)return;Et=B.getModel()}var Ft=Et.id;if(v[Ft+"-"+n.id]){v[Ft+"-"+n.id]+=Z.size||1;return}var ht=e.addItem("vedge",{target:n.id,source:Ft,isVEdge:!0},!1);v[Ft+"-"+n.id]=Z.size||1,m.push(ht)}}}),m.forEach(function(T){var B=T.getModel();e.updateItem(T,{size:v[B.source+"-"+B.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(T){c[T.id]=T}),(f||[]).forEach(function(T){h||Xi(T,function(B){if(h&&c[B.id])return!1;if(n.parentId===B.id?(c={},B.children.forEach(function(Z){c[Z.id]=Z})):n.id===B.id&&(h=!0),h){var Y=e.findById(B.id);Y&&Y.getType&&Y.getType()==="combo"&&(s=s.concat(Y.getNodes()),l=l.concat(Y.getCombos()))}return!0})});var v={},m={};o.forEach(function(T){if(!(T.isVisible()&&!T.getModel().isVEdge)){var B=T.getSource(),Y=T.getTarget(),Z=B.get("id"),j=Y.get("id");if((s.includes(B)||l.includes(B))&&!s.includes(Y)&&!l.includes(Y)||Z===n.id){if(T.getModel().isVEdge){e.removeItem(T,!1);return}for(var ut=Y.getModel();!Y.isVisible();){if(Y=e.findById(ut.comboId||ut.parentId),!Y||!ut.parentId&&!ut.comboId)return;ut=Y.getModel()}j=ut.id;for(var ht=B.getModel();!B.isVisible();){if(B=e.findById(ht.comboId||ht.parentId),!B||!ht.parentId&&!ht.comboId)return;if(ht.comboId===n.id||ht.parentId===n.id)break;ht=B.getModel()}if(Z=ht.id,j){var Et=Z+"-"+j;if(v[Et]){v[Et]+=T.getModel().size||1,e.updateItem(m[Et],{size:v[Et]},!1);return}var Ft=e.addItem("vedge",{source:Z,target:j,isVEdge:!0},!1);v[Et]=T.getModel().size||1,m[Et]=Ft}}else if(!s.includes(B)&&!l.includes(B)&&(s.includes(Y)||l.includes(Y))||j===n.id){if(T.getModel().isVEdge){e.removeItem(T,!1);return}for(var ht=B.getModel();!B.isVisible();){if(B=e.findById(ht.comboId||ht.parentId),!B||!ht.parentId&&!ht.comboId)return;ht=B.getModel()}Z=ht.id;for(var ut=Y.getModel();!Y.isVisible();){if(Y=e.findById(ut.comboId||ut.parentId),!Y||!ut.parentId&&!ut.comboId)return;if(ut.comboId===n.id||ut.parentId===n.id)break;ut=Y.getModel()}if(j=ut.id,Z){var Et=Z+"-"+j;if(v[Et]){v[Et]+=T.getModel().size||1,e.updateItem(m[Et],{size:v[Et]},!1);return}var Ft=e.addItem("vedge",{target:j,source:Z,isVEdge:!0},!1);v[Et]=T.getModel().size||1,m[Et]=Ft}}else(s.includes(B)||l.includes(B))&&(s.includes(Y)||l.includes(Y))&&B.isVisible()&&Y.isVisible()&&T.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Xi(l,function(f){return n[f.depth]?n[f.depth].push(f.id):n[f.depth]=[f.id],a[f.id]=f.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var f=l.getModel(),h=a[f.source]||0,c=a[f.target]||0,v=Math.max(h,c);n[v]?n[v].push(f.id):n[v]=[f.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var f=l.length-1;f>=0;f--){var h=t.findById(l[f]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,u.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,u.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=Nx(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,u.clone)(e):{before:{},after:(0,u.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=bu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=bu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=Xx(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,u.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new y4(this,Qt(Qt({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,u.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Ne.waterMarkerImage);var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},Ne.imageWaterMarkerConfig,e),s=o.width,l=o.height,f=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Eo.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var m=a.get("context"),T=h.rotate,B=h.x,Y=h.y;m.rotate(-T*Math.PI/180);var Z=new Image;Z.crossOrigin="anonymous",Z.src=t,Z.onload=function(){if(m.drawImage(Z,B,Y,h.width,h.height),m.rotate(T*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var j=document.querySelector(".g6-graph-watermarker");j||(j=document.createElement("div"),j.className="g6-graph-watermarker"),j.className="g6-graph-watermarker",a.destroyed||(j.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(j))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},Ne.textWaterMarkerConfig,e),s=o.width,l=o.height,f=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Eo.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var m=a.get("context"),T=h.rotate,B=h.fill,Y=h.fontFamily,Z=h.fontSize,j=h.baseline,ut=h.x,ht=h.y,Et=h.lineHeight;m.rotate(-T*Math.PI/180),m.font=Z+"px "+Y,m.fillStyle=B,m.textBaseline=j;for(var Ft=t.length-1;Ft>=0;Ft--)m.fillText(t[Ft],ut,ht+Ft*Et);if(m.rotate(T*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var jt=document.querySelector(".g6-graph-watermarker");jt||(jt=document.createElement("div"),jt.className="g6-graph-watermarker"),jt.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(jt)}},r}(ye.default),Ux=b4,w4=d(77201),Zx=d.n(w4),S4=function(i){Ln(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=Zx()[t.type](e,t);return lx(n),n}:function(e){return Zx()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,Yn.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var f=e.getModel();s.set("originAttrs",{x:f.x,y:f.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,Yn.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,Yn.S6)(t.children||[],function(T){a.innerUpdateChild(T,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var f=s.length-1;f>=0;f--){var h=s[f].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(f,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var m=o.getModel();n&&o.set("originAttrs",{x:m.x,y:m.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,Yn.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,Yn.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),f=r.indexOfChild(s,l.id);s.splice(f,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,Yn.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Xi(t,function(s){var l=n.findById(s.id);if(l){var f=l.get("originAttrs"),h=l.get("model");if(f||(f={x:h.x,y:h.y},l.set("originAttrs",f)),e){var c=e(l,o,f,t);l.set("model",Object.assign(h,c))}else h.x=f.x+(s.x-f.x)*o,h.y=f.y+(s.y-f.y)*o}return!0}),(0,Yn.S6)(n.get("removeList"),function(s){var l=s.getModel(),f=s.get("originAttrs"),h=s.get("to");l.x=f.x+(h.x-f.x)*o,l.y=f.y+(h.y-f.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,Yn.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,Yn.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(Ux),C4=S4,M4="-shape",Kx="-label",wu=["startArrow","endArrow"],$h="-label-bg",Qh={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,u.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+M4),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+Kx)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),f=s.getMatrix();if(f||(f=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":f=La(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":f=La(f,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":f=La(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:f=La(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else f=La(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(f)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+$h;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,u.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=Ne[a]?Ne[a].style:null,s=Qt(Qt(Qt({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,u.mix)({},n.attr(),r.style),o=function(f){var h,c=a[f];if((0,u.isPlainObject)(c)){var v=e.find(function(m){return m.get("name")===f});v&&v.attr(c)}else n.attr((h={},h[f]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+Kx,o=e.find(function(ht){return ht.get("className")===a}),s=this.itemType+$h,l=e.find(function(ht){return ht.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,u.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),m=r.labelCfg?r.labelCfg.style:void 0,T=c.style&&c.style.background,B=Qt(Qt(Qt({},o.attr()),v),m),Y=B.rotate;if(delete B.rotate,Y){var Z=[1,0,0,0,1,0,0,0,1];Z=La(Z,[["t",-B.x,-B.y],["r",Y],["t",B.x,B.y]]),o.resetMatrix(),o.attr(Qt(Qt({},B),{matrix:Z}))}else o.resetMatrix(),o.attr(B);if(!l)B.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(B.background){var j=this.getLabelBgStyleByPosition(o,r,c,e),ut=Qt(Qt({},j),T);l.resetMatrix(),Y&&l.rotateAtStart(Y),l.attr(ut)}else e.removeChild(l)}else{var f=this.drawLabel(r,e);f.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,u.isBoolean)(t)?r:r+":"+t,f=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!f)){var c=(0,u.mix)({},h||f),v=e.getContainer();if(t){var m=function(oe){var Ee,_e=c[oe];if((0,u.isPlainObject)(_e)&&!wu.includes(oe)){var Pe=v.find(function(ze){return ze.get("name")===oe});Pe&&Pe.attr(_e)}else o.attr((Ee={},Ee[oe]=_e,Ee))};for(var T in c)m(T)}else{var B=(0,u.clone)(e.getCurrentStatesStyle()),Y=e.getModel(),Z=(0,u.mix)({},Y.style,(0,u.clone)(e.getOriginStyle())),j=o.get("name"),ut=o.attr(),ht={},Et=function(oe){var Ee=c[oe];if((0,u.isPlainObject)(Ee)&&!wu.includes(oe)){var _e=v.find(function(He){return He.get("name")===oe});if(_e){var Pe=_e.attr();(0,u.each)(Ee,function(He,je){(Pe[je]||Pe[je]===0)&&delete Pe[je]}),ht[oe]=Pe}}else{var ze={x:1,y:1,cx:1,cy:1};ut[oe]&&!ze[oe]&&delete ut[oe]}};for(var Ft in c)Et(Ft);j?ht[j]=ut:(0,u.mix)(ht,ut);for(var T in B){var jt=B[T];(!(0,u.isPlainObject)(jt)||wu.includes(T))&&(j?((0,u.mix)(Z[j],(a={},a[T]=jt,a)),delete Z[T]):(0,u.mix)(Z,(n={},n[T]=jt,n)),delete B[T])}var $t={};(0,u.deepMix)($t,Z,ht,B);var Wt=function(oe){var Ee,_e,Pe=$t[oe];if((0,u.isPlainObject)(Pe)&&!wu.includes(oe)){var ze=v.find(function(He){return He.get("name")===oe});ze&&ze.attr(Pe)}else s==="combo"?j||o.attr((Ee={},Ee[oe]=Pe,Ee)):o.attr((_e={},_e[oe]=Pe,_e))};for(var re in $t)Wt(re)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,f=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,u.clone)(f):(0,u.mix)({},l,f)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},E4={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ne.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||Ne.defaultNode.size;return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,u.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Mh(o.padding),l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=e.offset;(0,u.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=Qt(Qt(Qt({},c),o),{width:l,height:f}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(jt){return jt.get("className")==="link-point-left"}),a=t.find(function(jt){return jt.get("className")==="link-point-right"}),o=t.find(function(jt){return jt.get("className")==="link-point-top"}),s=t.find(function(jt){return jt.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var f=(0,u.mix)({},l,r.linkPoints),h=f.fill,c=f.stroke,v=f.lineWidth,m=f.size/2;m||(m=f.r);var T=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},B=T.left,Y=T.right,Z=T.top,j=T.bottom,ut=this.getSize(r),ht=ut[0],Et=ut[1],Ft={r:m,fill:h,stroke:c,lineWidth:v};n?!B&&B!==void 0?n.remove():n.attr(Qt(Qt({},Ft),{x:-ht/2,y:0})):B&&t.addShape("circle",{attrs:Qt(Qt({},Ft),{x:-ht/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!Y&&Y!==void 0&&a.remove(),a.attr(Qt(Qt({},Ft),{x:ht/2,y:0}))):Y&&t.addShape("circle",{attrs:Qt(Qt({},Ft),{x:ht/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!Z&&Z!==void 0&&o.remove(),o.attr(Qt(Qt({},Ft),{x:0,y:-Et/2}))):Z&&t.addShape("circle",{attrs:Qt(Qt({},Ft),{x:0,y:-Et/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!j&&j!==void 0?s.remove():s.attr(Qt(Qt({},Ft),{x:0,y:Et/2})):j&&t.addShape("circle",{attrs:Qt(Qt({},Ft),{x:0,y:Et/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr(Qt({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,u.mix)({},s.attr(),a),f=l.width,h=l.height;s.attr(Qt(Qt({},l),{x:-f/2,y:-h/2}))}else s.remove();else if(o){var f=a.width,h=a.height;n.addShape("image",{attrs:Qt(Qt({},a),{x:-f/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(T){return T.get("className")==="node-label"});c&&c.toFront()}}},A4=Qt(Qt({},Qh),E4);Hn.registerNode("single-node",A4);var Su="edge-shape";function T4(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var P4={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ne.defaultEdge.size,style:{x:0,y:0,stroke:Ne.defaultEdge.style.stroke,lineAppendWidth:Ne.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ne.edgeLabel.style.fill,fontSize:Ne.edgeLabel.style.fontSize}},stateStyles:Qt({},Ne.edgeStateStyles)},getPath:function(r){var t=[];return(0,u.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,u.mix)({},t,e,r.style),a=r.size||Ne.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),f=[o];l&&(f=f.concat(l)),f.push(s);var h=this.getPath(f),c=(0,u.mix)({},Ne.defaultEdge.style,{stroke:Ne.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(Z){return Z.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,f=this.getControlPoints(r),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),r.style),v=r.sourceNode,m=r.targetNode,T={radius:c.radius};f||(T={source:v,target:m,offset:c.offset,radius:c.radius});var B=this.getPath(h,T),Y=(0,u.mix)(n,a.attr(),{lineWidth:o,path:B},r.style);a&&a.attr(Y)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===Su}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,f=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+f,a.text=r.label,a;var h=(0,u.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=iu(o,s,l,f,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=Qt(Qt({},o),{width:l,height:f,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,u.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,m=n&&n.find(function(ut){return ut.get("className")===Su}),T;h==="start"?T=0:h==="end"?T=1:T=.5;var B=e.refX||this.refX,Y=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+B,c.y=t.startPoint.y+Y,c;var Z=iu(m,T,B-l/2,Y+f/2,v),j=Z.angle;return j>1/2*Math.PI&&j<3*1/2*Math.PI&&(Z=iu(m,T,B+l/2,Y+f/2,v)),v&&(c.x=Z.x,c.y=Z.y),c.rotate=Z.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=T4(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Su,name:Su,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,u.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),f=this.itemType+$h;l.set("classname",f),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,u.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var f=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&f.rotateAtStart(s),f}},L4=Qt(Qt({},Qh),P4);Hn.registerEdge("single-edge",L4),Hn.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Hn.registerEdge("spline",{getPath:function(r){var t=Hm(r);return t}},"single-edge"),Hn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=Ph(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,Ei.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=Ph(t,o,e)}var f=_s(t,a),h=[{x:f,y:f}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),Hn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ei.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,Ei.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=tu(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),Hn.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,ya.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,ya.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=tu(e,n,r.curvePosition[0],r.curveOffset[0]),o=tu(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),Hn.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,ya.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),Hn.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,ya.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),Hn.registerEdge("loop",{getPathPoints:function(r){return ox(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var _4={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ne.comboLabel.refX,refY:Ne.comboLabel.refY,options:{style:{stroke:Ne.defaultCombo.style.stroke,fill:Ne.defaultCombo.style.fill,lineWidth:Ne.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ne.comboLabel.style.fill,fontSize:Ne.comboLabel.style.fontSize}},stateStyles:Qt({},Ne.comboStateStyles)},getSize:function(r){var t=(0,u.clone)(r.size||this.options.size||Ne.defaultCombo.size);return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,u.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=this.getSize(r),f=Math.max(n.r,l[0]/2)||l[0]/2,h=f+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr(Qt({},e)),this.updateLabel(r,t)}},O4=Qt(Qt({},Qh),_4);Hn.registerCombo("single-combo",O4),Hn.registerCombo("circle",{options:{size:[Ne.defaultCombo.size[0],Ne.defaultCombo.size[0]],padding:Ne.defaultCombo.padding[0],animate:!0,style:{stroke:Ne.defaultCombo.style.stroke,fill:Ne.defaultCombo.style.fill,lineWidth:Ne.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ne.comboLabel.style.fill,fontSize:Ne.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Qt({},Ne.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,u.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,u.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,u.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||Ne.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=Qt({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,u.isArray)(n)&&(n=n[0]);var a=(0,u.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},f=t.get("keyShape"),h=(0,u.mix)({},f.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),Hn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ne.defaultCombo.style.stroke,fill:Ne.defaultCombo.style.fill,lineWidth:Ne.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ne.comboLabel.style.fill,fontSize:Ne.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Qt({},Ne.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,u.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],f=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-f+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:f+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,u.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,u.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,u.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Ne.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,u.isNumber)(a.height)||isNaN(a.height)?l=o[1]||Ne.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var f=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=Qt({x:f,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,u.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,u.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var f={stroke:r.color},h=t.get("keyShape"),c=(0,u.mix)({},h.attr(),f,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr(Qt({},e)),this.updateLabel(r,t)}},"single-combo"),Hn.registerNode("circle",{options:{size:Ne.defaultNode.size,style:{x:0,y:0,stroke:Ne.defaultNode.style.stroke,fill:Ne.defaultNode.style.fill,lineWidth:Ne.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ne.nodeLabel.style.fill,fontSize:Ne.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ne.defaultNode.linkPoints.size,lineWidth:Ne.defaultNode.linkPoints.lineWidth,fill:Ne.defaultNode.linkPoints.fill,stroke:Ne.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Qt({},Ne.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,ki.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,f=o.height,h=o.show;return h&&t.addShape("image",{attrs:Qt({x:-l/2,y:-f/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Gi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0]/2;o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-m,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:m,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-m,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:m,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,ki.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=Qt({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,ki.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),Hn.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:Ne.defaultNode.style.stroke,fill:Ne.defaultNode.style.fill,lineWidth:Ne.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ne.nodeLabel.style.fill,fontSize:Ne.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ne.defaultNode.linkPoints.size,lineWidth:Ne.defaultNode.linkPoints.lineWidth,fill:Ne.defaultNode.linkPoints.fill,stroke:Ne.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Qt({},Ne.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Gi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0],T=v[1];o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-m/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:m/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-T/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:T/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=Qt({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,u.mix)({},n,o.attr(),s);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),Hn.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Ne.defaultNode.style.stroke,fill:Ne.defaultNode.style.fill,lineWidth:Ne.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ne.nodeLabel.style.fill,fontSize:Ne.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ne.defaultNode.linkPoints.size,lineWidth:Ne.defaultNode.linkPoints.lineWidth,fill:Ne.defaultNode.linkPoints.fill,stroke:Ne.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Qt({},Ne.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:Qt({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Gi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0]/2,T=v[1]/2;o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-m,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:m,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-T,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:T,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=Qt({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),Hn.registerNode("diamond",{options:{size:[80,80],style:{stroke:Ne.defaultNode.style.stroke,fill:Ne.defaultNode.style.fill,lineWidth:Ne.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ne.nodeLabel.style.fill,fontSize:Ne.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ne.defaultNode.linkPoints.size,lineWidth:Ne.defaultNode.linkPoints.lineWidth,fill:Ne.defaultNode.linkPoints.fill,stroke:Ne.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Qt({},Ne.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:Qt({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Gi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0],T=v[1];o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-m/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:m/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-T/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:T/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=Qt({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),Hn.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:Ne.defaultNode.style.stroke,fill:Ne.defaultNode.style.fill,lineWidth:Ne.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ne.nodeLabel.style.fill,fontSize:Ne.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ne.defaultNode.linkPoints.size,lineWidth:Ne.defaultNode.linkPoints.lineWidth,fill:Ne.defaultNode.linkPoints.fill,stroke:Ne.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Qt({},Ne.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,f=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,m=a.offset;if(v){var T=-h/2,B=-c/2;(l==="up"||l==="down")&&(B+=m),(l==="left"||l==="right")&&(T+=m),t.addShape("image",{attrs:Qt({x:T,y:B},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),f},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,f=a.left,h=a.right,c=a.bottom,v=a.size,m=a.r,T=Gi(a,["top","left","right","bottom","size","r"]),B=this.getSize(r),Y=B[0];if(f){var Z=null,j=Y*Math.sin(1/3*Math.PI),ut=Y*Math.sin(1/3*Math.PI);s==="up"?Z=[-ut,j]:s==="down"?Z=[-ut,-j]:s==="left"&&(Z=[-ut,ut-j]),Z&&t.addShape("circle",{attrs:Qt(Qt({},T),{x:Z[0],y:Z[1],r:v/2||m||5}),className:"link-point-left",name:"link-point-left"})}if(h){var ht=null,j=Y*Math.sin(1/3*Math.PI),ut=Y*Math.sin(1/3*Math.PI);s==="up"?ht=[ut,j]:s==="down"?ht=[ut,-j]:s==="right"&&(ht=[ut,ut-j]),ht&&t.addShape("circle",{attrs:Qt(Qt({},T),{x:ht[0],y:ht[1],r:v/2||m||5}),className:"link-point-right",name:"link-point-right"})}if(l){var Et=null,j=Y*Math.sin(1/3*Math.PI),ut=Y*Math.sin(1/3*Math.PI);s==="up"?Et=[ut-j,-j]:s==="left"?Et=[ut,-j]:s==="right"&&(Et=[-ut,-j]),Et&&t.addShape("circle",{attrs:Qt(Qt({},T),{x:Et[0],y:Et[1],r:v/2||m||5}),className:"link-point-top",name:"link-point-top"})}if(c){var Ft=null,j=Y*Math.sin(1/3*Math.PI),ut=Y*Math.sin(1/3*Math.PI);s==="down"?Ft=[-ut+j,j]:s==="left"?Ft=[ut,j]:s==="right"&&(Ft=[-ut,j]),Ft&&t.addShape("circle",{attrs:Qt(Qt({},T),{x:Ft[0],y:Ft[1],r:v/2||m||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=Qt({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(ze){return ze.get("className")==="link-point-left"}),l=t.find(function(ze){return ze.get("className")==="link-point-right"}),f=t.find(function(ze){return ze.get("className")==="link-point-top"}),h=t.find(function(ze){return ze.get("className")==="link-point-bottom"}),c=n,v=s||l||f||h;v&&(c=v.attr());var m=(0,u.mix)({},c,r.linkPoints),T=m.fill,B=m.stroke,Y=m.lineWidth,Z=m.size/2;Z||(Z=m.r);var j=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},ut=j.left,ht=j.right,Et=j.top,Ft=j.bottom,jt=this.getSize(r),$t=jt[0],Wt={r:Z,fill:T,stroke:B,lineWidth:Y},re=null,ue=$t*Math.sin(1/3*Math.PI),oe=$t*Math.sin(1/3*Math.PI);o==="up"?re=[-oe,ue]:o==="down"?re=[-oe,-ue]:o==="left"&&(re=[-oe,oe-ue]),re&&(s?!ut&&ut!==void 0?s.remove():s.attr(Qt(Qt({},Wt),{x:re[0],y:re[1]})):ut&&t.addShape("circle",{attrs:Qt(Qt({},Wt),{x:re[0],y:re[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Ee=null;o==="up"?Ee=[oe,ue]:o==="down"?Ee=[oe,-ue]:o==="right"&&(Ee=[oe,oe-ue]),Ee&&(l?!ht&&ht!==void 0?l.remove():l.attr(Qt(Qt({},Wt),{x:Ee[0],y:Ee[1]})):ht&&t.addShape("circle",{attrs:Qt(Qt({},Wt),{x:Ee[0],y:Ee[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var _e=null;o==="up"?_e=[oe-ue,-ue]:o==="left"?_e=[oe,-ue]:o==="right"&&(_e=[-oe,-ue]),_e&&(f?!Et&&Et!==void 0?f.remove():f.attr(Qt(Qt({},Wt),{x:_e[0],y:_e[1]})):Et&&t.addShape("circle",{attrs:Qt(Qt({},Wt),{x:_e[0],y:_e[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Pe=null;o==="down"?Pe=[-oe+ue,ue]:o==="left"?Pe=[oe,ue]:o==="right"&&(Pe=[-oe,ue]),Pe&&(h?!Ft&&Ft!==void 0?h.remove():h.attr(Qt(Qt({},Wt),{x:Pe[0],y:Pe[1]})):Ft&&t.addShape("circle",{attrs:Qt(Qt({},Wt),{x:Pe[0],y:Pe[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Hn.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Ne.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],f=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=Gi(n,["show"]);return h&&t.addShape("rect",{attrs:Qt({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),f},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,v=Gi(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:Qt(Qt({},v),{x:f||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,v=Gi(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:Qt(Qt({},v),{x:f||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Gi(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0],T=v[1];o&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:-m/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:m/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:-T/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:Qt(Qt({},c),{x:0,y:T/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,m=s.show,T=s.width,B=-c/2+a.offset;m&&(B=-c/2+T+a.offset);var Y=a.style,Z=f.style,j=f.paddingTop;return(0,u.isString)(r.description)?(v=t.addShape("text",{attrs:Qt(Qt({},Y),{x:B,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Qt(Qt({},Z),{x:B,y:17+(j||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:Qt(Qt({},Y),{x:B,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=Qt({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],m=t.get("keyShape");m.attr(Qt(Qt({},a),{x:-c/2,y:-v/2,width:c,height:v}));var T=t.getContainer(),B=T.find(function(xr){return xr.get("className")==="rect-logo-icon"}),Y=B?B.attr():{},Z=(0,u.mix)({},Y,r.logoIcon),j=Z.width;j===void 0&&(j=this.options.logoIcon.width);var ut=r.logoIcon?r.logoIcon.show:void 0,ht=s.offset,Et=-c/2+j+ht;!ut&&ut!==void 0&&(Et=-c/2+ht);var Ft=T.find(function(xr){return xr.get("className")==="node-label"}),jt=T.find(function(xr){return xr.get("className")==="rect-description"});if(r.label)if(!Ft)T.addShape("text",{attrs:Qt(Qt({},s.style),{x:Et,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var $t=r.labelCfg?r.labelCfg.style:{},Wt=(0,u.mix)({},Ft.attr(),$t);r.label&&(Wt.text=r.label),Wt.x=Et,(0,u.isString)(r.description)&&(Wt.y=-5),jt&&(jt.resetMatrix(),jt.attr({x:Et})),Ft.resetMatrix(),Ft.attr(Wt)}if((0,u.isString)(r.description)){var re=f.paddingTop;if(!jt)T.addShape("text",{attrs:Qt(Qt({},f.style),{x:Et,y:17+(re||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var $t=r.descriptionCfg?r.descriptionCfg.style:{},ue=(0,u.mix)({},jt.attr(),$t);(0,u.isString)(r.description)&&(ue.text=r.description),ue.x=Et,jt.resetMatrix(),jt.attr(Qt(Qt({},ue),{y:17+(re||0)}))}}var oe=T.find(function(xr){return xr.get("className")==="pre-rect"});if(oe){var Ee=(0,u.mix)({},oe.attr(),r.preRect);oe.attr(Qt(Qt({},Ee),{x:-c/2,y:-v/2,height:v}))}if(B)if(!ut&&ut!==void 0)B.remove();else{var _e=Z.width,Pe=Z.height,ze=Z.x,He=Z.y,je=Z.offset,Ye=Gi(Z,["width","height","x","y","offset"]);B.attr(Qt(Qt({},Ye),{x:ze||-c/2+_e+je,y:He||-Pe/2,width:_e,height:Pe}))}else ut&&this.drawLogoIcon(r,T);var Ge=T.find(function(xr){return xr.get("className")==="rect-state-icon"}),ar=Ge?Ge.attr():{},nr=(0,u.mix)({},ar,r.stateIcon);if(Ge){!nr.show&&nr.show!==void 0&&Ge.remove();var hr=nr.width,Pe=nr.height,ze=nr.x,He=nr.y,Ue=nr.offset,lr=Gi(nr,["width","height","x","y","offset"]);Ge.attr(Qt(Qt({},lr),{x:ze||c/2-hr+Ue,y:He||-Pe/2,width:hr,height:Pe}))}else nr.show&&this.drawStateIcon(r,T);this.updateLinkPoints(r,T)}},"single-node"),Hn.registerNode("star",{options:{size:60,style:{stroke:Ne.defaultNode.style.stroke,fill:Ne.defaultNode.style.fill,lineWidth:Ne.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ne.nodeLabel.style.fill,fontSize:Ne.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ne.defaultNode.linkPoints.size,lineWidth:Ne.defaultNode.linkPoints.lineWidth,fill:Ne.defaultNode.linkPoints.fill,stroke:Ne.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Qt({},Ne.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:Qt({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,f=n.rightBottom,h=n.size,c=n.r,v=Gi(n,["top","left","right","leftBottom","rightBottom","size","r"]),m=this.getSize(r),T=m[0];if(s){var B=Math.cos((18+72*0)/180*Math.PI)*T,Y=Math.sin((18+72*0)/180*Math.PI)*T;t.addShape("circle",{attrs:Qt(Qt({},v),{x:B,y:-Y,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var B=Math.cos((18+72*1)/180*Math.PI)*T,Y=Math.sin((18+72*1)/180*Math.PI)*T;t.addShape("circle",{attrs:Qt(Qt({},v),{x:B,y:-Y,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var B=Math.cos((18+72*2)/180*Math.PI)*T,Y=Math.sin((18+72*2)/180*Math.PI)*T;t.addShape("circle",{attrs:Qt(Qt({},v),{x:B,y:-Y,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var B=Math.cos((18+72*3)/180*Math.PI)*T,Y=Math.sin((18+72*3)/180*Math.PI)*T;t.addShape("circle",{attrs:Qt(Qt({},v),{x:B,y:-Y,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(f){var B=Math.cos((18+72*4)/180*Math.PI)*T,Y=Math.sin((18+72*4)/180*Math.PI)*T;t.addShape("circle",{attrs:Qt(Qt({},v),{x:B,y:-Y,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,f=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-f]):o.push(["L",l,-f]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=Qt({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(ue){return ue.get("className")==="link-point-left"}),a=t.find(function(ue){return ue.get("className")==="link-point-right"}),o=t.find(function(ue){return ue.get("className")==="link-point-top"}),s=t.find(function(ue){return ue.get("className")==="link-point-left-bottom"}),l=t.find(function(ue){return ue.get("className")==="link-point-right-bottom"}),f=e,h=n||a||o||s||l;h&&(f=h.attr());var c=(0,u.mix)({},f,r.linkPoints),v=c.fill,m=c.stroke,T=c.lineWidth,B=c.size/2;B||(B=c.r);var Y=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},Z=Y.left,j=Y.right,ut=Y.top,ht=Y.leftBottom,Et=Y.rightBottom,Ft=this.getSize(r),jt=Ft[0],$t={r:B,fill:v,stroke:m,lineWidth:T},Wt=Math.cos((18+72*0)/180*Math.PI)*jt,re=Math.sin((18+72*0)/180*Math.PI)*jt;a?!j&&j!==void 0?a.remove():a.attr(Qt(Qt({},$t),{x:Wt,y:-re})):j&&t.addShape("circle",{attrs:Qt(Qt({},$t),{x:Wt,y:-re}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Wt=Math.cos((18+72*1)/180*Math.PI)*jt,re=Math.sin((18+72*1)/180*Math.PI)*jt,o?!ut&&ut!==void 0?o.remove():o.attr(Qt(Qt({},$t),{x:Wt,y:-re})):ut&&t.addShape("circle",{attrs:Qt(Qt({},$t),{x:Wt,y:-re}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Wt=Math.cos((18+72*2)/180*Math.PI)*jt,re=Math.sin((18+72*2)/180*Math.PI)*jt,n?!Z&&Z!==void 0?n.remove():n.attr(Qt(Qt({},$t),{x:Wt,y:-re})):Z&&t.addShape("circle",{attrs:Qt(Qt({},$t),{x:Wt,y:-re}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Wt=Math.cos((18+72*3)/180*Math.PI)*jt,re=Math.sin((18+72*3)/180*Math.PI)*jt,s?!ht&&ht!==void 0?s.remove():s.attr(Qt(Qt({},$t),{x:Wt,y:-re})):ht&&t.addShape("circle",{attrs:Qt(Qt({},$t),{x:Wt,y:-re}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Wt=Math.cos((18+72*4)/180*Math.PI)*jt,re=Math.sin((18+72*4)/180*Math.PI)*jt,l?!Et&&Et!==void 0?s.remove():l.attr(Qt(Qt({},$t),{x:Wt,y:-re})):Et&&t.addShape("circle",{attrs:Qt(Qt({},$t),{x:Wt,y:-re}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),Hn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:Qt({r:l,x:a,y:o},s)})}else if(n==="rect"){var f=e.width,h=e.height,c=a-f/2,v=o-h/2;t.setClip({type:"rect",attrs:Qt({x:c,y:v,width:f,height:h},s)})}else if(n==="ellipse"){var m=e.rx,T=e.ry;t.setClip({type:"ellipse",attrs:Qt({x:a,y:o,rx:m,ry:T},s)})}else if(n==="polygon"){var B=e.points;t.setClip({type:"polygon",attrs:Qt({points:B},s)})}else if(n==="path"){var Y=e.path;t.setClip({type:"path",attrs:Qt({path:Y},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=Qt({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Cu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(t){return typeof t}:Cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(i)}var Mu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},I4=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},$x=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Jh=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,u.each)(e,function(n){t.push(n)}),t},Eu=function(r){return r=Jh(r),r},Qx=function(r,t){return[r,{x:r.x,y:t.y},t]},Au=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},k4=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},qh=function(r,t){var e=k4(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},tc=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},ec=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},Tu=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},B4=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},D4=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},F4=function(r,t){return B4(r,t.x).concat(D4(r,t.y))},Fs=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},R4=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},Jx=function(r,t,e,n,a){return Fs(r,t)+Fs(r,e)+R4(r,[t,e,n,a])},N4=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},Y4=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},Pu=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,f=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return f>=0&&f<=1&&h>=0&&h<=1},rc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=ec(e),a=n[0],o=n[1],s=n[2],l=n[3];return Pu(r,t,a,o)||Pu(r,t,a,l)||Pu(r,t,o,s)||Pu(r,t,s,l)},G4=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!rc(o,t,e)&&!rc(o,t,n)&&a.push(o)}),Jh(a)},z4=function(r,t,e,n,a,o,s){var l=[],f=[t],h={},c={},v={};c[t.id]=0,v[t.id]=Jx(t,e,t);var m={};r.forEach(function(Y){m[Y.id]=Y});for(var T=function(){var Z,j=Infinity;if(f.forEach(function(ht){v[ht.id]<j&&(j=v[ht.id],Z=ht)}),Z===e){var ut=[];return N4(ut,m,h,e.id),{value:ut}}Y4(f,Z),l.push(Z),G4(r,Z,n,a).forEach(function(ht){if(l.indexOf(ht)===-1){f.indexOf(ht)===-1&&f.push(ht);var Et=v[Z.id]+Fs(Z,ht);c[ht.id]&&Et>=c[ht.id]||(h[ht.id]=Z.id,c[ht.id]=Et,v[ht.id]=c[ht.id]+Jx(ht,e,t,o,s))}})};f.length;){var B=T();if(Cu(B)==="object")return B.value}return[t,e]},X4=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},V4=function(r,t,e,n){var a=Fs(r,t),o=Fs(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},qx=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(X4(a,s,l)){var f=V4(a,s,l,t),h=f[0],c=f[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},H4=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Mu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Mu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Mu(t);else if(n.getType()==="combo"){var f=n.getKeyShape();s=f.getCanvasBBox()||Mu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if($x(o,s))return Eu(Qx(r,t));var h=Au(o,a),c=Au(s,a);if($x(h,c))return Eu(Qx(r,t));var v=qh(h,r),m=qh(c,t),T=I4([v,m]),B=tc(h,c),Y=tc(h,T),Z=tc(c,T),j=[];j=j.concat(ec(Y)),j=j.concat(ec(Z));var ut={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[T,Y,Z].forEach(function(Et){j=j.concat(F4(Et,ut).filter(function(Ft){return Tu(Ft,h)&&Tu(Ft,c)}))}),[{x:v.x,y:m.y},{x:m.x,y:v.y}].forEach(function(Et){Tu(Et,h)&&Tu(Et,c)&&j.push(Et)}),j.unshift(v),j.push(m),j=Jh(j);var ht=z4(j,v,m,o,s,r,t);return ht.unshift(r),ht.push(t),Eu(ht)};function Lu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lu=function(t){return typeof t}:Lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(i)}var W4=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},j4=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},U4=function(r,t){return[r,t]},Z4=function(r,t,e,n,a){return Eu(H4(r,t,e,n,a.offset))},K4={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:W4,fallbackRoute:Z4},SG={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:j4,fallbackRoute:U4},ra=function(r,t){var e=Math.floor(r/t);return e<0?0:e},$4=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Au(a.getBBox(),e),s=ra(o.minX,t);s<=ra(o.maxX,t);s+=1)for(var l=ra(o.minY,t);l<=ra(o.maxY,t);l+=1){var f=s+"-"+l;n[f]=!0}}),n},nc=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},t1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},e1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},r1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Au(t.getBBox(),o);for(var f in l)l[f]=ra(l[f],e.gridSize);var h=r.x>ra(s.minX,e.gridSize)&&r.x<ra(s.maxX,e.gridSize)&&r.y>ra(s.minY,e.gridSize)&&r.y<ra(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var m=v[c],T=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],f=0;f<4;f++){var B=T[f],Y=Ps(r,{x:r.x+m.stepX*l.width,y:r.y+m.stepY*l.height},B[0],B[1]);Y&&!rc(r,Y,t.getBBox())&&(Y.id=Y.x+"-"+Y.y,n.push(Y))}else{var Y=qh(l,r);Y.id=Y.x+"-"+Y.y,n.push(Y)}return n},n1=function(r,t,e,n,a){var o=(0,ki.default)(K4,a);o.obstacles=o.obstacles||[];var s=$4(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:ra(r.x,o.gridSize),y:ra(r.y,o.gridSize)},f={x:ra(t.x,o.gridSize),y:ra(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=f.x+"-"+f.y;var h=r1(l,e,o),c=r1(f,n,o);h.forEach(function($t){delete s[$t.id]}),c.forEach(function($t){delete s[$t.id]});for(var v={},m={},T={},B={},Y={},Z=0;Z<h.length;Z++){var j=h[Z];v[j.id]=j,B[j.id]=0,Y[j.id]=e1(j,c,o.distFunc)}for(var ut=function(Wt,re){var ue=nc(Wt,re),oe;if(T[Wt.id]){var _e=nc({x:parseFloat(T[Wt.id].split("-")[0]),y:parseFloat(T[Wt.id].split("-")[1])},Wt);oe=t1(_e,ue)}else{var Ee=nc(l,Wt);oe=t1(Ee,ue)}return oe},ht=function(Wt){var re=[t],ue={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt};for(ut(ue,f)&&re.unshift({x:ue.x===f.x?t.x:ue.x*o.gridSize,y:ue.y===f.y?t.y:ue.y*o.gridSize});T[Wt]&&T[Wt]!==Wt;){var oe={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt},Ee=T[Wt],_e={x:parseFloat(Ee.split("-")[0]),y:parseFloat(Ee.split("-")[1]),id:Ee},Pe=ut(_e,oe);Pe&&re.unshift({x:_e.x===oe.x?re[0].x:_e.x*o.gridSize,y:_e.y===oe.y?re[0].y:_e.y*o.gridSize}),Wt=Ee}var ze={x:parseFloat(Wt.split("-")[0]),y:parseFloat(Wt.split("-")[1]),id:Wt};return re[0].x=ze.x===l.x?r.x:re[0].x,re[0].y=ze.y===l.y?r.y:re[0].y,re.unshift(r),re},Et=o.maximumLoops,Ft=function(){var Wt,re=Infinity;for(var ue in v)Y[ue]<=re&&(re=Y[ue],Wt=v[ue]);if(!Wt)return"break";if(c.findIndex(function(Ye){return Ye.x===Wt.x&&Ye.y===Wt.y})>-1){var oe=ht(Wt.id);return{value:oe}}delete v[Wt.id],m[Wt.id]=!0;for(var Ee=0;Ee<o.directions.length;Ee++){var _e=o.directions[Ee],Pe={x:Wt.x+_e.stepX,y:Wt.y+_e.stepY,id:Wt.x+_e.stepX+"-"+(Wt.y+_e.stepY)};if(!m[Pe.id]){var ze=ut(Wt,Pe);if(!(ze>o.maxAllowedDirectionChange)&&!s[Pe.id]){v[Pe.id]||(v[Pe.id]=Pe);var He=o.distFunc(Wt,Pe)+(isNaN(o.penalties[ze])?o.gridSize:o.penalties[ze]),je=B[Wt.id]+He;B[Pe.id]&&je>=B[Pe.id]||(T[Pe.id]=Wt.id,B[Pe.id]=je,Y[Pe.id]=je+e1(Pe,c,o.distFunc))}}}Et-=1};Object.keys(v).length>0&&Et>0;){var jt=Ft();if(Lu(jt)==="object")return jt.value;if(jt==="break")break}return o.fallbackRoute(r,t,e,n,o)};Hn.registerEdge("polyline",{options:{color:Ne.defaultEdge.color,size:Ne.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Ne.defaultEdge.style.stroke,lineAppendWidth:Ne.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ne.edgeLabel.style.fill,fontSize:Ne.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:Qt({},Ne.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,u.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var f=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var m=this.getPath(l,f,h,c,v);((0,u.isArray)(m)&&m.length<=1||(0,u.isString)(m)&&m.indexOf("L")===-1)&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(m="M0 0, L0 0");var T=(0,u.mix)({},Ne.defaultEdge.style,n,{lineWidth:r.size,path:m});return T},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(j){return j.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,f=this.getControlPoints(r),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),r.style),v=r.sourceNode,m=r.targetNode,T=c.radius,B=this.options.routeCfg;B.offset=c.offset;var Y=this.getPath(h,v,m,T,B);((0,u.isArray)(Y)&&Y.length<=1||(0,u.isString)(Y)&&Y.indexOf("L")===-1)&&(Y="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(Y="M0 0, L0 0");var Z=(0,u.mix)(n,a.attr(),{lineWidth:o,path:Y},r.style);a&&a.attr(Z)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return qx(r,n);var s=[];return(0,u.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=n1(r[0],r[r.length-1],t,e,a);var f=qx(l,n);return f}l=n1(r[0],r[r.length-1],t,e,a);var h=Wm(l);return h}},"single-edge");var Q4={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,f="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return f}},J4={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},ts=Hn,q4={mat3:ma.wO,mix:Bs.default,deepMix:ki.default,transform:ma.vs},t6=Qt(Qt(Qt(Qt(Qt(Qt({},q4),D),tt),N),X),G),e6=t6,r6=function(){function i(r){this._cfgs=(0,ki.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,gn.default)(e,function(a,o){var s=(0,ru.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,gn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Oa=r6,i1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",n6=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:i1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||i1,f=(0,qn.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,qn.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);f.appendChild(h),(0,wn.Z)(f,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,wn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(f,a),this.set("container",f),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,wn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Oa),i6=n6,a6=d(38186),ic=d.n(a6);ic()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var o6=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,qn.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,wn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),f=s(t,l);(0,un.default)(f)?o.innerHTML=f:o.innerHTML=f.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(jt){h(jt.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),m=l.get("height"),T=o.getBoundingClientRect(),B=this.get("offsetX")||0,Y=this.get("offsetY")||0,Z=l.getContainer().offsetTop,j=l.getContainer().offsetLeft,ut=t.canvasX+j+B,ht=t.canvasY+Z+Y;ut+T.width>v&&(ut=t.canvasX-T.width-B+j),ht+T.height>m&&(ht=t.canvasY-T.height-Y+Z),(0,wn.Z)(o,{top:ht+"px",left:ut+"px",visibility:"visible"});var Et=function(jt){e.onMenuHide()};document.body.addEventListener("click",Et),this.set("handler",Et)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,wn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Oa),s6=o6,a1=Math.max,l6="default",u6="keyShape",f6="delegate",o1="svg",h6=function(i){Ln(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,u.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,qn.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),f=0,h=0,c=!1,v=0,m=0,T=0,B=0,Y=0,Z=0;l.addEventListener("dragstart",function(j){if(j.dataTransfer){var ut=new Image;ut.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",j.dataTransfer.setDragImage(ut,0,0),j.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,j.target===l){var ht=l.style;v=parseInt(ht.left,10),m=parseInt(ht.top,10),T=parseInt(ht.width,10),B=parseInt(ht.height,10),!(T>n[0]||B>n[1])&&(Z=a.getZoom(),Y=t.get("ratio"),c=!0,f=j.clientX,h=j.clientY)}},!1),l.addEventListener("drag",function(j){if(!(!c||(0,Mi.default)(j.clientX)||(0,Mi.default)(j.clientY))){var ut=f-j.clientX,ht=h-j.clientY;(v-ut<0||v-ut+T>=n[0])&&(ut=0),(m-ht<0||m-ht+B>=n[1])&&(ht=0),v-=ut,m-=ht,(0,wn.Z)(l,{left:v+"px",top:m+"px"}),a.translate(ut*Z/Y,ht*Z/Y),f=j.clientX,h=j.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),f=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(f,h),m=this.get("viewport");m||this.initViewport();var T=s.getZoom(),B=(v.x-c.x)*t,Y=(v.y-c.y)*t,Z=c.x*t+a,j=c.y*t+o,ut=Z+B,ht=j+Y;Z<0&&(B+=Z,Z=0),ut>l[0]&&(B=B-(ut-l[0])),j<0&&(Y+=j,j=0),ht>l[1]&&(Y=Y-(ht-l[1])),this.set("ratio",t);var Et=Z+"px",Ft=j+"px";(0,wn.Z)(m,{left:Et,top:Ft,width:B+"px",height:Y+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===o1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,gn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,gn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),f=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(f,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,gn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,gn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var f={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(f)}else s=n.addShape("rect",{attrs:Qt({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,qn.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,un.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,qn.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var f,h=e.get("renderer");h===o1?f=new Is.Z({container:l,width:n[0],height:n[1]}):f=new Eo.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",f),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case l6:this.updateGraphShapes();break;case u6:this.updateKeyShapes();break;case f6:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var f=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(f.width)&&(c=a1(f.width,c),v=a1(f.height,v)),c+=2*s,v+=2*s;var m=Math.min(n[0]/c,n[1]/v),T=[1,0,0,0,1,0,0,0,1],B=0,Y=0;Number.isFinite(f.minX)&&(B=-f.minX),Number.isFinite(f.minY)&&(Y=-f.minY);var Z=(n[0]-(c-2*s)*m)/2,j=(n[1]-(v-2*s)*m)/2;T=La(T,[["t",B,Y],["s",m,m],["t",Z,j]]),l.setMatrix(T),this.set("ratio",m),this.set("totaldx",Z+B*m),this.set("totaldy",j+Y*m),this.set("dx",Z),this.set("dy",j),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Oa),c6=h6;function Ia(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function v6(i,r){return i.x*r.x+i.y*r.y}function s1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var d6=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(ht){(ht.x===null||!ht.y===null||ht.x===void 0||!ht.y===void 0)&&(s=!0),o[ht.id]=ht}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),f=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),m=e.get("iterations"),T=e.get("iterRate"),B=e.get("lambda"),Y=0;Y<v;Y++){for(var Z=function(Et){var Ft=[];n.forEach(function(jt,$t){if(jt.source!==jt.target){var Wt=o[jt.source],re=o[jt.target];Ft[$t]=e.getEdgeForces({source:Wt,target:re},$t,l,B);for(var ue=0;ue<l+1;ue++)h[$t][ue].x+=Ft[$t][ue].x,h[$t][ue].y+=Ft[$t][ue].y}})},j=0;j<m;j++)Z(j);B=B/2,l*=f,m*=T,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(ht,Et){ht.source!==ht.target&&(ht.shape="polyline",ht.type="polyline",ht.controlPoints=h[Et].slice(1,h[Et].length-1))});var ut=e.get("graph");ut.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var f=a[s.source],h=a[s.target];if(t===1)o[l].push({x:f.x,y:f.y}),o[l].push({x:.5*(f.x+h.x),y:.5*(f.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Ia({x:f.x,y:f.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),m=v,T=[{x:f.x,y:f.y}];o[l].forEach(function(B,Y){if(Y!==0){for(var Z=Ia(B,o[l][Y-1]);Z>m;){var j=m/Z,ut={x:o[l][Y-1].x,y:o[l][Y-1].y};ut.x+=j*(B.x-o[l][Y-1].x),ut.y+=j*(B.y-o[l][Y-1].y),T.push(ut),Z-=m,m=v}m-=Z}}),T.push({x:h.x,y:h.y}),o[l]=T}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Ia(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,f){(!s[f]||s[f]===void 0)&&(s[f]=[])}),n.forEach(function(l,f){var h=o[l.source],c=o[l.target];n.forEach(function(v,m){if(!(m<=f)){var T=o[v.source],B=o[v.target],Y=t.getBundleScore({source:h,target:c},{source:T,target:B});Y>=a&&(s[f].push(m),s[m].push(f))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Ia({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Ia({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=v6({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Ia(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=s1(e.source,t),a=s1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Ia(o,s)/Ia(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),f=l/(Ia(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},m=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},f),T=o.getElectrostaticForce(c,e);v.x=a*(m.x+T.x),v.y=a*(m.y+T.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],f={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=Ia(s[h][t],s[e][t]),m=1/v;f.x+=c.x*m,f.y+=c.y*m}}),f},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Oa),p6=d6,_u=.05,l1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},g6=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,Yn.d9)(l1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-_u:a=1/(1-_u);var f=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-_u:o=1/(1-_u);var l=e.get("maxR"),f=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(f||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var f=e.get("r");e.set("molecularParam",(o+1)*f);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),f=e.get("minD");if(s<l&&s>f){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),f=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),m=a.getNodes(),T=m.length,B=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(B=n.get("cacheCenter"));var Y=n.get("delegateCenterDiff");Y&&(B.x+=Y.x,B.y+=Y.y),n.updateDelegate(B,f);for(var Z=0;Z<T;Z++){var j=m[Z].getModel(),ut=j.x,ht=j.y;if(!(isNaN(ut)||isNaN(ht))){var Et=(ut-B.x)*(ut-B.x)+(ht-B.y)*(ht-B.y);if(!isNaN(Et)&&Et<h&&Et!==0){var Ft=Math.sqrt(Et),jt=v*Ft/(c*Ft+f),$t=(ut-B.x)/Ft,Wt=(ht-B.y)/Ft;if(j.x=$t*jt+B.x,j.y=Wt*jt+B.y,s[j.id]||(s[j.id]={x:ut,y:ht,texts:[]}),o.push(j),l&&2*Ft<f)for(var re=m[Z],ue=re.getContainer(),oe=ue.getChildren(),Ee=oe.length,_e=0;_e<Ee;_e++){var Pe=oe[_e];Pe.get("type")==="text"&&(s[j.id].texts.push({visible:Pe.get("visible"),shape:Pe}),Pe.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,f=n[l];s.x=f.x,s.y=f.y;for(var h=f.texts.length,c=0;c<h;c++){var v=f.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,f=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(f)||e.set("minR",f);var m=e.get("d"),T=e.get("r");if(e.set("molecularParam",(m+1)*T),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var B=e.get("dPercentText");B&&(B.remove(),B.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var B=e.get("dPercentText");B&&(B.remove(),B.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),f=a.get("delegateStyle")||l1;s=l.addShape("circle",{attrs:Qt({r:e/1.5,x:t.x,y:t.y},f),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(T){a.scaleRByWheel(T)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(T){a.set("dragging",!0),a.set("cacheCenter",{x:T.x,y:T.y}),a.set("dragPrePos",{x:T.x,y:T.y})}),s.on("drag",function(T){a.scaleRByDrag(T)}),s.on("dragend",function(T){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(T){n.scaleDByWheel(T)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(T){a.set("dragging",!0),a.set("cacheCenter",{x:T.x,y:T.y}),a.set("dragPrePos",{x:T.x,y:T.y})}),s.on("drag",function(T){n.scaleDByDrag(T)}),s.on("dragend",function(T){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var m=o.get("group");c=m.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Oa),y6=g6;ic()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var m6=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,Yn.HD)(a)&&(o=(0,qn.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var f=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(T){return T.nodeName==="LI"});if(v.length!==0){var m=v[0].getAttribute("code");!m||(f?f(m,e):t.handleDefaultOperator(m,e))}});var h=this.get("position");h&&(0,wn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,f=s.redoStack,h=l.length,c=f.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,Yn.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.removeItem(f.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,Yn.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Oa),x6=m6;ic()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var b6=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,qn.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,wn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,un.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,wn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,wn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,f=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,m=c.y;v+=l,m+=f;var T=n.getBoundingClientRect();v+T.width>o&&(v=v-T.width-l),m+T.height>s&&(m=m-T.height-f),(0,wn.Z)(n,{left:v+"px",top:m+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Oa),w6=b6,u1=d(89539);function S6(i){return(0,u.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function f1(i){return S6(i)}function C6(i){if(i.length<=2)return f1(i);var r=[];(0,u.each)(i,function(o){(0,u.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=Us.catmullRom2Bezier(r,!1),e=(0,u.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function M6(i,r,t,e){e===void 0&&(e=!0);var n=new Or.Linear({values:i}),a=new Or.Category({values:(0,u.map)(i,function(s,l){return l})}),o=(0,u.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?C6(o):f1(o)}function E6(i,r,t){for(var e=new Or.Linear({values:i}),n=new Or.Category({values:(0,u.map)(i,function(c,v){return v})}),a=(0,u.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],f={x:l[0],y:l[1],y0:t,size:5},h=P6(f);o.push.apply(o,h)}return L6(o)}function A6(i,r){var t=new Or.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function T6(i,r,t,e){var n=Ts(i),a=A6(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function P6(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,u1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,u1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var f=[{x:s,y:a},{x:s,y:o}];return f.push({x:l,y:o},{x:l,y:a}),f}function L6(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var CG={opacity:.5},_6={stroke:"#C5C5C5",strokeOpacity:.85},O6={fill:"#CACED4",opacity:.85},I6=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,f=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,m=v===void 0?!1:v,T=r.data,B=T===void 0?[]:T,Y=r.lineStyle,Z=r.areaStyle,j=r.group,ut=r.interval,ht=ut===void 0?null:ut;this.group=j,this.x=e,this.y=a,this.width=s,this.height=f,this.data=B,this.smooth=c,this.isArea=m,this.lineStyle=Object.assign({},_6,Y),this.areaStyle=Object.assign({},O6,Z),this.intervalConfig=ht,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,f=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var m=M6(o,n,a,s);if(v.addShape("path",{attrs:Qt({path:m},h)}),l){var T=T6(m,n,a,o);v.addShape("path",{attrs:Qt({path:T},c)})}}this.intervalConfig&&v.addShape("path",{attrs:Qt({path:E6(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),k6=I6,B6={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},D6={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},F6=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,f=r.width,h=f===void 0?2:f,c=r.height,v=c===void 0?24:c,m=r.style,T=m===void 0?{}:m;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=Qt(Qt({},B6),T):n==="simple"&&(this.style=Qt(Qt({},D6),T)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,u.isNumber)(r)&&(this.x=r),(0,u.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,f=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),h1=F6,R6=function(){function i(r){this.config=(0,u.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,u.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:Qt({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),N6=R6,Y6="#ccc",G6="green",z6={fill:"#607889",stroke:"#607889"},X6={fill:"#fff"},V6={fill:"green"},H6={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Rs=110,ka=50,W6=function(){function i(r){this.controllerCfg=(0,u.deepMix)({},H6,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?Y6:s,f=r.stroke,h=f===void 0?G6:f,c=r.playBtnStyle,v=c===void 0?z6:c,m=r.preBtnStyle,T=m===void 0?X6:m,B=r.nextBtnStyle,Y=B===void 0?V6:B,Z=e/2-5,j=a+10,ut=this.group.addShape("rect",{attrs:{x:n,y:j,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:j,r:Z}):this.playButton=new N6({group:this.group,x:t/2,y:j+Z+5,r:Z,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:Qt({path:this.getPreMarkerPath(t/2-5*Z,j+Z+5,Z*.5)},T),name:"preStepBtn"}),this.group.addShape("path",{attrs:Qt({path:this.getPreMarkerPath(t/2-4.5*Z,j+Z+5,Z*.5)},T),name:"preStepBtn"}),this.group.addShape("path",{attrs:Qt({path:this.getNextMarkerPath(t/2+5*Z,j+Z+5,Z*.5)},Y),name:"nextStepBtn"}),this.group.addShape("path",{attrs:Qt({path:this.getNextMarkerPath(t/2+4.5*Z,j+Z+5,Z*.5)},Y),name:"nextStepBtn"}),ut.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,f=0;f<5;f++){var h=t+15+f*(f+1)+o;a.addShape("rect",{attrs:{x:e-(n?ka:Rs),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var f=0;f<4;f++)a.addShape("rect",{attrs:{x:e-(n?ka:Rs),y:this.speedAxisY[f]+2,width:15,height:2*f+1,fill:"#fff",opacity:.3},speed:s[f]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?ka:Rs)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?ka:Rs),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-ka,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-ka+3,this.speedAxisY[1]+6],["L",r-ka+7,this.speedAxisY[1]+10],["L",r-ka+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-ka+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?ka:Rs),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),c1=W6,v1="timelinestart",d1="timelineend",Ba="valueChange",Ou="timebarConfigChanged",Iu="playPauseBtn",ku="nextStepBtn",Bu="preStepBtn",j6={fill:"#416180",opacity:.05},U6={fill:"#416180",opacity:.15,radius:5},Z6={fill:"#5B8FF9",opacity:.3,cursor:"move"},ac=2,K6={width:ac,height:24},$6={textBaseline:"middle",fill:"#000",opacity:.45},Q6=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(Ge){return function(ar){t.currentHandler=Ge;var nr=ar.originalEvent;nr.stopPropagation(),nr.preventDefault(),t.prevX=(0,u.get)(nr,"touches.0.pageX",nr.pageX);var hr=t.canvas.get("container");hr.addEventListener("mousemove",t.onMouseMove),hr.addEventListener("mouseup",t.onMouseUp),hr.addEventListener("mouseleave",t.onMouseUp),hr.addEventListener("touchmove",t.onMouseMove),hr.addEventListener("touchend",t.onMouseUp),hr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(Ge){Ge.stopPropagation(),Ge.preventDefault();var ar=(0,u.get)(Ge,"touches.0.pageX",Ge.pageX),nr=ar-t.prevX,hr=t.adjustOffsetRange(nr/t.width);t.updateStartEnd(hr),t.updateUI(),t.prevX=ar},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var Ge=t.canvas.get("container");Ge&&(Ge.removeEventListener("mousemove",t.onMouseMove),Ge.removeEventListener("mouseup",t.onMouseUp),Ge.removeEventListener("mouseleave",t.onMouseUp),Ge.removeEventListener("touchmove",t.onMouseMove),Ge.removeEventListener("touchend",t.onMouseUp),Ge.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,f=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,m=r.controllerCfg,T=m===void 0?{speed:1}:m,B=r.backgroundStyle,Y=B===void 0?{}:B,Z=r.foregroundStyle,j=Z===void 0?{}:Z,ut=r.handlerStyle,ht=ut===void 0?{}:ut,Et=r.textStyle,Ft=Et===void 0?{}:Et,jt=r.start,$t=jt===void 0?0:jt,Wt=r.end,re=Wt===void 0?1:Wt,ue=r.minText,oe=ue===void 0?"":ue,Ee=r.maxText,_e=Ee===void 0?"":Ee,Pe=r.group,ze=r.graph,He=r.canvas,je=r.ticks,Ye=r.type;this.graph=ze,this.canvas=He,this.group=Pe,this.timeBarType=Ye,this.x=n,this.y=o,this.width=l,this.height=f,this.padding=c,this.ticks=je,this.trendCfg=v,this.controllerCfg=T,this.currentSpeed=T.speed,Ye==="trend"?this.backgroundStyle=Qt(Qt({},j6),Y):Ye==="simple"&&(this.backgroundStyle=Qt(Qt({},U6),Y)),this.foregroundStyle=Qt(Qt({},Z6),j),this.handlerStyle=Qt(Qt({},K6),ht),this.textStyle=Qt(Qt({},$6),Ft),this.currentMode="range",this.start=$t,this.end=re,this.minText=oe,this.maxText=_e,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,f=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(f,0)),(0,u.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,u.size)((0,u.get)(this.trendCfg,"data"))){var o=new k6(Qt(Qt({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:Qt({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:Qt({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:Qt({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:Qt({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:Qt({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Qt({x:0,y:this.y,height:n},this.foregroundStyle)});var f=(0,u.get)(this.handlerStyle,"width",2),h=(0,u.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new h1(Qt({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new h1(Qt({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var m=this.ticks,T=e/(m.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(Y){Y.destroy()});var B=-Infinity;this.textList=m.map(function(Y,Z){r.tickPosList.push(r.x+Z*T);var j=r.group.addShape("text",{attrs:{x:r.x+Z*T,y:r.y+n+5,text:Y,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),ut=r.group.addShape("line",{attrs:{x1:r.x+Z*T,y1:r.y+n+2,x2:r.x+Z*T,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),ht=j.getBBox();return ht.minX>B?(j.show(),ut.show(),B=ht.minX+ht.width+10):(j.hide(),ut.hide()),j}),this.controllerBtnGroup=new c1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Iu+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(ku+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(Bu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Ou,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,u.get)(this.handlerStyle,"width",ac);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,u.each)(o,function(l,f){return r.minTextShape.attr(f,l)}),this.maxHandlerShape.setX(e-n/2),(0,u.each)(s,function(l,f){return r.maxTextShape.attr(f,l)}),this.currentMode==="range"?this.graph.emit(Ba,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Ba,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,u.get)(this.handlerStyle,"width",ac),o=this.minTextShape,s=this.maxTextShape,l=r[0],f=r[1],h=!1;l>f&&(t=[f,l],l=t[0],f=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),m=null,T=null;return this.timeBarType==="trend"?(m=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},T=v.width>this.width-f-n?{x:f-a/2-n,textAlign:"right"}:{x:f+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(m=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},T=v.width>this.width-f-n?{x:f-a/2-n,textAlign:"center"}:{x:f+a/2+n,textAlign:"center"}),h?[T,m]:[m,T]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(v1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(d1,null))},i.prototype.destory=function(){this.graph.off(Ba);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(Iu+":click"),r.off(ku+":click"),r.off(Bu+":click"),r.off(Ou),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),J6=Q6,MG={opacity:.5,fill:"#000"},EG={opacity:.5,fill:"#000",r:5},AG={fill:"#fff",fontSize:12},q6=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,f=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,m=v===void 0?"#000":v,T=r.textColor,B=T===void 0?"#fff":T,Y=r.opacity,Z=Y===void 0?.8:Y,j=r.fontSize,ut=j===void 0?12:j;this.container=o,this.className=c,this.backgroundColor=m,this.textColor=B,this.x=e,this.y=a,this.text=s,this.padding=f,this.opacity=Z,this.fontSize=ut,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,f=r.opacity,h=r.fontSize,c=r.container,v=(0,qn.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+f+'"></div>');(0,u.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,wn.Z)(v,{visibility:"hidden",top:0,left:0});var m=(0,qn.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");m.innerHTML=s,v.appendChild(m),r.backgroundDOM=m;var T=(0,qn.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(T),r.arrowDOM=T,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,f=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,wn.Z)(t.container,{top:-f-c+"px",left:n+"px",visibility:"visible"}),(0,wn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,wn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:f+"px"});var v=n-l/2,m=n+l/2;v<0?(0,wn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):m>t.parentWidth&&(0,wn.Z)(t.backgroundDOM,{marginLeft:-l/2-m+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,wn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),t8=q6,e8={fill:"#5B8FF9"},r8={fill:"#e6e8e9"},n8=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,f=r.start,h=r.end,c=r.x,v=c===void 0?0:c,m=r.y,T=m===void 0?0:m,B=r.tickLabelFormatter,Y=r.selectedTickStyle,Z=Y===void 0?e8:Y,j=r.unselectedTickStyle,ut=j===void 0?r8:j,ht=r.tooltipBackgroundColor,Et=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=f,this.end=h,this.tickLabelFormatter=B,this.selectedTickStyle=Z,this.unselectedTickStyle=ut,this.x=v,this.y=T,this.tooltipBackgroundColor=ht,this.tooltipFomatter=Et,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,f=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,m=4,T=3*n+m+v,B=e-T-2*n,Y=2,Z=a.length,j=(c-Y*(Z-1))/Z;this.tickWidth=j;var ut=this.sliceGroup,ht=[],Et=[],Ft=Math.round(Z*o),jt=Math.round(Z*s);this.startTickRectId=Ft,this.endTickRectId=jt,a.forEach(function(Wt,re){var ue=re>=Ft&&re<=jt,oe=ue?f:h,Ee=ut.addShape("rect",{attrs:Qt({x:n+re*(j+Y),y:n,width:j,height:B},oe),draggable:!0,name:"tick-rect-"+re}),_e=ut.addShape("rect",{attrs:{x:n+re*j+Y*(2*re-1)/2,y:n,width:re===0||re===Z-1?j+Y/2:j+Y,height:B,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+re});_e.toFront();var Pe=Ee.getBBox(),ze=(Pe.minX+Pe.maxX)/2;ht.push({rect:Ee,pickRect:_e,value:Wt.date,x:ze,y:Pe.minY});var He;if(l?(He=l(Wt),!(0,u.isString)(He)&&He&&(He=Wt.date)):re%Math.round(Z/10)==0&&(He=Wt.date),He){Et.push(He);var je=Pe.maxY+n*2;ut.addShape("line",{attrs:{stroke:"#BFBFBF",x1:ze,y1:je,x2:ze,y2:je+m}});var Ye=je+m+n,Ge=ut.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:ze,y:Ye,textAlign:"center",text:He,textBaseline:"top",fontSize:10},capture:!1}),ar=Ge.getBBox();ar.maxX>t?Ge.attr("textAlign","right"):ar.minX<0&&Ge.attr("textAlign","left")}}),this.tickRects=ht;var $t=this.group;this.currentSpeed=1,this.controllerBtnGroup=new c1({group:$t,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var m=r.tickRects,T=r.unselectedTickStyle;m.forEach(function(j){j.rect.attr(T)});var B=r.selectedTickStyle;m[v].rect.attr(B),r.startTickRectId=v,r.endTickRectId=v;var Y=m.length,Z=v/Y;r.graph.emit(Ba,{value:[Z,Z]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(j){j.rect.attr(v)});var m=h.target,T=parseInt(m.get("name").split("-")[2],10),B=r.selectedTickStyle;c[T].rect.attr(B),r.startTickRectId=T;var Y=c.length,Z=T/Y;r.graph.emit(Ba,{value:[Z,Z]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,m=r.tickRects,T=r.selectedTickStyle,B=r.unselectedTickStyle,Y=0;Y<m.length;Y++){var Z=Y>=v&&Y<=c?T:B;m[Y].rect.attr(Z)}var j=m.length;r.endTickRectId=c;var ut=v/j,ht=c/j;r.graph.emit(Ba,{value:[ut,ht]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var m=r.selectedTickStyle,T=r.tickRects;T[v].rect.attr(m),r.endTickRectId=v;var B=T.length,Y=c/B,Z=v/B;r.graph.emit(Ba,{value:[Y,Z]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new t8({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var m=v.target;if(m.get("type")==="rect"){var T=parseInt(m.get("name").split("-")[2],10),B=o.getClientByPoint(l[T].x,l[T].y);s.show({x:l[T].x,y:l[T].y,clientX:B.x,clientY:B.y,text:a?a(l[T].value):l[T].value})}}),c.on("mouseleave",function(v){s.hide()})});var f=this.group;f.on(Iu+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),f.on(ku+":click",function(){r.updateStartEnd(1)}),f.on(Bu+":click",function(){r.updateStartEnd(-1)}),f.on(Ou,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(v1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(d1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var f=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(Ba,{value:[f,h]})}},i.prototype.destory=function(){this.graph.off(Ba);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(Iu+":click"),r.off(ku+":click"),r.off(Bu+":click"),r.off(Ou),this.sliceGroup.destroy()},i}(),i8=n8,a8=8,o8=26,s8=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),f;s?f=s:(f=(0,qn.Z)("<div class='"+o+"'></div>"),(0,wn.Z)(f,{position:"relative"})),l.appendChild(f),this.set("timeBarContainer",f);var h,c=t.get("renderer");c==="SVG"?h=new Is.Z({container:f,width:n,height:a}):h=new Eo.Z({container:f,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,f=t.slider,h=t.controllerCfg,c=l.data,v=Gi(l,["data"]),m=e-2*o,T=s==="trend"?o8:a8,B=this.get("graph"),Y=this.get("timeBarGroup"),Z=this.get("canvas"),j=null;if(s==="trend"||s==="simple")j=new J6(Qt(Qt({graph:B,canvas:Z,group:Y,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:m,height:T,padding:o,trendCfg:Qt(Qt({},v),{data:c.map(function(ht){return ht.value})})},f),{ticks:c.map(function(ht){return ht.date}),handlerStyle:Qt(Qt({},f.handlerStyle),{height:f.height||T}),controllerCfg:h}));else if(s==="tick"){var ut=this._cfgs.tick;j=new i8(Qt({graph:B,canvas:Z,group:Y,x:n+o,y:a+o},ut))}this.set("timebar",j)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),f=Math.round(n.length*e[1]);f=f>=n.length?n.length-1:f;var h=n[l].date,c=n[f].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var m=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=m);var T=this.cacheGraphData.nodes.filter(function(Z){return Z.date>=h&&Z.date<=c}),B=T.map(function(Z){return Z.id}),Y=this.cacheGraphData.edges.filter(function(Z){return B.includes(Z.source)&&B.includes(Z.target)});s.changeData({nodes:T,edges:Y})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(Ba,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Oa),l8=s8;function u8(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var f8=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,qn.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,f=!1,h=0,c=0,v=0,m=0,T=0,B=0;a.addEventListener("mousedown",function(Y){if(e.refresh=!1,Y.target===o){var Z=o.style;v=parseInt(Z.width,10),m=parseInt(Z.height,10);var j=t.get("width"),ut=t.get("height");v>j||m>ut||(B=n.getZoom(),T=t.get("ratio"),f=!0,s=Y.clientX,l=Y.clientY)}},!1),a.addEventListener("mousemove",function(Y){if(!(!f||(0,Mi.default)(Y.clientX)||(0,Mi.default)(Y.clientY))){var Z=t.get("width"),j=t.get("height"),ut=o.style;h=parseInt(ut.left,10),c=parseInt(ut.top,10),v=parseInt(ut.width,10),m=parseInt(ut.height,10);var ht=s-Y.clientX,Et=l-Y.clientY;h-ht<0?ht=h:h-ht+v>=Z&&(ht=0),c-Et<0?Et=c:c-Et+m>=j&&(Et=0),h-=ht,c-=Et,(0,wn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(ht*B/T,Et*B/T),s=Y.clientX,l=Y.clientY}},!1),a.addEventListener("mouseleave",function(){f=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){f=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,f=a.getGroup(),h=f.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],m={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(m.width=v[0],m.height=m.width/l):(m.height=v[1],m.width=m.height*l),m.minX=c[0]-m.width/2,m.minY=c[1]-m.height/2;var T=f.getMatrix();T||(T=[1,0,0,0,1,0,0,0,1]);var B=ja.invert([],T),Y=Ls({x:m.minX,y:m.minY},B),Z=a.getCanvasByPoint(Y.x,Y.y),j=this.get("viewport");j||this.initViewport();var ut=o/m.width,ht=ut*e,Et=ut*n,Ft=e*-Z.x/m.width,jt=n*-Z.y/m.height,$t=Ft+ht,Wt=jt+Et;Ft<0&&(ht+=Ft,Ft=0),$t>e&&(ht=ht-($t-e)),jt<0&&(Et+=jt,jt=0),Wt>n&&(Et=Et-(Wt-n)),this.set("ratio",t);var re=Ft+"px",ue=jt+"px";(0,wn.Z)(j,{left:re,top:ue,width:ht+"px",height:Et+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),f=t.get("width"),h=t.get("height");!f&&!h&&(f=200),f?(h=o*f,t.set("height",h)):(f=1/o*h,t.set("width",f));var c=(0,qn.Z)("<div class='"+s+"' style='width: "+f+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,un.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,qn.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var m=(0,qn.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(m),t.set("containerDOM",v),t.set("containerSpan",m);var T=(0,qn.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",T),t.updateImgSize(),m.appendChild(T),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=u8(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,qn.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Oa),h8=f8,p1=.05,g1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},c8=function(i){Ln(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,Yn.d9)(g1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-p1:a=1/(1-p1);var f=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),f={x:t.x,y:t.y};e.updateDelegate(f,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(Z){Z.remove(),Z.destroy()}),c=[],a.forEach(function(Z){var j=Z.getModel(),ut=j.x,ht=j.y;_s({x:ut,y:ht},f)<s&&(o[j.id]=Z)});var v=n.getEdges(),m=[];v.forEach(function(Z){var j=Z.getModel(),ut=j.source,ht=j.target;h(j)&&(l==="only-source"||l==="one"?o[ut]&&!o[ht]&&m.push(Z):l==="only-target"||l==="one"?o[ht]&&!o[ut]&&m.push(Z):l==="both"&&o[ut]&&o[ht]&&m.push(Z))});var T=e.get("showNodeLabel"),B=e.get("showEdgelabel"),Y=n.get("group");m.forEach(function(Z){var j=Z.get("group").get("children");j.forEach(function(ut){var ht=ut.get("type"),Et=Y.addShape(ht,{attrs:ut.attr()});c.push(Et),T&&ht==="text"&&Et.set("visible",!0)})}),Object.keys(o).forEach(function(Z){var j=o[Z],ut=j.get("group").clone();if(Y.add(ut),c.push(ut),B)for(var ht=ut.get("children"),Et=0;Et<ht.length;Et++){var Ft=ht[Et];Ft.get("type")==="text"&&Ft.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,f=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(f==="node"||f==="both")&&e.set("showNodeLabel",!0),(f==="edge"||f==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||g1;o=s.addShape("circle",{attrs:Qt({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(f){n.scaleRByWheel(f)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Oa),v8=c8,Vi={Menu:s6,Grid:i6,Minimap:c6,Bundling:p6,ToolBar:x6,Tooltip:w6,Fisheye:y6,TimeBar:l8,ImageMinimap:h8,EdgeFilterLens:v8};function d8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function y1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&y1(i,n,r,e)}),e.leave({current:r,previous:t})}function m1(i,r,t){var e=null,n=i.findById(r);y1(i,n,e,d8(t))}var p8=function(){function i(){this.linkedList=new Gx}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),g8=p8;function y8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var m8=function(r,t,e){var n=y8(e),a=new g8,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},x8=m8;function b8(i){for(var r=[],t={},e=[],n=function l(f){e.push(f),t[f.get("id")]=!0;for(var h=f.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function x1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var m=v.getNeighbors("target").filter(function(j){return i.indexOf(j)>-1}),T=0;T<m.length;T++){var B=m[T];!e[B.get("id")]&&e[B.get("id")]!==0?(c(B),n[v.get("id")]=Math.min(n[v.get("id")],n[B.get("id")])):t[B.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[B.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var Y=[];r.length>0;){var Z=r.pop();if(t[Z.get("id")]=!1,Y.push(Z),Z===v)break}Y.length>0&&a.push(Y)}},l=0,f=i;l<f.length;l++){var h=f[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function b1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?x1(e):b8(e)}var w8=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(f){n[f.getID()]=f});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var m=c,T=v;T.getID()!==c.getID();)t[m.getID()]=T,m=T,T=e[T.getID()];t[m.getID()]=T}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];m1(r,l,s)}return t},w1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=b1(r,!1),f=0,h=l;f<h.length;f++){var c=h[f];if(!!c.length)for(var v=c[0],m=v.get("id"),T=[v],B=(n={},n[m]=v,n),Y=(a={},a[m]=new Set,a);T.length>0;)for(var Z=T.pop(),j=Z.get("id"),ut=Z.getNeighbors(),ht=0;ht<ut.length;ht+=1){var Et=ut[ht],Ft=Et.get("id");if(Ft===j)s.push((o={},o[Et.getID()]=Z,o));else if(!(Ft in Y))B[Ft]=Z,T.push(Et),Y[Ft]=new Set([Z]);else if(!Y[j].has(Et)){for(var jt=!0,$t=[Et,Z],Wt=B[j];Y[Ft].size&&!Y[Ft].has(Wt)&&($t.push(Wt),Wt!==B[Wt.getID()]);)Wt=B[Wt.getID()];if($t.push(Wt),t&&e?(jt=!1,$t.findIndex(function(oe){return t.indexOf(oe.get("id"))>-1})>-1&&(jt=!0)):t&&!e&&$t.findIndex(function(oe){return t.indexOf(oe.get("id"))>-1})>-1&&(jt=!1),jt){for(var re={},ue=1;ue<$t.length;ue+=1)re[$t[ue-1].getID()]=$t[ue];$t.length&&(re[$t[$t.length-1].getID()]=$t[0]),s.push(re)}Y[Ft].add(Z)}}}return s},S1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},f={},h=function(re){for(var ue=[re];ue.length>0;){var oe=ue.pop();a.has(oe)&&(a.delete(oe),o[oe.get("id")].forEach(function(Ee){ue.push(Ee)}),o[oe.get("id")].clear())}},c=function Wt(re,ue,oe){var Ee=!1;if(t&&e===!1&&t.indexOf(re.get("id"))>-1)return Ee;n.push(re),a.add(re);for(var _e=oe[re.getID()],Pe=0;Pe<_e.length;Pe+=1){var ze=l[_e[Pe]];if(ze===ue){for(var He={},je=1;je<n.length;je+=1)He[n[je-1].getID()]=n[je];n.length&&(He[n[n.length-1].getID()]=n[0]),s.push(He),Ee=!0}else a.has(ze)||Wt(ze,ue,oe)&&(Ee=!0)}if(Ee)h(re);else for(var Pe=0;Pe<_e.length;Pe+=1){var ze=l[_e[Pe]];o[ze.get("id")].has(re)||o[ze.get("id")].add(re)}return n.pop(),Ee},v=r.getNodes(),m=0;m<v.length;m+=1){var T=v[m],B=T.getID();f[B]=m,l[m]=T}if(t&&e)for(var m=0;m<t.length;m++){var B=t[m];f[v[m].getID()]=f[B],f[B]=0,l[0]=r.findById(B),l[f[v[m].getID()]]=v[m]}for(var Y=function(re){for(var ue,oe,Ee=Infinity,_e=0;_e<re.length;_e+=1)for(var Pe=re[_e],ze=0;ze<Pe.length;ze++){var He=f[Pe[ze].getID()];He<Ee&&(Ee=He,oe=_e)}for(var je=re[oe],Ye=[],_e=0;_e<je.length;_e+=1){var Ge=je[_e];Ye[Ge.getID()]=[];for(var ar=0,nr=Ge.getNeighbors("target").filter(function(lr){return je.indexOf(lr)>-1});ar<nr.length;ar++){var hr=nr[ar];hr===Ge&&!(e===!1&&t.indexOf(Ge.getId())>-1)?s.push((ue={},ue[Ge.getID()]=Ge,ue)):Ye[Ge.getID()].push(f[hr.getID()])}}return{component:je,adjList:Ye,minIdx:Ee}},Z=0;Z<v.length;){var j=v.filter(function(Wt){return f[Wt.getID()]>=Z}),ut=x1(j).filter(function(Wt){return Wt.length>1});if(ut.length===0)break;var ht=Y(ut),Et=ht.minIdx,Ft=ht.adjList,jt=ht.component;if(jt.length>1){jt.forEach(function(Wt){o[Wt.get("id")]=new Set});var $t=l[Et];if(t&&e&&t.indexOf($t.get("id"))===-1)return s;c($t,$t,Ft),Z=Et+1}else break}return s},S8=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?S1(r,e,n):w1(r,e,n)},C8=w8,M8=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},f={};a.forEach(function(Y,Z){var j=Y.getID();o.push(j),l[j]=Infinity,j===t&&(l[j]=0)});for(var h=a.length,c=function(Z){var j=E8(l,a,s),ut=j.get("id");if(s[ut]=!0,l[ut]===Infinity)return"continue";var ht=[];e?ht=j.getOutEdges():ht=j.getEdges(),ht.forEach(function(Et){var Ft=Et.getTarget().getID(),jt=Et.getSource().getID(),$t=Ft===ut?jt:Ft,Wt=n&&Et.getModel()[n]?Et.getModel()[n]:1;l[$t]>l[j.get("id")]+Wt&&(l[$t]=l[j.get("id")]+Wt,f[$t]=j.get("id"))})},v=0;v<h;v++)c(v);var m={};for(var T in l){m[T]=[T];for(var B=f[T];B!==void 0;)m[T].unshift(B),B=f[B]}return{length:l,path:m}};function E8(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var A8=M8,T8=function(r,t,e,n,a){(0,u.isString)(t)&&(t=r.findById(t)),(0,u.isString)(e)&&(e=r.findById(e));var o=A8(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},P8=function(r,t,e,n){var a;if((0,u.isString)(t)&&(t=r.findById(t)),(0,u.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],f=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(B){return!s[B.get("id")]})))}else{var m=o.pop();s[m.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var T=o.map(function(Y){return Y.get("id")});f.push(T);var m=o.pop();s[m.get("id")]=!1,l.pop()}}return f},L8=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),_8=L8,O8=function(r,t){return r-t},I8=function(){function i(r){r===void 0&&(r=O8),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),k8=I8,B8=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(m,T){return t?m.getModel()[t]-T.getModel()[t]:0},l=new k8(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var f=l.delMin(),h=f.getSource(),c=f.getTarget();o.has(h)&&o.has(c)||(e.push(f),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},C1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(f){return f});t&&n.sort(function(f,h){return f.getModel()[t]-h.getModel()[t]});for(var a=new _8(r.getNodes().map(function(f){return f.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function D8(i,r,t){var e={prim:B8,kruskal:C1};return t?e[t](i,r):C1(i,r)}var F8=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,f,h={},c={},v=0;v<l;++v){var m=s[v],T=m.get("id");h[T]=1/l,c[T]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var m=s[v],T=m.get("id");if(f=0,r.getNodeDegree(m,"in")===0)h[T]=0;else{for(var B=m.getNeighbors("source"),Y=0;Y<B.length;++Y){var Z=B[Y],j=r.getNodeDegree(Z,"out");j>0&&(f+=c[Z.get("id")]/j)}h[T]=e*f,a+=h[T]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var m=s[v],T=m.get("id");f=h[T]+a,n+=Math.abs(f-c[T]),c[T]=f}o-=1}return c},R8=F8,TG=ts.registerNode,PG=ts.registerEdge,LG=ts.registerCombo,_G=ex.registerBehavior,OG=Ds.registerLayout,IG=Vi.Minimap,kG=Vi.Grid,BG=Vi.Bundling,DG=Vi.Menu,N8=Vi.Fisheye,FG=Vi.ToolBar,RG=Vi.Tooltip,Y8=Vi.TimeBar,G8=Vi.ImageMinimap,z8=Vi.EdgeFilterLens,Bi={version:UF.i8,Graph:Ux,TreeGraph:C4,Util:e6,registerNode:ts.registerNode,registerEdge:ts.registerEdge,registerCombo:ts.registerCombo,registerBehavior:ex.registerBehavior,registerLayout:Ds.registerLayout,Layout:Ds,Global:Ne,Minimap:Vi.Minimap,Grid:Vi.Grid,Bundling:Vi.Bundling,Menu:Vi.Menu,ToolBar:Vi.ToolBar,Tooltip:Vi.Tooltip,TimeBar:Y8,Fisheye:N8,ImageMinimap:G8,EdgeFilterLens:z8,Algorithm:Q,Arrow:Q4,Marker:J4};function M1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Da(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?M1(Object(t),!0).forEach(function(e){X8(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):M1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function X8(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Bi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Da({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,f,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);f=t.addShape("text",{attrs:Da(Da({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=f?f.getBBox():{height:n[1]/2},m=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});f&&f.toFront();var T;r.children&&(T=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Bi.Marker.expand:Bi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var B=r&&r.description?r.description:void 0,Y=m.getBBox(),Z;if(B&&(Z=t.addShape("text",{attrs:Da({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+Y.height+8,text:B},h),name:"description"})),Z){var j,ut=Z.getBBox(),ht=Y.height+16+ut.height,Et=n[0]>ut.width+16?n[0]:ut.width+16;s.attr({width:Et,height:ht}),m==null||m.attr("width",Et),(j=T)===null||j===void 0||j.attr({x:Et-n[0]/2,y:ht/2-n[1]/2})}return s},update:void 0},"single-node"),Bi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:Da({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var V8=function(r){Bi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Da(Da({},a),{},{x:0,y:0})}),f={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(f=Object.assign({},f,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:Da({x:1,y:1,width:38,height:a.height-2},f)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Bi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Bi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:Da(Da({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Bi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,f={x:e.x+o,y:n.y+l},h={x:f.x+s,y:n.y},c={x:(f.x-e.x)*(n.y-e.y)/(f.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",f.x,f.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var m=r||{},T=m.style,B=t.addShape("path",{attrs:{path:v,stroke:T.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:T.lineWidth||1.2,endArrow:!1},name:"path-shape"}),Y=0,Z=8,j;if(r.label&&(j=t.addShape("text",{attrs:{text:r.label,x:h.x+Y,y:n.y-Z-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var ut=j?j.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+Y,y:n.y-Z-ut.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+Y,y:n.y+Z+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),B},update:void 0},"single-edge"),Bi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function E1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function H8(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?E1(Object(t),!0).forEach(function(e){W8(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):E1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function W8(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var j8={show:!1,size:[150,100],type:"keyShape"},Ns=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},Ys=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(j8,r),n=new Bi.Minimap(H8({},e));return t.addPlugin(n),n}};function Du(i,r,t){var e=(0,K.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,f=r.edgeStyle,h=r.width,c=r.height,v=r.layout,m=r.minimapCfg,T=r.behaviors,B=r.nodeLabelCfg,Y=r.edgeLabelCfg,Z;return(0,K.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,K.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(j){i.updateItem(j,{type:s,style:a,anchorPoints:o,labelCfg:B})})},[a,o,s]),(0,K.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(j){i.updateItem(j,{type:l,style:f,labelCfg:Y})})},[f,l]),(0,K.useEffect)(function(){if(i&&!i.destroyed){var j=Ns(h,c,t);i.changeSize(j[0],j[1])}},[t,h,c]),(0,K.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,K.useEffect)(function(){if(!(!m||!i||i.destroyed))if(m.show)Z=Ys(m,i),Z&&Z.updateCanvas();else{var j=i.get("plugins")[0];j&&i.removePlugin(j)}},[m]),(0,K.useEffect)(function(){if(i&&!i.destroyed){var j=i.get("modes"),ut=j.default,ht=[];ut.forEach(function(Et){(0,u.isObject)(Et)?ht.push(Et.type):(0,u.isString)(Et)&&ht.push(Et)}),i.removeBehaviors(ht,"default"),i.addBehaviors(T,"default")}},[T]),(0,K.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var A1={hover:{stroke:"#1890ff",lineWidth:2}},U8={fill:"#91d5ff",stroke:"#40a9ff",radius:5},Z8={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},K8={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},T1={style:{fill:"#000",fontSize:12}},xn,$8=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,f=r.edgeType,h=f===void 0?"flow-line":f,c=r.collapseExpand,v=c===void 0?!1:c,m=r.nodeSize,T=m===void 0?[120,40]:m,B=r.nodeLabelCfg,Y=B===void 0?T1:B,Z=r.edgeLabelCfg,j=Z===void 0?T1:Z,ut=r.layout,ht=ut===void 0?K8:ut,Et=r.enableEdit,Ft=Et===void 0?!1:Et,jt=r.minimapCfg,$t=r.nodeStyle,Wt=$t===void 0?U8:$t,re=r.edgeStyle,ue=re===void 0?Z8:re,oe=r.nodeStateStyles,Ee=oe===void 0?A1:oe,_e=r.edgeStateStyles,Pe=_e===void 0?A1:_e,ze=r.handleNodeClick,He=r.handleEdgeClick,je=r.handleNodeHover,Ye=r.handleNodeUnHover,Ge=r.handleEdgeHover,ar=r.handleEdgeUnHover,nr=r.handleCanvasClick,hr=r.graphRef,Ue={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:T,nodeLabelCfg:Y,edgeLabelCfg:j,layout:ht,enableEdit:Ft,minimapCfg:jt,nodeStyle:Wt,edgeStyle:ue,nodeStateStyles:Ee,edgeStateStyles:Pe,handleNodeClick:ze,handleEdgeClick:He,handleNodeHover:je,handleNodeUnHover:Ye,handleEdgeHover:Ge,handleEdgeUnHover:ar,handleCanvasClick:nr,graphRef:hr},lr=K.useRef(null);return Du(xn,Ue,lr),(0,K.useEffect)(function(){var xr=Ns(a,o,lr);return(!xn||xn.destroyed)&&(l==="icon-node"&&V8({enableEdit:Ft}),xn=new Bi.TreeGraph({container:lr.current,width:xr[0],height:xr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:T,style:Wt,labelCfg:Y},defaultEdge:{type:h,style:ue,labelCfg:j},nodeStateStyles:Ee,edgeStateStyles:Pe,layout:ht}),hr&&(hr.current=xn)),Ys(jt,xn),xn.data(t),xn.render(),xn.fitView(),v&&xn.addBehaviors({type:"collapse-expand",onChange:function(ur,wr){if(!ur)return!1;var Nr=ur.get("model").data;return Nr.collapsed=wr,!0}},"default"),xn.on("node:mouseenter",function(fr){var ur=fr.item;xn.setItemState(ur,"hover",!0),je&&je(ur,xn)}),xn.on("node:mouseleave",function(fr){var ur=fr.item;xn.setItemState(ur,"hover",!1),Ye&&Ye(ur,xn)}),xn.on("node:click",function(fr){var ur=fr.item,wr=fr.target,Nr=wr.get("type"),vr=wr.get("name");if(Nr==="marker"){var Ie=ur.getModel();if(vr==="add-item"){Ie.children||(Ie.children=[]);var Ke=Math.random().toString(36).slice(-8);Ie.children.push({id:Ke,label:Ke}),xn.updateChild(Ie,Ie.id)}else vr==="remove-item"&&xn.removeChild(Ie.id)}else ze&&ze(ur,xn)}),xn.on("edge:mouseenter",function(fr){var ur=fr.item;xn.setItemState(ur,"hover",!0),Ge&&Ge(ur,xn)}),xn.on("edge:mouseleave",function(fr){var ur=fr.item;xn.setItemState(ur,"hover",!1),ar&&ar(ur,xn)}),xn.on("edge:click",function(fr){var ur=fr.item;He&&He(ur,xn)}),xn.on("canvas:click",function(fr){nr&&nr(xn)}),function(){return xn.destroy()}},[]),K.createElement(Vr,null,K.createElement("div",{className:e,style:n,ref:lr}))},Q8=$8,P1={hover:{stroke:"#1890ff",lineWidth:2}},J8=[120,40],q8={stroke:"#40a9ff"},t9=[[.5,0],[.5,1]],e9={stroke:"#91d5ff",endArrow:{path:Bi.Arrow.vee(10,10),fill:"#91d5ff"}},r9={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},L1={style:{fill:"#000",fontSize:12}},On,n9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,f=r.edgeType,h=f===void 0?"polyline":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,m=r.nodeSize,T=m===void 0?J8:m,B=r.nodeLabelCfg,Y=B===void 0?L1:B,Z=r.edgeLabelCfg,j=Z===void 0?L1:Z,ut=r.nodeAnchorPoints,ht=ut===void 0?t9:ut,Et=r.layout,Ft=Et===void 0?r9:Et,jt=r.minimapCfg,$t=r.nodeStyle,Wt=$t===void 0?q8:$t,re=r.edgeStyle,ue=re===void 0?e9:re,oe=r.nodeStateStyles,Ee=oe===void 0?P1:oe,_e=r.edgeStateStyles,Pe=_e===void 0?P1:_e,ze=r.handleEdgeClick,He=r.handleEdgeHover,je=r.handleEdgeUnHover,Ye=r.handleNodeClick,Ge=r.handleNodeHover,ar=r.handleNodeUnHover,nr=r.handleCanvasClick,hr=r.graphRef,Ue={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:T,nodeLabelCfg:Y,edgeLabelCfg:j,nodeAnchorPoints:ht,layout:Ft,minimapCfg:jt,nodeStyle:Wt,edgeStyle:ue,nodeStateStyles:Ee,edgeStateStyles:Pe,handleEdgeClick:ze,handleEdgeHover:He,handleEdgeUnHover:je,handleNodeClick:Ye,handleNodeHover:Ge,handleNodeUnHover:ar,handleCanvasClick:nr,graphRef:hr},lr=K.useRef(null);return Du(On,Ue,lr),(0,K.useEffect)(function(){var xr=Ns(a,o,lr);return(!On||On.destroyed)&&(On=new Bi.Graph({container:lr.current,width:xr[0],height:xr[1],modes:{default:v},defaultNode:{type:l,size:T,style:Wt,anchorPoints:ht,labelCfg:Y},defaultEdge:{type:h,style:ue,labelCfg:j},nodeStateStyles:Ee,edgeStateStyles:Pe,layout:Ft}),hr&&(hr.current=On)),Ys(jt,On),On.data(t),On.render(),On.fitView(),On.on("edge:mouseenter",function(fr){var ur=fr.item;On.setItemState(ur,"hover",!0),He&&He(ur,On)}),On.on("node:mouseenter",function(fr){var ur=fr.item;On.setItemState(ur,"hover",!1),Ge&&Ge(ur,On)}),On.on("edge:mouseleave",function(fr){var ur=fr.item;On.setItemState(ur,"hover",!1),je&&je(ur,On)}),On.on("node:mouseleave",function(fr){var ur=fr.item;On.setItemState(ur,"hover",!1),ar&&ar(ur,On)}),On.on("edge:click",function(fr){var ur=fr.item;ze&&ze(ur,On)}),On.on("node:click",function(fr){var ur=fr.item;Ye&&Ye(ur,On)}),On.on("canvas:click",function(fr){nr&&nr(On)}),function(){return On.destroy()}},[]),K.createElement(Vr,null,K.createElement("div",{className:e,style:n,ref:lr}))},i9=n9,_1={hover:{stroke:"#1890ff",lineWidth:2}},a9=[150,30],o9={stroke:"#72CC4A",fill:"#f00"},s9=[[.5,0],[.5,1]],l9={stroke:"#91d5ff",endArrow:{path:Bi.Arrow.vee(10,10),fill:"#91d5ff"}},u9={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},O1={style:{fill:"#000000A6",fontSize:10}},En,f9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,f=r.edgeType,h=f===void 0?"fund-polyline":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,m=r.nodeSize,T=m===void 0?a9:m,B=r.nodeLabelCfg,Y=B===void 0?O1:B,Z=r.edgeLabelCfg,j=Z===void 0?O1:Z,ut=r.nodeAnchorPoints,ht=ut===void 0?s9:ut,Et=r.layout,Ft=Et===void 0?u9:Et,jt=r.minimapCfg,$t=r.nodeStyle,Wt=$t===void 0?o9:$t,re=r.edgeStyle,ue=re===void 0?l9:re,oe=r.nodeStateStyles,Ee=oe===void 0?_1:oe,_e=r.edgeStateStyles,Pe=_e===void 0?_1:_e,ze=r.colorMap,He=ze===void 0?{}:ze,je=r.handleEdgeClick,Ye=r.handleEdgeHover,Ge=r.handleEdgeUnHover,ar=r.handleNodeClick,nr=r.handleNodeHover,hr=r.handleNodeUnHover,Ue=r.handleCanvasClick,lr=r.graphRef,xr=K.useRef(null),fr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:T,nodeLabelCfg:Y,edgeLabelCfg:j,nodeAnchorPoints:ht,layout:Ft,minimapCfg:jt,nodeStyle:Wt,edgeStyle:ue,nodeStateStyles:Ee,edgeStateStyles:Pe,colorMap:He,handleEdgeClick:je,handleEdgeHover:Ye,handleEdgeUnHover:Ge,handleNodeClick:ar,handleNodeHover:nr,handleNodeUnHover:hr,handleCanvasClick:Ue,graphRef:lr};return Du(En,fr,xr),(0,K.useEffect)(function(){var ur=Ns(a,o,xr);(!En||En.destroyed)&&(En=new Bi.Graph({container:xr.current,width:ur[0],height:ur[1],modes:{default:v},defaultNode:{type:l,size:T,style:Wt,anchorPoints:ht,labelCfg:Y},defaultEdge:{type:h,style:ue,colorMap:He,labelCfg:j},nodeStateStyles:Ee,edgeStateStyles:Pe,layout:Ft}),lr&&(lr.current=En)),Ys(jt,En),En.data(t),En.render();var wr=En.getEdges();return wr.forEach(function(Nr){var vr=Nr.getKeyShape(),Ie=vr.attr("stroke"),Ke=Nr.getTarget();Ke.update({style:{stroke:Ie}})}),En.fitView(),En.on("edge:mouseenter",function(Nr){var vr=Nr.item;En.setItemState(vr,"hover",!0),Ye&&Ye(vr,En)}),En.on("edge:mouseleave",function(Nr){var vr=Nr.item;En.setItemState(vr,"hover",!1),Ge&&Ge(vr,En)}),En.on("edge:click",function(Nr){var vr=Nr.item;je&&je(vr,En)}),En.on("node:mouseenter",function(Nr){var vr=Nr.item;En.setItemState(vr,"hover",!1),nr&&nr(vr,En)}),En.on("node:mouseleave",function(Nr){var vr=Nr.item;En.setItemState(vr,"hover",!1),hr&&hr(vr,En)}),En.on("node:click",function(Nr){var vr=Nr.item;ar&&ar(vr,En)}),En.on("canvas:click",function(Nr){Ue&&Ue(En)}),function(){return En.destroy()}},[]),K.createElement(Vr,null,K.createElement("div",{className:e,style:n,ref:xr}))},h9=f9,I1={hover:{stroke:"#1890ff",lineWidth:2}},c9=[120,40],v9={stroke:"#40a9ff"},d9=[[0,.5],[1,.5]],p9={stroke:"#ccc",endArrow:{path:Bi.Arrow.vee(10,10),fill:"#ccc"}},g9={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},y9={style:{fill:"#000",fontSize:12}},Sn,m9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,f=r.edgeType,h=f===void 0?"cubic-horizontal":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,m=r.nodeSize,T=m===void 0?c9:m,B=r.nodeLabelCfg,Y=B===void 0?y9:B,Z=r.nodeAnchorPoints,j=Z===void 0?d9:Z,ut=r.layout,ht=ut===void 0?g9:ut,Et=r.minimapCfg,Ft=r.nodeStyle,jt=Ft===void 0?v9:Ft,$t=r.edgeStyle,Wt=$t===void 0?p9:$t,re=r.nodeStateStyles,ue=re===void 0?I1:re,oe=r.edgeStateStyles,Ee=oe===void 0?I1:oe,_e=r.collapseExpand,Pe=_e===void 0?!0:_e,ze=r.handleEdgeClick,He=r.handleEdgeHover,je=r.handleEdgeUnHover,Ye=r.handleNodeClick,Ge=r.handleNodeHover,ar=r.handleNodeUnHover,nr=r.handleCanvasClick,hr=r.graphRef,Ue=K.useRef(null),lr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:T,nodeLabelCfg:Y,nodeAnchorPoints:j,layout:ht,minimapCfg:Et,nodeStyle:jt,edgeStyle:Wt,nodeStateStyles:ue,edgeStateStyles:Ee,collapseExpand:Pe,handleEdgeClick:ze,handleEdgeHover:He,handleEdgeUnHover:je,handleNodeClick:Ye,handleNodeHover:Ge,handleNodeUnHover:ar,handleCanvasClick:nr,graphRef:hr};return Du(Sn,lr,Ue),(0,K.useEffect)(function(){var xr=Ns(a,o,Ue);return(!Sn||Sn.destroyed)&&(Sn=new Bi.TreeGraph({container:Ue.current,width:xr[0],height:xr[1],modes:{default:v},defaultNode:{type:l,size:T,style:jt,anchorPoints:j,labelCfg:Y},defaultEdge:{type:h,style:Wt},nodeStateStyles:ue,edgeStateStyles:Ee,layout:ht}),hr&&(hr.current=Sn)),Ys(Et,Sn),Sn.data(t),Sn.render(),Sn.fitView(),Pe&&Sn.on("node:click",function(fr){var ur=fr.item;fr.target.get("name")==="collapse-icon"?(Sn.updateItem(ur,{collapsed:!ur.getModel().collapsed}),Sn.layout()):Ye&&Ye(ur,Sn)}),Sn.on("edge:mouseenter",function(fr){var ur=fr.item;Sn.setItemState(ur,"hover",!0),He&&He(ur,Sn)}),Sn.on("edge:mouseleave",function(fr){var ur=fr.item;Sn.setItemState(ur,"hover",!1),je&&je(ur,Sn)}),Sn.on("edge:click",function(fr){var ur=fr.item;ze&&ze(ur,Sn)}),Sn.on("node:mouseenter",function(fr){var ur=fr.item;Sn.setItemState(ur,"hover",!1),Ge&&Ge(ur,Sn)}),Sn.on("node:mouseleave",function(fr){var ur=fr.item;Sn.setItemState(ur,"hover",!1),ar&&ar(ur,Sn)}),Sn.on("canvas:click",function(fr){nr&&nr(Sn)}),function(){return Sn.destroy()}},[]),K.createElement(Vr,null,K.createElement("div",{className:e,style:n,ref:Ue}))},x9=m9,NG={Area:_D,Bar:kD,Bubble:FD,Bullet:YD,Calendar:VD,Column:p0,ColumnLine:ZD,DensityHeatmap:QD,Donut:x0,DualLine:r5,FanGauge:a5,Funnel:u5,Gauge:C0,GroupedBar:d5,GroupedColumn:y5,GroupedColumnLine:b5,GroupedRose:C5,Heatmap:A5,Histogram:L5,Line:O0,Liquid:k0,MeterGauge:F5,PercentStackedArea:Y5,PercentStackedBar:X5,PercentStackedColumn:W5,Pie:Z5,Progress:G0,Radar:X0,RangeBar:eF,RangeColumn:iF,RingProgress:j0,Rose:uF,Scatter:cF,StackedArea:pF,StackedBar:mF,StackedColumn:wF,StackedColumnLine:MF,StackedRose:TF,StepLine:_F,TinyArea:rm,TinyColumn:im,TinyLine:RF,Treemap:GF,Waterfall:VF,WordCloud:lm,OrganizationTreeGraph:Q8,DagreGraph:i9,IndentedTree:x9,DagreFundFlowGraph:h9,G2:P}},3935:function(bt,S,d){"use strict";var w=d(98453),_=d(90494),I=d(91241),O=function(P){(0,w.ZT)(A,P);function A(E){var C=P.call(this)||this;C.destroyed=!1;var p=C.getDefaultCfg();return C.cfg=(0,I.CD)(p,E),C}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.get=function(E){return this.cfg[E]},A.prototype.set=function(E,C){this.cfg[E]=C},A.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},A}(_.default);S.Z=O},85150:function(bt,S,d){"use strict";d.d(S,{Z:function(){return Q}});var w=d(98453),_=d(43631),I=d(36540),O=d(91241),P=d(49242),A=d(35374),E=d(13681),C=d(26257),p=d(88122),b=d(80234),y=function(K){return["fill","stroke","fillStyle","strokeStyle"].includes(K)},x=function(K){return/^[r,R,L,l]{1}[\s]*\(/.test(K)},g=[1,0,0,0,1,0,0,0,1];function M(K,V,H){var u={},ot=V.fromAttrs,pt=V.toAttrs;if(!K.destroyed){var it;for(var xt in pt)if(!(0,P.isEqual)(ot[xt],pt[xt]))if(xt==="path"){var gt=pt[xt],wt=ot[xt];gt.length>wt.length?(gt=b.parsePathString(pt[xt]),wt=b.parsePathString(ot[xt]),wt=b.fillPathByDiff(wt,gt),wt=b.formatPath(wt,gt),V.fromAttrs.path=wt,V.toAttrs.path=gt):V.pathFormatted||(gt=b.parsePathString(pt[xt]),wt=b.parsePathString(ot[xt]),wt=b.formatPath(wt,gt),V.fromAttrs.path=wt,V.toAttrs.path=gt,V.pathFormatted=!0),u[xt]=[];for(var Dt=0;Dt<gt.length;Dt++){for(var Nt=gt[Dt],Ot=wt[Dt],Tt=[],at=0;at<Nt.length;at++)(0,P.isNumber)(Nt[at])&&Ot&&(0,P.isNumber)(Ot[at])?(it=(0,C.Z)(Ot[at],Nt[at]),Tt.push(it(H))):Tt.push(Nt[at]);u[xt].push(Tt)}}else if(xt==="matrix"){var st=(0,p.Z)(ot[xt]||g,pt[xt]||g),Ct=st(H);u[xt]=Ct}else y(xt)&&x(pt[xt])?u[xt]=pt[xt]:(0,P.isFunction)(pt[xt])||(it=(0,C.Z)(ot[xt],pt[xt]),u[xt]=it(H));K.attr(u)}}function L(K,V,H){var u=V.startTime,ot=V.delay;if(H<u+ot||V._paused)return!1;var pt,it=V.duration,xt=V.easing;if(H=H-u-V.delay,V.repeat)pt=H%it/it,pt=E[xt](pt);else if(pt=H/it,pt<1)pt=E[xt](pt);else return V.onFrame?K.attr(V.onFrame(1)):K.attr(V.toAttrs),!0;if(V.onFrame){var gt=V.onFrame(pt);K.attr(gt)}else M(K,V,pt);return!1}var k=function(){function K(V){this.animators=[],this.current=0,this.timer=null,this.canvas=V}return K.prototype.initTimer=function(){var V=this,H=!1,u,ot,pt;this.timer=A.HT(function(it){if(V.current=it,V.animators.length>0){for(var xt=V.animators.length-1;xt>=0;xt--){if(u=V.animators[xt],u.destroyed){V.removeAnimator(xt);continue}if(!u.isAnimatePaused()){ot=u.get("animations");for(var gt=ot.length-1;gt>=0;gt--)pt=ot[gt],H=L(u,pt,it),H&&(ot.splice(gt,1),H=!1,pt.callback&&pt.callback())}ot.length===0&&V.removeAnimator(xt)}var wt=V.canvas.get("autoDraw");wt||V.canvas.draw()}})},K.prototype.addAnimator=function(V){this.animators.push(V)},K.prototype.removeAnimator=function(V){this.animators.splice(V,1)},K.prototype.isAnimating=function(){return!!this.animators.length},K.prototype.stop=function(){this.timer&&this.timer.stop()},K.prototype.stopAllAnimations=function(V){V===void 0&&(V=!0),this.animators.forEach(function(H){H.stopAnimate(V)}),this.animators=[],this.canvas.draw()},K.prototype.getTime=function(){return this.current},K}(),F=k,W=d(65608),$=40,z=0,U=":",et=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function q(K,V){for(var H in K)if(K.hasOwnProperty(H)&&H.indexOf(U+V)>=0)return!0;return!1}function dt(K,V,H){H.name=V,H.target=K,H.currentTarget=K,H.delegateTarget=K,K.emit(V,H)}function ct(K,V,H){if(H.bubbles){var u=void 0,ot=!1;if(V==="mouseenter"?(u=H.fromShape,ot=!0):V==="mouseleave"&&(ot=!0,u=H.toShape),K.isCanvas()&&ot)return;if(u&&(0,O.UY)(K,u)){H.bubbles=!1;return}H.name=V,H.currentTarget=K,H.delegateTarget=K,K.emit(V,H)}}var Mt=function(){function K(V){var H=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(u){var ot=u.type;H._triggerEvent(ot,u)},this._onDocumentMove=function(u){var ot=H.canvas,pt=ot.get("el");if(pt!==u.target&&(H.dragging||H.currentShape)){var it=H._getPointInfo(u);H.dragging&&H._emitEvent("drag",u,it,H.draggingShape)}},this._onDocumentMouseUp=function(u){var ot=H.canvas,pt=ot.get("el");if(pt!==u.target&&H.dragging){var it=H._getPointInfo(u);H.draggingShape&&H._emitEvent("drop",u,it,null),H._emitEvent("dragend",u,it,H.draggingShape),H._afterDrag(H.draggingShape,it,u)}},this.canvas=V.canvas}return K.prototype.init=function(){this._bindEvents()},K.prototype._bindEvents=function(){var V=this,H=this.canvas.get("el");(0,O.S6)(et,function(u){H.addEventListener(u,V._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},K.prototype._clearEvents=function(){var V=this,H=this.canvas.get("el");(0,O.S6)(et,function(u){H.removeEventListener(u,V._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},K.prototype._getEventObj=function(V,H,u,ot,pt,it){var xt=new W.Z(V,H);return xt.fromShape=pt,xt.toShape=it,xt.x=u.x,xt.y=u.y,xt.clientX=u.clientX,xt.clientY=u.clientY,xt.propagationPath.push(ot),xt},K.prototype._getShape=function(V,H){return this.canvas.getShape(V.x,V.y,H)},K.prototype._getPointInfo=function(V){var H=this.canvas,u=H.getClientByEvent(V),ot=H.getPointByEvent(V);return{x:ot.x,y:ot.y,clientX:u.x,clientY:u.y}},K.prototype._triggerEvent=function(V,H){var u=this._getPointInfo(H),ot=this._getShape(u,H),pt=this["_on"+V],it=!1;if(pt)pt.call(this,u,ot,H);else{var xt=this.currentShape;V==="mouseenter"||V==="dragenter"||V==="mouseover"?(this._emitEvent(V,H,u,null,null,ot),ot&&this._emitEvent(V,H,u,ot,null,ot),V==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",H,u,null)):V==="mouseleave"||V==="dragleave"||V==="mouseout"?(it=!0,xt&&this._emitEvent(V,H,u,xt,xt,null),this._emitEvent(V,H,u,null,xt,null),V==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",H,u,null)):this._emitEvent(V,H,u,ot,null,null)}if(it||(this.currentShape=ot),ot&&!ot.get("destroyed")){var gt=this.canvas,wt=gt.get("el");wt.style.cursor=ot.attr("cursor")||gt.get("cursor")}},K.prototype._onmousedown=function(V,H,u){u.button===z&&(this.mousedownShape=H,this.mousedownPoint=V,this.mousedownTimeStamp=u.timeStamp),this._emitEvent("mousedown",u,V,H,null,null)},K.prototype._emitMouseoverEvents=function(V,H,u,ot){var pt=this.canvas.get("el");u!==ot&&(u&&(this._emitEvent("mouseout",V,H,u,u,ot),this._emitEvent("mouseleave",V,H,u,u,ot),(!ot||ot.get("destroyed"))&&(pt.style.cursor=this.canvas.get("cursor"))),ot&&(this._emitEvent("mouseover",V,H,ot,u,ot),this._emitEvent("mouseenter",V,H,ot,u,ot)))},K.prototype._emitDragoverEvents=function(V,H,u,ot,pt){ot?(ot!==u&&(u&&this._emitEvent("dragleave",V,H,u,u,ot),this._emitEvent("dragenter",V,H,ot,u,ot)),pt||this._emitEvent("dragover",V,H,ot)):u&&this._emitEvent("dragleave",V,H,u,u,ot),pt&&this._emitEvent("dragover",V,H,ot)},K.prototype._afterDrag=function(V,H,u){V&&(V.set("capture",!0),this.draggingShape=null),this.dragging=!1;var ot=this._getShape(H,u);ot!==V&&this._emitMouseoverEvents(u,H,V,ot),this.currentShape=ot},K.prototype._onmouseup=function(V,H,u){if(u.button===z){var ot=this.draggingShape;this.dragging?(ot&&this._emitEvent("drop",u,V,H),this._emitEvent("dragend",u,V,ot),this._afterDrag(ot,V,u)):(this._emitEvent("mouseup",u,V,H),H===this.mousedownShape&&this._emitEvent("click",u,V,H),this.mousedownShape=null,this.mousedownPoint=null)}},K.prototype._ondragover=function(V,H,u){u.preventDefault();var ot=this.currentShape;this._emitDragoverEvents(u,V,ot,H,!0)},K.prototype._onmousemove=function(V,H,u){var ot=this.canvas,pt=this.currentShape,it=this.draggingShape;if(this.dragging)it&&this._emitDragoverEvents(u,V,pt,H,!1),this._emitEvent("drag",u,V,it);else{var xt=this.mousedownPoint;if(xt){var gt=this.mousedownShape,wt=u.timeStamp,Dt=wt-this.mousedownTimeStamp,Nt=xt.clientX-V.clientX,Ot=xt.clientY-V.clientY,Tt=Nt*Nt+Ot*Ot;Dt>120||Tt>$?gt&&gt.get("draggable")?(it=this.mousedownShape,it.set("capture",!1),this.draggingShape=it,this.dragging=!0,this._emitEvent("dragstart",u,V,it),this.mousedownShape=null,this.mousedownPoint=null):!gt&&ot.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",u,V,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(u,V,pt,H),this._emitEvent("mousemove",u,V,H)):(this._emitMouseoverEvents(u,V,pt,H),this._emitEvent("mousemove",u,V,H))}else this._emitMouseoverEvents(u,V,pt,H),this._emitEvent("mousemove",u,V,H)}},K.prototype._emitEvent=function(V,H,u,ot,pt,it){var xt=this._getEventObj(V,H,u,ot,pt,it);if(ot){xt.shape=ot,dt(ot,V,xt);for(var gt=ot.getParent();gt;)gt.emitDelegation(V,xt),xt.propagationStopped||ct(gt,V,xt),xt.propagationPath.push(gt),gt=gt.getParent()}else{var wt=this.canvas;dt(wt,V,xt)}},K.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},K}(),D=Mt,G="px",X=(0,_.detect)(),N=X&&X.name==="firefox",tt=function(K){(0,w.ZT)(V,K);function V(H){var u=K.call(this,H)||this;return u.initContainer(),u.initDom(),u.initEvents(),u.initTimeline(),u}return V.prototype.getDefaultCfg=function(){var H=K.prototype.getDefaultCfg.call(this);return H.cursor="default",H.supportCSSTransform=!1,H},V.prototype.initContainer=function(){var H=this.get("container");(0,O.HD)(H)&&(H=document.getElementById(H),this.set("container",H))},V.prototype.initDom=function(){var H=this.createDom();this.set("el",H);var u=this.get("container");u.appendChild(H),this.setDOMSize(this.get("width"),this.get("height"))},V.prototype.initEvents=function(){var H=new D({canvas:this});H.init(),this.set("eventController",H)},V.prototype.initTimeline=function(){var H=new F(this);this.set("timeline",H)},V.prototype.setDOMSize=function(H,u){var ot=this.get("el");O.jU&&(ot.style.width=H+G,ot.style.height=u+G)},V.prototype.changeSize=function(H,u){this.setDOMSize(H,u),this.set("width",H),this.set("height",u),this.onCanvasChange("changeSize")},V.prototype.getRenderer=function(){return this.get("renderer")},V.prototype.getCursor=function(){return this.get("cursor")},V.prototype.setCursor=function(H){this.set("cursor",H);var u=this.get("el");O.jU&&u&&(u.style.cursor=H)},V.prototype.getPointByEvent=function(H){var u=this.get("supportCSSTransform");if(u){if(N&&!(0,O.kK)(H.layerX)&&H.layerX!==H.offsetX)return{x:H.layerX,y:H.layerY};if(!(0,O.kK)(H.offsetX))return{x:H.offsetX,y:H.offsetY}}var ot=this.getClientByEvent(H),pt=ot.x,it=ot.y;return this.getPointByClient(pt,it)},V.prototype.getClientByEvent=function(H){var u=H;return H.touches&&(H.type==="touchend"?u=H.changedTouches[0]:u=H.touches[0]),{x:u.clientX,y:u.clientY}},V.prototype.getPointByClient=function(H,u){var ot=this.get("el"),pt=ot.getBoundingClientRect();return{x:H-pt.left,y:u-pt.top}},V.prototype.getClientByPoint=function(H,u){var ot=this.get("el"),pt=ot.getBoundingClientRect();return{x:H+pt.left,y:u+pt.top}},V.prototype.draw=function(){},V.prototype.removeDom=function(){var H=this.get("el");H.parentNode.removeChild(H)},V.prototype.clearEvents=function(){var H=this.get("eventController");H.destroy()},V.prototype.isCanvas=function(){return!0},V.prototype.getParent=function(){return null},V.prototype.destroy=function(){var H=this.get("timeline");this.get("destroyed")||(this.clear(),H&&H.stop(),this.clearEvents(),this.removeDom(),K.prototype.destroy.call(this))},V}(I.Z),Q=tt},36540:function(bt,S,d){"use strict";var w=d(98453),_=d(49242),I=d(94638),O=d(91241),P={},A="_INDEX";function E(g,M){if(g.set("canvas",M),g.isGroup()){var L=g.get("children");L.length&&L.forEach(function(k){E(k,M)})}}function C(g,M){if(g.set("timeline",M),g.isGroup()){var L=g.get("children");L.length&&L.forEach(function(k){C(k,M)})}}function p(g,M){var L=g.getChildren();return L.indexOf(M)>=0}function b(g,M,L){L===void 0&&(L=!0),L?M.destroy():(M.set("parent",null),M.set("canvas",null)),(0,O.As)(g.getChildren(),M)}function y(g){return function(M,L){var k=g(M,L);return k===0?M[A]-L[A]:k}}var x=function(g){(0,w.ZT)(M,g);function M(){return g!==null&&g.apply(this,arguments)||this}return M.prototype.isCanvas=function(){return!1},M.prototype.getBBox=function(){var L=Infinity,k=-Infinity,F=Infinity,W=-Infinity,$=[],z=[],U=this.getChildren().filter(function(q){return q.get("visible")&&(!q.isGroup()||q.isGroup()&&q.getChildren().length>0)});U.length>0?((0,O.S6)(U,function(q){var dt=q.getBBox();$.push(dt.minX,dt.maxX),z.push(dt.minY,dt.maxY)}),L=(0,_.min)($),k=(0,_.max)($),F=(0,_.min)(z),W=(0,_.max)(z)):(L=0,k=0,F=0,W=0);var et={x:L,y:F,minX:L,minY:F,maxX:k,maxY:W,width:k-L,height:W-F};return et},M.prototype.getCanvasBBox=function(){var L=Infinity,k=-Infinity,F=Infinity,W=-Infinity,$=[],z=[],U=this.getChildren().filter(function(q){return q.get("visible")&&(!q.isGroup()||q.isGroup()&&q.getChildren().length>0)});U.length>0?((0,O.S6)(U,function(q){var dt=q.getCanvasBBox();$.push(dt.minX,dt.maxX),z.push(dt.minY,dt.maxY)}),L=(0,_.min)($),k=(0,_.max)($),F=(0,_.min)(z),W=(0,_.max)(z)):(L=0,k=0,F=0,W=0);var et={x:L,y:F,minX:L,minY:F,maxX:k,maxY:W,width:k-L,height:W-F};return et},M.prototype.getDefaultCfg=function(){var L=g.prototype.getDefaultCfg.call(this);return L.children=[],L},M.prototype.onAttrChange=function(L,k,F){if(g.prototype.onAttrChange.call(this,L,k,F),L==="matrix"){var W=this.getTotalMatrix();this._applyChildrenMarix(W)}},M.prototype.applyMatrix=function(L){var k=this.getTotalMatrix();g.prototype.applyMatrix.call(this,L);var F=this.getTotalMatrix();F!==k&&this._applyChildrenMarix(F)},M.prototype._applyChildrenMarix=function(L){var k=this.getChildren();(0,O.S6)(k,function(F){F.applyMatrix(L)})},M.prototype.addShape=function(){for(var L=[],k=0;k<arguments.length;k++)L[k]=arguments[k];var F=L[0],W=L[1];(0,O.Kn)(F)?W=F:W.type=F;var $=P[W.type];$||($=(0,O.jC)(W.type),P[W.type]=$);var z=this.getShapeBase(),U=new z[$](W);return this.add(U),U},M.prototype.addGroup=function(){for(var L=[],k=0;k<arguments.length;k++)L[k]=arguments[k];var F=L[0],W=L[1],$;if((0,O.mf)(F))W?$=new F(W):$=new F({parent:this});else{var z=F||{},U=this.getGroupBase();$=new U(z)}return this.add($),$},M.prototype.getCanvas=function(){var L;return this.isCanvas()?L=this:L=this.get("canvas"),L},M.prototype.getShape=function(L,k,F){if(!(0,O.pP)(this))return null;var W=this.getChildren(),$;if(this.isCanvas())$=this._findShape(W,L,k,F);else{var z=[L,k,1];z=this.invertFromMatrix(z),this.isClipped(z[0],z[1])||($=this._findShape(W,z[0],z[1],F))}return $},M.prototype._findShape=function(L,k,F,W){for(var $=null,z=L.length-1;z>=0;z--){var U=L[z];if((0,O.pP)(U)&&(U.isGroup()?$=U.getShape(k,F,W):U.isHit(k,F)&&($=U)),$)break}return $},M.prototype.add=function(L){var k=this.getCanvas(),F=this.getChildren(),W=this.get("timeline"),$=L.getParent();$&&b($,L,!1),L.set("parent",this),k&&E(L,k),W&&C(L,W),F.push(L),L.onCanvasChange("add"),this._applyElementMatrix(L)},M.prototype._applyElementMatrix=function(L){var k=this.getTotalMatrix();k&&L.applyMatrix(k)},M.prototype.getChildren=function(){return this.get("children")},M.prototype.sort=function(){var L=this.getChildren();(0,O.S6)(L,function(k,F){return k[A]=F,k}),L.sort(y(function(k,F){return k.get("zIndex")-F.get("zIndex")})),this.onCanvasChange("sort")},M.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var L=this.getChildren(),k=L.length-1;k>=0;k--)L[k].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},M.prototype.destroy=function(){this.get("destroyed")||(this.clear(),g.prototype.destroy.call(this))},M.prototype.getFirst=function(){return this.getChildByIndex(0)},M.prototype.getLast=function(){var L=this.getChildren();return this.getChildByIndex(L.length-1)},M.prototype.getChildByIndex=function(L){var k=this.getChildren();return k[L]},M.prototype.getCount=function(){var L=this.getChildren();return L.length},M.prototype.contain=function(L){var k=this.getChildren();return k.indexOf(L)>-1},M.prototype.removeChild=function(L,k){k===void 0&&(k=!0),this.contain(L)&&L.remove(k)},M.prototype.findAll=function(L){var k=[],F=this.getChildren();return(0,O.S6)(F,function(W){L(W)&&k.push(W),W.isGroup()&&(k=k.concat(W.findAll(L)))}),k},M.prototype.find=function(L){var k=null,F=this.getChildren();return(0,O.S6)(F,function(W){if(L(W)?k=W:W.isGroup()&&(k=W.find(L)),k)return!1}),k},M.prototype.findById=function(L){return this.find(function(k){return k.get("id")===L})},M.prototype.findByClassName=function(L){return this.find(function(k){return k.get("className")===L})},M.prototype.findAllByName=function(L){return this.findAll(function(k){return k.get("name")===L})},M}(I.Z);S.Z=x},94638:function(bt,S,d){"use strict";d.d(S,{Z:function(){return Mt}});var w=d(98453),_=d(49242),I=d(35600);function O(D,G,X){var N=[0,0,0,0,0,0,0,0,0];return I.fromTranslation(N,X),I.multiply(D,N,G)}function P(D,G,X){var N=[0,0,0,0,0,0,0,0,0];return I.fromRotation(N,X),I.multiply(D,N,G)}function A(D,G,X){var N=[0,0,0,0,0,0,0,0,0];return I.fromScaling(N,X),I.multiply(D,N,G)}function E(D,G,X){return I.multiply(D,X,G)}function C(D,G){for(var X=D?[].concat(D):[1,0,0,0,1,0,0,0,1],N=0,tt=G.length;N<tt;N++){var Q=G[N];switch(Q[0]){case"t":O(X,X,[Q[1],Q[2]]);break;case"s":A(X,X,[Q[1],Q[2]]);break;case"r":P(X,X,Q[1]);break;case"m":E(X,X,Q[1]);break;default:break}}return X}function p(D,G){return D[0]*G[1]-G[0]*D[1]}function b(D,G,X){var N=vec2.angle(D,G),tt=p(D,G)>=0;return X?tt?Math.PI*2-N:N:tt?N:Math.PI*2-N}function y(D,G,X){return X?(D[0]=G[1],D[1]=-1*G[0]):(D[0]=-1*G[1],D[1]=G[0]),D}var x=d(91241),g=d(93557),M=d(3935),L=C,k="matrix",F=["zIndex","capture","visible","type"],W=["repeat"],$=":",z="*";function U(D){for(var G=[],X=0;X<D.length;X++)(0,_.isArray)(D[X])?G.push([].concat(D[X])):G.push(D[X]);return G}function et(D,G){var X={},N=G.attrs;for(var tt in D)X[tt]=N[tt];return X}function q(D,G){var X={},N=G.attr();return(0,_.each)(D,function(tt,Q){W.indexOf(Q)===-1&&!(0,_.isEqual)(N[Q],tt)&&(X[Q]=tt)}),X}function dt(D,G){if(G.onFrame)return D;var X=G.startTime,N=G.delay,tt=G.duration,Q=Object.prototype.hasOwnProperty;return(0,_.each)(D,function(K){X+N<K.startTime+K.delay+K.duration&&tt>K.delay&&(0,_.each)(G.toAttrs,function(V,H){Q.call(K.toAttrs,H)&&(delete K.toAttrs[H],delete K.fromAttrs[H])})}),D}var ct=function(D){(0,w.ZT)(G,D);function G(X){var N=D.call(this,X)||this;N.attrs={};var tt=N.getDefaultAttrs();return(0,_.mix)(tt,X.attrs),N.attrs=tt,N.initAttrs(tt),N.initAnimate(),N}return G.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},G.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},G.prototype.onCanvasChange=function(X){},G.prototype.initAttrs=function(X){},G.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},G.prototype.isGroup=function(){return!1},G.prototype.getParent=function(){return this.get("parent")},G.prototype.getCanvas=function(){return this.get("canvas")},G.prototype.attr=function(){for(var X,N=[],tt=0;tt<arguments.length;tt++)N[tt]=arguments[tt];var Q=N[0],K=N[1];if(!Q)return this.attrs;if((0,_.isObject)(Q)){for(var V in Q)this.setAttr(V,Q[V]);return this.afterAttrsChange(Q),this}return N.length===2?(this.setAttr(Q,K),this.afterAttrsChange((X={},X[Q]=K,X)),this):this.attrs[Q]},G.prototype.isClipped=function(X,N){var tt=this.getClip();return tt&&!tt.isHit(X,N)},G.prototype.setAttr=function(X,N){var tt=this.attrs[X];tt!==N&&(this.attrs[X]=N,this.onAttrChange(X,N,tt))},G.prototype.onAttrChange=function(X,N,tt){X==="matrix"&&this.set("totalMatrix",null)},G.prototype.afterAttrsChange=function(X){if(this.cfg.isClipShape){var N=this.cfg.applyTo;N&&N.onCanvasChange("clip")}else this.onCanvasChange("attr")},G.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},G.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},G.prototype.setZIndex=function(X){this.set("zIndex",X);var N=this.getParent();return N&&N.sort(),this},G.prototype.toFront=function(){var X=this.getParent();if(!!X){var N=X.getChildren(),tt=this.get("el"),Q=N.indexOf(this);N.splice(Q,1),N.push(this),this.onCanvasChange("zIndex")}},G.prototype.toBack=function(){var X=this.getParent();if(!!X){var N=X.getChildren(),tt=this.get("el"),Q=N.indexOf(this);N.splice(Q,1),N.unshift(this),this.onCanvasChange("zIndex")}},G.prototype.remove=function(X){X===void 0&&(X=!0);var N=this.getParent();N?((0,x.As)(N.getChildren(),this),N.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),X&&this.destroy()},G.prototype.resetMatrix=function(){this.attr(k,this.getDefaultMatrix()),this.onCanvasChange("matrix")},G.prototype.getMatrix=function(){return this.attr(k)},G.prototype.setMatrix=function(X){this.attr(k,X),this.onCanvasChange("matrix")},G.prototype.getTotalMatrix=function(){var X=this.cfg.totalMatrix;if(!X){var N=this.attr("matrix"),tt=this.cfg.parentMatrix;tt&&N?X=(0,g.xq)(tt,N):X=N||tt,this.set("totalMatrix",X)}return X},G.prototype.applyMatrix=function(X){var N=this.attr("matrix"),tt=null;X&&N?tt=(0,g.xq)(X,N):tt=N||X,this.set("totalMatrix",tt),this.set("parentMatrix",X)},G.prototype.getDefaultMatrix=function(){return null},G.prototype.applyToMatrix=function(X){var N=this.attr("matrix");return N?(0,g.rG)(N,X):X},G.prototype.invertFromMatrix=function(X){var N=this.attr("matrix");if(N){var tt=(0,g.U_)(N);if(tt)return(0,g.rG)(tt,X)}return X},G.prototype.setClip=function(X){var N=this.getCanvas(),tt=null;if(X){var Q=this.getShapeBase(),K=(0,_.upperFirst)(X.type),V=Q[K];V&&(tt=new V({type:X.type,isClipShape:!0,applyTo:this,attrs:X.attrs,canvas:N}))}return this.set("clipShape",tt),this.onCanvasChange("clip"),tt},G.prototype.getClip=function(){var X=this.cfg.clipShape;return X||null},G.prototype.clone=function(){var X=this,N=this.attrs,tt={};(0,_.each)(N,function(V,H){(0,_.isArray)(N[H])?tt[H]=U(N[H]):tt[H]=N[H]});var Q=this.constructor,K=new Q({attrs:tt});return(0,_.each)(F,function(V){K.set(V,X.get(V))}),K},G.prototype.destroy=function(){var X=this.destroyed;X||(this.attrs={},D.prototype.destroy.call(this))},G.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},G.prototype.animate=function(){for(var X=[],N=0;N<arguments.length;N++)X[N]=arguments[N];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var tt=this.get("timeline");tt||(tt=this.get("canvas").get("timeline"),this.set("timeline",tt));var Q=this.get("animations")||[];tt.timer||tt.initTimer();var K=X[0],V=X[1],H=X[2],u=H===void 0?"easeLinear":H,ot=X[3],pt=ot===void 0?_.noop:ot,it=X[4],xt=it===void 0?0:it,gt,wt,Dt,Nt,Ot;(0,_.isFunction)(K)?(gt=K,K={}):(0,_.isObject)(K)&&K.onFrame&&(gt=K.onFrame,wt=K.repeat),(0,_.isObject)(V)?(Ot=V,V=Ot.duration,u=Ot.easing||"easeLinear",xt=Ot.delay||0,wt=Ot.repeat||wt||!1,pt=Ot.callback||_.noop,Dt=Ot.pauseCallback||_.noop,Nt=Ot.resumeCallback||_.noop):((0,_.isNumber)(pt)&&(xt=pt,pt=null),(0,_.isFunction)(u)?(pt=u,u="easeLinear"):u=u||"easeLinear");var Tt=q(K,this),at={fromAttrs:et(Tt,this),toAttrs:Tt,duration:V,easing:u,repeat:wt,callback:pt,pauseCallback:Dt,resumeCallback:Nt,delay:xt,startTime:tt.getTime(),id:(0,_.uniqueId)(),onFrame:gt,pathFormatted:!1};Q.length>0?Q=dt(Q,at):tt.addAnimator(this),Q.push(at),this.set("animations",Q),this.set("_pause",{isPaused:!1})}},G.prototype.stopAnimate=function(X){var N=this;X===void 0&&(X=!0);var tt=this.get("animations");(0,_.each)(tt,function(Q){X&&(Q.onFrame?N.attr(Q.onFrame(1)):N.attr(Q.toAttrs)),Q.callback&&Q.callback()}),this.set("animating",!1),this.set("animations",[])},G.prototype.pauseAnimate=function(){var X=this.get("timeline"),N=this.get("animations"),tt=X.getTime();return(0,_.each)(N,function(Q){Q._paused=!0,Q._pauseTime=tt,Q.pauseCallback&&Q.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:tt}),this},G.prototype.resumeAnimate=function(){var X=this.get("timeline"),N=X.getTime(),tt=this.get("animations"),Q=this.get("_pause").pauseTime;return(0,_.each)(tt,function(K){K.startTime=K.startTime+(N-Q),K._paused=!1,K._pauseTime=null,K.resumeCallback&&K.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",tt),this},G.prototype.emitDelegation=function(X,N){var tt=this,Q=N.propagationPath,K=this.getEvents(),V;X==="mouseenter"?V=N.fromShape:X==="mouseleave"&&(V=N.toShape);for(var H=function(it){var xt=Q[it],gt=xt.get("name");if(gt){if((xt.isGroup()||xt.isCanvas&&xt.isCanvas())&&V&&(0,x.UY)(xt,V))return"break";(0,_.isArray)(gt)?(0,_.each)(gt,function(wt){tt.emitDelegateEvent(xt,wt,N)}):u.emitDelegateEvent(xt,gt,N)}},u=this,ot=0;ot<Q.length;ot++){var pt=H(ot);if(pt==="break")break}},G.prototype.emitDelegateEvent=function(X,N,tt){var Q=this.getEvents(),K=N+$+tt.type;(Q[K]||Q[z])&&(tt.name=K,tt.currentTarget=X,tt.delegateTarget=this,tt.delegateObject=X.get("delegateObject"),this.emit(K,tt))},G.prototype.translate=function(X,N){X===void 0&&(X=0),N===void 0&&(N=0);var tt=this.getMatrix(),Q=L(tt,[["t",X,N]]);return this.setMatrix(Q),this},G.prototype.move=function(X,N){var tt=this.attr("x")||0,Q=this.attr("y")||0;return this.translate(X-tt,N-Q),this},G.prototype.moveTo=function(X,N){return this.move(X,N)},G.prototype.scale=function(X,N){var tt=this.getMatrix(),Q=L(tt,[["s",X,N||X]]);return this.setMatrix(Q),this},G.prototype.rotate=function(X){var N=this.getMatrix(),tt=L(N,[["r",X]]);return this.setMatrix(tt),this},G.prototype.rotateAtStart=function(X){var N=this.attr(),tt=N.x,Q=N.y,K=this.getMatrix(),V=L(K,[["t",-tt,-Q],["r",X],["t",tt,Q]]);return this.setMatrix(V),this},G.prototype.rotateAtPoint=function(X,N,tt){var Q=this.getMatrix(),K=L(Q,[["t",-X,-N],["r",tt],["t",X,N]]);return this.setMatrix(K),this},G}(M.Z),Mt=ct},1756:function(bt,S,d){"use strict";var w=d(98453),_=d(36540),I=function(O){(0,w.ZT)(P,O);function P(){return O!==null&&O.apply(this,arguments)||this}return P.prototype.isGroup=function(){return!0},P.prototype.isEntityGroup=function(){return!1},P.prototype.clone=function(){for(var A=O.prototype.clone.call(this),E=this.getChildren(),C=0;C<E.length;C++){var p=E[C];A.add(p.clone())}return A},P}(_.Z);S.Z=I},51995:function(bt,S,d){"use strict";var w=d(98453),_=d(94638),I=d(93557),O=function(P){(0,w.ZT)(A,P);function A(E){return P.call(this,E)||this}return A.prototype._isInBBox=function(E,C){var p=this.getBBox();return p.minX<=E&&p.maxX>=E&&p.minY<=C&&p.maxY>=C},A.prototype.afterAttrsChange=function(E){P.prototype.afterAttrsChange.call(this,E),this.clearCacheBBox()},A.prototype.getBBox=function(){var E=this.cfg.bbox;return E||(E=this.calculateBBox(),this.set("bbox",E)),E},A.prototype.getCanvasBBox=function(){var E=this.cfg.canvasBBox;return E||(E=this.calculateCanvasBBox(),this.set("canvasBBox",E)),E},A.prototype.applyMatrix=function(E){P.prototype.applyMatrix.call(this,E),this.set("canvasBBox",null)},A.prototype.calculateCanvasBBox=function(){var E=this.getBBox(),C=this.getTotalMatrix(),p=E.minX,b=E.minY,y=E.maxX,x=E.maxY;if(C){var g=(0,I.rG)(C,[E.minX,E.minY]),M=(0,I.rG)(C,[E.maxX,E.minY]),L=(0,I.rG)(C,[E.minX,E.maxY]),k=(0,I.rG)(C,[E.maxX,E.maxY]);p=Math.min(g[0],M[0],L[0],k[0]),y=Math.max(g[0],M[0],L[0],k[0]),b=Math.min(g[1],M[1],L[1],k[1]),x=Math.max(g[1],M[1],L[1],k[1])}var F=this.attrs;if(F.shadowColor){var W=F.shadowBlur,$=W===void 0?0:W,z=F.shadowOffsetX,U=z===void 0?0:z,et=F.shadowOffsetY,q=et===void 0?0:et,dt=p-$+U,ct=y+$+U,Mt=b-$+q,D=x+$+q;p=Math.min(p,dt),y=Math.max(y,ct),b=Math.min(b,Mt),x=Math.max(x,D)}return{x:p,y:b,minX:p,minY:b,maxX:y,maxY:x,width:y-p,height:x-b}},A.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},A.prototype.isClipShape=function(){return this.get("isClipShape")},A.prototype.isInShape=function(E,C){return!1},A.prototype.isOnlyHitBox=function(){return!1},A.prototype.isHit=function(E,C){var p=this.get("startArrowShape"),b=this.get("endArrowShape"),y=[E,C,1];y=this.invertFromMatrix(y);var x=y[0],g=y[1],M=this._isInBBox(x,g);return this.isOnlyHitBox()?M:!!(M&&!this.isClipped(x,g)&&(this.isInShape(x,g)||p&&p.isHit(x,g)||b&&b.isHit(x,g)))},A}(_.Z);S.Z=O},95802:function(bt,S,d){"use strict";d.d(S,{b:function(){return I}});var w=new Map;function _(z,U){w.set(z,U)}function I(z){return w.get(z)}function O(z){var U=z.attr(),et=U.x,q=U.y,dt=U.width,ct=U.height;return{x:et,y:q,width:dt,height:ct}}function P(z){var U=z.attr(),et=U.x,q=U.y,dt=U.r;return{x:et-dt,y:q-dt,width:dt*2,height:dt*2}}var A=d(89838);function E(z,U){return!z||!U?z||U:{minX:Math.min(z.minX,U.minX),minY:Math.min(z.minY,U.minY),maxX:Math.max(z.maxX,U.maxX),maxY:Math.max(z.maxY,U.maxY)}}function C(z,U){var et=z.get("startArrowShape"),q=z.get("endArrowShape"),dt=null,ct=null;return et&&(dt=et.getCanvasBBox(),U=E(U,dt)),q&&(ct=q.getCanvasBBox(),U=E(U,ct)),U}function p(z){for(var U=z.attr(),et=U.points,q=[],dt=[],ct=0;ct<et.length;ct++){var Mt=et[ct];q.push(Mt[0]),dt.push(Mt[1])}var D=A.Util.getBBoxByArray(q,dt),G=D.x,X=D.y,N=D.width,tt=D.height,Q={minX:G,minY:X,maxX:G+N,maxY:X+tt};return Q=C(z,Q),{x:Q.minX,y:Q.minY,width:Q.maxX-Q.minX,height:Q.maxY-Q.minY}}function b(z){for(var U=z.attr(),et=U.points,q=[],dt=[],ct=0;ct<et.length;ct++){var Mt=et[ct];q.push(Mt[0]),dt.push(Mt[1])}return A.Util.getBBoxByArray(q,dt)}var y=d(93323);function x(z){var U=z.attr(),et=U.x,q=U.y,dt=U.text,ct=U.fontSize,Mt=U.lineHeight,D=U.font;D||(D=(0,y.$O)(U));var G=(0,y.mY)(dt,D),X;if(!G)X={x:et,y:q,width:0,height:0};else{var N=U.textAlign,tt=U.textBaseline,Q=(0,y.FE)(dt,ct,Mt),K={x:et,y:q-Q};N&&(N==="end"||N==="right"?K.x-=G:N==="center"&&(K.x-=G/2)),tt&&(tt==="top"?K.y+=Q:tt==="middle"&&(K.y+=Q/2)),X={x:K.x,y:K.y,width:G,height:Q}}return X}var g=d(57350),M=d(49242);function L(z,U){for(var et=[],q=[],dt=[],ct=0;ct<z.length;ct++){var Mt=z[ct],D=Mt.currentPoint,G=Mt.params,X=Mt.prePoint,N=void 0;switch(Mt.command){case"Q":N=A.Quad.box(X[0],X[1],G[1],G[2],G[3],G[4]);break;case"C":N=A.Cubic.box(X[0],X[1],G[1],G[2],G[3],G[4],G[5],G[6]);break;case"A":var tt=Mt.arcParams;N=A.Arc.box(tt.cx,tt.cy,tt.rx,tt.ry,tt.xRotation,tt.startAngle,tt.endAngle);break;default:et.push(D[0]),q.push(D[1]);break}N&&(Mt.box=N,et.push(N.x,N.x+N.width),q.push(N.y,N.y+N.height)),U&&(Mt.command==="L"||Mt.command==="M")&&Mt.prePoint&&Mt.nextPoint&&dt.push(Mt)}et=et.filter(function(ot){return!Number.isNaN(ot)}),q=q.filter(function(ot){return!Number.isNaN(ot)});var Q=(0,M.min)(et),K=(0,M.min)(q),V=(0,M.max)(et),H=(0,M.max)(q);if(dt.length===0)return{x:Q,y:K,width:V-Q,height:H-K};for(var ct=0;ct<dt.length;ct++){var Mt=dt[ct],D=Mt.currentPoint,u=void 0;D[0]===Q?(u=k(Mt,U),Q=Q-u.xExtra):D[0]===V&&(u=k(Mt,U),V=V+u.xExtra),D[1]===K?(u=k(Mt,U),K=K-u.yExtra):D[1]===H&&(u=k(Mt,U),H=H+u.yExtra)}return{x:Q,y:K,width:V-Q,height:H-K}}function k(z,U){var et=z.prePoint,q=z.currentPoint,dt=z.nextPoint,ct=Math.pow(q[0]-et[0],2)+Math.pow(q[1]-et[1],2),Mt=Math.pow(q[0]-dt[0],2)+Math.pow(q[1]-dt[1],2),D=Math.pow(et[0]-dt[0],2)+Math.pow(et[1]-dt[1],2),G=Math.acos((ct+Mt-D)/(2*Math.sqrt(ct)*Math.sqrt(Mt)));if(!G||Math.sin(G)===0||(0,M.isNumberEqual)(G,0))return{xExtra:0,yExtra:0};var X=Math.abs(Math.atan2(dt[1]-q[1],dt[0]-q[0])),N=Math.abs(Math.atan2(dt[0]-q[0],dt[1]-q[1]));X=X>Math.PI/2?Math.PI-X:X,N=N>Math.PI/2?Math.PI-N:N;var tt={xExtra:Math.cos(G/2-X)*(U/2*(1/Math.sin(G/2)))-U/2||0,yExtra:Math.cos(N-G/2)*(U/2*(1/Math.sin(G/2)))-U/2||0};return tt}function F(z){var U=z.attr(),et=U.path,q=U.stroke,dt=q?U.lineWidth:0,ct=z.get("segments")||(0,g.path2Segments)(et),Mt=L(ct,dt),D=Mt.x,G=Mt.y,X=Mt.width,N=Mt.height,tt={minX:D,minY:G,maxX:D+X,maxY:G+N};return tt=C(z,tt),{x:tt.minX,y:tt.minY,width:tt.maxX-tt.minX,height:tt.maxY-tt.minY}}function W(z){var U=z.attr(),et=U.x1,q=U.y1,dt=U.x2,ct=U.y2,Mt=Math.min(et,dt),D=Math.max(et,dt),G=Math.min(q,ct),X=Math.max(q,ct),N={minX:Mt,maxX:D,minY:G,maxY:X};return N=C(z,N),{x:N.minX,y:N.minY,width:N.maxX-N.minX,height:N.maxY-N.minY}}function $(z){var U=z.attr(),et=U.x,q=U.y,dt=U.rx,ct=U.ry;return{x:et-dt,y:q-ct,width:dt*2,height:ct*2}}_("rect",O),_("image",O),_("circle",P),_("marker",P),_("polyline",p),_("polygon",b),_("text",x),_("path",F),_("line",W),_("ellipse",$)},65608:function(bt,S){"use strict";var d=function(){function w(_,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=_,this.name=_,this.originalEvent=I,this.timeStamp=I.timeStamp}return w.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},w.prototype.stopPropagation=function(){this.propagationStopped=!0},w.prototype.toString=function(){var _=this.type;return"[Event (type="+_+")]"},w.prototype.save=function(){},w.prototype.restore=function(){},w}();S.Z=d},85622:function(bt,S,d){"use strict";d.r(S),d.d(S,{Event:function(){return C.Z},Base:function(){return p.Z},AbstractCanvas:function(){return b.Z},AbstractGroup:function(){return y.Z},AbstractShape:function(){return x.Z},PathUtil:function(){return w},getBBoxMethod:function(){return g.b},getTextHeight:function(){return M.FE},assembleFont:function(){return M.$O},isAllowCapture:function(){return L.pP},multiplyVec2:function(){return k.rG},invert:function(){return k.U_},getOffScreenContext:function(){return F.L},version:function(){return W}});var w=d(80234),_=d(82723),I=d.n(_),O={};for(var P in _)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(P)<0&&(O[P]=function($){return _[$]}.bind(0,P));d.d(S,O);var A=d(12548),E=d.n(A),O={};for(var P in A)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(P)<0&&(O[P]=function(z){return A[z]}.bind(0,P));d.d(S,O);var C=d(65608),p=d(3935),b=d(85150),y=d(1756),x=d(51995),g=d(95802),M=d(93323),L=d(91241),k=d(93557),F=d(40897),W="0.5.6"},12548:function(){},82723:function(){},93557:function(bt,S,d){"use strict";d.d(S,{xq:function(){return w},rG:function(){return _},U_:function(){return I}});function w(O,P){var A=[],E=O[0],C=O[1],p=O[2],b=O[3],y=O[4],x=O[5],g=O[6],M=O[7],L=O[8],k=P[0],F=P[1],W=P[2],$=P[3],z=P[4],U=P[5],et=P[6],q=P[7],dt=P[8];return A[0]=k*E+F*b+W*g,A[1]=k*C+F*y+W*M,A[2]=k*p+F*x+W*L,A[3]=$*E+z*b+U*g,A[4]=$*C+z*y+U*M,A[5]=$*p+z*x+U*L,A[6]=et*E+q*b+dt*g,A[7]=et*C+q*y+dt*M,A[8]=et*p+q*x+dt*L,A}function _(O,P){var A=[],E=P[0],C=P[1];return A[0]=O[0]*E+O[3]*C+O[6],A[1]=O[1]*E+O[4]*C+O[7],A}function I(O){var P=[],A=O[0],E=O[1],C=O[2],p=O[3],b=O[4],y=O[5],x=O[6],g=O[7],M=O[8],L=M*b-y*g,k=-M*p+y*x,F=g*p-b*x,W=A*L+E*k+C*F;return W?(W=1/W,P[0]=L*W,P[1]=(-M*E+C*g)*W,P[2]=(y*E-C*b)*W,P[3]=k*W,P[4]=(M*A-C*x)*W,P[5]=(-y*A+C*p)*W,P[6]=F*W,P[7]=(-g*A+E*x)*W,P[8]=(b*A-E*p)*W,P):null}},40897:function(bt,S,d){"use strict";d.d(S,{L:function(){return _}});var w=null;function _(){if(!w){var I=document.createElement("canvas");I.width=1,I.height=1,w=I.getContext("2d")}return w}},80234:function(bt,S,d){"use strict";d.r(S),d.d(S,{catmullRomToBezier:function(){return A},fillPath:function(){return tt},fillPathByDiff:function(){return H},formatPath:function(){return pt},intersection:function(){return D},parsePathArray:function(){return M},parsePathString:function(){return P},pathToAbsolute:function(){return C},pathToCurve:function(){return x},rectPath:function(){return z}});var w=d(49242),_=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+_+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+_+"]*,?["+_+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+_+"]*,?["+_+"]*","ig"),P=function(it){if(!it)return null;if((0,w.isArray)(it))return it;var xt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},gt=[];return String(it).replace(I,function(wt,Dt,Nt){var Ot=[],Tt=Dt.toLowerCase();if(Nt.replace(O,function(at,st){st&&Ot.push(+st)}),Tt==="m"&&Ot.length>2&&(gt.push([Dt].concat(Ot.splice(0,2))),Tt="l",Dt=Dt==="m"?"l":"L"),Tt==="o"&&Ot.length===1&&gt.push([Dt,Ot[0]]),Tt==="r")gt.push([Dt].concat(Ot));else for(;Ot.length>=xt[Tt]&&(gt.push([Dt].concat(Ot.splice(0,xt[Tt]))),!!xt[Tt]););return it}),gt},A=function(it,xt){for(var gt=[],wt=0,Dt=it.length;Dt-2*!xt>wt;wt+=2){var Nt=[{x:+it[wt-2],y:+it[wt-1]},{x:+it[wt],y:+it[wt+1]},{x:+it[wt+2],y:+it[wt+3]},{x:+it[wt+4],y:+it[wt+5]}];xt?wt?Dt-4===wt?Nt[3]={x:+it[0],y:+it[1]}:Dt-2===wt&&(Nt[2]={x:+it[0],y:+it[1]},Nt[3]={x:+it[2],y:+it[3]}):Nt[0]={x:+it[Dt-2],y:+it[Dt-1]}:Dt-4===wt?Nt[3]=Nt[2]:wt||(Nt[0]={x:+it[wt],y:+it[wt+1]}),gt.push(["C",(-Nt[0].x+6*Nt[1].x+Nt[2].x)/6,(-Nt[0].y+6*Nt[1].y+Nt[2].y)/6,(Nt[1].x+6*Nt[2].x-Nt[3].x)/6,(Nt[1].y+6*Nt[2].y-Nt[3].y)/6,Nt[2].x,Nt[2].y])}return gt},E=function(it,xt,gt,wt,Dt){var Nt=[];if(Dt===null&&wt===null&&(wt=gt),it=+it,xt=+xt,gt=+gt,wt=+wt,Dt!==null){var Ot=Math.PI/180,Tt=it+gt*Math.cos(-wt*Ot),at=it+gt*Math.cos(-Dt*Ot),st=xt+gt*Math.sin(-wt*Ot),Ct=xt+gt*Math.sin(-Dt*Ot);Nt=[["M",Tt,st],["A",gt,gt,0,+(Dt-wt>180),0,at,Ct]]}else Nt=[["M",it,xt],["m",0,-wt],["a",gt,wt,0,1,1,0,2*wt],["a",gt,wt,0,1,1,0,-2*wt],["z"]];return Nt},C=function(it){if(it=P(it),!it||!it.length)return[["M",0,0]];var xt=[],gt=0,wt=0,Dt=0,Nt=0,Ot=0,Tt,at;it[0][0]==="M"&&(gt=+it[0][1],wt=+it[0][2],Dt=gt,Nt=wt,Ot++,xt[0]=["M",gt,wt]);for(var st=it.length===3&&it[0][0]==="M"&&it[1][0].toUpperCase()==="R"&&it[2][0].toUpperCase()==="Z",Ct=void 0,nt=void 0,rt=Ot,mt=it.length;rt<mt;rt++){if(xt.push(Ct=[]),nt=it[rt],Tt=nt[0],Tt!==Tt.toUpperCase())switch(Ct[0]=Tt.toUpperCase(),Ct[0]){case"A":Ct[1]=nt[1],Ct[2]=nt[2],Ct[3]=nt[3],Ct[4]=nt[4],Ct[5]=nt[5],Ct[6]=+nt[6]+gt,Ct[7]=+nt[7]+wt;break;case"V":Ct[1]=+nt[1]+wt;break;case"H":Ct[1]=+nt[1]+gt;break;case"R":at=[gt,wt].concat(nt.slice(1));for(var Pt=2,Yt=at.length;Pt<Yt;Pt++)at[Pt]=+at[Pt]+gt,at[++Pt]=+at[Pt]+wt;xt.pop(),xt=xt.concat(A(at,st));break;case"O":xt.pop(),at=E(gt,wt,nt[1],nt[2]),at.push(at[0]),xt=xt.concat(at);break;case"U":xt.pop(),xt=xt.concat(E(gt,wt,nt[1],nt[2],nt[3])),Ct=["U"].concat(xt[xt.length-1].slice(-2));break;case"M":Dt=+nt[1]+gt,Nt=+nt[2]+wt;break;default:for(var Pt=1,Yt=nt.length;Pt<Yt;Pt++)Ct[Pt]=+nt[Pt]+(Pt%2?gt:wt)}else if(Tt==="R")at=[gt,wt].concat(nt.slice(1)),xt.pop(),xt=xt.concat(A(at,st)),Ct=["R"].concat(nt.slice(-2));else if(Tt==="O")xt.pop(),at=E(gt,wt,nt[1],nt[2]),at.push(at[0]),xt=xt.concat(at);else if(Tt==="U")xt.pop(),xt=xt.concat(E(gt,wt,nt[1],nt[2],nt[3])),Ct=["U"].concat(xt[xt.length-1].slice(-2));else for(var Jt=0,de=nt.length;Jt<de;Jt++)Ct[Jt]=nt[Jt];if(Tt=Tt.toUpperCase(),Tt!=="O")switch(Ct[0]){case"Z":gt=+Dt,wt=+Nt;break;case"H":gt=Ct[1];break;case"V":wt=Ct[1];break;case"M":Dt=Ct[Ct.length-2],Nt=Ct[Ct.length-1];break;default:gt=Ct[Ct.length-2],wt=Ct[Ct.length-1]}}return xt},p=function(it,xt,gt,wt){return[it,xt,gt,wt,gt,wt]},b=function(it,xt,gt,wt,Dt,Nt){var Ot=1/3,Tt=2/3;return[Ot*it+Tt*gt,Ot*xt+Tt*wt,Ot*Dt+Tt*gt,Ot*Nt+Tt*wt,Dt,Nt]},y=function(it,xt,gt,wt,Dt,Nt,Ot,Tt,at,st){gt===wt&&(gt+=1);var Ct=Math.PI*120/180,nt=Math.PI/180*(+Dt||0),rt=[],mt,Pt,Yt,Jt,de,Ce=function(Be,$e,rr){var Je=Be*Math.cos(rr)-$e*Math.sin(rr),or=Be*Math.sin(rr)+$e*Math.cos(rr);return{x:Je,y:or}};if(st)Pt=st[0],Yt=st[1],Jt=st[2],de=st[3];else{mt=Ce(it,xt,-nt),it=mt.x,xt=mt.y,mt=Ce(Tt,at,-nt),Tt=mt.x,at=mt.y,it===Tt&&xt===at&&(Tt+=1,at+=1);var ye=(it-Tt)/2,Se=(xt-at)/2,Fe=ye*ye/(gt*gt)+Se*Se/(wt*wt);Fe>1&&(Fe=Math.sqrt(Fe),gt=Fe*gt,wt=Fe*wt);var Ze=gt*gt,er=wt*wt,qe=(Nt===Ot?-1:1)*Math.sqrt(Math.abs((Ze*er-Ze*Se*Se-er*ye*ye)/(Ze*Se*Se+er*ye*ye)));Jt=qe*gt*Se/wt+(it+Tt)/2,de=qe*-wt*ye/gt+(xt+at)/2,Pt=Math.asin(((xt-de)/wt).toFixed(9)),Yt=Math.asin(((at-de)/wt).toFixed(9)),Pt=it<Jt?Math.PI-Pt:Pt,Yt=Tt<Jt?Math.PI-Yt:Yt,Pt<0&&(Pt=Math.PI*2+Pt),Yt<0&&(Yt=Math.PI*2+Yt),Ot&&Pt>Yt&&(Pt=Pt-Math.PI*2),!Ot&&Yt>Pt&&(Yt=Yt-Math.PI*2)}var Pr=Yt-Pt;if(Math.abs(Pr)>Ct){var rn=Yt,Or=Tt,Wr=at;Yt=Pt+Ct*(Ot&&Yt>Pt?1:-1),Tt=Jt+gt*Math.cos(Yt),at=de+wt*Math.sin(Yt),rt=y(Tt,at,gt,wt,Dt,0,Ot,Or,Wr,[Yt,rn,Jt,de])}Pr=Yt-Pt;var Zn=Math.cos(Pt),ei=Math.sin(Pt),mi=Math.cos(Yt),xi=Math.sin(Yt),Ht=Math.tan(Pr/4),Zt=4/3*gt*Ht,ne=4/3*wt*Ht,ae=[it,xt],ge=[it+Zt*ei,xt-ne*Zn],xe=[Tt+Zt*xi,at-ne*mi],be=[Tt,at];if(ge[0]=2*ae[0]-ge[0],ge[1]=2*ae[1]-ge[1],st)return[ge,xe,be].concat(rt);rt=[ge,xe,be].concat(rt).join().split(",");for(var Te=[],ve=0,We=rt.length;ve<We;ve++)Te[ve]=ve%2?Ce(rt[ve-1],rt[ve],nt).y:Ce(rt[ve],rt[ve+1],nt).x;return Te},x=function(it,xt){var gt=C(it),wt=xt&&C(xt),Dt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ot=[],Tt=[],at="",st="",Ct,nt=function(ye,Se,Fe){var Ze,er;if(!ye)return["C",Se.x,Se.y,Se.x,Se.y,Se.x,Se.y];switch(!(ye[0]in{T:1,Q:1})&&(Se.qx=Se.qy=null),ye[0]){case"M":Se.X=ye[1],Se.Y=ye[2];break;case"A":ye=["C"].concat(y.apply(0,[Se.x,Se.y].concat(ye.slice(1))));break;case"S":Fe==="C"||Fe==="S"?(Ze=Se.x*2-Se.bx,er=Se.y*2-Se.by):(Ze=Se.x,er=Se.y),ye=["C",Ze,er].concat(ye.slice(1));break;case"T":Fe==="Q"||Fe==="T"?(Se.qx=Se.x*2-Se.qx,Se.qy=Se.y*2-Se.qy):(Se.qx=Se.x,Se.qy=Se.y),ye=["C"].concat(b(Se.x,Se.y,Se.qx,Se.qy,ye[1],ye[2]));break;case"Q":Se.qx=ye[1],Se.qy=ye[2],ye=["C"].concat(b(Se.x,Se.y,ye[1],ye[2],ye[3],ye[4]));break;case"L":ye=["C"].concat(p(Se.x,Se.y,ye[1],ye[2]));break;case"H":ye=["C"].concat(p(Se.x,Se.y,ye[1],Se.y));break;case"V":ye=["C"].concat(p(Se.x,Se.y,Se.x,ye[1]));break;case"Z":ye=["C"].concat(p(Se.x,Se.y,Se.X,Se.Y));break;default:break}return ye},rt=function(ye,Se){if(ye[Se].length>7){ye[Se].shift();for(var Fe=ye[Se];Fe.length;)Ot[Se]="A",wt&&(Tt[Se]="A"),ye.splice(Se++,0,["C"].concat(Fe.splice(0,6)));ye.splice(Se,1),Ct=Math.max(gt.length,wt&&wt.length||0)}},mt=function(ye,Se,Fe,Ze,er){ye&&Se&&ye[er][0]==="M"&&Se[er][0]!=="M"&&(Se.splice(er,0,["M",Ze.x,Ze.y]),Fe.bx=0,Fe.by=0,Fe.x=ye[er][1],Fe.y=ye[er][2],Ct=Math.max(gt.length,wt&&wt.length||0))};Ct=Math.max(gt.length,wt&&wt.length||0);for(var Pt=0;Pt<Ct;Pt++){gt[Pt]&&(at=gt[Pt][0]),at!=="C"&&(Ot[Pt]=at,Pt&&(st=Ot[Pt-1])),gt[Pt]=nt(gt[Pt],Dt,st),Ot[Pt]!=="A"&&at==="C"&&(Ot[Pt]="C"),rt(gt,Pt),wt&&(wt[Pt]&&(at=wt[Pt][0]),at!=="C"&&(Tt[Pt]=at,Pt&&(st=Tt[Pt-1])),wt[Pt]=nt(wt[Pt],Nt,st),Tt[Pt]!=="A"&&at==="C"&&(Tt[Pt]="C"),rt(wt,Pt)),mt(gt,wt,Dt,Nt,Pt),mt(wt,gt,Nt,Dt,Pt);var Yt=gt[Pt],Jt=wt&&wt[Pt],de=Yt.length,Ce=wt&&Jt.length;Dt.x=Yt[de-2],Dt.y=Yt[de-1],Dt.bx=parseFloat(Yt[de-4])||Dt.x,Dt.by=parseFloat(Yt[de-3])||Dt.y,Nt.bx=wt&&(parseFloat(Jt[Ce-4])||Nt.x),Nt.by=wt&&(parseFloat(Jt[Ce-3])||Nt.y),Nt.x=wt&&Jt[Ce-2],Nt.y=wt&&Jt[Ce-1]}return wt?[gt,wt]:gt},g=/,?([a-z]),?/gi,M=function(it){return it.join(",").replace(g,"$1")},L=function(it,xt,gt,wt,Dt){var Nt=-3*xt+9*gt-9*wt+3*Dt,Ot=it*Nt+6*xt-12*gt+6*wt;return it*Ot-3*xt+3*gt},k=function(it,xt,gt,wt,Dt,Nt,Ot,Tt,at){at===null&&(at=1),at=at>1?1:at<0?0:at;for(var st=at/2,Ct=12,nt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],rt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],mt=0,Pt=0;Pt<Ct;Pt++){var Yt=st*nt[Pt]+st,Jt=L(Yt,it,gt,Dt,Ot),de=L(Yt,xt,wt,Nt,Tt),Ce=Jt*Jt+de*de;mt+=rt[Pt]*Math.sqrt(Ce)}return st*mt},F=function(it,xt,gt,wt,Dt,Nt,Ot,Tt){for(var at=[],st=[[],[]],Ct,nt,rt,mt,Pt=0;Pt<2;++Pt){if(Pt===0?(nt=6*it-12*gt+6*Dt,Ct=-3*it+9*gt-9*Dt+3*Ot,rt=3*gt-3*it):(nt=6*xt-12*wt+6*Nt,Ct=-3*xt+9*wt-9*Nt+3*Tt,rt=3*wt-3*xt),Math.abs(Ct)<1e-12){if(Math.abs(nt)<1e-12)continue;mt=-rt/nt,mt>0&&mt<1&&at.push(mt);continue}var Yt=nt*nt-4*rt*Ct,Jt=Math.sqrt(Yt);if(!(Yt<0)){var de=(-nt+Jt)/(2*Ct);de>0&&de<1&&at.push(de);var Ce=(-nt-Jt)/(2*Ct);Ce>0&&Ce<1&&at.push(Ce)}}for(var ye=at.length,Se=ye,Fe;ye--;)mt=at[ye],Fe=1-mt,st[0][ye]=Fe*Fe*Fe*it+3*Fe*Fe*mt*gt+3*Fe*mt*mt*Dt+mt*mt*mt*Ot,st[1][ye]=Fe*Fe*Fe*xt+3*Fe*Fe*mt*wt+3*Fe*mt*mt*Nt+mt*mt*mt*Tt;return st[0][Se]=it,st[1][Se]=xt,st[0][Se+1]=Ot,st[1][Se+1]=Tt,st[0].length=st[1].length=Se+2,{min:{x:Math.min.apply(0,st[0]),y:Math.min.apply(0,st[1])},max:{x:Math.max.apply(0,st[0]),y:Math.max.apply(0,st[1])}}},W=function(it,xt,gt,wt,Dt,Nt,Ot,Tt){if(!(Math.max(it,gt)<Math.min(Dt,Ot)||Math.min(it,gt)>Math.max(Dt,Ot)||Math.max(xt,wt)<Math.min(Nt,Tt)||Math.min(xt,wt)>Math.max(Nt,Tt))){var at=(it*wt-xt*gt)*(Dt-Ot)-(it-gt)*(Dt*Tt-Nt*Ot),st=(it*wt-xt*gt)*(Nt-Tt)-(xt-wt)*(Dt*Tt-Nt*Ot),Ct=(it-gt)*(Nt-Tt)-(xt-wt)*(Dt-Ot);if(!!Ct){var nt=at/Ct,rt=st/Ct,mt=+nt.toFixed(2),Pt=+rt.toFixed(2);if(!(mt<+Math.min(it,gt).toFixed(2)||mt>+Math.max(it,gt).toFixed(2)||mt<+Math.min(Dt,Ot).toFixed(2)||mt>+Math.max(Dt,Ot).toFixed(2)||Pt<+Math.min(xt,wt).toFixed(2)||Pt>+Math.max(xt,wt).toFixed(2)||Pt<+Math.min(Nt,Tt).toFixed(2)||Pt>+Math.max(Nt,Tt).toFixed(2)))return{x:nt,y:rt}}}},$=function(it,xt,gt){return xt>=it.x&&xt<=it.x+it.width&&gt>=it.y&&gt<=it.y+it.height},z=function(it,xt,gt,wt,Dt){if(Dt)return[["M",+it+ +Dt,xt],["l",gt-Dt*2,0],["a",Dt,Dt,0,0,1,Dt,Dt],["l",0,wt-Dt*2],["a",Dt,Dt,0,0,1,-Dt,Dt],["l",Dt*2-gt,0],["a",Dt,Dt,0,0,1,-Dt,-Dt],["l",0,Dt*2-wt],["a",Dt,Dt,0,0,1,Dt,-Dt],["z"]];var Nt=[["M",it,xt],["l",gt,0],["l",0,wt],["l",-gt,0],["z"]];return Nt.parsePathArray=M,Nt},U=function(it,xt,gt,wt){return it===null&&(it=xt=gt=wt=0),xt===null&&(xt=it.y,gt=it.width,wt=it.height,it=it.x),{x:it,y:xt,width:gt,w:gt,height:wt,h:wt,x2:it+gt,y2:xt+wt,cx:it+gt/2,cy:xt+wt/2,r1:Math.min(gt,wt)/2,r2:Math.max(gt,wt)/2,r0:Math.sqrt(gt*gt+wt*wt)/2,path:z(it,xt,gt,wt),vb:[it,xt,gt,wt].join(" ")}},et=function(it,xt){return it=U(it),xt=U(xt),$(xt,it.x,it.y)||$(xt,it.x2,it.y)||$(xt,it.x,it.y2)||$(xt,it.x2,it.y2)||$(it,xt.x,xt.y)||$(it,xt.x2,xt.y)||$(it,xt.x,xt.y2)||$(it,xt.x2,xt.y2)||(it.x<xt.x2&&it.x>xt.x||xt.x<it.x2&&xt.x>it.x)&&(it.y<xt.y2&&it.y>xt.y||xt.y<it.y2&&xt.y>it.y)},q=function(it,xt,gt,wt,Dt,Nt,Ot,Tt){(0,w.isArray)(it)||(it=[it,xt,gt,wt,Dt,Nt,Ot,Tt]);var at=F.apply(null,it);return U(at.min.x,at.min.y,at.max.x-at.min.x,at.max.y-at.min.y)},dt=function(it,xt,gt,wt,Dt,Nt,Ot,Tt,at){var st=1-at,Ct=Math.pow(st,3),nt=Math.pow(st,2),rt=at*at,mt=rt*at,Pt=Ct*it+nt*3*at*gt+st*3*at*at*Dt+mt*Ot,Yt=Ct*xt+nt*3*at*wt+st*3*at*at*Nt+mt*Tt,Jt=it+2*at*(gt-it)+rt*(Dt-2*gt+it),de=xt+2*at*(wt-xt)+rt*(Nt-2*wt+xt),Ce=gt+2*at*(Dt-gt)+rt*(Ot-2*Dt+gt),ye=wt+2*at*(Nt-wt)+rt*(Tt-2*Nt+wt),Se=st*it+at*gt,Fe=st*xt+at*wt,Ze=st*Dt+at*Ot,er=st*Nt+at*Tt,qe=90-Math.atan2(Jt-Ce,de-ye)*180/Math.PI;return{x:Pt,y:Yt,m:{x:Jt,y:de},n:{x:Ce,y:ye},start:{x:Se,y:Fe},end:{x:Ze,y:er},alpha:qe}},ct=function(it,xt,gt){var wt=q(it),Dt=q(xt);if(!et(wt,Dt))return gt?0:[];for(var Nt=k.apply(0,it),Ot=k.apply(0,xt),Tt=~~(Nt/8),at=~~(Ot/8),st=[],Ct=[],nt={},rt=gt?0:[],mt=0;mt<Tt+1;mt++){var Pt=dt.apply(0,it.concat(mt/Tt));st.push({x:Pt.x,y:Pt.y,t:mt/Tt})}for(var mt=0;mt<at+1;mt++){var Pt=dt.apply(0,xt.concat(mt/at));Ct.push({x:Pt.x,y:Pt.y,t:mt/at})}for(var mt=0;mt<Tt;mt++)for(var Yt=0;Yt<at;Yt++){var Jt=st[mt],de=st[mt+1],Ce=Ct[Yt],ye=Ct[Yt+1],Se=Math.abs(de.x-Jt.x)<.001?"y":"x",Fe=Math.abs(ye.x-Ce.x)<.001?"y":"x",Ze=W(Jt.x,Jt.y,de.x,de.y,Ce.x,Ce.y,ye.x,ye.y);if(Ze){if(nt[Ze.x.toFixed(4)]===Ze.y.toFixed(4))continue;nt[Ze.x.toFixed(4)]=Ze.y.toFixed(4);var er=Jt.t+Math.abs((Ze[Se]-Jt[Se])/(de[Se]-Jt[Se]))*(de.t-Jt.t),qe=Ce.t+Math.abs((Ze[Fe]-Ce[Fe])/(ye[Fe]-Ce[Fe]))*(ye.t-Ce.t);er>=0&&er<=1&&qe>=0&&qe<=1&&(gt?rt+=1:rt.push({x:Ze.x,y:Ze.y,t1:er,t2:qe}))}}return rt},Mt=function(it,xt,gt){it=x(it),xt=x(xt);for(var wt,Dt,Nt,Ot,Tt,at,st,Ct,nt,rt,mt=gt?0:[],Pt=0,Yt=it.length;Pt<Yt;Pt++){var Jt=it[Pt];if(Jt[0]==="M")wt=Tt=Jt[1],Dt=at=Jt[2];else{Jt[0]==="C"?(nt=[wt,Dt].concat(Jt.slice(1)),wt=nt[6],Dt=nt[7]):(nt=[wt,Dt,wt,Dt,Tt,at,Tt,at],wt=Tt,Dt=at);for(var de=0,Ce=xt.length;de<Ce;de++){var ye=xt[de];if(ye[0]==="M")Nt=st=ye[1],Ot=Ct=ye[2];else{ye[0]==="C"?(rt=[Nt,Ot].concat(ye.slice(1)),Nt=rt[6],Ot=rt[7]):(rt=[Nt,Ot,Nt,Ot,st,Ct,st,Ct],Nt=st,Ot=Ct);var Se=ct(nt,rt,gt);if(gt)mt+=Se;else{for(var Fe=0,Ze=Se.length;Fe<Ze;Fe++)Se[Fe].segment1=Pt,Se[Fe].segment2=de,Se[Fe].bez1=nt,Se[Fe].bez2=rt;mt=mt.concat(Se)}}}}}return mt},D=function(it,xt){return Mt(it,xt)};function G(it,xt){var gt=[],wt=[];function Dt(Nt,Ot){if(Nt.length===1)gt.push(Nt[0]),wt.push(Nt[0]);else{for(var Tt=[],at=0;at<Nt.length-1;at++)at===0&&gt.push(Nt[0]),at===Nt.length-2&&wt.push(Nt[at+1]),Tt[at]=[(1-Ot)*Nt[at][0]+Ot*Nt[at+1][0],(1-Ot)*Nt[at][1]+Ot*Nt[at+1][1]];Dt(Tt,Ot)}}return it.length&&Dt(it,xt),{left:gt,right:wt.reverse()}}function X(it,xt,gt){var wt=[[it[1],it[2]]];gt=gt||2;var Dt=[];xt[0]==="A"?(wt.push(xt[6]),wt.push(xt[7])):xt[0]==="C"?(wt.push([xt[1],xt[2]]),wt.push([xt[3],xt[4]]),wt.push([xt[5],xt[6]])):xt[0]==="S"||xt[0]==="Q"?(wt.push([xt[1],xt[2]]),wt.push([xt[3],xt[4]])):wt.push([xt[1],xt[2]]);for(var Nt=wt,Ot=1/gt,Tt=0;Tt<gt-1;Tt++){var at=Ot/(1-Ot*Tt),st=G(Nt,at);Dt.push(st.left),Nt=st.right}Dt.push(Nt);var Ct=Dt.map(function(nt){var rt=[];return nt.length===4&&(rt.push("C"),rt=rt.concat(nt[2])),nt.length>=3&&(nt.length===3&&rt.push("Q"),rt=rt.concat(nt[1])),nt.length===2&&rt.push("L"),rt=rt.concat(nt[nt.length-1]),rt});return Ct}var N=function(it,xt,gt){if(gt===1)return[[].concat(it)];var wt=[];if(xt[0]==="L"||xt[0]==="C"||xt[0]==="Q")wt=wt.concat(X(it,xt,gt));else{var Dt=[].concat(it);Dt[0]==="M"&&(Dt[0]="L");for(var Nt=0;Nt<=gt-1;Nt++)wt.push(Dt)}return wt},tt=function(it,xt){if(it.length===1)return it;var gt=it.length-1,wt=xt.length-1,Dt=gt/wt,Nt=[];if(it.length===1&&it[0][0]==="M"){for(var Ot=0;Ot<wt-gt;Ot++)it.push(it[0]);return it}for(var Ot=0;Ot<wt;Ot++){var Tt=Math.floor(Dt*Ot);Nt[Tt]=(Nt[Tt]||0)+1}var at=Nt.reduce(function(st,Ct,nt){return nt===gt?st.concat(it[gt]):st.concat(N(it[nt],it[nt+1],Ct))},[]);return at.unshift(it[0]),(xt[wt]==="Z"||xt[wt]==="z")&&at.push("Z"),at},Q=function(it,xt){if(it.length!==xt.length)return!1;var gt=!0;return(0,w.each)(it,function(wt,Dt){if(wt!==xt[Dt])return gt=!1,!1}),gt};function K(it,xt,gt){var wt=null,Dt=gt;return xt<Dt&&(Dt=xt,wt="add"),it<Dt&&(Dt=it,wt="del"),{type:wt,min:Dt}}var V=function(it,xt){var gt=it.length,wt=xt.length,Dt,Nt,Ot=0;if(gt===0||wt===0)return null;for(var Tt=[],at=0;at<=gt;at++)Tt[at]=[],Tt[at][0]={min:at};for(var st=0;st<=wt;st++)Tt[0][st]={min:st};for(var at=1;at<=gt;at++){Dt=it[at-1];for(var st=1;st<=wt;st++){Nt=xt[st-1],Q(Dt,Nt)?Ot=0:Ot=1;var Ct=Tt[at-1][st].min+1,nt=Tt[at][st-1].min+1,rt=Tt[at-1][st-1].min+Ot;Tt[at][st]=K(Ct,nt,rt)}}return Tt},H=function(it,xt){var gt=V(it,xt),wt=it.length,Dt=xt.length,Nt=[],Ot=1,Tt=1;if(gt[wt][Dt].min!==wt){for(var at=1;at<=wt;at++){var st=gt[at][at].min;Tt=at;for(var Ct=Ot;Ct<=Dt;Ct++)gt[at][Ct].min<st&&(st=gt[at][Ct].min,Tt=Ct);Ot=Tt,gt[at][Ot].type&&Nt.push({index:at-1,type:gt[at][Ot].type})}for(var at=Nt.length-1;at>=0;at--)Ot=Nt[at].index,Nt[at].type==="add"?it.splice(Ot,0,[].concat(it[Ot])):it.splice(Ot,1)}wt=it.length;var nt=Dt-wt;if(wt<Dt)for(var at=0;at<nt;at++)it[wt-1][0]==="z"||it[wt-1][0]==="Z"?it.splice(wt-2,0,it[wt-2]):it.push(it[wt-1]),wt+=1;return it};function u(it,xt,gt){for(var wt=[].concat(it),Dt,Nt=1/(gt+1),Ot=ot(xt)[0],Tt=1;Tt<=gt;Tt++)Nt*=Tt,Dt=Math.floor(it.length*Nt),Dt===0?wt.unshift([Ot[0]*Nt+it[Dt][0]*(1-Nt),Ot[1]*Nt+it[Dt][1]*(1-Nt)]):wt.splice(Dt,0,[Ot[0]*Nt+it[Dt][0]*(1-Nt),Ot[1]*Nt+it[Dt][1]*(1-Nt)]);return wt}function ot(it){var xt=[];switch(it[0]){case"M":xt.push([it[1],it[2]]);break;case"L":xt.push([it[1],it[2]]);break;case"A":xt.push([it[6],it[7]]);break;case"Q":xt.push([it[3],it[4]]),xt.push([it[1],it[2]]);break;case"T":xt.push([it[1],it[2]]);break;case"C":xt.push([it[5],it[6]]),xt.push([it[1],it[2]]),xt.push([it[3],it[4]]);break;case"S":xt.push([it[3],it[4]]),xt.push([it[1],it[2]]);break;case"H":xt.push([it[1],it[1]]);break;case"V":xt.push([it[1],it[1]]);break;default:}return xt}var pt=function(it,xt){if(it.length<=1)return it;for(var gt,wt=0;wt<xt.length;wt++)if(it[wt][0]!==xt[wt][0])switch(gt=ot(it[wt]),xt[wt][0]){case"M":it[wt]=["M"].concat(gt[0]);break;case"L":it[wt]=["L"].concat(gt[0]);break;case"A":it[wt]=[].concat(xt[wt]),it[wt][6]=gt[0][0],it[wt][7]=gt[0][1];break;case"Q":if(gt.length<2)if(wt>0)gt=u(gt,it[wt-1],1);else{it[wt]=xt[wt];break}it[wt]=["Q"].concat(gt.reduce(function(Dt,Nt){return Dt.concat(Nt)},[]));break;case"T":it[wt]=["T"].concat(gt[0]);break;case"C":if(gt.length<3)if(wt>0)gt=u(gt,it[wt-1],2);else{it[wt]=xt[wt];break}it[wt]=["C"].concat(gt.reduce(function(Dt,Nt){return Dt.concat(Nt)},[]));break;case"S":if(gt.length<2)if(wt>0)gt=u(gt,it[wt-1],1);else{it[wt]=xt[wt];break}it[wt]=["S"].concat(gt.reduce(function(Dt,Nt){return Dt.concat(Nt)},[]));break;default:it[wt]=xt[wt]}return it}},93323:function(bt,S,d){"use strict";d.d(S,{FE:function(){return I},mY:function(){return P},$O:function(){return A}});var w=d(91241),_=d(40897);function I(E,C,p){var b=1;if((0,w.HD)(E)&&(b=E.split(`
`).length),b>1){var y=O(C,p);return C*b+y*(b-1)}return C}function O(E,C){return C?C-E:E*.14}function P(E,C){var p=(0,_.L)(),b=0;if((0,w.kK)(E)||E==="")return b;if(p.save(),p.font=C,(0,w.HD)(E)&&E.includes(`
`)){var y=E.split(`
`);(0,w.S6)(y,function(x){var g=p.measureText(x).width;b<g&&(b=g)})}else b=p.measureText(E).width;return p.restore(),b}function A(E){var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,y=E.fontStyle,x=E.fontVariant;return[y,x,b,C+"px",p].join(" ").trim()}},91241:function(bt,S,d){"use strict";d.d(S,{As:function(){return _},jU:function(){return I},kK:function(){return w.isNil},mf:function(){return w.isFunction},HD:function(){return w.isString},Kn:function(){return w.isObject},CD:function(){return w.mix},S6:function(){return w.each},jC:function(){return w.upperFirst},UY:function(){return O},pP:function(){return P}});var w=d(49242);function _(A,E){var C=A.indexOf(E);C!==-1&&A.splice(C,1)}var I=typeof window!="undefined"&&typeof window.document!="undefined";function O(A,E){if(A.isCanvas())return!0;for(var C=E.getParent(),p=!1;C;){if(C===A){p=!0;break}C=C.getParent()}return p}function P(A){return A.cfg.visible&&A.cfg.capture}},30490:function(bt,S){"use strict";var d;d={value:!0};var w=function(){function _(I,O){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=O,this.timeStamp=O.timeStamp}return _.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},_.prototype.stopPropagation=function(){this.propagationStopped=!0},_.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},_.prototype.save=function(){},_.prototype.restore=function(){},_}();S.Z=w},98453:function(bt,S,d){"use strict";d.d(S,{ZT:function(){return _}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(D,G){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,N){X.__proto__=N}||function(X,N){for(var tt in N)Object.prototype.hasOwnProperty.call(N,tt)&&(X[tt]=N[tt])},w(D,G)};function _(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");w(D,G);function X(){this.constructor=D}D.prototype=G===null?Object.create(G):(X.prototype=G.prototype,new X)}var I=function(){return I=Object.assign||function(G){for(var X,N=1,tt=arguments.length;N<tt;N++){X=arguments[N];for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&(G[Q]=X[Q])}return G},I.apply(this,arguments)};function O(D,G){var X={};for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&G.indexOf(N)<0&&(X[N]=D[N]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,N=Object.getOwnPropertySymbols(D);tt<N.length;tt++)G.indexOf(N[tt])<0&&Object.prototype.propertyIsEnumerable.call(D,N[tt])&&(X[N[tt]]=D[N[tt]]);return X}function P(D,G,X,N){var tt=arguments.length,Q=tt<3?G:N===null?N=Object.getOwnPropertyDescriptor(G,X):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(D,G,X,N);else for(var V=D.length-1;V>=0;V--)(K=D[V])&&(Q=(tt<3?K(Q):tt>3?K(G,X,Q):K(G,X))||Q);return tt>3&&Q&&Object.defineProperty(G,X,Q),Q}function A(D,G){return function(X,N){G(X,N,D)}}function E(D,G){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(D,G)}function C(D,G,X,N){function tt(Q){return Q instanceof X?Q:new X(function(K){K(Q)})}return new(X||(X=Promise))(function(Q,K){function V(ot){try{u(N.next(ot))}catch(pt){K(pt)}}function H(ot){try{u(N.throw(ot))}catch(pt){K(pt)}}function u(ot){ot.done?Q(ot.value):tt(ot.value).then(V,H)}u((N=N.apply(D,G||[])).next())})}function p(D,G){var X={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},N,tt,Q,K;return K={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function V(u){return function(ot){return H([u,ot])}}function H(u){if(N)throw new TypeError("Generator is already executing.");for(;X;)try{if(N=1,tt&&(Q=u[0]&2?tt.return:u[0]?tt.throw||((Q=tt.return)&&Q.call(tt),0):tt.next)&&!(Q=Q.call(tt,u[1])).done)return Q;switch(tt=0,Q&&(u=[u[0]&2,Q.value]),u[0]){case 0:case 1:Q=u;break;case 4:return X.label++,{value:u[1],done:!1};case 5:X.label++,tt=u[1],u=[0];continue;case 7:u=X.ops.pop(),X.trys.pop();continue;default:if(Q=X.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(u[0]===6||u[0]===2)){X=0;continue}if(u[0]===3&&(!Q||u[1]>Q[0]&&u[1]<Q[3])){X.label=u[1];break}if(u[0]===6&&X.label<Q[1]){X.label=Q[1],Q=u;break}if(Q&&X.label<Q[2]){X.label=Q[2],X.ops.push(u);break}Q[2]&&X.ops.pop(),X.trys.pop();continue}u=G.call(D,X)}catch(ot){u=[6,ot],tt=0}finally{N=Q=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var b=Object.create?function(D,G,X,N){N===void 0&&(N=X),Object.defineProperty(D,N,{enumerable:!0,get:function(){return G[X]}})}:function(D,G,X,N){N===void 0&&(N=X),D[N]=G[X]};function y(D,G){for(var X in D)X!=="default"&&!Object.prototype.hasOwnProperty.call(G,X)&&b(G,D,X)}function x(D){var G=typeof Symbol=="function"&&Symbol.iterator,X=G&&D[G],N=0;if(X)return X.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&N>=D.length&&(D=void 0),{value:D&&D[N++],done:!D}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(D,G){var X=typeof Symbol=="function"&&D[Symbol.iterator];if(!X)return D;var N=X.call(D),tt,Q=[],K;try{for(;(G===void 0||G-- >0)&&!(tt=N.next()).done;)Q.push(tt.value)}catch(V){K={error:V}}finally{try{tt&&!tt.done&&(X=N.return)&&X.call(N)}finally{if(K)throw K.error}}return Q}function M(){for(var D=[],G=0;G<arguments.length;G++)D=D.concat(g(arguments[G]));return D}function L(){for(var D=0,G=0,X=arguments.length;G<X;G++)D+=arguments[G].length;for(var N=Array(D),tt=0,G=0;G<X;G++)for(var Q=arguments[G],K=0,V=Q.length;K<V;K++,tt++)N[tt]=Q[K];return N}function k(D,G,X){if(X||arguments.length===2)for(var N=0,tt=G.length,Q;N<tt;N++)(Q||!(N in G))&&(Q||(Q=Array.prototype.slice.call(G,0,N)),Q[N]=G[N]);return D.concat(Q||Array.prototype.slice.call(G))}function F(D){return this instanceof F?(this.v=D,this):new F(D)}function W(D,G,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=X.apply(D,G||[]),tt,Q=[];return tt={},K("next"),K("throw"),K("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function K(it){N[it]&&(tt[it]=function(xt){return new Promise(function(gt,wt){Q.push([it,xt,gt,wt])>1||V(it,xt)})})}function V(it,xt){try{H(N[it](xt))}catch(gt){pt(Q[0][3],gt)}}function H(it){it.value instanceof F?Promise.resolve(it.value.v).then(u,ot):pt(Q[0][2],it)}function u(it){V("next",it)}function ot(it){V("throw",it)}function pt(it,xt){it(xt),Q.shift(),Q.length&&V(Q[0][0],Q[0][1])}}function $(D){var G,X;return G={},N("next"),N("throw",function(tt){throw tt}),N("return"),G[Symbol.iterator]=function(){return this},G;function N(tt,Q){G[tt]=D[tt]?function(K){return(X=!X)?{value:F(D[tt](K)),done:tt==="return"}:Q?Q(K):K}:Q}}function z(D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=D[Symbol.asyncIterator],X;return G?G.call(D):(D=typeof x=="function"?x(D):D[Symbol.iterator](),X={},N("next"),N("throw"),N("return"),X[Symbol.asyncIterator]=function(){return this},X);function N(Q){X[Q]=D[Q]&&function(K){return new Promise(function(V,H){K=D[Q](K),tt(V,H,K.done,K.value)})}}function tt(Q,K,V,H){Promise.resolve(H).then(function(u){Q({value:u,done:V})},K)}}function U(D,G){return Object.defineProperty?Object.defineProperty(D,"raw",{value:G}):D.raw=G,D}var et=Object.create?function(D,G){Object.defineProperty(D,"default",{enumerable:!0,value:G})}:function(D,G){D.default=G};function q(D){if(D&&D.__esModule)return D;var G={};if(D!=null)for(var X in D)X!=="default"&&Object.prototype.hasOwnProperty.call(D,X)&&b(G,D,X);return et(G,D),G}function dt(D){return D&&D.__esModule?D:{default:D}}function ct(D,G,X,N){if(X==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?D!==G||!N:!G.has(D))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?N:X==="a"?N.call(D):N?N.value:G.get(D)}function Mt(D,G,X,N,tt){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!tt)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?D!==G||!tt:!G.has(D))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?tt.call(D,X):tt?tt.value=X:G.set(D,X),X}},14563:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(55654),I=d(85622),O=d(77096),P=d(63528),A=d(64830),E=d(21927),C=d(70530),p=function(b){_.__extends(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getDefaultCfg=function(){var x=b.prototype.getDefaultCfg.call(this);return x.renderer="canvas",x.autoDraw=!0,x.localRefresh=!0,x.refreshElements=[],x.clipView=!0,x.quickHit=!1,x},y.prototype.onCanvasChange=function(x){(x==="attr"||x==="sort"||x==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},y.prototype.getShapeBase=function(){return P},y.prototype.getGroupBase=function(){return A.default},y.prototype.getPixelRatio=function(){var x=this.get("pixelRatio")||E.getPixelRatio();return x>=1?Math.ceil(x):1},y.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},y.prototype.createDom=function(){var x=document.createElement("canvas"),g=x.getContext("2d");return this.set("context",g),x},y.prototype.setDOMSize=function(x,g){b.prototype.setDOMSize.call(this,x,g);var M=this.get("context"),L=this.get("el"),k=this.getPixelRatio();L.width=k*x,L.height=k*g,k>1&&M.scale(k,k)},y.prototype.clear=function(){b.prototype.clear.call(this),this._clearFrame();var x=this.get("context"),g=this.get("el");x.clearRect(0,0,g.width,g.height)},y.prototype.getShape=function(x,g){var M;return this.get("quickHit")?M=O.getShape(this,x,g):M=b.prototype.getShape.call(this,x,g,null),M},y.prototype._getRefreshRegion=function(){var x=this.get("refreshElements"),g=this.getViewRange(),M;if(x.length&&x[0]===this)M=g;else if(M=C.getMergedRegion(x),M){M.minX=Math.floor(M.minX),M.minY=Math.floor(M.minY),M.maxX=Math.ceil(M.maxX),M.maxY=Math.ceil(M.maxY),M.maxY+=1;var L=this.get("clipView");L&&(M=C.mergeView(M,g))}return M},y.prototype.refreshElement=function(x){var g=this.get("refreshElements");g.push(x)},y.prototype._clearFrame=function(){var x=this.get("drawFrame");x&&(E.clearAnimationFrame(x),this.set("drawFrame",null),this.set("refreshElements",[]))},y.prototype.draw=function(){var x=this.get("drawFrame");this.get("autoDraw")&&x||this._startDraw()},y.prototype._drawAll=function(){var x=this.get("context"),g=this.get("el"),M=this.getChildren();x.clearRect(0,0,g.width,g.height),C.applyAttrsToContext(x,this),C.drawChildren(x,M),this.set("refreshElements",[])},y.prototype._drawRegion=function(){var x=this.get("context"),g=this.get("refreshElements"),M=this.getChildren(),L=this._getRefreshRegion();L?(x.clearRect(L.minX,L.minY,L.maxX-L.minX,L.maxY-L.minY),x.save(),x.beginPath(),x.rect(L.minX,L.minY,L.maxX-L.minX,L.maxY-L.minY),x.clip(),C.applyAttrsToContext(x,this),C.checkRefresh(this,M,L),C.drawChildren(x,M,L),x.restore()):g.length&&C.clearChanged(g),E.each(g,function(k){k.get("hasChanged")&&k.set("hasChanged",!1)}),this.set("refreshElements",[])},y.prototype._startDraw=function(){var x=this,g=this.get("drawFrame");g||(g=E.requestAnimationFrame(function(){x.get("localRefresh")?x._drawRegion():x._drawAll(),x.set("drawFrame",null)}),this.set("drawFrame",g))},y.prototype.skipDraw=function(){},y.prototype.removeDom=function(){var x=this.get("el");x.width=0,x.height=0,x.parentNode.removeChild(x)},y}(I.AbstractCanvas);S.Z=p},64830:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(85622),I=d(63528),O=d(70530),P=d(49242),A=d(21927),E=function(C){w.__extends(p,C);function p(){return C!==null&&C.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(b){O.refreshElement(this,b)},p.prototype.getShapeBase=function(){return I},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(b,y){y&&(b.save(),O.applyAttrsToContext(b,y),y.createPath(b),b.restore(),b.clip(),y._afterDraw())},p.prototype.cacheCanvasBBox=function(){var b=this.cfg.children,y=[],x=[];P.each(b,function(z){var U=z.cfg.cacheCanvasBBox;U&&z.cfg.isInView&&(y.push(U.minX,U.maxX),x.push(U.minY,U.maxY))});var g=null;if(y.length){var M=P.min(y),L=P.max(y),k=P.min(x),F=P.max(x);g={minX:M,minY:k,x:M,y:k,maxX:L,maxY:F,width:L-M,height:F-k};var W=this.cfg.canvas;if(W){var $=W.getViewRange();this.set("isInView",A.intersectRect(g,$))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",g)},p.prototype.draw=function(b,y){var x=this.cfg.children,g=y?this.cfg.refresh:!0;x.length&&g&&(b.save(),O.applyAttrsToContext(b,this),this._applyClip(b,this.getClip()),O.drawChildren(b,x,y),b.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(_.AbstractGroup);S.default=E},41310:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(85622),I=d(21927),O=d(70530),P=d(85622),A=d(63528),E=d(64830),C=function(p){w.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.getShapeBase=function(){return A},b.prototype.getGroupBase=function(){return E.default},b.prototype.onCanvasChange=function(y){O.refreshElement(this,y)},b.prototype.calculateBBox=function(){var y=this.get("type"),x=this.getHitLineWidth(),g=P.getBBoxMethod(y),M=g(this),L=x/2,k=M.x-L,F=M.y-L,W=M.x+M.width+L,$=M.y+M.height+L;return{x:k,minX:k,y:F,minY:F,width:M.width+x,height:M.height+x,maxX:W,maxY:$}},b.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},b.prototype.isStroke=function(){return!!this.attrs.stroke},b.prototype._applyClip=function(y,x){x&&(y.save(),O.applyAttrsToContext(y,x),x.createPath(y),y.restore(),y.clip(),x._afterDraw())},b.prototype.draw=function(y,x){var g=this.cfg.clipShape;if(x){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var M=this.getCanvasBBox();if(!I.intersectRect(x,M)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}y.save(),O.applyAttrsToContext(y,this),this._applyClip(y,g),this.drawPath(y),y.restore(),this._afterDraw()},b.prototype.getCanvasViewBox=function(){var y=this.cfg.canvas;return y?y.getViewRange():null},b.prototype.cacheCanvasBBox=function(){var y=this.getCanvasViewBox();if(y){var x=this.getCanvasBBox(),g=I.intersectRect(x,y);this.set("isInView",g),g?this.set("cacheCanvasBBox",x):this.set("cacheCanvasBBox",null)}},b.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},b.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},b.prototype.drawPath=function(y){this.createPath(y),this.strokeAndFill(y),this.afterDrawPath(y)},b.prototype.fill=function(y){y.fill()},b.prototype.stroke=function(y){y.stroke()},b.prototype.strokeAndFill=function(y){var x=this.attrs,g=x.lineWidth,M=x.opacity,L=x.strokeOpacity,k=x.fillOpacity;this.isFill()&&(!I.isNil(k)&&k!==1?(y.globalAlpha=k,this.fill(y),y.globalAlpha=M):this.fill(y)),this.isStroke()&&g>0&&(!I.isNil(L)&&L!==1&&(y.globalAlpha=L),this.stroke(y)),this.afterDrawPath(y)},b.prototype.createPath=function(y){},b.prototype.afterDrawPath=function(y){},b.prototype.isInShape=function(y,x){var g=this.isStroke(),M=this.isFill(),L=this.getHitLineWidth();return this.isInStrokeOrPath(y,x,g,M,L)},b.prototype.isInStrokeOrPath=function(y,x,g,M,L){return!1},b.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var y=this.attrs;return y.lineWidth+y.lineAppendWidth},b}(_.AbstractShape);S.default=C},22925:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(41310),I=d(21927),O=function(P){w.__extends(A,P);function A(){return P!==null&&P.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var E=P.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},E),{x:0,y:0,r:0})},A.prototype.isInStrokeOrPath=function(E,C,p,b,y){var x=this.attr(),g=x.x,M=x.y,L=x.r,k=y/2,F=I.distance(g,M,E,C);return b&&p?F<=L+k:b?F<=L:p?F>=L-k&&F<=L+k:!1},A.prototype.createPath=function(E){var C=this.attr(),p=C.x,b=C.y,y=C.r;E.beginPath(),E.arc(p,b,y,0,Math.PI*2,!1),E.closePath()},A}(_.default);S.default=O},21287:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(41310);function I(P,A,E,C){return P/(E*E)+A/(C*C)}var O=function(P){w.__extends(A,P);function A(){return P!==null&&P.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var E=P.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},E),{x:0,y:0,rx:0,ry:0})},A.prototype.isInStrokeOrPath=function(E,C,p,b,y){var x=this.attr(),g=y/2,M=x.x,L=x.y,k=x.rx,F=x.ry,W=(E-M)*(E-M),$=(C-L)*(C-L);return b&&p?I(W,$,k+g,F+g)<=1:b?I(W,$,k,F)<=1:p?I(W,$,k-g,F-g)>=1&&I(W,$,k+g,F+g)<=1:!1},A.prototype.createPath=function(E){var C=this.attr(),p=C.x,b=C.y,y=C.rx,x=C.ry;if(E.beginPath(),E.ellipse)E.ellipse(p,b,y,x,0,0,Math.PI*2,!1);else{var g=y>x?y:x,M=y>x?1:y/x,L=y>x?x/y:1;E.save(),E.translate(p,b),E.scale(M,L),E.arc(0,0,g,0,Math.PI*2),E.restore(),E.closePath()}},A}(_.default);S.default=O},55303:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(41310),I=d(21927);function O(A){return A instanceof HTMLElement&&I.isString(A.nodeName)&&A.nodeName.toUpperCase()==="CANVAS"}var P=function(A){w.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},C),{x:0,y:0,width:0,height:0})},E.prototype.initAttrs=function(C){this._setImage(C.img)},E.prototype.isStroke=function(){return!1},E.prototype.isOnlyHitBox=function(){return!0},E.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var C=this.get("canvas");C?C.draw():this.createPath(this.get("context"))}},E.prototype._setImage=function(C){var p=this,b=this.attrs;if(I.isString(C)){var y=new Image;y.onload=function(){if(p.destroyed)return!1;p.attr("img",y),p.set("loading",!1),p._afterLoading();var x=p.get("callback");x&&x.call(p)},y.crossOrigin="Anonymous",y.src=C,this.set("loading",!0)}else C instanceof Image?(b.width||(b.width=C.width),b.height||(b.height=C.height)):O(C)&&(b.width||(b.width=Number(C.getAttribute("width"))),b.height||(b.height,Number(C.getAttribute("height"))))},E.prototype.onAttrChange=function(C,p,b){A.prototype.onAttrChange.call(this,C,p,b),C==="img"&&this._setImage(p)},E.prototype.createPath=function(C){if(this.get("loading")){this.set("toDraw",!0),this.set("context",C);return}var p=this.attr(),b=p.x,y=p.y,x=p.width,g=p.height,M=p.sx,L=p.sy,k=p.swidth,F=p.sheight,W=p.img;(W instanceof Image||O(W))&&(!I.isNil(M)&&!I.isNil(L)&&!I.isNil(k)&&!I.isNil(F)?C.drawImage(W,M,L,k,F,b,y,x,g):C.drawImage(W,b,y,x,g))},E}(_.default);S.default=P},63528:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Text=S.Rect=S.Polyline=S.Polygon=S.Path=S.Marker=S.Line=S.Image=S.Ellipse=S.Circle=S.Base=void 0;var w=d(41310);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return w.default}});var _=d(22925);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return _.default}});var I=d(21287);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return I.default}});var O=d(55303);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return O.default}});var P=d(65159);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return P.default}});var A=d(22034);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return A.default}});var E=d(55263);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var C=d(69324);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return C.default}});var p=d(49067);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var b=d(9558);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return b.default}});var y=d(17310);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return y.default}})},65159:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(89838),I=d(41310),O=d(63161),P=d(27836),A=function(E){w.__extends(C,E);function C(){return E!==null&&E.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},C.prototype.initAttrs=function(p){this.setArrow()},C.prototype.onAttrChange=function(p,b,y){E.prototype.onAttrChange.call(this,p,b,y),this.setArrow()},C.prototype.setArrow=function(){var p=this.attr(),b=p.x1,y=p.y1,x=p.x2,g=p.y2,M=p.startArrow,L=p.endArrow;M&&P.addStartArrow(this,p,x,g,b,y),L&&P.addEndArrow(this,p,b,y,x,g)},C.prototype.isInStrokeOrPath=function(p,b,y,x,g){if(!y||!g)return!1;var M=this.attr(),L=M.x1,k=M.y1,F=M.x2,W=M.y2;return O.default(L,k,F,W,g,p,b)},C.prototype.createPath=function(p){var b=this.attr(),y=b.x1,x=b.y1,g=b.x2,M=b.y2,L=b.startArrow,k=b.endArrow,F={dx:0,dy:0},W={dx:0,dy:0};L&&L.d&&(F=P.getShortenOffset(y,x,g,M,b.startArrow.d)),k&&k.d&&(W=P.getShortenOffset(y,x,g,M,b.endArrow.d)),p.beginPath(),p.moveTo(y+F.dx,x+F.dy),p.lineTo(g-W.dx,M-W.dy)},C.prototype.afterDrawPath=function(p){var b=this.get("startArrowShape"),y=this.get("endArrowShape");b&&b.draw(p),y&&y.draw(p)},C.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,y=p.y1,x=p.x2,g=p.y2;return _.Line.length(b,y,x,g)},C.prototype.getPoint=function(p){var b=this.attr(),y=b.x1,x=b.y1,g=b.x2,M=b.y2;return _.Line.pointAt(y,x,g,M,p)},C}(I.default);S.default=A},22034:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(49242),I=d(57350),O=d(41310),P=d(21927),A=d(70530),E={circle:function(p,b,y){return[["M",p-y,b],["A",y,y,0,1,0,p+y,b],["A",y,y,0,1,0,p-y,b]]},square:function(p,b,y){return[["M",p-y,b-y],["L",p+y,b-y],["L",p+y,b+y],["L",p-y,b+y],["Z"]]},diamond:function(p,b,y){return[["M",p-y,b],["L",p,b-y],["L",p+y,b],["L",p,b+y],["Z"]]},triangle:function(p,b,y){var x=y*Math.sin(1/3*Math.PI);return[["M",p-y,b+x],["L",p,b-x],["L",p+y,b+x],["Z"]]},"triangle-down":function(p,b,y){var x=y*Math.sin(1/3*Math.PI);return[["M",p-y,b-x],["L",p+y,b-x],["L",p,b+x],["Z"]]}},C=function(p){w.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.initAttrs=function(y){this._resetParamsCache()},b.prototype._resetParamsCache=function(){this.set("paramsCache",{})},b.prototype.onAttrChange=function(y,x,g){p.prototype.onAttrChange.call(this,y,x,g),["symbol","x","y","r","radius"].indexOf(y)!==-1&&this._resetParamsCache()},b.prototype.isOnlyHitBox=function(){return!0},b.prototype._getR=function(y){return _.isNil(y.r)?y.radius:y.r},b.prototype._getPath=function(){var y=this.attr(),x=y.x,g=y.y,M=y.symbol||"circle",L=this._getR(y),k,F;if(P.isFunction(M))k=M,F=k(x,g,L),F=I.path2Absolute(F);else{if(k=b.Symbols[M],!k)return console.warn(M+" marker is not supported."),null;F=k(x,g,L)}return F},b.prototype.createPath=function(y){var x=this._getPath(),g=this.get("paramsCache");A.drawPath(this,y,{path:x},g)},b.Symbols=E,b}(O.default);S.default=C},55263:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(89838),I=d(49242),O=d(41310),P=d(57350),A=d(70530),E=d(31977),C=d(50970),p=d(55531),b=d(27836);function y(g,M,L){for(var k=!1,F=0;F<g.length;F++){var W=g[F];if(k=C.default(W,M,L),k)break}return k}var x=function(g){w.__extends(M,g);function M(){return g!==null&&g.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var L=g.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},L),{startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(L){this._setPathArr(L.path),this.setArrow()},M.prototype.onAttrChange=function(L,k,F){g.prototype.onAttrChange.call(this,L,k,F),L==="path"&&this._setPathArr(k),this.setArrow()},M.prototype._setPathArr=function(L){this.attrs.path=P.path2Absolute(L);var k=p.default.hasArc(L);this.set("hasArc",k),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},M.prototype.getSegments=function(){var L=this.get("segements");return L||(L=P.path2Segments(this.attr("path")),this.set("segments",L)),L},M.prototype.setArrow=function(){var L=this.attr(),k=L.startArrow,F=L.endArrow;if(k){var W=this.getStartTangent();b.addStartArrow(this,L,W[0][0],W[0][1],W[1][0],W[1][1])}if(F){var W=this.getEndTangent();b.addEndArrow(this,L,W[0][0],W[0][1],W[1][0],W[1][1])}},M.prototype.isInStrokeOrPath=function(L,k,F,W,$){var z=this.getSegments(),U=this.get("hasArc"),et=!1;if(F){var q=this.getTotalLength();et=p.default.isPointInStroke(z,$,L,k,q)}if(!et&&W)if(U)et=E.default(this,L,k);else{var dt=this.attr("path"),ct=p.default.extractPolygons(dt);et=y(ct.polygons,L,k)||y(ct.polylines,L,k)}return et},M.prototype.createPath=function(L){var k=this.attr(),F=this.get("paramsCache");A.drawPath(this,L,k,F)},M.prototype.afterDrawPath=function(L){var k=this.get("startArrowShape"),F=this.get("endArrowShape");k&&k.draw(L),F&&F.draw(L)},M.prototype.getTotalLength=function(){var L=this.get("totalLength");return I.isNil(L)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):L},M.prototype.getPoint=function(L){var k=this.get("tCache");k||(this._calculateCurve(),this._setTcache(),k=this.get("tCache"));var F,W,$=this.get("curve");if(!k||k.length===0)return $?{x:$[0][1],y:$[0][2]}:null;I.each(k,function(q,dt){L>=q[0]&&L<=q[1]&&(F=(L-q[0])/(q[1]-q[0]),W=dt)});var z=$[W];if(I.isNil(z)||I.isNil(W))return null;var U=z.length,et=$[W+1];return _.Cubic.pointAt(z[U-2],z[U-1],et[1],et[2],et[3],et[4],et[5],et[6],F)},M.prototype._calculateCurve=function(){var L=this.attr().path;this.set("curve",p.default.pathToCurve(L))},M.prototype._setTcache=function(){var L=0,k=0,F=[],W,$,z,U,et=this.get("curve");if(!!et){if(I.each(et,function(q,dt){z=et[dt+1],U=q.length,z&&(L+=_.Cubic.length(q[U-2],q[U-1],z[1],z[2],z[3],z[4],z[5],z[6])||0)}),this.set("totalLength",L),L===0){this.set("tCache",[]);return}I.each(et,function(q,dt){z=et[dt+1],U=q.length,z&&(W=[],W[0]=k/L,$=_.Cubic.length(q[U-2],q[U-1],z[1],z[2],z[3],z[4],z[5],z[6]),k+=$||0,W[1]=k/L,F.push(W))}),this.set("tCache",F)}},M.prototype.getStartTangent=function(){var L=this.getSegments(),k;if(L.length>1){var F=L[0].currentPoint,W=L[1].currentPoint,$=L[1].startTangent;k=[],$?(k.push([F[0]-$[0],F[1]-$[1]]),k.push([F[0],F[1]])):(k.push([W[0],W[1]]),k.push([F[0],F[1]]))}return k},M.prototype.getEndTangent=function(){var L=this.getSegments(),k=L.length,F;if(k>1){var W=L[k-2].currentPoint,$=L[k-1].currentPoint,z=L[k-1].endTangent;F=[],z?(F.push([$[0]-z[0],$[1]-z[1]]),F.push([$[0],$[1]])):(F.push([W[0],W[1]]),F.push([$[0],$[1]]))}return F},M}(O.default);S.default=x},69324:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(41310),I=d(39761),O=d(50970),P=function(A){w.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.isInStrokeOrPath=function(C,p,b,y,x){var g=this.attr().points,M=!1;return b&&(M=I.default(g,x,C,p,!0)),!M&&y&&(M=O.default(g,C,p)),M},E.prototype.createPath=function(C){var p=this.attr(),b=p.points;if(!(b.length<2)){C.beginPath();for(var y=0;y<b.length;y++){var x=b[y];y===0?C.moveTo(x[0],x[1]):C.lineTo(x[0],x[1])}C.closePath()}},E}(_.default);S.default=P},49067:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(89838),I=d(89838),O=d(49242),P=d(41310),A=d(39761),E=d(27836),C=function(p){w.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},y),{startArrow:!1,endArrow:!1})},b.prototype.initAttrs=function(y){this.setArrow()},b.prototype.onAttrChange=function(y,x,g){p.prototype.onAttrChange.call(this,y,x,g),this.setArrow(),["points"].indexOf(y)!==-1&&this._resetCache()},b.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},b.prototype.setArrow=function(){var y=this.attr(),x=this.attrs,g=x.points,M=x.startArrow,L=x.endArrow,k=g.length,F=g[0][0],W=g[0][1],$=g[k-1][0],z=g[k-1][1];M&&E.addStartArrow(this,y,g[1][0],g[1][1],F,W),L&&E.addEndArrow(this,y,g[k-2][0],g[k-2][1],$,z)},b.prototype.isFill=function(){return!1},b.prototype.isInStrokeOrPath=function(y,x,g,M,L){if(!g||!L)return!1;var k=this.attr().points;return A.default(k,L,y,x,!1)},b.prototype.isStroke=function(){return!0},b.prototype.createPath=function(y){var x=this.attr(),g=x.points,M=x.startArrow,L=x.endArrow,k=g.length;if(!(g.length<2)){var F=g[0][0],W=g[0][1],$=g[k-1][0],z=g[k-1][1];if(M&&M.d){var U=E.getShortenOffset(F,W,g[1][0],g[1][1],M.d);F+=U.dx,W+=U.dy}if(L&&L.d){var U=E.getShortenOffset(g[k-2][0],g[k-2][1],$,z,L.d);$-=U.dx,z-=U.dy}y.beginPath(),y.moveTo(F,W);for(var et=0;et<k-1;et++){var q=g[et];y.lineTo(q[0],q[1])}y.lineTo($,z)}},b.prototype.afterDrawPath=function(y){var x=this.get("startArrowShape"),g=this.get("endArrowShape");x&&x.draw(y),g&&g.draw(y)},b.prototype.getTotalLength=function(){var y=this.attr().points,x=this.get("totalLength");return O.isNil(x)?(this.set("totalLength",I.Polyline.length(y)),this.get("totalLength")):x},b.prototype.getPoint=function(y){var x=this.attr().points,g=this.get("tCache");g||(this._setTcache(),g=this.get("tCache"));var M,L;return O.each(g,function(k,F){y>=k[0]&&y<=k[1]&&(M=(y-k[0])/(k[1]-k[0]),L=F)}),_.Line.pointAt(x[L][0],x[L][1],x[L+1][0],x[L+1][1],M)},b.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var x=this.getTotalLength();if(!(x<=0)){var g=0,M=[],L,k;O.each(y,function(F,W){y[W+1]&&(L=[],L[0]=g/x,k=_.Line.length(F[0],F[1],y[W+1][0],y[W+1][1]),g+=k,L[1]=g/x,M.push(L))}),this.set("tCache",M)}}},b.prototype.getStartTangent=function(){var y=this.attr().points,x=[];return x.push([y[1][0],y[1][1]]),x.push([y[0][0],y[0][1]]),x},b.prototype.getEndTangent=function(){var y=this.attr().points,x=y.length-1,g=[];return g.push([y[x-1][0],y[x-1][1]]),g.push([y[x][0],y[x][1]]),g},b}(P.default);S.default=C},9558:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(41310),I=d(93377),O=d(21927),P=d(21897),A=d(46647),E=d(31977),C=function(p){w.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},y),{x:0,y:0,width:0,height:0,radius:0})},b.prototype.isInStrokeOrPath=function(y,x,g,M,L){var k=this.attr(),F=k.x,W=k.y,$=k.width,z=k.height,U=k.radius;if(U){var q=!1;return g&&(q=A.default(F,W,$,z,U,L,y,x)),!q&&M&&(q=E.default(this,y,x)),q}else{var et=L/2;if(M&&g)return O.inBox(F-et,W-et,$+et,z+et,y,x);if(M)return O.inBox(F,W,$,z,y,x);if(g)return P.default(F,W,$,z,L,y,x)}},b.prototype.createPath=function(y){var x=this.attr(),g=x.x,M=x.y,L=x.width,k=x.height,F=x.radius;if(y.beginPath(),F===0)y.rect(g,M,L,k);else{var W=I.parseRadius(F),$=W[0],z=W[1],U=W[2],et=W[3];y.moveTo(g+$,M),y.lineTo(g+L-z,M),z!==0&&y.arc(g+L-z,M+z,z,-Math.PI/2,0),y.lineTo(g+L,M+k-U),U!==0&&y.arc(g+L-U,M+k-U,U,0,Math.PI/2),y.lineTo(g+et,M+k),et!==0&&y.arc(g+et,M+k-et,et,Math.PI/2,Math.PI),y.lineTo(g,M+$),$!==0&&y.arc(g+$,M+$,$,Math.PI,Math.PI*1.5),y.closePath()}},b}(_.default);S.default=C},17310:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(41310),I=d(21927),O=d(85622),P=function(A){w.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},C),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},E.prototype.isOnlyHitBox=function(){return!0},E.prototype.initAttrs=function(C){this._assembleFont(),C.text&&this._setText(C.text)},E.prototype._assembleFont=function(){var C=this.attrs;C.font=O.assembleFont(C)},E.prototype._setText=function(C){var p=null;I.isString(C)&&C.indexOf(`
`)!==-1&&(p=C.split(`
`)),this.set("textArr",p)},E.prototype.onAttrChange=function(C,p,b){A.prototype.onAttrChange.call(this,C,p,b),C.startsWith("font")&&this._assembleFont(),C==="text"&&this._setText(p)},E.prototype._getSpaceingY=function(){var C=this.attrs,p=C.lineHeight,b=C.fontSize*1;return p?p-b:b*.14},E.prototype._drawTextArr=function(C,p,b){var y=this.attrs,x=y.textBaseline,g=y.x,M=y.y,L=y.fontSize*1,k=this._getSpaceingY(),F=O.getTextHeight(y.text,y.fontSize,y.lineHeight),W;I.each(p,function($,z){W=M+z*(k+L)-F+L,x==="middle"&&(W+=F-L-(F-L)/2),x==="top"&&(W+=F-L),I.isNil($)||(b?C.fillText($,g,W):C.strokeText($,g,W))})},E.prototype._drawText=function(C,p){var b=this.attr(),y=b.x,x=b.y,g=this.get("textArr");if(g)this._drawTextArr(C,g,p);else{var M=b.text;I.isNil(M)||(p?C.fillText(M,y,x):C.strokeText(M,y,x))}},E.prototype.strokeAndFill=function(C){var p=this.attrs,b=p.lineWidth,y=p.opacity,x=p.strokeOpacity,g=p.fillOpacity;this.isStroke()&&b>0&&(!I.isNil(x)&&x!==1&&(C.globalAlpha=y),this.stroke(C)),this.isFill()&&(!I.isNil(g)&&g!==1?(C.globalAlpha=g,this.fill(C),C.globalAlpha=y):this.fill(C)),this.afterDrawPath(C)},E.prototype.fill=function(C){this._drawText(C,!0)},E.prototype.stroke=function(C){this._drawText(C,!1)},E}(_.default);S.default=P},44706:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21927);function _(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function I(A,E){return _(A)*_(E)?(A[0]*E[0]+A[1]*E[1])/(_(A)*_(E)):1}function O(A,E){return(A[0]*E[1]<A[1]*E[0]?-1:1)*Math.acos(I(A,E))}function P(A,E){var C=E[1],p=E[2],b=w.mod(w.toRadian(E[3]),Math.PI*2),y=E[4],x=E[5],g=A[0],M=A[1],L=E[6],k=E[7],F=Math.cos(b)*(g-L)/2+Math.sin(b)*(M-k)/2,W=-1*Math.sin(b)*(g-L)/2+Math.cos(b)*(M-k)/2,$=F*F/(C*C)+W*W/(p*p);$>1&&(C*=Math.sqrt($),p*=Math.sqrt($));var z=C*C*(W*W)+p*p*(F*F),U=z?Math.sqrt((C*C*(p*p)-z)/z):1;y===x&&(U*=-1),isNaN(U)&&(U=0);var et=p?U*C*W/p:0,q=C?U*-p*F/C:0,dt=(g+L)/2+Math.cos(b)*et-Math.sin(b)*q,ct=(M+k)/2+Math.sin(b)*et+Math.cos(b)*q,Mt=[(F-et)/C,(W-q)/p],D=[(-1*F-et)/C,(-1*W-q)/p],G=O([1,0],Mt),X=O(Mt,D);return I(Mt,D)<=-1&&(X=Math.PI),I(Mt,D)>=1&&(X=0),x===0&&X>0&&(X=X-2*Math.PI),x===1&&X<0&&(X=X+2*Math.PI),{cx:dt,cy:ct,rx:w.isSamePoint(A,[L,k])?0:C,ry:w.isSamePoint(A,[L,k])?0:p,startAngle:G,endAngle:G+X,xRotation:b,arcFlag:y,sweepFlag:x}}S.default=P},27836:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var w=d(55654),_=d(63528),I=Math.sin,O=Math.cos,P=Math.atan2,A=Math.PI;function E(x,g,M,L,k,F,W){var $=g.stroke,z=g.lineWidth,U=M-k,et=L-F,q=P(et,U),dt=new _.Path({type:"path",canvas:x.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*O(A/6)+","+10*I(A/6)+" L0,0 L"+10*O(A/6)+",-"+10*I(A/6),stroke:$,lineWidth:z}});dt.translate(k,F),dt.rotateAtPoint(k,F,q),x.set(W?"startArrowShape":"endArrowShape",dt)}function C(x,g,M,L,k,F,W){var $=g.startArrow,z=g.endArrow,U=g.stroke,et=g.lineWidth,q=W?$:z,dt=q.d,ct=q.fill,Mt=q.stroke,D=q.lineWidth,G=w.__rest(q,["d","fill","stroke","lineWidth"]),X=M-k,N=L-F,tt=P(N,X);dt&&(k=k-O(tt)*dt,F=F-I(tt)*dt);var Q=new _.Path({type:"path",canvas:x.get("canvas"),isArrowShape:!0,attrs:w.__assign(w.__assign({},G),{stroke:Mt||U,lineWidth:D||et,fill:ct})});Q.translate(k,F),Q.rotateAtPoint(k,F,tt),x.set(W?"startArrowShape":"endArrowShape",Q)}function p(x,g,M,L,k){var F=P(L-g,M-x);return{dx:O(F)*k,dy:I(F)*k}}S.getShortenOffset=p;function b(x,g,M,L,k,F){typeof g.startArrow=="object"?C(x,g,M,L,k,F,!0):g.startArrow?E(x,g,M,L,k,F,!0):x.set("startArrowShape",null)}S.addStartArrow=b;function y(x,g,M,L,k,F){typeof g.endArrow=="object"?C(x,g,M,L,k,F,!1):g.endArrow?E(x,g,M,L,k,F,!1):x.set("startArrowShape",null)}S.addEndArrow=y},70530:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var w=d(49242),_=d(93377),I=d(44706),O=d(21927),P=d(27836),A={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function E($,z){var U=z.attr();for(var et in U){var q=U[et],dt=A[et]?A[et]:et;dt==="matrix"&&q?$.transform(q[0],q[1],q[3],q[4],q[6],q[7]):dt==="lineDash"&&$.setLineDash?w.isArray(q)&&$.setLineDash(q):(dt==="strokeStyle"||dt==="fillStyle"?q=_.parseStyle($,z,q):dt==="globalAlpha"&&(q=q*$.globalAlpha),$[dt]=q)}}S.applyAttrsToContext=E;function C($,z,U){for(var et=0;et<z.length;et++){var q=z[et];q.cfg.visible?q.draw($,U):q.skipDraw()}}S.drawChildren=C;function p($,z,U){var et=$.get("refreshElements");w.each(et,function(q){if(q!==$)for(var dt=q.cfg.parent;dt&&dt!==$&&!dt.cfg.refresh;)dt.cfg.refresh=!0,dt=dt.cfg.parent}),et[0]===$?x(z,U):b(z,U)}S.checkRefresh=p;function b($,z){for(var U=0;U<$.length;U++){var et=$[U];if(et.cfg.visible)if(et.cfg.hasChanged)et.cfg.refresh=!0,et.isGroup()&&x(et.cfg.children,z);else if(et.cfg.refresh)et.isGroup()&&b(et.cfg.children,z);else{var q=g(et,z);et.cfg.refresh=q,q&&et.isGroup()&&b(et.cfg.children,z)}}}S.checkChildrenRefresh=b;function y($){for(var z=0;z<$.length;z++){var U=$[z];U.cfg.hasChanged=!1,U.isGroup()&&!U.destroyed&&y(U.cfg.children)}}S.clearChanged=y;function x($,z){for(var U=0;U<$.length;U++){var et=$[U];et.cfg.refresh=!0,et.isGroup()&&x(et.get("children"),z)}}function g($,z){var U=$.cfg.cacheCanvasBBox,et=$.cfg.isInView&&U&&O.intersectRect(U,z);return et}function M($,z,U,et){var q=U.path,dt=U.startArrow,ct=U.endArrow;if(!!q){var Mt=[0,0],D=[0,0],G={dx:0,dy:0};z.beginPath();for(var X=0;X<q.length;X++){var N=q[X],tt=N[0];if(X===0&&dt&&dt.d){var Q=$.getStartTangent();G=P.getShortenOffset(Q[0][0],Q[0][1],Q[1][0],Q[1][1],dt.d)}else if(X===q.length-2&&q[X+1][0]==="Z"&&ct&&ct.d){var K=q[X+1];if(K[0]==="Z"){var Q=$.getEndTangent();G=P.getShortenOffset(Q[0][0],Q[0][1],Q[1][0],Q[1][1],ct.d)}}else if(X===q.length-1&&ct&&ct.d&&q[0]!=="Z"){var Q=$.getEndTangent();G=P.getShortenOffset(Q[0][0],Q[0][1],Q[1][0],Q[1][1],ct.d)}var V=G.dx,H=G.dy;switch(tt){case"M":z.moveTo(N[1]-V,N[2]-H),D=[N[1],N[2]];break;case"L":z.lineTo(N[1]-V,N[2]-H);break;case"Q":z.quadraticCurveTo(N[1],N[2],N[3]-V,N[4]-H);break;case"C":z.bezierCurveTo(N[1],N[2],N[3],N[4],N[5]-V,N[6]-H);break;case"A":{var u=void 0;et?(u=et[X],u||(u=I.default(Mt,N),et[X]=u)):u=I.default(Mt,N);var ot=u.cx,pt=u.cy,it=u.rx,xt=u.ry,gt=u.startAngle,wt=u.endAngle,Dt=u.xRotation,Nt=u.sweepFlag;if(z.ellipse)z.ellipse(ot,pt,it,xt,Dt,gt,wt,1-Nt);else{var Ot=it>xt?it:xt,Tt=it>xt?1:it/xt,at=it>xt?xt/it:1;z.translate(ot,pt),z.rotate(Dt),z.scale(Tt,at),z.arc(0,0,Ot,gt,wt,1-Nt),z.scale(1/Tt,1/at),z.rotate(-Dt),z.translate(-ot,-pt)}break}case"Z":z.closePath();break;default:break}if(tt==="Z")Mt=D;else{var st=N.length;Mt=[N[st-2],N[st-1]]}}}}S.drawPath=M;function L($,z){var U=$.get("canvas");U&&(z==="remove"&&($._cacheCanvasBBox=$.get("cacheCanvasBBox")),$.get("hasChanged")||($.set("hasChanged",!0),$.cfg.parent&&$.cfg.parent.get("hasChanged")||(U.refreshElement($,z,U),U.get("autoDraw")&&U.draw())))}S.refreshElement=L;function k($){var z;if($.destroyed)z=$._cacheCanvasBBox;else{var U=$.get("cacheCanvasBBox"),et=U&&!!(U.width&&U.height),q=$.getCanvasBBox(),dt=q&&!!(q.width&&q.height);et&&dt?z=O.mergeRegion(U,q):et?z=U:dt&&(z=q)}return z}S.getRefreshRegion=k;function F($){if(!$.length)return null;var z=[],U=[],et=[],q=[];return w.each($,function(dt){var ct=k(dt);ct&&(z.push(ct.minX),U.push(ct.minY),et.push(ct.maxX),q.push(ct.maxY))}),{minX:w.min(z),minY:w.min(U),maxX:w.max(et),maxY:w.max(q)}}S.getMergedRegion=F;function W($,z){return!$||!z||!O.intersectRect($,z)?null:{minX:Math.max($.minX,z.minX),minY:Math.max($.minY,z.minY),maxX:Math.min($.maxX,z.maxX),maxY:Math.min($.maxY,z.maxY)}}S.mergeView=W},77096:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var w=d(85622);function _(A,E){if(E){var C=w.invert(E);return w.multiplyVec2(C,A)}return A}function I(A,E,C){var p=A.getTotalMatrix();if(p){var b=_([E,C,1],p),y=b[0],x=b[1];return[y,x]}return[E,C]}function O(A,E,C){if(A.isCanvas&&A.isCanvas())return!0;if(!w.isAllowCapture(A)||A.cfg.isInView===!1)return!1;if(A.cfg.clipShape){var p=I(A,E,C),b=p[0],y=p[1];if(A.isClipped(b,y))return!1}var x=A.cfg.cacheCanvasBBox||A.getCanvasBBox();return E>=x.minX&&E<=x.maxX&&C>=x.minY&&C<=x.maxY}function P(A,E,C){if(!O(A,E,C))return null;for(var p=null,b=A.getChildren(),y=b.length,x=y-1;x>=0;x--){var g=b[x];if(g.isGroup())p=P(g,E,C);else if(O(g,E,C)){var M=g,L=I(g,E,C),k=L[0],F=L[1];M.isInShape(k,F)&&(p=g)}if(p)break}return p}S.getShape=P},31977:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(85622);function _(I,O,P){var A=w.getOffScreenContext();return I.createPath(A),A.isPointInPath(O,P)}S.default=_},50970:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function w(O){return Math.abs(O)<d?0:O<0?-1:1}function _(O,P,A){return(A[0]-O[0])*(P[1]-O[1])==(P[0]-O[0])*(A[1]-O[1])&&Math.min(O[0],P[0])<=A[0]&&A[0]<=Math.max(O[0],P[0])&&Math.min(O[1],P[1])<=A[1]&&A[1]<=Math.max(O[1],P[1])}function I(O,P,A){var E=!1,C=O.length;if(C<=2)return!1;for(var p=0;p<C;p++){var b=O[p],y=O[(p+1)%C];if(_(b,y,[P,A]))return!0;w(b[1]-A)>0!=w(y[1]-A)>0&&w(P-(A-b[1])*(b[0]-y[0])/(b[1]-y[1])-b[0])<0&&(E=!E)}return E}S.default=I},70122:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21927);function _(I,O,P,A,E,C,p,b){var y=(Math.atan2(b-O,p-I)+Math.PI*2)%(Math.PI*2);if(y<A||y>E)return!1;var x={x:I+P*Math.cos(y),y:O+P*Math.sin(y)};return w.distance(x.x,x.y,p,b)<=C/2}S.default=_},63161:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(89838);function _(I,O,P,A,E,C,p){var b=Math.min(I,P),y=Math.max(I,P),x=Math.min(O,A),g=Math.max(O,A),M=E/2;return C>=b-M&&C<=y+M&&p>=x-M&&p<=g+M?w.Line.pointToLine(I,O,P,A,C,p)<=E/2:!1}S.default=_},39761:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(63161);function _(I,O,P,A,E){var C=I.length;if(C<2)return!1;for(var p=0;p<C-1;p++){var b=I[p][0],y=I[p][1],x=I[p+1][0],g=I[p+1][1];if(w.default(b,y,x,g,O,P,A))return!0}if(E){var M=I[0],L=I[C-1];if(w.default(M[0],M[1],L[0],L[1],O,P,A))return!0}return!1}S.default=_},46647:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(63161),_=d(70122);function I(O,P,A,E,C,p,b,y){var x=p/2;return w.default(O+C,P,O+A-C,P,p,b,y)||w.default(O+A,P+C,O+A,P+E-C,p,b,y)||w.default(O+A-C,P+E,O+C,P+E,p,b,y)||w.default(O,P+E-C,O,P+C,p,b,y)||_.default(O+A-C,P+C,C,1.5*Math.PI,2*Math.PI,p,b,y)||_.default(O+A-C,P+E-C,C,0,.5*Math.PI,p,b,y)||_.default(O+C,P+E-C,C,.5*Math.PI,Math.PI,p,b,y)||_.default(O+C,P+C,C,Math.PI,1.5*Math.PI,p,b,y)}S.default=I},21897:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21927);function _(I,O,P,A,E,C,p){var b=E/2;return w.inBox(I-b,O-b,P,E,C,p)||w.inBox(I+P-b,O-b,E,A,C,p)||w.inBox(I+b,O+A-b,P,E,C,p)||w.inBox(I-b,O+b,E,A,C,p)}S.default=_},93377:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var w=d(21927),_=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,O=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function A(x,g){var M=x.match(P);w.each(M,function(L){var k=L.split(":");g.addColorStop(k[0],k[1])})}function E(x,g,M){var L=_.exec(M),k=parseFloat(L[1])%360*(Math.PI/180),F=L[2],W=g.getBBox(),$,z;k>=0&&k<1/2*Math.PI?($={x:W.minX,y:W.minY},z={x:W.maxX,y:W.maxY}):1/2*Math.PI<=k&&k<Math.PI?($={x:W.maxX,y:W.minY},z={x:W.minX,y:W.maxY}):Math.PI<=k&&k<3/2*Math.PI?($={x:W.maxX,y:W.maxY},z={x:W.minX,y:W.minY}):($={x:W.minX,y:W.maxY},z={x:W.maxX,y:W.minY});var U=Math.tan(k),et=U*U,q=(z.x-$.x+U*(z.y-$.y))/(et+1)+$.x,dt=U*(z.x-$.x+U*(z.y-$.y))/(et+1)+$.y,ct=x.createLinearGradient($.x,$.y,q,dt);return A(F,ct),ct}S.parseLineGradient=E;function C(x,g,M){var L=I.exec(M),k=parseFloat(L[1]),F=parseFloat(L[2]),W=parseFloat(L[3]),$=L[4];if(W===0){var z=$.match(P);return z[z.length-1].split(":")[1]}var U=g.getBBox(),et=U.maxX-U.minX,q=U.maxY-U.minY,dt=Math.sqrt(et*et+q*q)/2,ct=x.createRadialGradient(U.minX+et*k,U.minY+q*F,0,U.minX+et/2,U.minY+q/2,W*dt);return A($,ct),ct}S.parseRadialGradient=C;function p(x,g,M){if(g.get("patternSource")&&g.get("patternSource")===M)return g.get("pattern");var L,k,F=O.exec(M),W=F[1],$=F[2];function z(){L=x.createPattern(k,W),g.set("pattern",L),g.set("patternSource",M)}switch(W){case"a":W="repeat";break;case"x":W="repeat-x";break;case"y":W="repeat-y";break;case"n":W="no-repeat";break;default:W="no-repeat"}return k=new Image,$.match(/^data:/i)||(k.crossOrigin="Anonymous"),k.src=$,k.complete?z():(k.onload=z,k.src=k.src),L}S.parsePattern=p;function b(x,g,M){var L=g.getBBox();if(isNaN(L.x)||isNaN(L.y)||isNaN(L.width)||isNaN(L.height))return M;if(w.isString(M)){if(M[1]==="("||M[2]==="("){if(M[0]==="l")return E(x,g,M);if(M[0]==="r")return C(x,g,M);if(M[0]==="p")return p(x,g,M)}return M}if(M instanceof CanvasPattern)return M}S.parseStyle=b;function y(x){var g=0,M=0,L=0,k=0;return w.isArray(x)?x.length===1?g=M=L=k=x[0]:x.length===2?(g=L=x[0],M=k=x[1]):x.length===3?(g=x[0],M=k=x[1],L=x[2]):(g=x[0],M=x[1],L=x[2],k=x[3]):g=M=L=k=x,[g,M,L,k]}S.parseRadius=y},55531:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(55654),_=d(85622),I=d(89838),O=d(89838),P=d(77788),A=d(77160),E=d(21927),C=d(63161),p=d(70122),b=P.ext.transform;function y(M){for(var L=!1,k=M.length,F=0;F<k;F++){var W=M[F],$=W[0];if($==="C"||$==="A"||$==="Q"){L=!0;break}}return L}function x(M,L,k,F,W){for(var $=!1,z=L/2,U=0;U<M.length;U++){var et=M[U],q=et.currentPoint,dt=et.params,ct=et.prePoint,Mt=et.box;if(!(Mt&&!E.inBox(Mt.x-z,Mt.y-z,Mt.width+L,Mt.height+L,k,F))){switch(et.command){case"L":case"Z":$=C.default(ct[0],ct[1],q[0],q[1],L,k,F);break;case"Q":var D=I.Quad.pointDistance(ct[0],ct[1],dt[1],dt[2],dt[3],dt[4],k,F);$=D<=L/2;break;case"C":var G=O.Cubic.pointDistance(ct[0],ct[1],dt[1],dt[2],dt[3],dt[4],dt[5],dt[6],k,F,W);$=G<=L/2;break;case"A":var X=et.arcParams,N=X.cx,tt=X.cy,Q=X.rx,K=X.ry,V=X.startAngle,H=X.endAngle,u=X.xRotation,ot=[k,F,1],pt=Q>K?Q:K,it=Q>K?1:Q/K,xt=Q>K?K/Q:1,gt=b(null,[["t",-N,-tt],["r",-u],["s",1/it,1/xt]]);A.transformMat3(ot,ot,gt),$=p.default(0,0,pt,V,H,L,ot[0],ot[1]);break;default:break}if($)break}}return $}function g(M){for(var L=M.length,k=[],F=[],W=[],$=0;$<L;$++){var z=M[$],U=z[0];U==="M"?(W.length&&(F.push(W),W=[]),W.push([z[1],z[2]])):U==="Z"?W.length&&(k.push(W),W=[]):W.push([z[1],z[2]])}return W.length>0&&F.push(W),{polygons:k,polylines:F}}S.default=w.__assign({hasArc:y,extractPolygons:g,isPointInStroke:x},_.PathUtil)},21927:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.clearAnimationFrame=S.requestAnimationFrame=S.isNumberEqual=S.mod=S.toRadian=S.each=S.isArray=S.isFunction=S.isString=S.isNil=S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function w(){return window?window.devicePixelRatio:1}S.getPixelRatio=w;function _(C,p,b,y){var x=C-b,g=p-y;return Math.sqrt(x*x+g*g)}S.distance=_;function I(C,p,b,y,x,g){return x>=C&&x<=C+b&&g>=p&&g<=p+y}S.inBox=I;function O(C,p){return!(p.minX>C.maxX||p.maxX<C.minX||p.minY>C.maxY||p.maxY<C.minY)}S.intersectRect=O;function P(C,p){return!C||!p?C||p:{minX:Math.min(C.minX,p.minX),minY:Math.min(C.minY,p.minY),maxX:Math.max(C.maxX,p.maxX),maxY:Math.max(C.maxY,p.maxY)}}S.mergeRegion=P;function A(C,p){return C[0]===p[0]&&C[1]===p[1]}S.isSamePoint=A;var E=d(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return E.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return E.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return E.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return E.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return E.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return E.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return E.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return E.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return E.clearAnimationFrame}})},77788:function(bt,S,d){"use strict";d.r(S),d.d(S,{ext:function(){return w},mat3:function(){return _},vec2:function(){return I},vec3:function(){return O}});var w={};d.r(w),d.d(w,{angleTo:function(){return y},direction:function(){return b},leftRotate:function(){return A},leftScale:function(){return E},leftTranslate:function(){return P},transform:function(){return p},vertical:function(){return x}});var _=d(35600),I=d(31437),O=d(77160);function P(g,M,L){var k=[0,0,0,0,0,0,0,0,0];return _.fromTranslation(k,L),_.multiply(g,k,M)}function A(g,M,L){var k=[0,0,0,0,0,0,0,0,0];return _.fromRotation(k,L),_.multiply(g,k,M)}function E(g,M,L){var k=[0,0,0,0,0,0,0,0,0];return _.fromScaling(k,L),_.multiply(g,k,M)}function C(g,M,L){return _.multiply(g,L,M)}function p(g,M){for(var L=g?[].concat(g):[1,0,0,0,1,0,0,0,1],k=0,F=M.length;k<F;k++){var W=M[k];switch(W[0]){case"t":P(L,L,[W[1],W[2]]);break;case"s":E(L,L,[W[1],W[2]]);break;case"r":A(L,L,W[1]);break;case"m":C(L,L,W[1]);break;default:break}}return L}function b(g,M){return g[0]*M[1]-M[0]*g[1]}function y(g,M,L){var k=I.angle(g,M),F=b(g,M)>=0;return L?F?Math.PI*2-k:k:F?k:Math.PI*2-k}function x(g,M,L){return L?(g[0]=M[1],g[1]=-1*M[0]):(g[0]=-1*M[1],g[1]=M[0]),g}},55654:function(bt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return _},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return P},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return x},__read:function(){return g},__spread:function(){return M},__spreadArrays:function(){return L},__spreadArray:function(){return k},__await:function(){return F},__asyncGenerator:function(){return W},__asyncDelegator:function(){return $},__asyncValues:function(){return z},__makeTemplateObject:function(){return U},__importStar:function(){return q},__importDefault:function(){return dt},__classPrivateFieldGet:function(){return ct},__classPrivateFieldSet:function(){return Mt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(D,G){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,N){X.__proto__=N}||function(X,N){for(var tt in N)Object.prototype.hasOwnProperty.call(N,tt)&&(X[tt]=N[tt])},w(D,G)};function _(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");w(D,G);function X(){this.constructor=D}D.prototype=G===null?Object.create(G):(X.prototype=G.prototype,new X)}var I=function(){return I=Object.assign||function(G){for(var X,N=1,tt=arguments.length;N<tt;N++){X=arguments[N];for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&(G[Q]=X[Q])}return G},I.apply(this,arguments)};function O(D,G){var X={};for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&G.indexOf(N)<0&&(X[N]=D[N]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,N=Object.getOwnPropertySymbols(D);tt<N.length;tt++)G.indexOf(N[tt])<0&&Object.prototype.propertyIsEnumerable.call(D,N[tt])&&(X[N[tt]]=D[N[tt]]);return X}function P(D,G,X,N){var tt=arguments.length,Q=tt<3?G:N===null?N=Object.getOwnPropertyDescriptor(G,X):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(D,G,X,N);else for(var V=D.length-1;V>=0;V--)(K=D[V])&&(Q=(tt<3?K(Q):tt>3?K(G,X,Q):K(G,X))||Q);return tt>3&&Q&&Object.defineProperty(G,X,Q),Q}function A(D,G){return function(X,N){G(X,N,D)}}function E(D,G){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(D,G)}function C(D,G,X,N){function tt(Q){return Q instanceof X?Q:new X(function(K){K(Q)})}return new(X||(X=Promise))(function(Q,K){function V(ot){try{u(N.next(ot))}catch(pt){K(pt)}}function H(ot){try{u(N.throw(ot))}catch(pt){K(pt)}}function u(ot){ot.done?Q(ot.value):tt(ot.value).then(V,H)}u((N=N.apply(D,G||[])).next())})}function p(D,G){var X={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},N,tt,Q,K;return K={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function V(u){return function(ot){return H([u,ot])}}function H(u){if(N)throw new TypeError("Generator is already executing.");for(;X;)try{if(N=1,tt&&(Q=u[0]&2?tt.return:u[0]?tt.throw||((Q=tt.return)&&Q.call(tt),0):tt.next)&&!(Q=Q.call(tt,u[1])).done)return Q;switch(tt=0,Q&&(u=[u[0]&2,Q.value]),u[0]){case 0:case 1:Q=u;break;case 4:return X.label++,{value:u[1],done:!1};case 5:X.label++,tt=u[1],u=[0];continue;case 7:u=X.ops.pop(),X.trys.pop();continue;default:if(Q=X.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(u[0]===6||u[0]===2)){X=0;continue}if(u[0]===3&&(!Q||u[1]>Q[0]&&u[1]<Q[3])){X.label=u[1];break}if(u[0]===6&&X.label<Q[1]){X.label=Q[1],Q=u;break}if(Q&&X.label<Q[2]){X.label=Q[2],X.ops.push(u);break}Q[2]&&X.ops.pop(),X.trys.pop();continue}u=G.call(D,X)}catch(ot){u=[6,ot],tt=0}finally{N=Q=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var b=Object.create?function(D,G,X,N){N===void 0&&(N=X),Object.defineProperty(D,N,{enumerable:!0,get:function(){return G[X]}})}:function(D,G,X,N){N===void 0&&(N=X),D[N]=G[X]};function y(D,G){for(var X in D)X!=="default"&&!Object.prototype.hasOwnProperty.call(G,X)&&b(G,D,X)}function x(D){var G=typeof Symbol=="function"&&Symbol.iterator,X=G&&D[G],N=0;if(X)return X.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&N>=D.length&&(D=void 0),{value:D&&D[N++],done:!D}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(D,G){var X=typeof Symbol=="function"&&D[Symbol.iterator];if(!X)return D;var N=X.call(D),tt,Q=[],K;try{for(;(G===void 0||G-- >0)&&!(tt=N.next()).done;)Q.push(tt.value)}catch(V){K={error:V}}finally{try{tt&&!tt.done&&(X=N.return)&&X.call(N)}finally{if(K)throw K.error}}return Q}function M(){for(var D=[],G=0;G<arguments.length;G++)D=D.concat(g(arguments[G]));return D}function L(){for(var D=0,G=0,X=arguments.length;G<X;G++)D+=arguments[G].length;for(var N=Array(D),tt=0,G=0;G<X;G++)for(var Q=arguments[G],K=0,V=Q.length;K<V;K++,tt++)N[tt]=Q[K];return N}function k(D,G,X){if(X||arguments.length===2)for(var N=0,tt=G.length,Q;N<tt;N++)(Q||!(N in G))&&(Q||(Q=Array.prototype.slice.call(G,0,N)),Q[N]=G[N]);return D.concat(Q||Array.prototype.slice.call(G))}function F(D){return this instanceof F?(this.v=D,this):new F(D)}function W(D,G,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=X.apply(D,G||[]),tt,Q=[];return tt={},K("next"),K("throw"),K("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function K(it){N[it]&&(tt[it]=function(xt){return new Promise(function(gt,wt){Q.push([it,xt,gt,wt])>1||V(it,xt)})})}function V(it,xt){try{H(N[it](xt))}catch(gt){pt(Q[0][3],gt)}}function H(it){it.value instanceof F?Promise.resolve(it.value.v).then(u,ot):pt(Q[0][2],it)}function u(it){V("next",it)}function ot(it){V("throw",it)}function pt(it,xt){it(xt),Q.shift(),Q.length&&V(Q[0][0],Q[0][1])}}function $(D){var G,X;return G={},N("next"),N("throw",function(tt){throw tt}),N("return"),G[Symbol.iterator]=function(){return this},G;function N(tt,Q){G[tt]=D[tt]?function(K){return(X=!X)?{value:F(D[tt](K)),done:tt==="return"}:Q?Q(K):K}:Q}}function z(D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=D[Symbol.asyncIterator],X;return G?G.call(D):(D=typeof x=="function"?x(D):D[Symbol.iterator](),X={},N("next"),N("throw"),N("return"),X[Symbol.asyncIterator]=function(){return this},X);function N(Q){X[Q]=D[Q]&&function(K){return new Promise(function(V,H){K=D[Q](K),tt(V,H,K.done,K.value)})}}function tt(Q,K,V,H){Promise.resolve(H).then(function(u){Q({value:u,done:V})},K)}}function U(D,G){return Object.defineProperty?Object.defineProperty(D,"raw",{value:G}):D.raw=G,D}var et=Object.create?function(D,G){Object.defineProperty(D,"default",{enumerable:!0,value:G})}:function(D,G){D.default=G};function q(D){if(D&&D.__esModule)return D;var G={};if(D!=null)for(var X in D)X!=="default"&&Object.prototype.hasOwnProperty.call(D,X)&&b(G,D,X);return et(G,D),G}function dt(D){return D&&D.__esModule?D:{default:D}}function ct(D,G,X,N){if(X==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?D!==G||!N:!G.has(D))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?N:X==="a"?N.call(D):N?N.value:G.get(D)}function Mt(D,G,X,N,tt){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!tt)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?D!==G||!tt:!G.has(D))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?tt.call(D,X):tt?tt.value=X:G.set(D,X),X}},70673:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(47862),I=d(85622),O=d(65712),P=d(98820),A=d(50063),E=d(87596),C=d(4206),p=d(11694),b=d(21318),y=function(x){_.__extends(g,x);function g(M){return x.call(this,_.__assign(_.__assign({},M),{autoDraw:!0,renderer:"svg"}))||this}return g.prototype.getShapeBase=function(){return C},g.prototype.getGroupBase=function(){return p.default},g.prototype.getShape=function(M,L,k){var F=k.target||k.srcElement;if(!O.SHAPE_TO_TAGS[F.tagName]){for(var W=F.parentNode;W&&!O.SHAPE_TO_TAGS[W.tagName];)W=W.parentNode;F=W}return this.find(function($){return $.get("el")===F})},g.prototype.createDom=function(){var M=E.createSVGElement("svg"),L=new b.default(M);return M.setAttribute("width",""+this.get("width")),M.setAttribute("height",""+this.get("height")),this.set("context",L),M},g.prototype.onCanvasChange=function(M){var L=this.get("context"),k=this.get("el");if(M==="sort"){var F=this.get("children");F&&F.length&&E.sortDom(this,function($,z){return F.indexOf($)-F.indexOf(z)?1:0})}else if(M==="clear"){if(k){k.innerHTML="";var W=L.el;W.innerHTML="",k.appendChild(W)}}else M==="matrix"?A.setTransform(this):M==="clip"?A.setClip(this,L):M==="changeSize"&&(k.setAttribute("width",""+this.get("width")),k.setAttribute("height",""+this.get("height")))},g.prototype.draw=function(){var M=this.get("context"),L=this.getChildren();A.setClip(this,M),L.length&&P.drawChildren(M,L)},g}(I.AbstractCanvas);S.Z=y},65712:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},9353:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(87596),I=function(){function O(P,A){this.cfg={};var E=_.createSVGElement("marker"),C=w.uniqueId("marker_");E.setAttribute("id",C);var p=_.createSVGElement("path");p.setAttribute("stroke",P.stroke||"none"),p.setAttribute("fill",P.fill||"none"),E.appendChild(p),E.setAttribute("overflow","visible"),E.setAttribute("orient","auto-start-reverse"),this.el=E,this.child=p,this.id=C;var b=P[A==="marker-start"?"startArrow":"endArrow"];return this.stroke=P.stroke||"#000",b===!0?this._setDefaultPath(A,p):(this.cfg=b,this._setMarker(P.lineWidth,p)),this}return O.prototype.match=function(){return!1},O.prototype._setDefaultPath=function(P,A){var E=this.el;A.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),E.setAttribute("refX",""+10*Math.cos(Math.PI/6)),E.setAttribute("refY",""+5)},O.prototype._setMarker=function(P,A){var E=this.el,C=this.cfg.path,p=this.cfg.d;w.isArray(C)&&(C=C.map(function(b){return b.join(" ")}).join("")),A.setAttribute("d",C),E.appendChild(A),p&&E.setAttribute("refX",""+p/P)},O.prototype.update=function(P){var A=this.child;A.attr?A.attr("fill",P):A.setAttribute("fill",P)},O}();S.default=I},67926:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(87596),I=function(){function O(P){this.type="clip",this.cfg={};var A=_.createSVGElement("clipPath");this.el=A,this.id=w.uniqueId("clip_"),A.id=this.id;var E=P.cfg.el;return A.appendChild(E),this.cfg=P,this}return O.prototype.match=function(){return!1},O.prototype.remove=function(){var P=this.el;P.parentNode.removeChild(P)},O}();S.default=I},10052:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(87596),I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function A(b){var y=b.match(P);if(!y)return"";var x="";return y.sort(function(g,M){return g=g.split(":"),M=M.split(":"),Number(g[0])-Number(M[0])}),w.each(y,function(g){g=g.split(":"),x+='<stop offset="'+g[0]+'" stop-color="'+g[1]+'"></stop>'}),x}function E(b,y){var x=I.exec(b),g=w.mod(w.toRadian(parseFloat(x[1])),Math.PI*2),M=x[2],L,k;g>=0&&g<.5*Math.PI?(L={x:0,y:0},k={x:1,y:1}):.5*Math.PI<=g&&g<Math.PI?(L={x:1,y:0},k={x:0,y:1}):Math.PI<=g&&g<1.5*Math.PI?(L={x:1,y:1},k={x:0,y:0}):(L={x:0,y:1},k={x:1,y:0});var F=Math.tan(g),W=F*F,$=(k.x-L.x+F*(k.y-L.y))/(W+1)+L.x,z=F*(k.x-L.x+F*(k.y-L.y))/(W+1)+L.y;y.setAttribute("x1",L.x),y.setAttribute("y1",L.y),y.setAttribute("x2",$),y.setAttribute("y2",z),y.innerHTML=A(M)}function C(b,y){var x=O.exec(b),g=parseFloat(x[1]),M=parseFloat(x[2]),L=parseFloat(x[3]),k=x[4];y.setAttribute("cx",g),y.setAttribute("cy",M),y.setAttribute("r",L),y.innerHTML=A(k)}var p=function(){function b(y){this.cfg={};var x=null,g=w.uniqueId("gradient_");return y.toLowerCase()[0]==="l"?(x=_.createSVGElement("linearGradient"),E(y,x)):(x=_.createSVGElement("radialGradient"),C(y,x)),x.setAttribute("id",g),this.el=x,this.id=g,this.cfg=y,this}return b.prototype.match=function(y,x){return this.cfg===x},b}();S.default=p},21318:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(10052),I=d(96526),O=d(9353),P=d(67926),A=d(10011),E=d(87596),C=function(){function p(b){var y=E.createSVGElement("defs"),x=w.uniqueId("defs_");y.id=x,b.appendChild(y),this.children=[],this.defaultArrow={},this.el=y,this.canvas=b}return p.prototype.find=function(b,y){for(var x=this.children,g=null,M=0;M<x.length;M++)if(x[M].match(b,y)){g=x[M].id;break}return g},p.prototype.findById=function(b){for(var y=this.children,x=null,g=0;g<y.length;g++)if(y[g].id===b){x=y[g];break}return x},p.prototype.add=function(b){this.children.push(b),b.canvas=this.canvas,b.parent=this},p.prototype.getDefaultArrow=function(b,y){var x=b.stroke||b.strokeStyle;if(this.defaultArrow[x])return this.defaultArrow[x].id;var g=new O.default(b,y);return this.defaultArrow[x]=g,this.el.appendChild(g.el),this.add(g),g.id},p.prototype.addGradient=function(b){var y=new _.default(b);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addArrow=function(b,y){var x=new O.default(b,y);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addShadow=function(b){var y=new I.default(b);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addPattern=function(b){var y=new A.default(b);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addClip=function(b){var y=new P.default(b);return this.el.appendChild(y.el),this.add(y),y.id},p}();S.default=C},10011:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(87596),I=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,O=function(){function P(A){this.cfg={};var E=_.createSVGElement("pattern");E.setAttribute("patternUnits","userSpaceOnUse");var C=_.createSVGElement("image");E.appendChild(C);var p=w.uniqueId("pattern_");E.id=p,this.el=E,this.id=p,this.cfg=A;var b=I.exec(A),y=b[2];C.setAttribute("href",y);var x=new Image;y.match(/^data:/i)||(x.crossOrigin="Anonymous"),x.src=y;function g(){E.setAttribute("width",""+x.width),E.setAttribute("height",""+x.height)}return x.complete?g():(x.onload=g,x.src=x.src),this}return P.prototype.match=function(A,E){return this.cfg===E},P}();S.default=O},96526:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(87596),I={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},O={x:"-40%",y:"-40%",width:"200%",height:"200%"},P=function(){function A(E){this.type="filter",this.cfg={},this.type="filter";var C=_.createSVGElement("filter");return w.each(O,function(p,b){C.setAttribute(b,p)}),this.el=C,this.id=w.uniqueId("filter_"),this.el.id=this.id,this.cfg=E,this._parseShadow(E,C),this}return A.prototype.match=function(E,C){if(this.type!==E)return!1;var p=!0,b=this.cfg;return w.each(Object.keys(b),function(y){if(b[y]!==C[y])return p=!1,!1}),p},A.prototype.update=function(E,C){var p=this.cfg;return p[I[E]]=C,this._parseShadow(p,this.el),this},A.prototype._parseShadow=function(E,C){var p=`<feDropShadow
      dx="`+(E.dx||0)+`"
      dy="`+(E.dy||0)+`"
      stdDeviation="`+(E.blur?E.blur/10:0)+`"
      flood-color="`+(E.color?E.color:"#000")+`"
      flood-opacity="`+(E.opacity?E.opacity:1)+`"
      />`;C.innerHTML=p},A}();S.default=P},11694:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(85622),I=d(49242),O=d(4206),P=d(98820),A=d(50063),E=d(65712),C=d(87596),p=function(b){w.__extends(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.isEntityGroup=function(){return!0},y.prototype.createDom=function(){var x=C.createSVGElement("g");this.set("el",x);var g=this.getParent();if(g){var M=g.get("el");M||(M=g.createDom(),g.set("el",M)),M.appendChild(x)}return x},y.prototype.afterAttrsChange=function(x){b.prototype.afterAttrsChange.call(this,x);var g=this.get("canvas");if(g&&g.get("autoDraw")){var M=g.get("context");this.createPath(M,x)}},y.prototype.onCanvasChange=function(x){P.refreshElement(this,x)},y.prototype.getShapeBase=function(){return O},y.prototype.getGroupBase=function(){return y},y.prototype.draw=function(x){var g=this.getChildren(),M=this.get("el");this.get("destroyed")?M&&M.parentNode.removeChild(M):(M||this.createDom(),A.setClip(this,x),this.createPath(x),g.length&&P.drawChildren(x,g))},y.prototype.createPath=function(x,g){var M=this.attr(),L=this.get("el");I.each(g||M,function(k,F){E.SVG_ATTR_MAP[F]&&L.setAttribute(E.SVG_ATTR_MAP[F],k)}),A.setTransform(this)},y}(_.AbstractGroup);S.default=p},4050:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(85622),I=d(50063),O=d(87596),P=d(98820),A=d(65712),E=d(4206),C=d(11694),p=d(85622),b=function(y){w.__extends(x,y);function x(){var g=y!==null&&y.apply(this,arguments)||this;return g.type="svg",g.canFill=!1,g.canStroke=!1,g}return x.prototype.getDefaultAttrs=function(){var g=y.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},g),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},x.prototype.afterAttrsChange=function(g){y.prototype.afterAttrsChange.call(this,g);var M=this.get("canvas");if(M&&M.get("autoDraw")){var L=M.get("context");this.draw(L,g)}},x.prototype.getShapeBase=function(){return E},x.prototype.getGroupBase=function(){return C.default},x.prototype.onCanvasChange=function(g){P.refreshElement(this,g)},x.prototype.calculateBBox=function(){var g=this.get("el"),M=null;if(g)M=g.getBBox();else{var L=p.getBBoxMethod(this.get("type"));L&&(M=L(this))}if(M){var k=M.x,F=M.y,W=M.width,$=M.height,z=this.getHitLineWidth(),U=z/2,et=k-U,q=F-U,dt=k+W+U,ct=F+$+U;return{x:et,y:q,minX:et,minY:q,maxX:dt,maxY:ct,width:W+z,height:$+z}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},x.prototype.isFill=function(){var g=this.attr(),M=g.fill,L=g.fillStyle;return(M||L||this.isClipShape())&&this.canFill},x.prototype.isStroke=function(){var g=this.attr(),M=g.stroke,L=g.strokeStyle;return(M||L)&&this.canStroke},x.prototype.draw=function(g,M){var L=this.get("el");this.get("destroyed")?L&&L.parentNode.removeChild(L):(L||O.createDom(this),I.setClip(this,g),this.createPath(g,M),this.shadow(g,M),this.strokeAndFill(g,M),this.transform(M))},x.prototype.createPath=function(g,M){},x.prototype.strokeAndFill=function(g,M){var L=M||this.attr(),k=L.fill,F=L.fillStyle,W=L.stroke,$=L.strokeStyle,z=L.fillOpacity,U=L.strokeOpacity,et=L.lineWidth,q=this.get("el");this.canFill&&(M?"fill"in L?this._setColor(g,"fill",k):"fillStyle"in L&&this._setColor(g,"fill",F):this._setColor(g,"fill",k||F),z&&q.setAttribute(A.SVG_ATTR_MAP.fillOpacity,z)),this.canStroke&&et>0&&(M?"stroke"in L?this._setColor(g,"stroke",W):"strokeStyle"in L&&this._setColor(g,"stroke",$):this._setColor(g,"stroke",W||$),U&&q.setAttribute(A.SVG_ATTR_MAP.strokeOpacity,U),et&&q.setAttribute(A.SVG_ATTR_MAP.lineWidth,et))},x.prototype._setColor=function(g,M,L){var k=this.get("el");if(!L){k.setAttribute(A.SVG_ATTR_MAP[M],"none");return}if(L=L.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(L)){var F=g.find("gradient",L);F||(F=g.addGradient(L)),k.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+F+")")}else if(/^[p,P]{1}[\s]*\(/.test(L)){var F=g.find("pattern",L);F||(F=g.addPattern(L)),k.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+F+")")}else k.setAttribute(A.SVG_ATTR_MAP[M],L)},x.prototype.shadow=function(g,M){var L=this.attr(),k=M||L,F=k.shadowOffsetX,W=k.shadowOffsetY,$=k.shadowBlur,z=k.shadowColor;(F||W||$||z)&&I.setShadow(this,g)},x.prototype.transform=function(g){var M=this.attr(),L=(g||M).matrix;L&&I.setTransform(this)},x.prototype.isInShape=function(g,M){return this.isPointInPath(g,M)},x.prototype.isPointInPath=function(g,M){var L=this.get("el"),k=this.get("canvas"),F=k.get("el").getBoundingClientRect(),W=g+F.left,$=M+F.top,z=document.elementFromPoint(W,$);return!!(z&&z.isEqualNode(L))},x.prototype.getHitLineWidth=function(){var g=this.attrs,M=g.lineWidth,L=g.lineAppendWidth;return this.isStroke()?M+L:0},x}(_.AbstractShape);S.default=b},14661:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(65712),O=d(4050),P=function(A){w.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="circle",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},C),{x:0,y:0,r:0})},E.prototype.createPath=function(C,p){var b=this.attr(),y=this.get("el");_.each(p||b,function(x,g){g==="x"||g==="y"?y.setAttribute("c"+g,x):I.SVG_ATTR_MAP[g]&&y.setAttribute(I.SVG_ATTR_MAP[g],x)})},E}(O.default);S.default=P},55504:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(65712),O=d(4050),P=function(A){w.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="dom",C.canFill=!1,C.canStroke=!1,C}return E.prototype.createPath=function(C,p){var b=this.attr(),y=this.get("el");if(_.each(p||b,function(L,k){I.SVG_ATTR_MAP[k]&&y.setAttribute(I.SVG_ATTR_MAP[k],L)}),typeof b.html=="function"){var x=b.html.call(this,b);if(x instanceof Element||x instanceof HTMLDocument){for(var g=y.childNodes,M=g.length-1;M>=0;M--)y.removeChild(g[M]);y.appendChild(x)}else y.innerHTML=x}else y.innerHTML=b.html},E}(O.default);S.default=P},92502:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(65712),O=d(4050),P=function(A){w.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="ellipse",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},C),{x:0,y:0,rx:0,ry:0})},E.prototype.createPath=function(C,p){var b=this.attr(),y=this.get("el");_.each(p||b,function(x,g){g==="x"||g==="y"?y.setAttribute("c"+g,x):I.SVG_ATTR_MAP[g]&&y.setAttribute(I.SVG_ATTR_MAP[g],x)})},E}(O.default);S.default=P},74729:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(65712),O=d(4050),P=function(A){w.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="image",C.canFill=!1,C.canStroke=!1,C}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},C),{x:0,y:0,width:0,height:0})},E.prototype.createPath=function(C,p){var b=this,y=this.attr(),x=this.get("el");_.each(p||y,function(g,M){M==="img"?b._setImage(y.img):I.SVG_ATTR_MAP[M]&&x.setAttribute(I.SVG_ATTR_MAP[M],g)})},E.prototype.setAttr=function(C,p){this.attrs[C]=p,C==="img"&&this._setImage(p)},E.prototype._setImage=function(C){var p=this.attr(),b=this.get("el");if(_.isString(C))b.setAttribute("href",C);else if(C instanceof window.Image)p.width||(b.setAttribute("width",C.width),this.attr("width",C.width)),p.height||(b.setAttribute("height",C.height),this.attr("height",C.height)),b.setAttribute("href",C.src);else if(C instanceof HTMLElement&&_.isString(C.nodeName)&&C.nodeName.toUpperCase()==="CANVAS")b.setAttribute("href",C.toDataURL());else if(C instanceof ImageData){var y=document.createElement("canvas");y.setAttribute("width",""+C.width),y.setAttribute("height",""+C.height),y.getContext("2d").putImageData(C,0,0),p.width||(b.setAttribute("width",""+C.width),this.attr("width",C.width)),p.height||(b.setAttribute("height",""+C.height),this.attr("height",C.height)),b.setAttribute("href",y.toDataURL())}},E}(O.default);S.default=P},4206:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(4050);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return w.default}});var _=d(14661);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return _.default}});var I=d(55504);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return I.default}});var O=d(92502);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return O.default}});var P=d(74729);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return P.default}});var A=d(34870);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return A.default}});var E=d(59408);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return E.default}});var C=d(51076);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return C.default}});var p=d(36361);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var b=d(46406);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return b.default}});var y=d(71320);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return y.default}});var x=d(35726);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return x.default}})},34870:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(89838),I=d(49242),O=d(65712),P=d(4050),A=function(E){w.__extends(C,E);function C(){var p=E!==null&&E.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},C.prototype.createPath=function(p,b){var y=this.attr(),x=this.get("el");I.each(b||y,function(g,M){if(M==="startArrow"||M==="endArrow")if(g){var L=I.isObject(g)?p.addArrow(y,O.SVG_ATTR_MAP[M]):p.getDefaultArrow(y,O.SVG_ATTR_MAP[M]);x.setAttribute(O.SVG_ATTR_MAP[M],"url(#"+L+")")}else x.removeAttribute(O.SVG_ATTR_MAP[M]);else O.SVG_ATTR_MAP[M]&&x.setAttribute(O.SVG_ATTR_MAP[M],g)})},C.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,y=p.y1,x=p.x2,g=p.y2;return _.Line.length(b,y,x,g)},C.prototype.getPoint=function(p){var b=this.attr(),y=b.x1,x=b.y1,g=b.x2,M=b.y2;return _.Line.pointAt(y,x,g,M,p)},C}(P.default);S.default=A},59408:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(4050),O=d(22505),P=function(A){w.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="marker",C.canFill=!0,C.canStroke=!0,C}return E.prototype.createPath=function(C){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},E.prototype._assembleMarker=function(){var C=this._getPath();return _.isArray(C)?C.map(function(p){return p.join(" ")}).join(""):C},E.prototype._getPath=function(){var C=this.attr(),p=C.x,b=C.y,y=C.r||C.radius,x=C.symbol||"circle",g;return _.isFunction(x)?g=x:g=O.default.get(x),g?g(p,b,y):(console.warn(g+" symbol is not exist."),null)},E.symbolsFactory=O.default,E}(I.default);S.default=P},22505:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={circle:function(w,_,I){return[["M",w,_],["m",-I,0],["a",I,I,0,1,0,I*2,0],["a",I,I,0,1,0,-I*2,0]]},square:function(w,_,I){return[["M",w-I,_-I],["L",w+I,_-I],["L",w+I,_+I],["L",w-I,_+I],["Z"]]},diamond:function(w,_,I){return[["M",w-I,_],["L",w,_-I],["L",w+I,_],["L",w,_+I],["Z"]]},triangle:function(w,_,I){var O=I*Math.sin(1/3*Math.PI);return[["M",w-I,_+O],["L",w,_-O],["L",w+I,_+O],["z"]]},triangleDown:function(w,_,I){var O=I*Math.sin(1/3*Math.PI);return[["M",w-I,_-O],["L",w+I,_-O],["L",w,_+O],["Z"]]}};S.default={get:function(w){return d[w]},register:function(w,_){d[w]=_},remove:function(w){delete d[w]},getAll:function(){return d}}},51076:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(65712),O=d(4050),P=function(A){w.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="path",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=A.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},C),{startArrow:!1,endArrow:!1})},E.prototype.createPath=function(C,p){var b=this,y=this.attr(),x=this.get("el");_.each(p||y,function(g,M){if(M==="path"&&_.isArray(g))x.setAttribute("d",b._formatPath(g));else if(M==="startArrow"||M==="endArrow")if(g){var L=_.isObject(g)?C.addArrow(y,I.SVG_ATTR_MAP[M]):C.getDefaultArrow(y,I.SVG_ATTR_MAP[M]);x.setAttribute(I.SVG_ATTR_MAP[M],"url(#"+L+")")}else x.removeAttribute(I.SVG_ATTR_MAP[M]);else I.SVG_ATTR_MAP[M]&&x.setAttribute(I.SVG_ATTR_MAP[M],g)})},E.prototype._formatPath=function(C){var p=C.map(function(b){return b.join(" ")}).join("");return~p.indexOf("NaN")?"":p},E.prototype.getTotalLength=function(){var C=this.get("el");return C?C.getTotalLength():null},E.prototype.getPoint=function(C){var p=this.get("el"),b=this.getTotalLength();if(b===0)return null;var y=p?p.getPointAtLength(C*b):null;return y?{x:y.x,y:y.y}:null},E}(O.default);S.default=P},36361:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(65712),O=d(4050),P=function(A){w.__extends(E,A);function E(){var C=A!==null&&A.apply(this,arguments)||this;return C.type="polygon",C.canFill=!0,C.canStroke=!0,C}return E.prototype.createPath=function(C,p){var b=this.attr(),y=this.get("el");_.each(p||b,function(x,g){g==="points"&&_.isArray(x)&&x.length>=2?y.setAttribute("points",x.map(function(M){return M[0]+","+M[1]}).join(" ")):I.SVG_ATTR_MAP[g]&&y.setAttribute(I.SVG_ATTR_MAP[g],x)})},E}(O.default);S.default=P},46406:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(89838),I=d(89838),O=d(49242),P=d(65712),A=d(4050),E=function(C){w.__extends(p,C);function p(){var b=C!==null&&C.apply(this,arguments)||this;return b.type="polyline",b.canFill=!0,b.canStroke=!0,b}return p.prototype.getDefaultAttrs=function(){var b=C.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},b),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(b,y,x){C.prototype.onAttrChange.call(this,b,y,x),["points"].indexOf(b)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(b,y){var x=this.attr(),g=this.get("el");O.each(y||x,function(M,L){L==="points"&&O.isArray(M)&&M.length>=2?g.setAttribute("points",M.map(function(k){return k[0]+","+k[1]}).join(" ")):P.SVG_ATTR_MAP[L]&&g.setAttribute(P.SVG_ATTR_MAP[L],M)})},p.prototype.getTotalLength=function(){var b=this.attr().points,y=this.get("totalLength");return O.isNil(y)?(this.set("totalLength",_.Polyline.length(b)),this.get("totalLength")):y},p.prototype.getPoint=function(b){var y=this.attr().points,x=this.get("tCache");x||(this._setTcache(),x=this.get("tCache"));var g,M;return O.each(x,function(L,k){b>=L[0]&&b<=L[1]&&(g=(b-L[0])/(L[1]-L[0]),M=k)}),I.Line.pointAt(y[M][0],y[M][1],y[M+1][0],y[M+1][1],g)},p.prototype._setTcache=function(){var b=this.attr().points;if(!(!b||b.length===0)){var y=this.getTotalLength();if(!(y<=0)){var x=0,g=[],M,L;O.each(b,function(k,F){b[F+1]&&(M=[],M[0]=x/y,L=I.Line.length(k[0],k[1],b[F+1][0],b[F+1][1]),x+=L,M[1]=x/y,g.push(M))}),this.set("tCache",g)}}},p.prototype.getStartTangent=function(){var b=this.attr().points,y=[];return y.push([b[1][0],b[1][1]]),y.push([b[0][0],b[0][1]]),y},p.prototype.getEndTangent=function(){var b=this.attr().points,y=b.length-1,x=[];return x.push([b[y-1][0],b[y-1][1]]),x.push([b[y][0],b[y][1]]),x},p}(A.default);S.default=E},71320:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(4050),O=d(65712),P=d(48490),A=function(E){w.__extends(C,E);function C(){var p=E!==null&&E.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},C.prototype.createPath=function(p,b){var y=this,x=this.attr(),g=this.get("el"),M=!1,L=["x","y","width","height","radius"];_.each(b||x,function(k,F){L.indexOf(F)!==-1&&!M?(g.setAttribute("d",y._assembleRect(x)),M=!0):L.indexOf(F)===-1&&O.SVG_ATTR_MAP[F]&&g.setAttribute(O.SVG_ATTR_MAP[F],k)})},C.prototype._assembleRect=function(p){var b=p.x,y=p.y,x=p.width,g=p.height,M=p.radius;if(!M)return"M "+b+","+y+" l "+x+",0 l 0,"+g+" l"+-x+" 0 z";var L=P.parseRadius(M);_.isArray(M)?M.length===1?L.r1=L.r2=L.r3=L.r4=M[0]:M.length===2?(L.r1=L.r3=M[0],L.r2=L.r4=M[1]):M.length===3?(L.r1=M[0],L.r2=L.r4=M[1],L.r3=M[2]):(L.r1=M[0],L.r2=M[1],L.r3=M[2],L.r4=M[3]):L.r1=L.r2=L.r3=L.r4=M;var k=[["M "+(b+L.r1)+","+y],["l "+(x-L.r1-L.r2)+",0"],["a "+L.r2+","+L.r2+",0,0,1,"+L.r2+","+L.r2],["l 0,"+(g-L.r2-L.r3)],["a "+L.r3+","+L.r3+",0,0,1,"+-L.r3+","+L.r3],["l "+(L.r3+L.r4-x)+",0"],["a "+L.r4+","+L.r4+",0,0,1,"+-L.r4+","+-L.r4],["l 0,"+(L.r4+L.r1-g)],["a "+L.r1+","+L.r1+",0,0,1,"+L.r1+","+-L.r1],["z"]];return k.join(" ")},C}(I.default);S.default=A},35726:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(47862),_=d(49242),I=d(43631),O=d(50063),P=d(65712),A=d(4050),E=.3,C={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},b={left:"left",start:"left",center:"middle",right:"end",end:"end"},y=function(x){w.__extends(g,x);function g(){var M=x!==null&&x.apply(this,arguments)||this;return M.type="text",M.canFill=!0,M.canStroke=!0,M}return g.prototype.getDefaultAttrs=function(){var M=x.prototype.getDefaultAttrs.call(this);return w.__assign(w.__assign({},M),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},g.prototype.createPath=function(M,L){var k=this,F=this.attr(),W=this.get("el");this._setFont(),_.each(L||F,function($,z){z==="text"?k._setText(""+$):z==="matrix"&&$?O.setTransform(k):P.SVG_ATTR_MAP[z]&&W.setAttribute(P.SVG_ATTR_MAP[z],$)}),W.setAttribute("paint-order","stroke"),W.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},g.prototype._setFont=function(){var M=this.get("el"),L=this.attr(),k=L.textBaseline,F=L.textAlign,W=I.detect();W&&W.name==="firefox"?M.setAttribute("dominant-baseline",p[k]||"alphabetic"):M.setAttribute("alignment-baseline",C[k]||"baseline"),M.setAttribute("text-anchor",b[F]||"left")},g.prototype._setText=function(M){var L=this.get("el"),k=this.attr(),F=k.x,W=k.textBaseline,$=W===void 0?"bottom":W;if(!M)L.innerHTML="";else if(~M.indexOf(`
`)){var z=M.split(`
`),U=z.length-1,et="";_.each(z,function(q,dt){dt===0?$==="alphabetic"?et+='<tspan x="'+F+'" dy="'+-U+'em">'+q+"</tspan>":$==="top"?et+='<tspan x="'+F+'" dy="0.9em">'+q+"</tspan>":$==="middle"?et+='<tspan x="'+F+'" dy="'+-(U-1)/2+'em">'+q+"</tspan>":$==="bottom"?et+='<tspan x="'+F+'" dy="-'+(U+E)+'em">'+q+"</tspan>":$==="hanging"&&(et+='<tspan x="'+F+'" dy="'+(-(U-1)-E)+'em">'+q+"</tspan>"):et+='<tspan x="'+F+'" dy="1em">'+q+"</tspan>"}),L.innerHTML=et}else L.innerHTML=M},g}(A.default);S.default=y},87596:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var w=d(49242),_=d(65712);function I(E){return document.createElementNS("http://www.w3.org/2000/svg",E)}S.createSVGElement=I;function O(E){var C=_.SHAPE_TO_TAGS[E.type],p=E.getParent();if(!C)throw new Error("the type "+E.type+" is not supported by svg");var b=I(C);if(E.get("id")&&(b.id=E.get("id")),E.set("el",b),E.set("attrs",{}),p){var y=p.get("el");y||(y=p.createDom(),p.set("el",y)),y.appendChild(b)}return b}S.createDom=O;function P(E,C){var p=E.get("el"),b=w.toArray(p.children).sort(C),y=document.createDocumentFragment();b.forEach(function(x){y.appendChild(x)}),p.appendChild(y)}S.sortDom=P;function A(E,C){var p=E.parentNode,b=Array.from(p.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),y=b[C],x=b.indexOf(E);if(y){if(x>C)p.insertBefore(E,y);else if(x<C){var g=b[C+1];g?p.insertBefore(E,g):p.appendChild(E)}}else p.appendChild(E)}S.moveTo=A},98820:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var w=d(50063),_=d(87596);function I(P,A){A.forEach(function(E){E.draw(P)})}S.drawChildren=I;function O(P,A){var E=P.get("canvas");if(E&&E.get("autoDraw")){var C=E.get("context"),p=P.getParent(),b=p?p.getChildren():[E],y=P.get("el");if(A==="remove"){var x=P.get("isClipShape");if(x){var g=y&&y.parentNode,M=g&&g.parentNode;g&&M&&M.removeChild(g)}else y&&y.parentNode&&y.parentNode.removeChild(y)}else if(A==="show")y.setAttribute("visibility","visible");else if(A==="hide")y.setAttribute("visibility","hidden");else if(A==="zIndex")_.moveTo(y,b.indexOf(P));else if(A==="sort"){var L=P.get("children");L&&L.length&&_.sortDom(P,function(k,F){return L.indexOf(k)-L.indexOf(F)?1:0})}else A==="clear"?y&&(y.innerHTML=""):A==="matrix"?w.setTransform(P):A==="clip"?w.setClip(P,C):A==="attr"||A==="add"&&P.draw(C)}}S.refreshElement=O},48490:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var w=d(49242),_=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,I=/[^\s,]+/gi;function O(A){var E=0,C=0,p=0,b=0;return w.isArray(A)?A.length===1?E=C=p=b=A[0]:A.length===2?(E=p=A[0],C=b=A[1]):A.length===3?(E=A[0],C=b=A[1],p=A[2]):(E=A[0],C=A[1],p=A[2],b=A[3]):E=C=p=b=A,{r1:E,r2:C,r3:p,r4:b}}S.parseRadius=O;function P(A){if(A=A||[],w.isArray(A))return A;if(w.isString(A))return A=A.match(_),w.each(A,function(E,C){if(E=E.match(I),E[0].length>1){var p=E[0].charAt(0);E.splice(1,0,E[0].substr(1)),E[0]=p}w.each(E,function(b,y){isNaN(b)||(E[y]=+b)}),A[C]=E}),A}S.parsePath=P},50063:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var w=d(87596);function _(P,A){var E=P.cfg.el,C=P.attr(),p={dx:C.shadowOffsetX,dy:C.shadowOffsetY,blur:C.shadowBlur,color:C.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)E.removeAttribute("filter");else{var b=A.find("filter",p);b||(b=A.addShadow(p)),E.setAttribute("filter","url(#"+b+")")}}S.setShadow=_;function I(P){var A=P.attr().matrix;if(A){for(var E=P.cfg.el,C=[],p=0;p<9;p+=3)C.push(A[p]+","+A[p+1]);C=C.join(","),C.indexOf("NaN")===-1?E.setAttribute("transform","matrix("+C+")"):console.warn("invalid matrix:",A)}}S.setTransform=I;function O(P,A){var E=P.getClip(),C=P.get("el");if(!E)C.removeAttribute("clip-path");else if(E&&!C.hasAttribute("clip-path")){w.createDom(E),E.createPath(A);var p=A.addClip(E);C.setAttribute("clip-path","url(#"+p+")")}}S.setClip=O},47862:function(bt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return _},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return P},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return x},__read:function(){return g},__spread:function(){return M},__spreadArrays:function(){return L},__spreadArray:function(){return k},__await:function(){return F},__asyncGenerator:function(){return W},__asyncDelegator:function(){return $},__asyncValues:function(){return z},__makeTemplateObject:function(){return U},__importStar:function(){return q},__importDefault:function(){return dt},__classPrivateFieldGet:function(){return ct},__classPrivateFieldSet:function(){return Mt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(D,G){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,N){X.__proto__=N}||function(X,N){for(var tt in N)Object.prototype.hasOwnProperty.call(N,tt)&&(X[tt]=N[tt])},w(D,G)};function _(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");w(D,G);function X(){this.constructor=D}D.prototype=G===null?Object.create(G):(X.prototype=G.prototype,new X)}var I=function(){return I=Object.assign||function(G){for(var X,N=1,tt=arguments.length;N<tt;N++){X=arguments[N];for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&(G[Q]=X[Q])}return G},I.apply(this,arguments)};function O(D,G){var X={};for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&G.indexOf(N)<0&&(X[N]=D[N]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,N=Object.getOwnPropertySymbols(D);tt<N.length;tt++)G.indexOf(N[tt])<0&&Object.prototype.propertyIsEnumerable.call(D,N[tt])&&(X[N[tt]]=D[N[tt]]);return X}function P(D,G,X,N){var tt=arguments.length,Q=tt<3?G:N===null?N=Object.getOwnPropertyDescriptor(G,X):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(D,G,X,N);else for(var V=D.length-1;V>=0;V--)(K=D[V])&&(Q=(tt<3?K(Q):tt>3?K(G,X,Q):K(G,X))||Q);return tt>3&&Q&&Object.defineProperty(G,X,Q),Q}function A(D,G){return function(X,N){G(X,N,D)}}function E(D,G){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(D,G)}function C(D,G,X,N){function tt(Q){return Q instanceof X?Q:new X(function(K){K(Q)})}return new(X||(X=Promise))(function(Q,K){function V(ot){try{u(N.next(ot))}catch(pt){K(pt)}}function H(ot){try{u(N.throw(ot))}catch(pt){K(pt)}}function u(ot){ot.done?Q(ot.value):tt(ot.value).then(V,H)}u((N=N.apply(D,G||[])).next())})}function p(D,G){var X={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},N,tt,Q,K;return K={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function V(u){return function(ot){return H([u,ot])}}function H(u){if(N)throw new TypeError("Generator is already executing.");for(;X;)try{if(N=1,tt&&(Q=u[0]&2?tt.return:u[0]?tt.throw||((Q=tt.return)&&Q.call(tt),0):tt.next)&&!(Q=Q.call(tt,u[1])).done)return Q;switch(tt=0,Q&&(u=[u[0]&2,Q.value]),u[0]){case 0:case 1:Q=u;break;case 4:return X.label++,{value:u[1],done:!1};case 5:X.label++,tt=u[1],u=[0];continue;case 7:u=X.ops.pop(),X.trys.pop();continue;default:if(Q=X.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(u[0]===6||u[0]===2)){X=0;continue}if(u[0]===3&&(!Q||u[1]>Q[0]&&u[1]<Q[3])){X.label=u[1];break}if(u[0]===6&&X.label<Q[1]){X.label=Q[1],Q=u;break}if(Q&&X.label<Q[2]){X.label=Q[2],X.ops.push(u);break}Q[2]&&X.ops.pop(),X.trys.pop();continue}u=G.call(D,X)}catch(ot){u=[6,ot],tt=0}finally{N=Q=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var b=Object.create?function(D,G,X,N){N===void 0&&(N=X),Object.defineProperty(D,N,{enumerable:!0,get:function(){return G[X]}})}:function(D,G,X,N){N===void 0&&(N=X),D[N]=G[X]};function y(D,G){for(var X in D)X!=="default"&&!Object.prototype.hasOwnProperty.call(G,X)&&b(G,D,X)}function x(D){var G=typeof Symbol=="function"&&Symbol.iterator,X=G&&D[G],N=0;if(X)return X.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&N>=D.length&&(D=void 0),{value:D&&D[N++],done:!D}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(D,G){var X=typeof Symbol=="function"&&D[Symbol.iterator];if(!X)return D;var N=X.call(D),tt,Q=[],K;try{for(;(G===void 0||G-- >0)&&!(tt=N.next()).done;)Q.push(tt.value)}catch(V){K={error:V}}finally{try{tt&&!tt.done&&(X=N.return)&&X.call(N)}finally{if(K)throw K.error}}return Q}function M(){for(var D=[],G=0;G<arguments.length;G++)D=D.concat(g(arguments[G]));return D}function L(){for(var D=0,G=0,X=arguments.length;G<X;G++)D+=arguments[G].length;for(var N=Array(D),tt=0,G=0;G<X;G++)for(var Q=arguments[G],K=0,V=Q.length;K<V;K++,tt++)N[tt]=Q[K];return N}function k(D,G,X){if(X||arguments.length===2)for(var N=0,tt=G.length,Q;N<tt;N++)(Q||!(N in G))&&(Q||(Q=Array.prototype.slice.call(G,0,N)),Q[N]=G[N]);return D.concat(Q||Array.prototype.slice.call(G))}function F(D){return this instanceof F?(this.v=D,this):new F(D)}function W(D,G,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=X.apply(D,G||[]),tt,Q=[];return tt={},K("next"),K("throw"),K("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function K(it){N[it]&&(tt[it]=function(xt){return new Promise(function(gt,wt){Q.push([it,xt,gt,wt])>1||V(it,xt)})})}function V(it,xt){try{H(N[it](xt))}catch(gt){pt(Q[0][3],gt)}}function H(it){it.value instanceof F?Promise.resolve(it.value.v).then(u,ot):pt(Q[0][2],it)}function u(it){V("next",it)}function ot(it){V("throw",it)}function pt(it,xt){it(xt),Q.shift(),Q.length&&V(Q[0][0],Q[0][1])}}function $(D){var G,X;return G={},N("next"),N("throw",function(tt){throw tt}),N("return"),G[Symbol.iterator]=function(){return this},G;function N(tt,Q){G[tt]=D[tt]?function(K){return(X=!X)?{value:F(D[tt](K)),done:tt==="return"}:Q?Q(K):K}:Q}}function z(D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=D[Symbol.asyncIterator],X;return G?G.call(D):(D=typeof x=="function"?x(D):D[Symbol.iterator](),X={},N("next"),N("throw"),N("return"),X[Symbol.asyncIterator]=function(){return this},X);function N(Q){X[Q]=D[Q]&&function(K){return new Promise(function(V,H){K=D[Q](K),tt(V,H,K.done,K.value)})}}function tt(Q,K,V,H){Promise.resolve(H).then(function(u){Q({value:u,done:V})},K)}}function U(D,G){return Object.defineProperty?Object.defineProperty(D,"raw",{value:G}):D.raw=G,D}var et=Object.create?function(D,G){Object.defineProperty(D,"default",{enumerable:!0,value:G})}:function(D,G){D.default=G};function q(D){if(D&&D.__esModule)return D;var G={};if(D!=null)for(var X in D)X!=="default"&&Object.prototype.hasOwnProperty.call(D,X)&&b(G,D,X);return et(G,D),G}function dt(D){return D&&D.__esModule?D:{default:D}}function ct(D,G,X,N){if(X==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?D!==G||!N:!G.has(D))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?N:X==="a"?N.call(D):N?N.value:G.get(D)}function Mt(D,G,X,N,tt){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!tt)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?D!==G||!tt:!G.has(D))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?tt.call(D,X):tt?tt.value=X:G.set(D,X),X}},83077:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(16854);S.wO=_.default;var I=d(13841);w=I.default;var O=d(38269);w=O.default;var P=d(34302);S.vs=P.default},16854:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(31502);w.translate=function(_,I,O){var P=new Array(9);return w.fromTranslation(P,O),w.multiply(_,P,I)},w.rotate=function(_,I,O){var P=new Array(9);return w.fromRotation(P,O),w.multiply(_,P,I)},w.scale=function(_,I,O){var P=new Array(9);return w.fromScaling(P,O),w.multiply(_,P,I)},w.transform=function(_,I){for(var O=[].concat(_),P=0,A=I.length;P<A;P++){var E=I[P];switch(E[0]){case"t":w.translate(O,O,[E[1],E[2]]);break;case"s":w.scale(O,O,[E[1],E[2]]);break;case"r":w.rotate(O,O,E[1]);break;default:break}}return O},S.default=w},34302:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(16854);S.default=function(I,O){var P=I?w.clone(I):[1,0,0,0,1,0,0,0,1];return w.each(O,function(A){switch(A[0]){case"t":_.default.translate(P,P,[A[1],A[2]]);break;case"s":_.default.scale(P,P,[A[1],A[2]]);break;case"r":_.default.rotate(P,P,A[1]);break;case"m":_.default.multiply(P,P,A[1]);break;default:return!1}}),P}},13841:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76172),_=d(49242);w.angle=function(I,O){var P=w.dot(I,O)/(w.length(I)*w.length(O));return Math.acos(_.clamp(P,-1,1))},w.direction=function(I,O){return I[0]*O[1]-O[0]*I[1]},w.angleTo=function(I,O,P){var A=w.angle(I,O),E=w.direction(I,O)>=0;return P?E?Math.PI*2-A:A:E?A:Math.PI*2-A},w.vertical=function(I,O,P){return P?(I[0]=O[1],I[1]=-1*O[0]):(I[0]=-1*O[1],I[1]=O[0]),I},S.default=w},38269:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(88395);S.default=w},55223:function(bt,S,d){"use strict";d.r(S);var w=d(49242),_=/rgba?\(([\s.,0-9]+)\)/,I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,O=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,A=function(F){return/^[r,R,L,l]{1}[\s]*\(/.test(F)},E=function(){var F=document.createElement("i");return F.title="Web Colour Picker",F.style.display="none",document.body.appendChild(F),F},C=function(F,W,$,z){return F[z]+(W[z]-F[z])*$};function p(F){return"#"+y(F[0])+y(F[1])+y(F[2])}var b=function(F){return[parseInt(F.substr(1,2),16),parseInt(F.substr(3,2),16),parseInt(F.substr(5,2),16)]},y=function(F){var W=Math.round(F).toString(16);return W.length===1?"0"+W:W},x=function(F,W){var $=isNaN(Number(W))||W<0?0:W>1?1:Number(W),z=F.length-1,U=Math.floor(z*$),et=z*$-U,q=F[U],dt=U===z?q:F[U+1];return p([C(q,dt,et,0),C(q,dt,et,1),C(q,dt,et,2)])},g,M=function(F){if(F[0]==="#"&&F.length===7)return F;g||(g=E()),g.style.color=F;var W=document.defaultView.getComputedStyle(g,"").getPropertyValue("color"),$=_.exec(W),z=$[1].split(/\s*,\s*/).map(function(U){return Number(U)});return W=p(z),W},L=function(F){var W=(0,w.isString)(F)?F.split("-"):F,$=(0,w.map)(W,function(z){return b(z.indexOf("#")===-1?M(z):z)});return function(z){return x($,z)}},k=function(F){if(A(F)){var W,$=void 0;if(F[0]==="l"){var z=I.exec(F),U=+z[1]+90;$=z[2],W="linear-gradient("+U+"deg, "}else if(F[0]==="r"){W="radial-gradient(";var z=O.exec(F);$=z[4]}var et=$.match(P);return(0,w.each)(et,function(q,dt){var ct=q.split(":");W+=ct[1]+" "+ct[0]*100+"%",dt!==et.length-1&&(W+=", ")}),W+=")",W}return F};S.default={rgb2arr:b,gradient:L,toRGB:(0,w.memoize)(M),toCSSGradient:k}},51441:function(bt,S,d){"use strict";d.r(S),d.d(S,{Annotation:function(){return w},Axis:function(){return A},Component:function(){return Tt},Crosshair:function(){return E},Grid:function(){return C},GroupComponent:function(){return rt},HtmlComponent:function(){return va},Legend:function(){return p},Scrollbar:function(){return Ra},Slider:function(){return ls},Tooltip:function(){return y}});var w={};d.r(w),d.d(w,{Arc:function(){return ei},DataMarker:function(){return ae},DataRegion:function(){return xe},Image:function(){return Zt},Line:function(){return rn},Region:function(){return xi},RegionFilter:function(){return Te},Text:function(){return Wr}});var _={};d.r(_),d.d(_,{ellipsisHead:function(){return Je},ellipsisMiddle:function(){return ir},ellipsisTail:function(){return or},getDefault:function(){return rr}});var I={};d.r(I),d.d(I,{equidistance:function(){return Dr},getDefault:function(){return Ir},reserveBoth:function(){return Yr},reserveFirst:function(){return Er},reserveLast:function(){return Lr}});var O={};d.r(O),d.d(O,{fixedAngle:function(){return si},getDefault:function(){return Rn},unfixedAngle:function(){return Kn}});var P={};d.r(P),d.d(P,{autoEllipsis:function(){return _},autoHide:function(){return I},autoRotate:function(){return O}});var A={};d.r(A),d.d(A,{Base:function(){return Be},Circle:function(){return ri},Line:function(){return bi}});var E={};d.r(E),d.d(E,{Base:function(){return ui},Circle:function(){return Ni},Html:function(){return se},Line:function(){return fi}});var C={};d.r(C),d.d(C,{Base:function(){return ce},Circle:function(){return _t},Line:function(){return qt}});var p={};d.r(p),d.d(p,{Base:function(){return fe},Category:function(){return Oe},Continuous:function(){return dr}});var b={};d.r(b),d.d(b,{CONTAINER_CLASS:function(){return Kr},CROSSHAIR_X:function(){return $n},CROSSHAIR_Y:function(){return Xn},LIST_CLASS:function(){return bn},LIST_ITEM_CLASS:function(){return Mn},MARKER_CLASS:function(){return ni},NAME_CLASS:function(){return hi},TITLE_CLASS:function(){return Ur},VALUE_CLASS:function(){return zn}});var y={};d.r(y),d.d(y,{Html:function(){return Ma}});var x=d(62117),g=d(49242),M=d(66192);function L(Vt,vt,R){var J=new M.default(vt,R);J.target=Vt,J.propagationPath.push(Vt),Vt.emitDelegation(vt,J);for(var lt=Vt.getParent();lt;)lt.emitDelegation(vt,J),J.propagationPath.push(lt),lt=lt.getParent()}var k=d(31506),F=d(31437),W=[1,0,0,0,1,0,0,0,1];function $(Vt,vt,R){if(R===void 0&&(R=W),!vt)return null;var J=k.transform(R,[["t",-Vt.x,-Vt.y],["r",vt],["t",Vt.x,Vt.y]]);return J}function z(Vt,vt){return!Vt.x&&!Vt.y?null:k.transform(vt||W,[["t",Vt.x,Vt.y]])}function U(Vt){var vt=[1,0,0],R=[0,0,0];return vec3.transformMat3(R,vt,Vt),Math.atan2(R[1],R[0])}function et(Vt,vt){var R=[0,0];return F.transformMat3(R,vt,Vt),R}function q(Vt,vt){var R=et(Vt,[vt.minX,vt.minY]),J=et(Vt,[vt.maxX,vt.minY]),lt=et(Vt,[vt.minX,vt.maxY]),St=et(Vt,[vt.maxX,vt.maxY]),Bt=Math.min(R[0],J[0],lt[0],St[0]),Xt=Math.max(R[0],J[0],lt[0],St[0]),ee=Math.min(R[1],J[1],lt[1],St[1]),ie=Math.max(R[1],J[1],lt[1],St[1]);return{x:Bt,y:ee,minX:Bt,minY:ee,maxX:Xt,maxY:ie,width:Xt-Bt,height:ie-ee}}function dt(Vt,vt,R,J){if(vt){var lt=$({x:R,y:J},vt,Vt.getMatrix());Vt.setMatrix(lt)}}function ct(Vt,vt,R){var J=z({x:vt,y:R});Vt.attr("matrix",J)}function Mt(Vt){var vt=0,R=0,J=0,lt=0;return(0,g.isNumber)(Vt)?vt=R=J=lt=Vt:(0,g.isArray)(Vt)&&(vt=Vt[0],J=(0,g.isNil)(Vt[1])?Vt[0]:Vt[1],lt=(0,g.isNil)(Vt[2])?Vt[0]:Vt[2],R=(0,g.isNil)(Vt[3])?J:Vt[3]),[vt,J,lt,R]}function D(Vt){for(var vt=Vt.childNodes,R=vt.length,J=R-1;J>=0;J--)Vt.removeChild(vt[J])}function G(Vt,vt){return!!Vt.className.match(new RegExp("(\\s|^)"+vt+"(\\s|$)"))}function X(Vt){var vt=Vt.start,R=Vt.end,J=Math.min(vt.x,R.x),lt=Math.min(vt.y,R.y),St=Math.max(vt.x,R.x),Bt=Math.max(vt.y,R.y);return{x:J,y:lt,minX:J,minY:lt,maxX:St,maxY:Bt,width:St-J,height:Bt-lt}}function N(Vt){var vt=Vt.map(function(Xt){return Xt.x}),R=Vt.map(function(Xt){return Xt.y}),J=Math.min.apply(Math,vt),lt=Math.min.apply(Math,R),St=Math.max.apply(Math,vt),Bt=Math.max.apply(Math,R);return{x:J,y:lt,minX:J,minY:lt,maxX:St,maxY:Bt,width:St-J,height:Bt-lt}}function tt(Vt,vt,R,J){return{x:Vt,y:vt,width:R,height:J,minX:Vt,minY:vt,maxX:Vt+R,maxY:vt+J}}function Q(Vt,vt,R){return(1-R)*Vt+vt*R}function K(Vt,vt,R){return{x:Vt.x+Math.cos(R)*vt,y:Vt.y+Math.sin(R)*vt}}function V(Vt,vt){var R=vt.x-Vt.x,J=vt.y-Vt.y;return Math.sqrt(R*R+J*J)}var H=function(Vt){return new Promise(function(vt){setTimeout(vt,Vt)})},u=function(Vt,vt){return[Vt,vt].includes(Infinity)?Math.abs(Vt)===Math.abs(vt):Math.abs(Vt-vt)<Math.pow(Number.EPSILON,.5)};function ot(Vt,vt){var R=Math.max(Vt.minX,vt.minX),J=Math.max(Vt.minY,vt.minY),lt=Math.min(Vt.maxX,vt.maxX),St=Math.min(Vt.maxY,vt.maxY);return tt(R,J,lt-R,St-J)}function pt(Vt,vt){var R=Math.min(Vt.minX,vt.minX),J=Math.min(Vt.minY,vt.minY),lt=Math.max(Vt.maxX,vt.maxX),St=Math.max(Vt.maxY,vt.maxY);return tt(R,J,lt-R,St-J)}function it(Vt){var vt=Vt.getClip(),R=vt&&vt.getBBox(),J;if(!Vt.isGroup())J=Vt.getBBox();else{var lt=Infinity,St=-Infinity,Bt=Infinity,Xt=-Infinity,ee=Vt.getChildren();ee.length>0?(0,g.each)(ee,function(ie){if(ie.get("visible")){if(ie.isGroup()&&ie.get("children").length===0)return!0;var pe=it(ie),we=ie.applyToMatrix([pe.minX,pe.minY,1]),Re=ie.applyToMatrix([pe.minX,pe.maxY,1]),Ve=ie.applyToMatrix([pe.maxX,pe.minY,1]),sr=ie.applyToMatrix([pe.maxX,pe.maxY,1]),Ar=Math.min(we[0],Re[0],Ve[0],sr[0]),mr=Math.max(we[0],Re[0],Ve[0],sr[0]),Zr=Math.min(we[1],Re[1],Ve[1],sr[1]),Jr=Math.max(we[1],Re[1],Ve[1],sr[1]);Ar<lt&&(lt=Ar),mr>St&&(St=mr),Zr<Bt&&(Bt=Zr),Jr>Xt&&(Xt=Jr)}}):(lt=0,St=0,Bt=0,Xt=0),J=tt(lt,Bt,St-lt,Xt-Bt)}return R?ot(J,R):J}function xt(Vt,vt){if(!(!Vt.getClip()&&!vt.getClip())){var R=vt.getClip();if(!R){Vt.setClip(null);return}var J={type:R.get("type"),attrs:R.attr()};Vt.setClip(J)}}function gt(Vt){return Vt+"px"}function wt(Vt,vt,R,J){var lt=V(Vt,vt),St=J/lt,Bt=0;return R==="start"?Bt=0-St:R==="end"&&(Bt=1+St),{x:Q(Vt.x,vt.x,Bt),y:Q(Vt.y,vt.y,Bt)}}var Dt=d(39014),Nt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Ot=function(Vt){(0,x.__extends)(vt,Vt);function vt(R){var J=Vt.call(this,R)||this;return J.initCfg(),J}return vt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},vt.prototype.clear=function(){},vt.prototype.update=function(R){var J=this,lt=this.get("defaultCfg");(0,g.each)(R,function(St,Bt){var Xt=J.get(Bt),ee=St;Xt!==St&&((0,g.isObject)(St)&&lt[Bt]&&(ee=(0,g.deepMix)({},lt[Bt],St)),J.set(Bt,ee))}),this.updateInner(R),this.afterUpdate(R)},vt.prototype.updateInner=function(R){},vt.prototype.afterUpdate=function(R){(0,g.hasKey)(R,"visible")&&(R.visible?this.show():this.hide()),(0,g.hasKey)(R,"capture")&&this.setCapture(R.capture)},vt.prototype.getLayoutBBox=function(){return this.getBBox()},vt.prototype.getLocationType=function(){return this.get("locationType")},vt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},vt.prototype.setOffset=function(R,J){this.update({offsetX:R,offsetY:J})},vt.prototype.setLocation=function(R){var J=(0,x.__assign)({},R);this.update(J)},vt.prototype.getLocation=function(){var R=this,J={},lt=this.get("locationType"),St=Nt[lt];return(0,g.each)(St,function(Bt){J[Bt]=R.get(Bt)}),J},vt.prototype.isList=function(){return!1},vt.prototype.isSlider=function(){return!1},vt.prototype.init=function(){},vt.prototype.initCfg=function(){var R=this,J=this.get("defaultCfg");(0,g.each)(J,function(lt,St){var Bt=R.get(St);if((0,g.isObject)(Bt)){var Xt=(0,g.deepMix)({},lt,Bt);R.set(St,Xt)}})},vt}(Dt.Base),Tt=Ot,at="update_status",st=["visible","tip","delegateObject"],Ct=["container","group","shapesMap","isRegister","isUpdating","destroyed"],nt=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},vt.prototype.remove=function(){this.clear();var R=this.get("group");R.remove()},vt.prototype.clear=function(){var R=this.get("group");R.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},vt.prototype.getChildComponentById=function(R){var J=this.getElementById(R),lt=J&&J.get("component");return lt},vt.prototype.getElementById=function(R){return this.get("shapesMap")[R]},vt.prototype.getElementByLocalId=function(R){var J=this.getElementId(R);return this.getElementById(J)},vt.prototype.getElementsByName=function(R){var J=[];return(0,g.each)(this.get("shapesMap"),function(lt){lt.get("name")===R&&J.push(lt)}),J},vt.prototype.getContainer=function(){return this.get("container")},vt.prototype.updateInner=function(R){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},vt.prototype.render=function(){var R=this.get("offScreenGroup");R||(R=this.offScreenRender());var J=this.get("group");this.updateElements(R,J),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},vt.prototype.show=function(){var R=this.get("group");R.show(),this.set("visible",!0)},vt.prototype.hide=function(){var R=this.get("group");R.hide(),this.set("visible",!1)},vt.prototype.setCapture=function(R){var J=this.get("group");J.set("capture",R),this.set("capture",R)},vt.prototype.destroy=function(){this.removeEvent(),this.remove(),Vt.prototype.destroy.call(this)},vt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},vt.prototype.getLayoutBBox=function(){var R=this.get("group"),J=this.getInnerLayoutBBox(),lt=R.getTotalMatrix();return lt&&(J=q(lt,J)),J},vt.prototype.on=function(R,J,lt){var St=this.get("group");return St.on(R,J,lt),this},vt.prototype.off=function(R,J){var lt=this.get("group");return lt&&lt.off(R,J),this},vt.prototype.emit=function(R,J){var lt=this.get("group");lt.emit(R,J)},vt.prototype.init=function(){Vt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},vt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},vt.prototype.delegateEmit=function(R,J){var lt=this.get("group");J.target=lt,lt.emit(R,J),L(lt,R,J)},vt.prototype.createOffScreenGroup=function(){var R=this.get("group"),J=R.getGroupBase(),lt=new J({delegateObject:this.getDelegateObject()});return lt},vt.prototype.applyOffset=function(){var R=this.get("offsetX"),J=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R,y:J})},vt.prototype.initGroup=function(){var R=this.get("container");this.set("group",R.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},vt.prototype.offScreenRender=function(){this.clearOffScreenCache();var R=this.createOffScreenGroup();return this.renderInner(R),this.set("offScreenGroup",R),this.set("offScreenBBox",it(R)),R},vt.prototype.addGroup=function(R,J){this.appendDelegateObject(R,J);var lt=R.addGroup(J);return this.get("isRegister")&&this.registerElement(lt),lt},vt.prototype.addShape=function(R,J){this.appendDelegateObject(R,J);var lt=R.addShape(J);return this.get("isRegister")&&this.registerElement(lt),lt},vt.prototype.addComponent=function(R,J){var lt=J.id,St=J.component,Bt=(0,x.__rest)(J,["id","component"]),Xt=new St((0,x.__assign)((0,x.__assign)({},Bt),{id:lt,container:R,updateAutoRender:this.get("updateAutoRender")}));return Xt.init(),Xt.render(),this.get("isRegister")&&this.registerElement(Xt.get("group")),Xt},vt.prototype.initEvent=function(){},vt.prototype.removeEvent=function(){var R=this.get("group");R.off()},vt.prototype.getElementId=function(R){var J=this.get("id"),lt=this.get("name");return J+"-"+lt+"-"+R},vt.prototype.registerElement=function(R){var J=R.get("id");this.get("shapesMap")[J]=R},vt.prototype.unregisterElement=function(R){var J=R.get("id");delete this.get("shapesMap")[J]},vt.prototype.moveElementTo=function(R,J){var lt=z(J);R.attr("matrix",lt)},vt.prototype.addAnimation=function(R,J,lt){var St=J.attr("opacity");(0,g.isNil)(St)&&(St=1),J.attr("opacity",0),J.animate({opacity:St},lt)},vt.prototype.removeAnimation=function(R,J,lt){J.animate({opacity:0},lt)},vt.prototype.updateAnimation=function(R,J,lt,St){J.animate(lt,St)},vt.prototype.updateElements=function(R,J){var lt=this,St=this.get("animate"),Bt=this.get("animateOption"),Xt=R.getChildren().slice(0),ee;(0,g.each)(Xt,function(ie){var pe=ie.get("id"),we=lt.getElementById(pe),Re=ie.get("name");if(we)if(ie.get("isComponent")){var Ve=ie.get("component"),sr=we.get("component"),Ar=(0,g.pick)(Ve.cfg,(0,g.difference)((0,g.keys)(Ve.cfg),Ct));sr.update(Ar),we.set(at,"update")}else{var mr=lt.getReplaceAttrs(we,ie);St&&Bt.update?lt.updateAnimation(Re,we,mr,Bt.update):we.attr(mr),ie.isGroup()&&lt.updateElements(ie,we),(0,g.each)(st,function(It){we.set(It,ie.get(It))}),xt(we,ie),ee=we,we.set(at,"update")}else{J.add(ie);var Zr=J.getChildren();if(Zr.splice(Zr.length-1,1),ee){var Jr=Zr.indexOf(ee);Zr.splice(Jr+1,0,ie)}else Zr.unshift(ie);if(lt.registerElement(ie),ie.set(at,"add"),ie.get("isComponent")){var Ve=ie.get("component");Ve.set("container",J)}else ie.isGroup()&&lt.registerNewGroup(ie);if(ee=ie,St){var $r=lt.get("isInit")?Bt.appear:Bt.enter;$r&&lt.addAnimation(Re,ie,$r)}}})},vt.prototype.clearUpdateStatus=function(R){var J=R.getChildren();(0,g.each)(J,function(lt){lt.set(at,null)})},vt.prototype.clearOffScreenCache=function(){var R=this.get("offScreenGroup");R&&R.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},vt.prototype.getDelegateObject=function(){var R,J=this.get("name"),lt=(R={},R[J]=this,R.component=this,R);return lt},vt.prototype.appendDelegateObject=function(R,J){var lt=R.get("delegateObject");J.delegateObject||(J.delegateObject={}),(0,g.mix)(J.delegateObject,lt)},vt.prototype.getReplaceAttrs=function(R,J){var lt=R.attr(),St=J.attr();return(0,g.each)(lt,function(Bt,Xt){St[Xt]===void 0&&(St[Xt]=void 0)}),St},vt.prototype.registerNewGroup=function(R){var J=this,lt=R.getChildren();(0,g.each)(lt,function(St){J.registerElement(St),St.set(at,"add"),St.isGroup()&&J.registerNewGroup(St)})},vt.prototype.deleteElements=function(){var R=this,J=this.get("shapesMap"),lt=[];(0,g.each)(J,function(Xt,ee){!Xt.get(at)||Xt.destroyed?lt.push([ee,Xt]):Xt.set(at,null)});var St=this.get("animate"),Bt=this.get("animateOption");(0,g.each)(lt,function(Xt){var ee=Xt[0],ie=Xt[1];if(!ie.destroyed){var pe=ie.get("name");if(St&&Bt.leave){var we=(0,g.mix)({callback:function(){R.removeElement(ie)}},Bt.leave);R.removeAnimation(pe,ie,we)}else R.removeElement(ie)}delete J[ee]})},vt.prototype.removeElement=function(R){if(R.get("isGroup")){var J=R.get("component");J&&J.destroy()}R.remove()},vt}(Tt),rt=nt,mt="\u2026";function Pt(Vt){for(var vt=0,R=0;R<Vt.length;R++)vt+=Yt(Vt,R);return vt}function Yt(Vt,vt){return Vt.charCodeAt(vt)>0&&Vt.charCodeAt(vt)<128?1:2}function Jt(Vt,vt,R){R===void 0&&(R="tail");var J=Vt.length,lt="";if(R==="tail"){for(var St=0,Bt=0;St<vt;){var Xt=Yt(Vt,Bt);if(St+Xt<=vt)lt+=Vt[Bt],St+=Yt(Vt,Bt),Bt++;else break}lt+=mt}else if(R==="head"){for(var St=0,Bt=J-1;St<vt;){var Xt=Yt(Vt,Bt);if(St+Xt<=vt)lt+=Vt[Bt],St+=Yt(Vt,Bt),Bt--;else break}lt=mt+lt}else{for(var ee="",ie="",St=0,pe=0,we=J-1;St<vt;){var Re=Yt(Vt,pe),Ve=!1;Re+St<=vt&&(ee+=Vt[pe],pe++,St+=Re,Ve=!0);var sr=Yt(Vt,we);if(sr+St<=vt&&(ie=Vt[we]+ie,St+=sr,we--,Ve=!0),!Ve)break}lt=ee+mt+ie}return lt}var de="\u2026",Ce=2;function ye(Vt){var vt=0;return(0,g.each)(Vt,function(R){var J=R.getBBox(),lt=J.width;vt<lt&&(vt=lt)}),vt}function Se(Vt,vt){var R=vt.getCanvasBBox();return Vt?R.width:R.height}function Fe(Vt,vt){return Vt.getBBox().width<vt}function Ze(Vt,vt,R,J){J===void 0&&(J="tail");var lt=vt.attr("text"),St=Se(Vt,vt),Bt=Pt(lt),Xt=!1;if(R<St){var ee=Math.floor(R/St*Bt)-Ce,ie=void 0;ee>=0?ie=Jt(lt,ee,J):ie=de,ie&&(vt.attr("text",ie),Xt=!0)}return Xt?vt.set("tip",lt):vt.set("tip",null),Xt}function er(Vt,vt){var R=vt.x,J=vt.y,lt=vt.content,St=vt.style,Bt=vt.id,Xt=vt.name,ee=vt.rotate,ie=vt.maxLength,pe=vt.autoEllipsis,we=vt.isVertical,Re=vt.ellipsisPosition,Ve=vt.background,sr=Vt.addGroup({id:Bt+"-group",name:Xt+"-group",attrs:{x:R,y:J}}),Ar=sr.addShape({type:"text",id:Bt,name:Xt,attrs:(0,x.__assign)({x:0,y:0,text:lt},St)}),mr=Mt((0,g.get)(Ve,"padding",0));if(ie&&pe){var Zr=ie-(mr[1]+mr[3]);Ze(!we,Ar,Zr,Re)}if(Ve){var Jr=(0,g.get)(Ve,"style",{}),$r=Ar.getCanvasBBox(),It=$r.minX,te=$r.minY,le=$r.width,me=$r.height,ke=sr.addShape("rect",{id:Bt+"-bg",name:Bt+"-bg",attrs:(0,x.__assign)({x:It-mr[3],y:te-mr[0],width:le+mr[1]+mr[3],height:me+mr[0]+mr[2]},Jr)});ke.toBack()}ct(sr,R,J),dt(sr,ee,R,J)}var qe={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},Pr=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:qe.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:qe.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:qe.lineColor,lineWidth:1}}}})},vt.prototype.renderInner=function(R){this.renderLine(R),this.get("text")&&this.renderLabel(R)},vt.prototype.renderLine=function(R){var J=this.get("start"),lt=this.get("end"),St=this.get("style");this.addShape(R,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,x.__assign)({x1:J.x,y1:J.y,x2:lt.x,y2:lt.y},St)})},vt.prototype.getLabelPoint=function(R,J,lt){var St;return lt==="start"?St=0:lt==="center"?St=.5:(0,g.isString)(lt)&&lt.indexOf("%")!==-1?St=parseInt(lt,10)/100:(0,g.isNumber)(lt)?St=lt:St=1,(St>1||St<0)&&(St=1),{x:Q(R.x,J.x,St),y:Q(R.y,J.y,St)}},vt.prototype.renderLabel=function(R){var J=this.get("text"),lt=this.get("start"),St=this.get("end"),Bt=J.position,Xt=J.content,ee=J.style,ie=J.offsetX,pe=J.offsetY,we=J.autoRotate,Re=J.maxLength,Ve=J.autoEllipsis,sr=J.ellipsisPosition,Ar=J.background,mr=J.isVertical,Zr=mr===void 0?!1:mr,Jr=this.getLabelPoint(lt,St,Bt),$r=Jr.x+ie,It=Jr.y+pe,te={id:this.getElementId("line-text"),name:"annotation-line-text",x:$r,y:It,content:Xt,style:ee,maxLength:Re,autoEllipsis:Ve,ellipsisPosition:sr,background:Ar,isVertical:Zr};if(we){var le=[St.x-lt.x,St.y-lt.y];te.rotate=Math.atan2(le[1],le[0])}er(R,te)},vt}(rt),rn=Pr,Or=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:qe.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:qe.fontFamily}}})},vt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetLocation()},vt.prototype.renderInner=function(R){var J=this.getLocation(),lt=J.x,St=J.y,Bt=this.get("content"),Xt=this.get("style"),ee=this.getElementId("text"),ie=this.get("name")+"-text",pe=this.get("maxLength"),we=this.get("autoEllipsis"),Re=this.get("isVertical"),Ve=this.get("ellipsisPosition"),sr=this.get("background"),Ar=this.get("rotate"),mr={id:ee,name:ie,x:lt,y:St,content:Bt,style:Xt,maxLength:pe,autoEllipsis:we,isVertical:Re,ellipsisPosition:Ve,background:sr,rotate:Ar};er(R,mr)},vt.prototype.resetLocation=function(){var R=this.getElementByLocalId("text-group");if(R){var J=this.getLocation(),lt=J.x,St=J.y,Bt=this.get("rotate");ct(R,lt,St),dt(R,Bt,lt,St)}},vt}(rt),Wr=Or,Zn=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},vt.prototype.renderInner=function(R){this.renderArc(R)},vt.prototype.getArcPath=function(){var R=this.getLocation(),J=R.center,lt=R.radius,St=R.startAngle,Bt=R.endAngle,Xt=K(J,lt,St),ee=K(J,lt,Bt),ie=Bt-St>Math.PI?1:0,pe=[["M",Xt.x,Xt.y]];if(Bt-St==Math.PI*2){var we=K(J,lt,St+Math.PI);pe.push(["A",lt,lt,0,ie,1,we.x,we.y]),pe.push(["A",lt,lt,0,ie,1,ee.x,ee.y])}else pe.push(["A",lt,lt,0,ie,1,ee.x,ee.y]);return pe},vt.prototype.renderArc=function(R){var J=this.getArcPath(),lt=this.get("style");this.addShape(R,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,x.__assign)({path:J},lt)})},vt}(rt),ei=Zn,mi=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:qe.regionColor,opacity:.4}}})},vt.prototype.renderInner=function(R){this.renderRegion(R)},vt.prototype.renderRegion=function(R){var J=this.get("start"),lt=this.get("end"),St=this.get("style"),Bt=X({start:J,end:lt});this.addShape(R,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.__assign)({x:Bt.x,y:Bt.y,width:Bt.width,height:Bt.height},St)})},vt}(rt),xi=mi,Ht=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},vt.prototype.renderInner=function(R){this.renderImage(R)},vt.prototype.getImageAttrs=function(){var R=this.get("start"),J=this.get("end"),lt=this.get("style"),St=X({start:R,end:J}),Bt=this.get("src");return(0,x.__assign)({x:St.x,y:St.y,img:Bt,width:St.width,height:St.height},lt)},vt.prototype.renderImage=function(R){this.addShape(R,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},vt}(rt),Zt=Ht,ne=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:qe.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:qe.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:qe.fontFamily}}}})},vt.prototype.renderInner=function(R){(0,g.get)(this.get("line"),"display")&&this.renderLine(R),(0,g.get)(this.get("text"),"display")&&this.renderText(R),(0,g.get)(this.get("point"),"display")&&this.renderPoint(R),this.get("autoAdjust")&&this.autoAdjust(R)},vt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},vt.prototype.renderPoint=function(R){var J=this.getShapeAttrs().point;this.addShape(R,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:J})},vt.prototype.renderLine=function(R){var J=this.getShapeAttrs().line;this.addShape(R,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:J})},vt.prototype.renderText=function(R){var J=this.getShapeAttrs().text,lt=J.x,St=J.y,Bt=J.text,Xt=(0,x.__rest)(J,["x","y","text"]),ee=this.get("text"),ie=ee.background,pe=ee.maxLength,we=ee.autoEllipsis,Re=ee.isVertival,Ve=ee.ellipsisPosition,sr={x:lt,y:St,id:this.getElementId("text"),name:"annotation-text",content:Bt,style:Xt,background:ie,maxLength:pe,autoEllipsis:we,isVertival:Re,ellipsisPosition:Ve};er(R,sr)},vt.prototype.autoAdjust=function(R){var J=this.get("direction"),lt=this.get("x"),St=this.get("y"),Bt=(0,g.get)(this.get("line"),"length",0),Xt=this.get("coordinateBBox"),ee=R.getBBox(),ie=ee.minX,pe=ee.maxX,we=ee.minY,Re=ee.maxY,Ve=R.findById(this.getElementId("text-group")),sr=R.findById(this.getElementId("text")),Ar=R.findById(this.getElementId("line"));if(!!Xt){if(Ve){if(lt+ie<=Xt.minX){var mr=Xt.minX-(lt+ie);ct(Ve,Ve.attr("x")+mr,Ve.attr("y"))}if(lt+pe>=Xt.maxX){var mr=lt+pe-Xt.maxX;ct(Ve,Ve.attr("x")-mr,Ve.attr("y"))}}if(J==="upward"&&St+we<=Xt.minY||J!=="upward"&&St+Re>=Xt.maxY){var Zr=void 0,Jr=void 0;J==="upward"&&St+we<=Xt.minY?(Zr="top",Jr=1):(Zr="bottom",Jr=-1),sr.attr("textBaseline",Zr),Ar&&Ar.attr("path",[["M",0,0],["L",0,Bt*Jr]]),ct(Ve,Ve.attr("x"),(Bt+2)*Jr)}}},vt.prototype.getShapeAttrs=function(){var R=(0,g.get)(this.get("line"),"display"),J=(0,g.get)(this.get("point"),"style",{}),lt=(0,g.get)(this.get("line"),"style",{}),St=(0,g.get)(this.get("text"),"style",{}),Bt=this.get("direction"),Xt=R?(0,g.get)(this.get("line"),"length",0):0,ee=Bt==="upward"?-1:1;return{point:(0,x.__assign)({x:0,y:0},J),line:(0,x.__assign)({path:[["M",0,0],["L",0,Xt*ee]]},lt),text:(0,x.__assign)({x:0,y:(Xt+2)*ee,text:(0,g.get)(this.get("text"),"content",""),textBaseline:Bt==="upward"?"bottom":"top"},St)}},vt}(rt),ae=ne,ge=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:qe.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:qe.textColor,fontFamily:qe.fontFamily}}}})},vt.prototype.renderInner=function(R){var J=(0,g.get)(this.get("region"),"style",{}),lt=(0,g.get)(this.get("text"),"style",{}),St=this.get("lineLength")||0,Bt=this.get("points");if(!!Bt.length){var Xt=N(Bt),ee=[];ee.push(["M",Bt[0].x,Xt.minY-St]),Bt.forEach(function(pe){ee.push(["L",pe.x,pe.y])}),ee.push(["L",Bt[Bt.length-1].x,Bt[Bt.length-1].y-St]),this.addShape(R,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.__assign)({path:ee},J)});var ie=(0,x.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Xt.minX+Xt.maxX)/2,y:Xt.minY-St},this.get("text"));er(R,ie)}},vt}(rt),xe=ge,be=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},vt.prototype.renderInner=function(R){var J=this,lt=this.get("start"),St=this.get("end"),Bt=this.addGroup(R,{id:this.getElementId("region-filter"),capture:!1});(0,g.each)(this.get("shapes"),function(ee,ie){var pe=ee.get("type"),we=(0,g.clone)(ee.attr());J.adjustShapeAttrs(we),J.addShape(Bt,{id:J.getElementId("shape-"+pe+"-"+ie),capture:!1,type:pe,attrs:we})});var Xt=X({start:lt,end:St});Bt.setClip({type:"rect",attrs:{x:Xt.minX,y:Xt.minY,width:Xt.width,height:Xt.height}})},vt.prototype.adjustShapeAttrs=function(R){var J=this.get("color");R.fill&&(R.fill=R.fillStyle=J),R.stroke=R.strokeStyle=J},vt}(rt),Te=be;function ve(Vt,vt,R){var J=vt+"Style",lt=null;return(0,g.each)(R,function(St,Bt){Vt[Bt]&&St[J]&&(lt||(lt={}),(0,g.mix)(lt,St[J]))}),lt}var We=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:qe.lineColor}},tickLine:{style:{lineWidth:1,stroke:qe.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:qe.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:qe.textColor,textBaseline:"middle",fontFamily:qe.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:qe.textColor,textBaseline:"middle",fontFamily:qe.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:qe.uncheckedColor}}}}})},vt.prototype.renderInner=function(R){this.get("line")&&this.drawLine(R),this.drawTicks(R),this.get("title")&&this.drawTitle(R)},vt.prototype.isList=function(){return!0},vt.prototype.getItems=function(){return this.get("ticks")},vt.prototype.setItems=function(R){this.update({ticks:R})},vt.prototype.updateItem=function(R,J){(0,g.mix)(R,J),this.clear(),this.render()},vt.prototype.clearItems=function(){var R=this.getElementByLocalId("label-group");R&&R.clear()},vt.prototype.setItemState=function(R,J,lt){R[J]=lt,this.updateTickStates(R)},vt.prototype.hasState=function(R,J){return!!R[J]},vt.prototype.getItemStates=function(R){var J=this.get("tickStates"),lt=[];return(0,g.each)(J,function(St,Bt){R[Bt]&&lt.push(Bt)}),lt},vt.prototype.clearItemsState=function(R){var J=this,lt=this.getItemsByState(R);(0,g.each)(lt,function(St){J.setItemState(St,R,!1)})},vt.prototype.getItemsByState=function(R){var J=this,lt=this.getItems();return(0,g.filter)(lt,function(St){return J.hasState(St,R)})},vt.prototype.getSidePoint=function(R,J){var lt=this,St=lt.getSideVector(J,R);return{x:R.x+St[0],y:R.y+St[1]}},vt.prototype.getTextAnchor=function(R){var J;return(0,g.isNumberEqual)(R[0],0)?J="center":R[0]>0?J="start":R[0]<0&&(J="end"),J},vt.prototype.processOverlap=function(R){},vt.prototype.drawLine=function(R){var J=this.getLinePath(),lt=this.get("line");this.addShape(R,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,g.mix)({path:J},lt.style)})},vt.prototype.getTickLineItems=function(R){var J=this,lt=[],St=this.get("tickLine"),Bt=St.alignTick,Xt=St.length,ee=1,ie=R.length;return ie>=2&&(ee=R[1].value-R[0].value),(0,g.each)(R,function(pe){var we=pe.point;Bt||(we=J.getTickPoint(pe.value-ee/2));var Re=J.getSidePoint(we,Xt);lt.push({startPoint:we,tickValue:pe.value,endPoint:Re,tickId:pe.id,id:"tickline-"+pe.id})}),lt},vt.prototype.getSubTickLineItems=function(R){var J=[],lt=this.get("subTickLine"),St=lt.count,Bt=R.length;if(Bt>=2)for(var Xt=0;Xt<Bt-1;Xt++)for(var ee=R[Xt],ie=R[Xt+1],pe=0;pe<St;pe++){var we=(pe+1)/(St+1),Re=(1-we)*ee.tickValue+we*ie.tickValue,Ve=this.getTickPoint(Re),sr=this.getSidePoint(Ve,lt.length);J.push({startPoint:Ve,endPoint:sr,tickValue:Re,id:"sub-"+ee.id+"-"+pe})}return J},vt.prototype.getTickLineAttrs=function(R,J){var lt=this.get(J).style,St=R.startPoint,Bt=R.endPoint,Xt=(0,g.mix)({x1:St.x,y1:St.y,x2:Bt.x,y2:Bt.y},lt);return Xt},vt.prototype.drawTick=function(R,J,lt){this.addShape(J,{type:"line",id:this.getElementId(R.id),name:"axis-"+lt,attrs:this.getTickLineAttrs(R,lt)})},vt.prototype.drawTickLines=function(R){var J=this,lt=this.get("ticks"),St=this.get("subTickLine"),Bt=this.getTickLineItems(lt),Xt=this.addGroup(R,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),ee=this.get("tickLine");if((0,g.each)(Bt,function(pe){if(ee.displayWithLabel){var we=J.getElementId("label-"+pe.tickId);R.findById(we)&&J.drawTick(pe,Xt,"tickLine")}else J.drawTick(pe,Xt,"tickLine")}),St){var ie=this.getSubTickLineItems(Bt);(0,g.each)(ie,function(pe){J.drawTick(pe,Xt,"subTickLine")})}},vt.prototype.processTicks=function(){var R=this,J=this.get("ticks");(0,g.each)(J,function(lt){lt.point=R.getTickPoint(lt.value),(0,g.isNil)(lt.id)&&(lt.id=lt.name)})},vt.prototype.drawTicks=function(R){var J=this;this.processTicks(),this.get("label")&&this.drawLabels(R),this.get("tickLine")&&this.drawTickLines(R);var lt=this.get("ticks");(0,g.each)(lt,function(St){J.applyTickStates(St,R)})},vt.prototype.getLabelAttrs=function(R,J){var lt=this.get("label"),St=lt.offset,Bt=lt.style,Xt=lt.rotate,ee=lt.formatter,ie=this.getSidePoint(R.point,St),pe=this.getSideVector(St,ie),we=ee?ee(R.name,R,J):R.name,Re=(0,g.mix)({x:ie.x,y:ie.y,text:we,textAlign:this.getTextAnchor(pe)},Bt);return Xt&&(Re.matrix=$(ie,Xt)),Re},vt.prototype.drawLabels=function(R){var J=this,lt=this.get("ticks"),St=this.addGroup(R,{name:"axis-label-group",id:this.getElementId("label-group")});(0,g.each)(lt,function(Bt,Xt){J.addShape(St,{type:"text",name:"axis-label",id:J.getElementId("label-"+Bt.id),attrs:J.getLabelAttrs(Bt,Xt),delegateObject:{tick:Bt,item:Bt,index:Xt}})}),this.processOverlap(St)},vt.prototype.getTitleAttrs=function(){var R=this.get("title"),J=R.style,lt=R.position,St=R.offset,Bt=R.spacing,Xt=Bt===void 0?0:Bt,ee=R.autoRotate,ie=J.fontSize,pe=.5;lt==="start"?pe=0:lt==="end"&&(pe=1);var we=this.getTickPoint(pe),Re=this.getSidePoint(we,St||Xt+ie/2),Ve=(0,g.mix)({x:Re.x,y:Re.y,text:R.text},J),sr=R.rotate,Ar=sr;if((0,g.isNil)(sr)&&ee){var mr=this.getAxisVector(we),Zr=[1,0];Ar=k.angleTo(mr,Zr,!0)}if(Ar){var Jr=$(Re,Ar);Ve.matrix=Jr}return Ve},vt.prototype.drawTitle=function(R){this.addShape(R,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},vt.prototype.applyTickStates=function(R,J){var lt=this.getItemStates(R);if(lt.length){var St=this.get("tickStates"),Bt=this.getElementId("label-"+R.id),Xt=J.findById(Bt);if(Xt){var ee=ve(R,"label",St);ee&&Xt.attr(ee)}var ie=this.getElementId("tickline-"+R.id),pe=J.findById(ie);if(pe){var we=ve(R,"tickLine",St);we&&pe.attr(we)}}},vt.prototype.updateTickStates=function(R){var J=this.getItemStates(R),lt=this.get("tickStates"),St=this.get("label"),Bt=this.getElementByLocalId("label-"+R.id),Xt=this.get("tickLine"),ee=this.getElementByLocalId("tickline-"+R.id);if(J.length){if(Bt){var ie=ve(R,"label",lt);ie&&Bt.attr(ie)}if(ee){var pe=ve(R,"tickLine",lt);pe&&ee.attr(pe)}}else Bt&&Bt.attr(St.style),ee&&ee.attr(Xt.style)},vt}(rt),Be=We;function $e(Vt,vt,R,J){var lt=vt.getChildren(),St=!1;return(0,g.each)(lt,function(Bt){var Xt=Ze(Vt,Bt,R,J);St=St||Xt}),St}function rr(){return or}function Je(Vt,vt,R){return $e(Vt,vt,R,"head")}function or(Vt,vt,R){return $e(Vt,vt,R,"tail")}function ir(Vt,vt,R){return $e(Vt,vt,R,"middle")}function cr(Vt){var vt=Vt.attr("matrix");return vt&&vt[0]!==1}function Qe(Vt,vt,R,J,lt){lt===void 0&&(lt=!1);var St=!1;if(Vt)St=Math.abs(R.y-J.y)<R.height;else if(vt){var Bt=lt?J.height:R.height;St=Math.abs(R.x-J.x)<Bt}else{var Xt=lt?J.width:R.width;St=Math.abs(R.x-J.x)<Xt}return St}function gr(Vt,vt,R){var J=vt.getChildren().slice();if(!J.length)return!1;var lt=!1;R&&J.reverse();for(var St=J.length,Bt=J[0],Xt=cr(Bt),ee=Bt.getBBox(),ie=1;ie<St;ie++){var pe=J[ie],we=pe.getBBox(),Re=Qe(Vt,Xt,ee,we,R);Re?(pe.hide(),lt=!0):ee=we}return lt}function Ir(){return Dr}function Er(Vt,vt){return gr(Vt,vt,!1)}function Lr(Vt,vt){return gr(Vt,vt,!0)}function Yr(Vt,vt){var R=vt.getChildren().slice();if(R.length<=2)return!1;for(var J=!1,lt=R.length,St=R[0],Bt=R[lt-1],Xt=cr(St),ee=St.getBBox(),ie=St,pe=1;pe<lt-1;pe++){var we=R[pe],Re=we.getBBox(),Ve=Qe(Vt,Xt,ee,Re);Ve?(we.hide(),J=!0):(ee=Re,ie=we)}var sr=Bt.getBBox(),Ar=Qe(Vt,Xt,ee,sr);return Ar&&(ie.hide(),J=!0),J}function Dr(Vt,vt){var R=vt.getChildren().slice();if(R.length<2)return!1;var J=!1,lt=R[0],St=lt.getBBox(),Bt=R[1],Xt=cr(lt),ee=R.length,ie=0;if(Vt){var pe=Math.abs(Bt.attr("y")-lt.attr("y"));ie=St.height/pe}else if(Xt){var pe=Math.abs(Bt.attr("x")-lt.attr("x"));ie=St.width/pe}else{var we=ye(R),pe=Math.abs(Bt.attr("x")-lt.attr("x"));ie=we/pe}if(ie>1){ie=Math.ceil(ie);for(var Re=0;Re<ee;Re++)Re%ie!=0&&(R[Re].hide(),J=!0)}return J}function Cn(Vt,vt){(0,g.each)(Vt,function(R){var J=R.attr("x"),lt=R.attr("y"),St=$({x:J,y:lt},vt);R.attr("matrix",St)})}function Qr(Vt,vt,R,J){var lt=vt.getChildren();if(!lt.length||!Vt&&lt.length<2)return!1;var St=ye(lt),Bt=!1;if(Vt)Bt=!!R&&St>R;else{var Xt=Math.abs(lt[1].attr("x")-lt[0].attr("x"));Bt=St>Xt}if(Bt){var ee=J(R,St);Cn(lt,ee)}return Bt}function Rn(){return si}function si(Vt,vt,R){return Qr(Vt,vt,R,function(){return Vt?qe.verticalAxisRotate:qe.horizontalAxisRotate})}function Kn(Vt,vt,R){return Qr(Vt,vt,R,function(J,lt){if(!J)return Vt?qe.verticalAxisRotate:qe.horizontalAxisRotate;if(Vt)return-Math.acos(J/lt);var St=0;return J>lt?St=Math.PI/4:(St=Math.asin(J/lt),St>Math.PI/4&&(St=Math.PI/4)),St})}var Ri=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{type:"line",locationType:"region",start:null,end:null})},vt.prototype.getLinePath=function(){var R=this.get("start"),J=this.get("end"),lt=[];return lt.push(["M",R.x,R.y]),lt.push(["L",J.x,J.y]),lt},vt.prototype.getInnerLayoutBBox=function(){var R=this.get("start"),J=this.get("end"),lt=Vt.prototype.getInnerLayoutBBox.call(this),St=Math.min(R.x,J.x,lt.x),Bt=Math.min(R.y,J.y,lt.y),Xt=Math.max(R.x,J.x,lt.maxX),ee=Math.max(R.y,J.y,lt.maxY);return{x:St,y:Bt,minX:St,minY:Bt,maxX:Xt,maxY:ee,width:Xt-St,height:ee-Bt}},vt.prototype.isVertical=function(){var R=this.get("start"),J=this.get("end");return(0,g.isNumberEqual)(R.x,J.x)},vt.prototype.isHorizontal=function(){var R=this.get("start"),J=this.get("end");return(0,g.isNumberEqual)(R.y,J.y)},vt.prototype.getTickPoint=function(R){var J=this,lt=J.get("start"),St=J.get("end"),Bt=St.x-lt.x,Xt=St.y-lt.y;return{x:lt.x+Bt*R,y:lt.y+Xt*R}},vt.prototype.getSideVector=function(R){var J=this.getAxisVector(),lt=F.normalize([0,0],J),St=this.get("verticalFactor"),Bt=[lt[1],lt[0]*-1];return F.scale([0,0],Bt,R*St)},vt.prototype.getAxisVector=function(){var R=this.get("start"),J=this.get("end");return[J.x-R.x,J.y-R.y]},vt.prototype.processOverlap=function(R){var J=this,lt=this.isVertical(),St=this.isHorizontal();if(!(!lt&&!St)){var Bt=this.get("label"),Xt=this.get("title"),ee=this.get("verticalLimitLength"),ie=Bt.offset,pe=ee,we=0,Re=0;Xt&&(we=Xt.style.fontSize,Re=Xt.spacing),pe&&(pe=pe-ie-Re-we);var Ve=this.get("overlapOrder");if((0,g.each)(Ve,function(mr){Bt[mr]&&J.autoProcessOverlap(mr,Bt[mr],R,pe)}),Xt){var sr=R.getBBox(),Ar=lt?sr.width:sr.height;(0,g.isNil)(Xt.offset)&&(Xt.offset=ie+Ar+Re+we/2)}}},vt.prototype.autoProcessOverlap=function(R,J,lt,St){var Bt=this,Xt=this.isVertical(),ee=!1,ie=P[R];if(J===!0?ee=ie.getDefault()(Xt,lt,St):(0,g.isFunction)(J)?ee=J(Xt,lt,St):ie[J]&&(ee=ie[J](Xt,lt,St)),R==="autoRotate"){if(ee){var pe=lt.getChildren(),we=this.get("verticalFactor");(0,g.each)(pe,function(Ve){var sr=Ve.attr("textAlign");if(sr==="center"){var Ar=we>0?"end":"start";Ve.attr("textAlign",Ar)}})}}else if(R==="autoHide"){var Re=lt.getChildren().slice(0);(0,g.each)(Re,function(Ve){Ve.get("visible")||(Bt.get("isRegister")&&Bt.unregisterElement(Ve),Ve.remove())})}},vt}(Be),bi=Ri,Cr=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},vt.prototype.getLinePath=function(){var R=this.get("center"),J=R.x,lt=R.y,St=this.get("radius"),Bt=St,Xt=this.get("startAngle"),ee=this.get("endAngle"),ie=[];if(Math.abs(ee-Xt)===Math.PI*2)ie=[["M",J,lt-Bt],["A",St,Bt,0,1,1,J,lt+Bt],["A",St,Bt,0,1,1,J,lt-Bt],["Z"]];else{var pe=this.getCirclePoint(Xt),we=this.getCirclePoint(ee),Re=Math.abs(ee-Xt)>Math.PI?1:0,Ve=Xt>ee?0:1;ie=[["M",J,lt],["L",pe.x,pe.y],["A",St,Bt,0,Re,Ve,we.x,we.y],["L",J,lt]]}return ie},vt.prototype.getTickPoint=function(R){var J=this.get("startAngle"),lt=this.get("endAngle"),St=J+(lt-J)*R;return this.getCirclePoint(St)},vt.prototype.getSideVector=function(R,J){var lt=this.get("center"),St=[J.x-lt.x,J.y-lt.y],Bt=this.get("verticalFactor"),Xt=F.length(St);return F.scale(St,St,Bt*R/Xt),St},vt.prototype.getAxisVector=function(R){var J=this.get("center"),lt=[R.x-J.x,R.y-J.y];return[lt[1],-1*lt[0]]},vt.prototype.getCirclePoint=function(R,J){var lt=this.get("center");return J=J||this.get("radius"),{x:lt.x+Math.cos(R)*J,y:lt.y+Math.sin(R)*J}},vt}(Be),ri=Cr,li=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:qe.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:qe.textColor,textAlign:"center",textBaseline:"middle",fontFamily:qe.fontFamily}},textBackground:{padding:5,style:{stroke:qe.lineColor}}}})},vt.prototype.renderInner=function(R){this.get("line")&&this.renderLine(R),this.get("text")&&(this.renderText(R),this.renderBackground(R))},vt.prototype.renderText=function(R){var J=this.get("text"),lt=J.style,St=J.autoRotate,Bt=J.content;if(!(0,g.isNil)(Bt)){var Xt=this.getTextPoint(),ee=null;if(St){var ie=this.getRotateAngle();ee=$(Xt,ie)}this.addShape(R,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,x.__assign)((0,x.__assign)((0,x.__assign)({},Xt),{text:Bt,matrix:ee}),lt)})}},vt.prototype.renderLine=function(R){var J=this.getLinePath(),lt=this.get("line"),St=lt.style;this.addShape(R,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,x.__assign)({path:J},St)})},vt.prototype.renderBackground=function(R){var J=this.getElementId("text"),lt=R.findById(J),St=this.get("textBackground");if(St&&lt){var Bt=lt.getBBox(),Xt=Mt(St.padding),ee=St.style,ie=this.addShape(R,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,x.__assign)({x:Bt.x-Xt[3],y:Bt.y-Xt[0],width:Bt.width+Xt[1]+Xt[3],height:Bt.height+Xt[0]+Xt[2],matrix:lt.attr("matrix")},ee)});ie.toBack()}},vt}(rt),ui=li,pn=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{type:"line",locationType:"region",start:null,end:null})},vt.prototype.getRotateAngle=function(){var R=this.getLocation(),J=R.start,lt=R.end,St=this.get("text").position,Bt=Math.atan2(lt.y-J.y,lt.x-J.x),Xt=St==="start"?Bt-Math.PI/2:Bt+Math.PI/2;return Xt},vt.prototype.getTextPoint=function(){var R=this.getLocation(),J=R.start,lt=R.end,St=this.get("text"),Bt=St.position,Xt=St.offset;return wt(J,lt,Bt,Xt)},vt.prototype.getLinePath=function(){var R=this.getLocation(),J=R.start,lt=R.end;return[["M",J.x,J.y],["L",lt.x,lt.y]]},vt}(ui),fi=pn,Hi=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},vt.prototype.getRotateAngle=function(){var R=this.getLocation(),J=R.startAngle,lt=R.endAngle,St=this.get("text").position,Bt=St==="start"?J+Math.PI/2:lt-Math.PI/2;return Bt},vt.prototype.getTextPoint=function(){var R=this.get("text"),J=R.position,lt=R.offset,St=this.getLocation(),Bt=St.center,Xt=St.radius,ee=St.startAngle,ie=St.endAngle,pe=J==="start"?ee:ie,we=this.getRotateAngle()-Math.PI,Re=K(Bt,Xt,pe),Ve=Math.cos(we)*lt,sr=Math.sin(we)*lt;return{x:Re.x+Ve,y:Re.y+sr}},vt.prototype.getLinePath=function(){var R=this.getLocation(),J=R.center,lt=R.radius,St=R.startAngle,Bt=R.endAngle,Xt=null;if(Bt-St==Math.PI*2){var ee=J.x,ie=J.y;Xt=[["M",ee,ie-lt],["A",lt,lt,0,1,1,ee,ie+lt],["A",lt,lt,0,1,1,ee,ie-lt],["Z"]]}else{var pe=K(J,lt,St),we=K(J,lt,Bt),Re=Math.abs(Bt-St)>Math.PI?1:0,Ve=St>Bt?0:1;Xt=[["M",pe.x,pe.y],["A",lt,lt,0,Re,Ve,we.x,we.y]]}return Xt},vt}(ui),Ni=Hi,Yi=d(6056),Wn=d(45442),ta=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},vt.prototype.getContainer=function(){return this.get("container")},vt.prototype.show=function(){var R=this.get("container");R.style.display="",this.set("visible",!0)},vt.prototype.hide=function(){var R=this.get("container");R.style.display="none",this.set("visible",!1)},vt.prototype.setCapture=function(R){var J=this.getContainer(),lt=R?"auto":"none";J.style.pointerEvents=lt,this.set("capture",R)},vt.prototype.getBBox=function(){var R=this.getContainer(),J=parseFloat(R.style.left)||0,lt=parseFloat(R.style.top)||0;return tt(J,lt,R.clientWidth,R.clientHeight)},vt.prototype.clear=function(){var R=this.get("container");D(R)},vt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Vt.prototype.destroy.call(this)},vt.prototype.init=function(){Vt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},vt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},vt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},vt.prototype.initDom=function(){},vt.prototype.initContainer=function(){var R=this.get("container");if((0,g.isNil)(R)){R=this.createDom();var J=this.get("parent");(0,g.isString)(J)&&(J=document.getElementById(J),this.set("parent",J)),J.appendChild(R),this.set("container",R)}else(0,g.isString)(R)&&(R=document.getElementById(R),this.set("container",R));this.get("parent")||this.set("parent",R.parentNode)},vt.prototype.resetStyles=function(){var R=this.get("domStyles"),J=this.get("defaultStyles");R?R=(0,g.deepMix)({},J,R):R=J,this.set("domStyles",R)},vt.prototype.applyStyles=function(){var R=this.get("domStyles");if(!!R){var J=this.getContainer();this.applyChildrenStyles(J,R);var lt=this.get("containerClassName");if(lt&&G(J,lt)){var St=R[lt];(0,Wn.Z)(J,St)}}},vt.prototype.applyChildrenStyles=function(R,J){(0,g.each)(J,function(lt,St){var Bt=R.getElementsByClassName(St);(0,g.each)(Bt,function(Xt){(0,Wn.Z)(Xt,lt)})})},vt.prototype.applyStyle=function(R,J){var lt=this.get("domStyles");(0,Wn.Z)(J,lt[R])},vt.prototype.createDom=function(){var R=this.get("containerTpl");return(0,Yi.Z)(R)},vt.prototype.initEvent=function(){},vt.prototype.removeDom=function(){var R=this.get("container");R&&R.parentNode.removeChild(R)},vt.prototype.removeEvent=function(){},vt.prototype.updateInner=function(R){(0,g.hasKey)(R,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},vt.prototype.resetPosition=function(){},vt}(Tt),va=ta,kt="g2-crosshair",At=kt+"-line",ft=kt+"-text",yt,Rt=(yt={},yt[""+kt]={position:"relative"},yt[""+At]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},yt[""+ft]={position:"absolute",color:qe.textColor,fontFamily:qe.fontFamily},yt),Kt=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+kt+'"></div>',crosshairTpl:'<div class="'+At+'"></div>',textTpl:'<span class="'+ft+'">{content}</span>',domStyles:null,containerClassName:kt,defaultStyles:Rt,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},vt.prototype.render=function(){this.resetText(),this.resetPosition()},vt.prototype.initCrossHair=function(){var R=this.getContainer(),J=this.get("crosshairTpl"),lt=(0,Yi.Z)(J);R.appendChild(lt),this.applyStyle(At,lt),this.set("crosshairEl",lt)},vt.prototype.getTextPoint=function(){var R=this.getLocation(),J=R.start,lt=R.end,St=this.get("text"),Bt=St.position,Xt=St.offset;return wt(J,lt,Bt,Xt)},vt.prototype.resetText=function(){var R=this.get("text"),J=this.get("textEl");if(R){var lt=R.content;if(!J){var St=this.getContainer(),Bt=(0,g.substitute)(this.get("textTpl"),R);J=(0,Yi.Z)(Bt),St.appendChild(J),this.applyStyle(ft,J),this.set("textEl",J)}J.innerHTML=lt}else J&&J.remove()},vt.prototype.isVertical=function(R,J){return R.x===J.x},vt.prototype.resetPosition=function(){var R=this.get("crosshairEl");R||(this.initCrossHair(),R=this.get("crosshairEl"));var J=this.get("start"),lt=this.get("end"),St=Math.min(J.x,lt.x),Bt=Math.min(J.y,lt.y);this.isVertical(J,lt)?(0,Wn.Z)(R,{width:"1px",height:gt(Math.abs(lt.y-J.y))}):(0,Wn.Z)(R,{height:"1px",width:gt(Math.abs(lt.x-J.x))}),(0,Wn.Z)(R,{top:gt(Bt),left:gt(St)}),this.alignText()},vt.prototype.alignText=function(){var R=this.get("textEl");if(R){var J=this.get("text").align,lt=R.clientWidth,St=this.getTextPoint();switch(J){case"center":St.x=St.x-lt/2;break;case"right":St.x=St.x-lt;case"left":break}(0,Wn.Z)(R,{top:gt(St.y),left:gt(St.x)})}},vt.prototype.updateInner=function(R){(0,g.hasKey)(R,"text")&&this.resetText(),Vt.prototype.updateInner.call(this,R)},vt}(va),se=Kt,he=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:qe.lineColor}}}})},vt.prototype.getLineType=function(){var R=this.get("line")||this.get("defaultCfg").line;return R.type},vt.prototype.renderInner=function(R){this.drawGrid(R)},vt.prototype.getAlternatePath=function(R,J){var lt=this.getGridPath(R),St=J.slice(0).reverse(),Bt=this.getGridPath(St,!0),Xt=this.get("closed");return Xt?lt=lt.concat(Bt):(Bt[0][0]="L",lt=lt.concat(Bt),lt.push(["Z"])),lt},vt.prototype.getPathStyle=function(){return this.get("line").style},vt.prototype.drawGrid=function(R){var J=this,lt=this.get("line"),St=this.get("items"),Bt=this.get("alternateColor"),Xt=null;(0,g.each)(St,function(ee,ie){var pe=ee.id||ie;if(lt){var we=J.getPathStyle(),Re=J.getElementId("line-"+pe),Ve=J.getGridPath(ee.points);J.addShape(R,{type:"path",name:"grid-line",id:Re,attrs:(0,g.mix)({path:Ve},we)})}if(Bt&&ie>0){var sr=J.getElementId("region-"+pe),Ar=ie%2==0;if((0,g.isString)(Bt))Ar&&J.drawAlternateRegion(sr,R,Xt.points,ee.points,Bt);else{var mr=Ar?Bt[1]:Bt[0];J.drawAlternateRegion(sr,R,Xt.points,ee.points,mr)}}Xt=ee})},vt.prototype.drawAlternateRegion=function(R,J,lt,St,Bt){var Xt=this.getAlternatePath(lt,St);this.addShape(J,{type:"path",id:R,name:"grid-region",attrs:{path:Xt,fill:Bt}})},vt}(rt),ce=he;function De(Vt,vt,R,J){var lt=R-Vt,St=J-vt;return Math.sqrt(lt*lt+St*St)}var Lt=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{type:"circle",center:null,closed:!0})},vt.prototype.getGridPath=function(R,J){var lt=this.getLineType(),St=this.get("closed"),Bt=[];if(R.length)if(lt==="circle"){var Xt=this.get("center"),ee=R[0],ie=De(Xt.x,Xt.y,ee.x,ee.y),pe=J?0:1;St?(Bt.push(["M",Xt.x,Xt.y-ie]),Bt.push(["A",ie,ie,0,0,pe,Xt.x,Xt.y+ie]),Bt.push(["A",ie,ie,0,0,pe,Xt.x,Xt.y-ie]),Bt.push(["Z"])):(0,g.each)(R,function(we,Re){Re===0?Bt.push(["M",we.x,we.y]):Bt.push(["A",ie,ie,0,0,pe,we.x,we.y])})}else(0,g.each)(R,function(we,Re){Re===0?Bt.push(["M",we.x,we.y]):Bt.push(["L",we.x,we.y])}),St&&Bt.push(["Z"]);return Bt},vt}(ce),_t=Lt,Gt=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{type:"line"})},vt.prototype.getGridPath=function(R){var J=[];return(0,g.each)(R,function(lt,St){St===0?J.push(["M",lt.x,lt.y]):J.push(["L",lt.x,lt.y])}),J},vt}(ce),qt=Gt,Ut=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},vt.prototype.getLayoutBBox=function(){var R=Vt.prototype.getLayoutBBox.call(this),J=this.get("x"),lt=this.get("y"),St=this.get("offsetX"),Bt=this.get("offsetY"),Xt=this.get("maxWidth"),ee=this.get("maxHeight"),ie=J+St,pe=lt+Bt,we=R.maxX-ie,Re=R.maxY-pe;return Xt&&(we=Math.min(we,Xt)),ee&&(Re=Math.min(Re,ee)),tt(ie,pe,we,Re)},vt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetLocation()},vt.prototype.resetLocation=function(){var R=this.get("x"),J=this.get("y"),lt=this.get("offsetX"),St=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R+lt,y:J+St})},vt.prototype.applyOffset=function(){this.resetLocation()},vt.prototype.getDrawPoint=function(){return this.get("currentPoint")},vt.prototype.setDrawPoint=function(R){return this.set("currentPoint",R)},vt.prototype.renderInner=function(R){this.resetDraw(),this.get("title")&&this.drawTitle(R),this.drawLegendContent(R),this.get("background")&&this.drawBackground(R)},vt.prototype.drawBackground=function(R){var J=this.get("background"),lt=R.getBBox(),St=Mt(J.padding),Bt=(0,x.__assign)({x:0,y:0,width:lt.width+St[1]+St[3],height:lt.height+St[0]+St[2]},J.style),Xt=this.addShape(R,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Bt});Xt.toBack()},vt.prototype.drawTitle=function(R){var J=this.get("currentPoint"),lt=this.get("title"),St=lt.spacing,Bt=lt.style,Xt=lt.text,ee=this.addShape(R,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,x.__assign)({text:Xt,x:J.x,y:J.y},Bt)}),ie=ee.getBBox();this.set("currentPoint",{x:J.x,y:ie.maxY+St})},vt.prototype.resetDraw=function(){var R=this.get("background"),J={x:0,y:0};if(R){var lt=Mt(R.padding);J.x=lt[3],J.y=lt[0]}this.set("currentPoint",J)},vt}(rt),fe=Ut,Me=function(Vt){(0,x.__extends)(vt,Vt);function vt(){var R=Vt!==null&&Vt.apply(this,arguments)||this;return R.currentPageIndex=1,R.totalPagesCnt=1,R.pageWidth=0,R.pageHeight=0,R.startX=0,R.startY=0,R.onNavigationBack=function(){var J=R.getElementByLocalId("item-group");if(R.currentPageIndex>1){R.currentPageIndex-=1,R.updateNavigation();var lt=R.getCurrentNavigationMatrix();R.get("animate")?J.animate({matrix:lt},100):J.attr({matrix:lt})}},R.onNavigationAfter=function(){var J=R.getElementByLocalId("item-group");if(R.currentPageIndex<R.totalPagesCnt){R.currentPageIndex+=1,R.updateNavigation();var lt=R.getCurrentNavigationMatrix();R.get("animate")?J.animate({matrix:lt},100):J.attr({matrix:lt})}},R}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:qe.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:qe.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:qe.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:qe.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:qe.uncheckedColor},markerStyle:{fill:qe.uncheckedColor,stroke:qe.uncheckedColor}},inactive:{nameStyle:{fill:qe.uncheckedColor},markerStyle:{opacity:.2}}}}})},vt.prototype.isList=function(){return!0},vt.prototype.getItems=function(){return this.get("items")},vt.prototype.setItems=function(R){this.update({items:R})},vt.prototype.updateItem=function(R,J){(0,g.mix)(R,J),this.clear(),this.render()},vt.prototype.clearItems=function(){var R=this.getElementByLocalId("item-group");R&&R.clear()},vt.prototype.setItemState=function(R,J,lt){R[J]=lt;var St=this.getElementByLocalId("item-"+R.id);if(St){var Bt=this.getItems(),Xt=Bt.indexOf(R),ee=this.createOffScreenGroup(),ie=this.drawItem(R,Xt,this.getItemHeight(),ee);this.updateElements(ie,St),this.clearUpdateStatus(St)}},vt.prototype.hasState=function(R,J){return!!R[J]},vt.prototype.getItemStates=function(R){var J=this.get("itemStates"),lt=[];return(0,g.each)(J,function(St,Bt){R[Bt]&&lt.push(Bt)}),lt},vt.prototype.clearItemsState=function(R){var J=this,lt=this.getItemsByState(R);(0,g.each)(lt,function(St){J.setItemState(St,R,!1)})},vt.prototype.getItemsByState=function(R){var J=this,lt=this.getItems();return(0,g.filter)(lt,function(St){return J.hasState(St,R)})},vt.prototype.drawLegendContent=function(R){this.processItems(),this.drawItems(R)},vt.prototype.processItems=function(){var R=this.get("items");(0,g.each)(R,function(J){J.id||(J.id=J.name)})},vt.prototype.drawItems=function(R){var J=this,lt=this.addGroup(R,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),St=this.addGroup(lt,{id:this.getElementId("item-group"),name:"legend-item-group"}),Bt=this.getItemHeight(),Xt=this.get("itemWidth"),ee=this.get("itemSpacing"),ie=this.get("currentPoint"),pe=ie.x,we=ie.y,Re=this.get("layout"),Ve=this.get("items"),sr=!1,Ar=0,mr=this.get("maxWidth"),Zr=this.get("maxHeight");(0,g.each)(Ve,function(Jr,$r){var It=J.drawItem(Jr,$r,Bt,St),te=It.getBBox(),le=Xt||te.width;le>Ar&&(Ar=le),Re==="horizontal"?(mr&&mr<ie.x+le-pe&&(sr=!0,ie.x=pe,ie.y+=Bt),J.moveElementTo(It,ie),ie.x+=le+ee):(Zr&&Zr<ie.y+Bt-we&&(sr=!0,ie.x+=Ar+ee,ie.y=we,Ar=0),J.moveElementTo(It,ie),ie.y+=Bt)}),sr&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=pe,this.startY=we,this.adjustNavigation(R,St))},vt.prototype.getItemHeight=function(){var R=this.get("itemHeight");if(!R){var J=this.get("itemName");J&&(R=J.style.fontSize+8)}return R},vt.prototype.drawMarker=function(R,J,lt,St){var Bt=(0,x.__assign)((0,x.__assign)((0,x.__assign)({x:0,y:St/2},J.style),{symbol:(0,g.get)(lt.marker,"symbol","circle")}),(0,g.get)(lt.marker,"style",{})),Xt=this.addShape(R,{type:"marker",id:this.getElementId("item-"+lt.id+"-marker"),name:"legend-item-marker",attrs:Bt}),ee=Xt.getBBox();Xt.attr("x",ee.width/2);var ie=Xt.attr(),pe=ie.stroke,we=ie.fill;return pe&&Xt.set("isStroke",!0),we&&Xt.set("isFill",!0),Xt},vt.prototype.drawItemText=function(R,J,lt,St,Bt,Xt,ee){var ie=lt.formatter,pe=(0,x.__assign)({x:Xt,y:Bt/2,text:ie?ie(St[J],St,ee):St[J]},lt.style);return this.addShape(R,{type:"text",id:this.getElementId("item-"+St.id+"-"+J),name:"legend-item-"+J,attrs:pe})},vt.prototype.drawItem=function(R,J,lt,St){var Bt="item-"+R.id,Xt=this.addGroup(St,{name:"legend-item-container",id:this.getElementId("item-container-"+Bt),delegateObject:{item:R,index:J}}),ee=this.addGroup(Xt,{name:"legend-item",id:this.getElementId(Bt),delegateObject:{item:R,index:J}}),ie=this.get("marker"),pe=this.get("itemName"),we=this.get("itemValue"),Re=this.get("itemBackground"),Ve=this.getLimitItemWidth(),sr=0;if(ie){var Ar=this.drawMarker(ee,ie,R,lt);sr=Ar.getBBox().maxX+ie.spacing}if(pe){var mr=this.drawItemText(ee,"name",pe,R,lt,sr,J);Ve&&Ze(!0,mr,(0,g.clamp)(Ve-sr,0,Ve)),sr=mr.getBBox().maxX+pe.spacing}if(we){var Zr=this.drawItemText(ee,"value",we,R,lt,sr,J);Ve&&(we.alignRight?(Zr.attr({textAlign:"right",x:Ve}),Ze(!0,Zr,(0,g.clamp)(Ve-sr,0,Ve),"head")):Ze(!0,Zr,(0,g.clamp)(Ve-sr,0,Ve)))}if(Re){var Jr=ee.getBBox(),$r=this.addShape(ee,{type:"rect",name:"legend-item-background",id:this.getElementId(Bt+"-background"),attrs:(0,x.__assign)({x:0,y:0,width:Jr.width,height:lt},Re.style)});$r.toBack()}return this.applyItemStates(R,ee),ee},vt.prototype.adjustNavigation=function(R,J){var lt=this,St=this.startX,Bt=this.startY,Xt=this.get("layout"),ee=J.findAll(function(le){return le.get("name")==="legend-item"}),ie=this.get("maxWidth"),pe=this.get("maxHeight"),we=this.get("itemWidth"),Re=this.get("itemSpacing"),Ve=this.getItemHeight(),sr=this.drawNavigation(R,Xt,"00/00",12),Ar=sr.getBBox(),mr={x:St,y:Bt},Zr=1,Jr=0,$r=0,It=0;if(Xt==="horizontal")this.pageHeight=Ve,(0,g.each)(ee,function(le){var me=le.getBBox(),ke=we||me.width;(Jr&&Jr<mr.x+ke+Re||ie<mr.x+ke+Re+Ar.width)&&(Zr===1&&(Jr=mr.x+Re,lt.pageWidth=Jr,lt.moveElementTo(sr,{x:ie-Re-Ar.width-Ar.minX,y:mr.y+Ve/2-Ar.height/2-Ar.minY})),Zr+=1,mr.x=St,mr.y+=Ve),lt.moveElementTo(le,mr),le.getParent().setClip({type:"rect",attrs:{x:mr.x,y:mr.y,width:ke+Re,height:Ve}}),mr.x+=ke+Re});else{(0,g.each)(ee,function(le){var me=le.getBBox();me.width>$r&&($r=me.width)}),It=$r,$r+=Re,ie&&($r=Math.min(ie,$r),It=Math.min(ie,It)),this.pageWidth=$r,this.pageHeight=pe-Math.max(Ar.height,Ve);var te=Math.floor(this.pageHeight/Ve);(0,g.each)(ee,function(le,me){me!==0&&me%te==0&&(Zr+=1,mr.x+=$r,mr.y=Bt),lt.moveElementTo(le,mr),le.getParent().setClip({type:"rect",attrs:{x:mr.x,y:mr.y,width:$r,height:Ve}}),mr.y+=Ve}),this.totalPagesCnt=Zr,this.moveElementTo(sr,{x:St+It/2-Ar.width/2-Ar.minX,y:pe-Ar.height-Ar.minY})}this.pageHeight&&this.pageWidth&&J.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Zr,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(sr),J.attr("matrix",this.getCurrentNavigationMatrix())},vt.prototype.drawNavigation=function(R,J,lt,St){var Bt={x:0,y:0},Xt=this.addGroup(R,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),ee=this.drawArrow(Xt,Bt,"navigation-arrow-left",J==="horizontal"?"up":"left",St);ee.on("click",this.onNavigationBack);var ie=ee.getBBox();Bt.x+=ie.width+2;var pe=this.addShape(Xt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Bt.x,y:Bt.y+St/2,text:lt,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),we=pe.getBBox();Bt.x+=we.width+2;var Re=this.drawArrow(Xt,Bt,"navigation-arrow-right",J==="horizontal"?"down":"right",St);return Re.on("click",this.onNavigationAfter),Xt},vt.prototype.updateNavigation=function(R){var J=this.currentPageIndex+"/"+this.totalPagesCnt,lt=R?R.getChildren()[1]:this.getElementByLocalId("navigation-text"),St=R?R.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Bt=R?R.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),Xt=lt.getBBox();lt.attr("text",J);var ee=lt.getBBox();lt.attr("x",lt.attr("x")-(ee.width-Xt.width)/2),St.attr("opacity",this.currentPageIndex===1?.45:1),St.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Bt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Bt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},vt.prototype.drawArrow=function(R,J,lt,St,Bt){var Xt=J.x,ee=J.y,ie={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},pe=this.addShape(R,{type:"path",id:this.getElementId(lt),name:lt,attrs:{path:[["M",Xt+Bt/2,ee],["L",Xt,ee+Bt],["L",Xt+Bt,ee+Bt],["Z"]],fill:"#000",cursor:"pointer"}});return pe.attr("matrix",$({x:Xt+Bt/2,y:ee+Bt/2},ie[St])),pe},vt.prototype.getCurrentNavigationMatrix=function(){var R=this,J=R.currentPageIndex,lt=R.pageWidth,St=R.pageHeight,Bt=this.get("layout"),Xt=Bt==="horizontal"?{x:0,y:St*(1-J)}:{x:lt*(1-J),y:0};return z(Xt)},vt.prototype.applyItemStates=function(R,J){var lt=this.getItemStates(R),St=lt.length>0;if(St){var Bt=J.getChildren(),Xt=this.get("itemStates");(0,g.each)(Bt,function(ee){var ie=ee.get("name"),pe=ie.split("-")[2],we=ve(R,pe,Xt);we&&(ee.attr(we),pe==="marker"&&!(ee.get("isStroke")&&ee.get("isFill"))&&(ee.get("isStroke")&&ee.attr("fill",null),ee.get("isFill")&&ee.attr("stroke",null)))})}},vt.prototype.getLimitItemWidth=function(){var R=this.get("itemWidth"),J=this.get("maxItemWidth");return J?R&&(J=R<=J?R:J):R&&(J=R),J},vt}(fe),Oe=Me,Xe=1.4,Le=.4,Ae=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:qe.textColor,textBaseline:"middle",fontFamily:qe.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:qe.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},vt.prototype.isSlider=function(){return!0},vt.prototype.getValue=function(){return this.getCurrentValue()},vt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},vt.prototype.setRange=function(R,J){this.update({min:R,max:J})},vt.prototype.setValue=function(R){var J=this.getValue();this.set("value",R);var lt=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(lt),this.delegateEmit("valuechanged",{originValue:J,value:R})},vt.prototype.initEvent=function(){var R=this.get("group");this.bindSliderEvent(R),this.bindRailEvent(R),this.bindTrackEvent(R)},vt.prototype.drawLegendContent=function(R){this.drawRail(R),this.drawLabels(R),this.fixedElements(R),this.resetTrack(R),this.resetTrackClip(R),this.get("slidable")&&this.resetHandlers(R)},vt.prototype.bindSliderEvent=function(R){this.bindHandlersEvent(R)},vt.prototype.bindHandlersEvent=function(R){var J=this;R.on("legend-handler-min:drag",function(lt){var St=J.getValueByCanvasPoint(lt.x,lt.y),Bt=J.getCurrentValue(),Xt=Bt[1];Xt<St&&(Xt=St),J.setValue([St,Xt])}),R.on("legend-handler-max:drag",function(lt){var St=J.getValueByCanvasPoint(lt.x,lt.y),Bt=J.getCurrentValue(),Xt=Bt[0];Xt>St&&(Xt=St),J.setValue([Xt,St])})},vt.prototype.bindRailEvent=function(R){},vt.prototype.bindTrackEvent=function(R){var J=this,lt=null;R.on("legend-track:dragstart",function(St){lt={x:St.x,y:St.y}}),R.on("legend-track:drag",function(St){if(!!lt){var Bt=J.getValueByCanvasPoint(lt.x,lt.y),Xt=J.getValueByCanvasPoint(St.x,St.y),ee=J.getCurrentValue(),ie=ee[1]-ee[0],pe=J.getRange(),we=Xt-Bt;we<0?ee[0]+we>pe.min?J.setValue([ee[0]+we,ee[1]+we]):J.setValue([pe.min,pe.min+ie]):we>0&&(we>0&&ee[1]+we<pe.max?J.setValue([ee[0]+we,ee[1]+we]):J.setValue([pe.max-ie,pe.max])),lt={x:St.x,y:St.y}}}),R.on("legend-track:dragend",function(St){lt=null})},vt.prototype.drawLabels=function(R){this.drawLabel("min",R),this.drawLabel("max",R)},vt.prototype.drawLabel=function(R,J){var lt=this.get("label"),St=lt.style,Bt=lt.align,Xt=this.get(R),ee=this.getLabelAlignAttrs(R,Bt),ie="label-"+R;this.addShape(J,{type:"text",id:this.getElementId(ie),name:"legend-label-"+R,attrs:(0,x.__assign)((0,x.__assign)({x:0,y:0,text:Xt},St),ee)})},vt.prototype.getLabelAlignAttrs=function(R,J){var lt=this.isVertical(),St="center",Bt="middle";return lt?(St="start",J!=="rail"?R==="min"?Bt="top":Bt="bottom":Bt="top"):J!=="rail"?(Bt="top",R==="min"?St="start":St="end"):(St="start",Bt="middle"),{textAlign:St,textBaseline:Bt}},vt.prototype.getRailPath=function(R,J,lt,St){var Bt=this.get("rail"),Xt=Bt.size,ee=Bt.defaultLength,ie=Bt.type,pe=this.isVertical(),we=ee,Re=lt,Ve=St;Re||(Re=pe?Xt:we),Ve||(Ve=pe?we:Xt);var sr=[];return ie==="color"?(sr.push(["M",R,J]),sr.push(["L",R+Re,J]),sr.push(["L",R+Re,J+Ve]),sr.push(["L",R,J+Ve]),sr.push(["Z"])):(sr.push(["M",R+Re,J]),sr.push(["L",R+Re,J+Ve]),sr.push(["L",R,J+Ve]),sr.push(["Z"])),sr},vt.prototype.drawRail=function(R){var J=this.get("rail"),lt=J.style;this.addShape(R,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,x.__assign)({path:this.getRailPath(0,0)},lt)})},vt.prototype.getTrackColor=function(R){var J=R.length;if(!J)return null;if(J===1)return R[0];var lt;this.isVertical()?lt="l(90)":lt="l(0)";for(var St=0;St<J;St++){var Bt=St/(J-1);lt+=" "+Bt+":"+R[St]}return lt},vt.prototype.getTrackPath=function(R){var J=this.getRailShape(R),lt=J.attr("path");return(0,g.clone)(lt)},vt.prototype.getClipTrackAttrs=function(R){var J=this.getCurrentValue(),lt=J[0],St=J[1],Bt=this.getRailBBox(R),Xt=this.getPointByValue(lt,R),ee=this.getPointByValue(St,R),ie=this.isVertical(),pe,we,Re,Ve;return ie?(pe=Bt.minX,we=Xt.y,Re=Bt.width,Ve=ee.y-Xt.y):(pe=Xt.x,we=Bt.minY,Re=ee.x-Xt.x,Ve=Bt.height),{x:pe,y:we,width:Re,height:Ve}},vt.prototype.getTrackAttrs=function(R){var J=this.get("track"),lt=this.get("colors"),St=this.getTrackPath(R);return(0,g.mix)({path:St,fill:this.getTrackColor(lt)},J.style)},vt.prototype.resetTrackClip=function(R){var J=R||this.get("group"),lt=this.getElementId("track"),St=J.findById(lt),Bt=St.getClip(),Xt=this.getClipTrackAttrs(R);Bt?Bt.attr(Xt):St.setClip({type:"rect",attrs:Xt})},vt.prototype.resetTrack=function(R){var J=this.getElementId("track"),lt=R.findById(J),St=this.getTrackAttrs(R);lt?lt.attr(St):this.addShape(R,{type:"path",id:J,draggable:this.get("slidable"),name:"legend-track",attrs:St})},vt.prototype.getPointByValue=function(R,J){var lt=this.getRange(),St=lt.min,Bt=lt.max,Xt=(R-St)/(Bt-St),ee=this.getRailBBox(J),ie=this.isVertical(),pe={x:0,y:0};return ie?(pe.x=ee.minX+ee.width/2,pe.y=Q(ee.minY,ee.maxY,Xt)):(pe.x=Q(ee.minX,ee.maxX,Xt),pe.y=ee.minY+ee.height/2),pe},vt.prototype.getRailShape=function(R){var J=R||this.get("group");return J.findById(this.getElementId("rail"))},vt.prototype.getRailBBox=function(R){var J=this.getRailShape(R),lt=J.getBBox();return lt},vt.prototype.getRailCanvasBBox=function(){var R=this.get("group"),J=R.findById(this.getElementId("rail")),lt=J.getCanvasBBox();return lt},vt.prototype.isVertical=function(){return this.get("layout")==="vertical"},vt.prototype.getValueByCanvasPoint=function(R,J){var lt=this.getRange(),St=lt.min,Bt=lt.max,Xt=this.getRailCanvasBBox(),ee=this.isVertical(),ie=this.get("step"),pe;ee?pe=(J-Xt.minY)/Xt.height:pe=(R-Xt.minX)/Xt.width;var we=Q(St,Bt,pe);if(ie){var Re=Math.round((we-St)/ie);we=St+Re*ie}return we>Bt&&(we=Bt),we<St&&(we=St),we},vt.prototype.getCurrentValue=function(){var R=this.get("value");return R||(R=[this.get("min"),this.get("max")]),R},vt.prototype.resetHandlers=function(R){var J=this.getCurrentValue(),lt=J[0],St=J[1];this.resetHandler(R,"min",lt),this.resetHandler(R,"max",St)},vt.prototype.getHandlerPath=function(R,J){var lt=this.isVertical(),St=[],Bt=R.size,Xt=J.x,ee=J.y,ie=Bt*Xe,pe=Bt/2,we=Bt/6;if(lt){var Re=Xt+ie*Le;St.push(["M",Xt,ee]),St.push(["L",Re,ee+pe]),St.push(["L",Xt+ie,ee+pe]),St.push(["L",Xt+ie,ee-pe]),St.push(["L",Re,ee-pe]),St.push(["Z"]),St.push(["M",Re,ee+we]),St.push(["L",Xt+ie-2,ee+we]),St.push(["M",Re,ee-we]),St.push(["L",Xt+ie-2,ee-we])}else{var Ve=ee+ie*Le;St.push(["M",Xt,ee]),St.push(["L",Xt-pe,Ve]),St.push(["L",Xt-pe,ee+ie]),St.push(["L",Xt+pe,ee+ie]),St.push(["L",Xt+pe,Ve]),St.push(["Z"]),St.push(["M",Xt-we,Ve]),St.push(["L",Xt-we,ee+ie-2]),St.push(["M",Xt+we,Ve]),St.push(["L",Xt+we,ee+ie-2])}return St},vt.prototype.resetHandler=function(R,J,lt){var St=this.getPointByValue(lt,R),Bt=this.get("handler"),Xt=this.getHandlerPath(Bt,St),ee=this.getElementId("handler-"+J),ie=R.findById(ee),pe=this.isVertical();ie?ie.attr("path",Xt):this.addShape(R,{type:"path",name:"legend-handler-"+J,draggable:!0,id:ee,attrs:(0,x.__assign)((0,x.__assign)({path:Xt},Bt.style),{cursor:pe?"ns-resize":"ew-resize"})})},vt.prototype.fixedElements=function(R){var J=R.findById(this.getElementId("rail")),lt=R.findById(this.getElementId("label-min")),St=R.findById(this.getElementId("label-max")),Bt=this.getDrawPoint();this.isVertical()?this.fixedVertail(lt,St,J,Bt):this.fixedHorizontal(lt,St,J,Bt)},vt.prototype.fitRailLength=function(R,J,lt,St){var Bt=this.isVertical(),Xt=Bt?"height":"width",ee=this.get("label"),ie=ee.align,pe=ee.spacing,we=this.get("max"+(0,g.upperFirst)(Xt));if(we){var Re=ie==="rail"?lt[Xt]+R[Xt]+J[Xt]+pe*2:lt[Xt],Ve=Re-we;Ve>0&&this.changeRailLength(St,Xt,lt[Xt]-Ve)}},vt.prototype.changeRailLength=function(R,J,lt){var St=R.getBBox(),Bt;J==="height"?Bt=this.getRailPath(St.x,St.y,St.width,lt):Bt=this.getRailPath(St.x,St.y,lt,St.height),R.attr("path",Bt)},vt.prototype.changeRailPosition=function(R,J,lt){var St=R.getBBox(),Bt=this.getRailPath(J,lt,St.width,St.height);R.attr("path",Bt)},vt.prototype.fixedHorizontal=function(R,J,lt,St){var Bt=this.get("label"),Xt=Bt.align,ee=Bt.spacing,ie=lt.getBBox(),pe=R.getBBox(),we=J.getBBox(),Re=ie.height;this.fitRailLength(pe,we,ie,lt),ie=lt.getBBox(),Xt==="rail"?(R.attr({x:St.x,y:St.y+Re/2}),this.changeRailPosition(lt,St.x+pe.width+ee,St.y),J.attr({x:St.x+pe.width+ie.width+ee*2,y:St.y+Re/2})):Xt==="top"?(R.attr({x:St.x,y:St.y}),J.attr({x:St.x+ie.width,y:St.y}),this.changeRailPosition(lt,St.x,St.y+pe.height+ee)):(this.changeRailPosition(lt,St.x,St.y),R.attr({x:St.x,y:St.y+ie.height+ee}),J.attr({x:St.x+ie.width,y:St.y+ie.height+ee}))},vt.prototype.fixedVertail=function(R,J,lt,St){var Bt=this.get("label"),Xt=Bt.align,ee=Bt.spacing,ie=lt.getBBox(),pe=R.getBBox(),we=J.getBBox();if(this.fitRailLength(pe,we,ie,lt),ie=lt.getBBox(),Xt==="rail")R.attr({x:St.x,y:St.y}),this.changeRailPosition(lt,St.x,St.y+pe.height+ee),J.attr({x:St.x,y:St.y+pe.height+ie.height+ee*2});else if(Xt==="right")R.attr({x:St.x+ie.width+ee,y:St.y}),this.changeRailPosition(lt,St.x,St.y),J.attr({x:St.x+ie.width+ee,y:St.y+ie.height});else{var Re=Math.max(pe.width,we.width);R.attr({x:St.x,y:St.y}),this.changeRailPosition(lt,St.x+Re+ee,St.y),J.attr({x:St.x,y:St.y+ie.height})}},vt}(fe),dr=Ae,Mr=d(55223),Kr="g2-tooltip",Ur="g2-tooltip-title",bn="g2-tooltip-list",Mn="g2-tooltip-list-item",ni="g2-tooltip-marker",zn="g2-tooltip-value",hi="g2-tooltip-name",$n="g2-tooltip-crosshair-x",Xn="g2-tooltip-crosshair-y",en,ii=(en={},en[""+Kr]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:qe.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},en[""+Ur]={marginBottom:"4px"},en[""+bn]={margin:"0px",listStyleType:"none",padding:"0px"},en[""+Mn]={listStyleType:"none",marginBottom:"4px"},en[""+ni]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},en[""+zn]={display:"inline-block",float:"right",marginLeft:"30px"},en[""+$n]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},en[""+Xn]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},en);function Qn(Vt,vt,R,J,lt){var St={left:Vt<lt.x,right:Vt+R>lt.x+lt.width,top:vt<lt.y,bottom:vt+J>lt.y+lt.height};return St}function Nn(Vt,vt,R,J,lt,St){var Bt=Vt,Xt=vt;switch(St){case"left":Bt=Vt-J-R,Xt=vt-lt/2;break;case"right":Bt=Vt+R,Xt=vt-lt/2;break;case"top":Bt=Vt-J/2,Xt=vt-lt-R;break;case"bottom":Bt=Vt-J/2,Xt=vt+R;break;default:Bt=Vt+R,Xt=vt-lt-R;break}return{x:Bt,y:Xt}}function na(Vt,vt,R,J,lt,St,Bt){var Xt=Nn(Vt,vt,R,J,lt,St);if(Bt){var ee=Qn(Xt.x,Xt.y,J,lt,Bt);St==="auto"?(ee.right&&(Xt.x=Math.max(0,Vt-J-R)),ee.top&&(Xt.y=Math.max(0,vt-lt-R))):St==="top"||St==="bottom"?(ee.left&&(Xt.x=Bt.x),ee.right&&(Xt.x=Bt.x+Bt.width-J),St==="top"&&ee.top&&(Xt.y=vt+R),St==="bottom"&&ee.bottom&&(Xt.y=vt-lt-R)):(ee.top&&(Xt.y=Bt.y),ee.bottom&&(Xt.y=Bt.y+Bt.height-lt),St==="left"&&ee.left&&(Xt.x=Vt+R),St==="right"&&ee.right&&(Xt.x=Vt-J-R))}return Xt}function wi(Vt,vt){var R=!1;return(0,g.each)(vt,function(J){if((0,g.hasKey)(Vt,J))return R=!0,!1}),R}var Ki=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Kr+'"><div class="'+Ur+'"></div><ul class="'+bn+'"></ul></div>',itemTpl:'<li class="'+Mn+`" data-index={index}>
          <span class="`+ni+`" style="background:{color}"></span>
          <span class="`+hi+`">{name}</span>:
          <span class="`+zn+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+$n+'"></div>',yCrosshairTpl:'<div class="'+Xn+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Kr,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:ii})},vt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},vt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},vt.prototype.show=function(){var R=this.getContainer();!R||this.destroyed||(this.set("visible",!0),(0,Wn.Z)(R,{visibility:"visible"}),this.setCrossHairsVisible(!0))},vt.prototype.hide=function(){var R=this.getContainer();!R||this.destroyed||(this.set("visible",!1),(0,Wn.Z)(R,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},vt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},vt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetPosition()},vt.prototype.setCrossHairsVisible=function(R){var J=R?"":"none",lt=this.get("xCrosshairDom"),St=this.get("yCrosshairDom");lt&&(0,Wn.Z)(lt,{display:J}),St&&(0,Wn.Z)(St,{display:J})},vt.prototype.initContainer=function(){if(Vt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var R=this.getHtmlContentNode();this.get("parent").appendChild(R),this.set("container",R),this.resetStyles(),this.applyStyles()}},vt.prototype.updateInner=function(R){this.get("customContent")?this.renderCustomContent():(wi(R,["title","showTitle"])&&this.resetTitle(),(0,g.hasKey)(R,"items")&&this.renderItems()),Vt.prototype.updateInner.call(this,R)},vt.prototype.initDom=function(){this.cacheDoms()},vt.prototype.removeDom=function(){Vt.prototype.removeDom.call(this),this.clearCrosshairs()},vt.prototype.resetPosition=function(){var R=this.get("x"),J=this.get("y"),lt=this.get("offset"),St=this.getOffset(),Bt=St.offsetX,Xt=St.offsetY,ee=this.get("position"),ie=this.get("region"),pe=this.getContainer(),we=this.getBBox(),Re=we.width,Ve=we.height,sr;ie&&(sr=X(ie));var Ar=na(R,J,lt,Re,Ve,ee,sr);(0,Wn.Z)(pe,{left:gt(Ar.x+Bt),top:gt(Ar.y+Xt)}),this.resetCrosshairs()},vt.prototype.renderCustomContent=function(){var R=this.getHtmlContentNode(),J=this.get("parent"),lt=this.get("container");lt&&lt.parentNode===J?J.replaceChild(R,lt):J.appendChild(R),this.set("container",R),this.resetStyles(),this.applyStyles()},vt.prototype.getHtmlContentNode=function(){var R,J=this.get("customContent");if(J){var lt=J(this.get("title"),this.get("items"));(0,g.isElement)(lt)?R=lt:R=(0,Yi.Z)(lt)}return R},vt.prototype.cacheDoms=function(){var R=this.getContainer(),J=R.getElementsByClassName(Ur)[0],lt=R.getElementsByClassName(bn)[0];this.set("titleDom",J),this.set("listDom",lt)},vt.prototype.resetTitle=function(){var R=this.get("title"),J=this.get("showTitle");J&&R?this.setTitle(R):this.setTitle("")},vt.prototype.setTitle=function(R){var J=this.get("titleDom");J&&(J.innerText=R)},vt.prototype.resetCrosshairs=function(){var R=this.get("crosshairsRegion"),J=this.get("crosshairs");if(!R||!J)this.clearCrosshairs();else{var lt=X(R),St=this.get("xCrosshairDom"),Bt=this.get("yCrosshairDom");J==="x"?(this.resetCrosshair("x",lt),Bt&&(Bt.remove(),this.set("yCrosshairDom",null))):J==="y"?(this.resetCrosshair("y",lt),St&&(St.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",lt),this.resetCrosshair("y",lt)),this.setCrossHairsVisible(this.get("visible"))}},vt.prototype.resetCrosshair=function(R,J){var lt=this.checkCrosshair(R),St=this.get(R);R==="x"?(0,Wn.Z)(lt,{left:gt(St),top:gt(J.y),height:gt(J.height)}):(0,Wn.Z)(lt,{top:gt(St),left:gt(J.x),width:gt(J.width)})},vt.prototype.checkCrosshair=function(R){var J=R+"CrosshairDom",lt=R+"CrosshairTpl",St="CROSSHAIR_"+R.toUpperCase(),Bt=b[St],Xt=this.get(J),ee=this.get("parent");return Xt||(Xt=(0,Yi.Z)(this.get(lt)),this.applyStyle(Bt,Xt),ee.appendChild(Xt),this.set(J,Xt)),Xt},vt.prototype.renderItems=function(){this.clearItemDoms();var R=this.get("items"),J=this.get("itemTpl"),lt=this.get("listDom");lt&&((0,g.each)(R,function(St){var Bt=Mr.default.toCSSGradient(St.color),Xt=(0,x.__assign)((0,x.__assign)({},St),{color:Bt}),ee=(0,g.substitute)(J,Xt),ie=(0,Yi.Z)(ee);lt.appendChild(ie)}),this.applyChildrenStyles(lt,this.get("domStyles")))},vt.prototype.clearItemDoms=function(){this.get("listDom")&&D(this.get("listDom"))},vt.prototype.clearCrosshairs=function(){var R=this.get("xCrosshairDom"),J=this.get("yCrosshairDom");R&&R.remove(),J&&J.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},vt}(va),Ma=Ki,ia={opacity:0},Si={stroke:"#C5C5C5",strokeOpacity:.85},aa={fill:"#CACED4",opacity:.85},_i=d(57350),Jn=d(72469);function Wi(Vt){return(0,g.map)(Vt,function(vt,R){var J=R===0?"M":"L",lt=vt[0],St=vt[1];return[J,lt,St]})}function oa(Vt){return Wi(Vt)}function Ka(Vt){if(Vt.length<=2)return oa(Vt);var vt=[];(0,g.each)(Vt,function(Bt){(0,g.isEqual)(Bt,vt.slice(vt.length-2))||vt.push(Bt[0],Bt[1])});var R=(0,_i.catmullRom2Bezier)(vt,!1),J=(0,g.head)(Vt),lt=J[0],St=J[1];return R.unshift(["M",lt,St]),R}function Ea(Vt,vt,R,J){J===void 0&&(J=!0);var lt=new Jn.Linear({values:Vt}),St=new Jn.Category({values:(0,g.map)(Vt,function(Xt,ee){return ee})}),Bt=(0,g.map)(Vt,function(Xt,ee){return[St.scale(ee)*vt,R-lt.scale(Xt)*R]});return J?Ka(Bt):oa(Bt)}function as(Vt,vt,R){var J=(0,x.__spreadArrays)(Vt);return J.push(["L",vt,0]),J.push(["L",0,R]),J.push(["Z"]),J}var _o=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:ia,lineStyle:Si,areaStyle:aa})},vt.prototype.renderInner=function(R){var J=this.cfg,lt=J.width,St=J.height,Bt=J.data,Xt=J.smooth,ee=J.isArea,ie=J.backgroundStyle,pe=J.lineStyle,we=J.areaStyle;this.addShape(R,{id:this.getElementId("background"),type:"rect",attrs:(0,x.__assign)({x:0,y:0,width:lt,height:St},ie)});var Re=Ea(Bt,lt,St,Xt);if(this.addShape(R,{id:this.getElementId("line"),type:"path",attrs:(0,x.__assign)({path:Re},pe)}),ee){var Ve=as(Re,lt,St);this.addShape(R,{id:this.getElementId("area"),type:"path",attrs:(0,x.__assign)({path:Ve},we)})}},vt.prototype.applyOffset=function(){var R=this.cfg,J=R.x,lt=R.y;this.moveElementTo(this.get("group"),{x:J,y:lt})},vt}(rt),Hs=null,fo={fill:"#416180",opacity:.05},Oo={fill:"#5B8FF9",opacity:.15,cursor:"move"},$a=10,Oi={width:$a,height:24},os={textBaseline:"middle",fill:"#000",opacity:.45},ss="sliderchange",Io={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},ho=function(Vt){(0,x.__extends)(vt,Vt);function vt(){return Vt!==null&&Vt.apply(this,arguments)||this}return vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"handler",x:0,y:0,width:10,height:24,style:Io})},vt.prototype.renderInner=function(R){var J=this.cfg,lt=J.width,St=J.height,Bt=J.style,Xt=Bt.fill,ee=Bt.stroke,ie=Bt.radius,pe=Bt.opacity,we=Bt.cursor;this.addShape(R,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:lt,height:St,fill:Xt,stroke:ee,radius:ie,opacity:pe,cursor:we}});var Re=1/3*lt,Ve=2/3*lt,sr=1/4*St,Ar=3/4*St;this.addShape(R,{id:this.getElementId("line-left"),type:"line",attrs:{x1:Re,y1:sr,x2:Re,y2:Ar,stroke:ee,cursor:we}}),this.addShape(R,{id:this.getElementId("line-right"),type:"line",attrs:{x1:Ve,y1:sr,x2:Ve,y2:Ar,stroke:ee,cursor:we}})},vt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},vt.prototype.initEvent=function(){this.bindEvents()},vt.prototype.bindEvents=function(){var R=this;this.get("group").on("mouseenter",function(){var J=R.get("style").highLightFill;R.getElementByLocalId("background").attr("fill",J),R.draw()}),this.get("group").on("mouseleave",function(){var J=R.get("style").fill;R.getElementByLocalId("background").attr("fill",J),R.draw()})},vt.prototype.draw=function(){var R=this.get("container").get("canvas");R&&R.draw()},vt}(rt),mn=null,ls=function(Vt){(0,x.__extends)(vt,Vt);function vt(){var R=Vt!==null&&Vt.apply(this,arguments)||this;return R.onMouseDown=function(J){return function(lt){R.currentTarget=J;var St=lt.originalEvent;St.stopPropagation(),St.preventDefault(),R.prevX=(0,g.get)(St,"touches.0.pageX",St.pageX),R.prevY=(0,g.get)(St,"touches.0.pageY",St.pageY);var Bt=R.getContainerDOM();Bt.addEventListener("mousemove",R.onMouseMove),Bt.addEventListener("mouseup",R.onMouseUp),Bt.addEventListener("mouseleave",R.onMouseUp),Bt.addEventListener("touchmove",R.onMouseMove),Bt.addEventListener("touchend",R.onMouseUp),Bt.addEventListener("touchcancel",R.onMouseUp)}},R.onMouseMove=function(J){var lt=R.cfg.width,St=[R.get("start"),R.get("end")];J.stopPropagation(),J.preventDefault();var Bt=(0,g.get)(J,"touches.0.pageX",J.pageX),Xt=(0,g.get)(J,"touches.0.pageY",J.pageY),ee=Bt-R.prevX,ie=R.adjustOffsetRange(ee/lt);R.updateStartEnd(ie),R.updateUI(R.getElementByLocalId("foreground"),R.getElementByLocalId("minText"),R.getElementByLocalId("maxText")),R.prevX=Bt,R.prevY=Xt,R.draw(),R.emit(ss,[R.get("start"),R.get("end")].sort()),R.delegateEmit("valuechanged",{originValue:St,value:[R.get("start"),R.get("end")]})},R.onMouseUp=function(){R.currentTarget&&(R.currentTarget=void 0);var J=R.getContainerDOM();J&&(J.removeEventListener("mousemove",R.onMouseMove),J.removeEventListener("mouseup",R.onMouseUp),J.removeEventListener("mouseleave",R.onMouseUp),J.removeEventListener("touchmove",R.onMouseMove),J.removeEventListener("touchend",R.onMouseUp),J.removeEventListener("touchcancel",R.onMouseUp))},R}return vt.prototype.setRange=function(R,J){this.set("minLimit",R),this.set("maxLimit",J);var lt=this.get("start"),St=this.get("end"),Bt=(0,g.clamp)(lt,R,J),Xt=(0,g.clamp)(St,R,J);!this.get("isInit")&&(lt!==Bt||St!==Xt)&&this.setValue([Bt,Xt])},vt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},vt.prototype.setValue=function(R){var J=this.getRange();if((0,g.isArray)(R)&&R.length===2){var lt=[this.get("start"),this.get("end")];this.update({start:(0,g.clamp)(R[0],J.min,J.max),end:(0,g.clamp)(R[1],J.min,J.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:lt,value:R})}},vt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:fo,foregroundStyle:Oo,handlerStyle:Oi,textStyle:os}})},vt.prototype.update=function(R){var J=R.start,lt=R.end,St=(0,x.__assign)({},R);(0,g.isNil)(J)||(St.start=(0,g.clamp)(J,0,1)),(0,g.isNil)(lt)||(St.end=(0,g.clamp)(lt,0,1)),Vt.prototype.update.call(this,St),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},vt.prototype.init=function(){this.set("start",(0,g.clamp)(this.get("start"),0,1)),this.set("end",(0,g.clamp)(this.get("end"),0,1)),Vt.prototype.init.call(this)},vt.prototype.renderInner=function(R){var J=this.cfg,lt=J.start,St=J.end,Bt=J.width,Xt=J.height,ee=J.trendCfg,ie=ee===void 0?{}:ee,pe=J.minText,we=J.maxText,Re=J.backgroundStyle,Ve=Re===void 0?{}:Re,sr=J.foregroundStyle,Ar=sr===void 0?{}:sr,mr=J.textStyle,Zr=mr===void 0?{}:mr,Jr=J.handlerStyle,$r=Jr===void 0?{}:Jr,It=lt*Bt,te=St*Bt;(0,g.size)((0,g.get)(ie,"data"))&&this.addComponent(R,(0,x.__assign)({component:_o,id:this.getElementId("trend"),x:0,y:0,width:Bt,height:Xt},ie)),this.addShape(R,{id:this.getElementId("background"),type:"rect",attrs:(0,x.__assign)({x:0,y:0,width:Bt,height:Xt},Ve)});var le=this.addShape(R,{id:this.getElementId("minText"),type:"text",attrs:(0,x.__assign)({y:Xt/2,textAlign:"right",text:pe,silent:!1},Zr)}),me=this.addShape(R,{id:this.getElementId("maxText"),type:"text",attrs:(0,x.__assign)({y:Xt/2,textAlign:"left",text:we,silent:!1},Zr)}),ke=this.addShape(R,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,x.__assign)({y:0,height:Xt},Ar)}),tr=(0,g.get)($r,"height",24);this.minHandler=this.addComponent(R,(0,x.__assign)({component:ho,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(Xt-tr)/2,width:Bt,height:tr,cursor:"ew-resize"},$r)),this.maxHandler=this.addComponent(R,(0,x.__assign)({component:ho,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(Xt-tr)/2,width:Bt,height:tr,cursor:"ew-resize"},$r)),this.updateUI(ke,le,me)},vt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},vt.prototype.initEvent=function(){this.bindEvents()},vt.prototype.updateUI=function(R,J,lt){var St=this.cfg,Bt=St.start,Xt=St.end,ee=St.width,ie=St.minText,pe=St.maxText,we=St.handlerStyle,Re=Bt*ee,Ve=Xt*ee;R.attr("x",Re),R.attr("width",Ve-Re);var sr=(0,g.get)(we,"width",$a);J.attr("text",ie),lt.attr("text",pe);var Ar=this._dodgeText([Re,Ve],J,lt),mr=Ar[0],Zr=Ar[1];this.minHandler&&(this.minHandler.update({x:Re-sr/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,g.each)(mr,function(Jr,$r){return J.attr($r,Jr)}),this.maxHandler&&(this.maxHandler.update({x:Ve-sr/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,g.each)(Zr,function(Jr,$r){return lt.attr($r,Jr)})},vt.prototype.bindEvents=function(){var R=this.get("group");R.on("handler-min:mousedown",this.onMouseDown("minHandler")),R.on("handler-min:touchstart",this.onMouseDown("minHandler")),R.on("handler-max:mousedown",this.onMouseDown("maxHandler")),R.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var J=R.findById(this.getElementId("foreground"));J.on("mousedown",this.onMouseDown("foreground")),J.on("touchstart",this.onMouseDown("foreground"))},vt.prototype.adjustOffsetRange=function(R){var J=this.cfg,lt=J.start,St=J.end;switch(this.currentTarget){case"minHandler":{var Bt=0-lt,Xt=1-lt;return Math.min(Xt,Math.max(Bt,R))}case"maxHandler":{var Bt=0-St,Xt=1-St;return Math.min(Xt,Math.max(Bt,R))}case"foreground":{var Bt=0-lt,Xt=1-St;return Math.min(Xt,Math.max(Bt,R))}}},vt.prototype.updateStartEnd=function(R){var J=this.cfg,lt=J.start,St=J.end;switch(this.currentTarget){case"minHandler":lt+=R;break;case"maxHandler":St+=R;break;case"foreground":lt+=R,St+=R;break}this.set("start",lt),this.set("end",St)},vt.prototype._dodgeText=function(R,J,lt){var St,Bt,Xt=this.cfg,ee=Xt.handlerStyle,ie=Xt.width,pe=2,we=(0,g.get)(ee,"width",$a),Re=R[0],Ve=R[1],sr=!1;Re>Ve&&(St=[Ve,Re],Re=St[0],Ve=St[1],Bt=[lt,J],J=Bt[0],lt=Bt[1],sr=!0);var Ar=J.getBBox(),mr=lt.getBBox(),Zr=Ar.width>Re-pe?{x:Re+we/2+pe,textAlign:"left"}:{x:Re-we/2-pe,textAlign:"right"},Jr=mr.width>ie-Ve-pe?{x:Ve-we/2-pe,textAlign:"right"}:{x:Ve+we/2+pe,textAlign:"left"};return sr?[Jr,Zr]:[Zr,Jr]},vt.prototype.draw=function(){var R=this.get("container"),J=R&&R.get("canvas");J&&J.draw()},vt.prototype.getContainerDOM=function(){var R=this.get("container"),J=R&&R.get("canvas");return J&&J.get("container")},vt}(rt),Ci=null,yn=d(57817),ko={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},cn={default:ko,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Ra=function(Vt){(0,x.__extends)(vt,Vt);function vt(){var R=Vt!==null&&Vt.apply(this,arguments)||this;return R.clearEvents=g.noop,R.onStartEvent=function(J){return function(lt){R.isMobile=J,lt.originalEvent.preventDefault();var St=J?(0,g.get)(lt.originalEvent,"touches.0.clientX"):lt.clientX,Bt=J?(0,g.get)(lt.originalEvent,"touches.0.clientY"):lt.clientY;R.startPos=R.cfg.isHorizontal?St:Bt,R.bindLaterEvent()}},R.bindLaterEvent=function(){var J=R.getContainerDOM(),lt=[];R.isMobile?lt=[(0,yn.Z)(J,"touchmove",R.onMouseMove),(0,yn.Z)(J,"touchend",R.onMouseUp),(0,yn.Z)(J,"touchcancel",R.onMouseUp)]:lt=[(0,yn.Z)(J,"mousemove",R.onMouseMove),(0,yn.Z)(J,"mouseup",R.onMouseUp),(0,yn.Z)(J,"mouseleave",R.onMouseUp)],R.clearEvents=function(){lt.forEach(function(St){St.remove()})}},R.onMouseMove=function(J){var lt=R.cfg,St=lt.isHorizontal,Bt=lt.thumbOffset;J.preventDefault();var Xt=R.isMobile?(0,g.get)(J,"touches.0.clientX"):J.clientX,ee=R.isMobile?(0,g.get)(J,"touches.0.clientY"):J.clientY,ie=St?Xt:ee,pe=ie-R.startPos;R.startPos=ie,R.updateThumbOffset(Bt+pe)},R.onMouseUp=function(J){J.preventDefault(),R.clearEvents()},R.onTrackClick=function(J){var lt=R.cfg,St=lt.isHorizontal,Bt=lt.x,Xt=lt.y,ee=lt.thumbLen,ie=R.getContainerDOM(),pe=ie.getBoundingClientRect(),we=J.clientX,Re=J.clientY,Ve=St?we-pe.left-Bt-ee/2:Re-pe.top-Xt-ee/2,sr=R.validateRange(Ve);R.updateThumbOffset(sr)},R.onThumbMouseOver=function(){var J=R.cfg.theme.hover.thumbColor;R.getElementByLocalId("thumb").attr("stroke",J),R.draw()},R.onThumbMouseOut=function(){var J=R.cfg.theme.default.thumbColor;R.getElementByLocalId("thumb").attr("stroke",J),R.draw()},R}return vt.prototype.setRange=function(R,J){this.set("minLimit",R),this.set("maxLimit",J);var lt=this.getValue(),St=(0,g.clamp)(lt,R,J);lt!==St&&!this.get("isInit")&&this.setValue(St)},vt.prototype.getRange=function(){var R=this.get("minLimit")||0,J=this.get("maxLimit")||1;return{min:R,max:J}},vt.prototype.setValue=function(R){var J=this.getRange(),lt=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,g.clamp)(R,J.min,J.max)}),this.delegateEmit("valuechange",{originalValue:lt,value:this.getValue()})},vt.prototype.getValue=function(){return(0,g.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},vt.prototype.getDefaultCfg=function(){var R=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},R),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:cn})},vt.prototype.renderInner=function(R){this.renderTrackShape(R),this.renderThumbShape(R)},vt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},vt.prototype.initEvent=function(){this.bindEvents()},vt.prototype.renderTrackShape=function(R){var J=this.cfg,lt=J.trackLen,St=J.theme,Bt=St===void 0?{default:{}}:St,Xt=Bt.default,ee=Xt.lineCap,ie=Xt.trackColor,pe=Xt.size,we=this.get("isHorizontal")?{x1:0+pe/2,y1:pe/2,x2:lt-pe/2,y2:pe/2,lineWidth:pe,stroke:ie,lineCap:ee}:{x1:pe/2,y1:0+pe/2,x2:pe/2,y2:lt-pe/2,lineWidth:pe,stroke:ie,lineCap:ee};return this.addShape(R,{id:this.getElementId("track"),name:"track",type:"line",attrs:we})},vt.prototype.renderThumbShape=function(R){var J=this.cfg,lt=J.thumbOffset,St=J.thumbLen,Bt=J.theme,Xt=Bt===void 0?{default:{}}:Bt,ee=Xt.default,ie=ee.size,pe=ee.lineCap,we=ee.thumbColor,Re=this.get("isHorizontal")?{x1:lt+ie/2,y1:ie/2,x2:lt+St-ie/2,y2:ie/2,lineWidth:ie,stroke:we,lineCap:pe,cursor:"default"}:{x1:ie/2,y1:lt+ie/2,x2:ie/2,y2:lt+St-ie/2,lineWidth:ie,stroke:we,lineCap:pe,cursor:"default"};return this.addShape(R,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:Re})},vt.prototype.bindEvents=function(){var R=this.get("group");R.on("mousedown",this.onStartEvent(!1)),R.on("mouseup",this.onMouseUp),R.on("touchstart",this.onStartEvent(!0)),R.on("touchend",this.onMouseUp);var J=R.findById(this.getElementId("track"));J.on("click",this.onTrackClick);var lt=R.findById(this.getElementId("thumb"));lt.on("mouseover",this.onThumbMouseOver),lt.on("mouseout",this.onThumbMouseOut)},vt.prototype.getContainerDOM=function(){var R=this.get("container"),J=R&&R.get("canvas");return J&&J.get("container")},vt.prototype.validateRange=function(R){var J=this.cfg,lt=J.thumbLen,St=J.trackLen,Bt=R;return R+lt>St?Bt=St-lt:R+lt<lt&&(Bt=0),Bt},vt.prototype.draw=function(){var R=this.get("container"),J=R&&R.get("canvas");J&&J.draw()},vt.prototype.updateThumbOffset=function(R){var J=this.cfg,lt=J.thumbOffset,St=J.isHorizontal,Bt=J.thumbLen,Xt=J.size,ee=this.validateRange(R);if(ee!==lt){var ie=this.getElementByLocalId("thumb");St?ie.attr({x1:ee+Xt/2,x2:ee+Bt-Xt/2}):ie.attr({y1:ee+Xt/2,y2:ee+Bt-Xt/2}),this.emitOffsetChange(ee)}},vt.prototype.emitOffsetChange=function(R){var J=this.cfg,lt=J.thumbOffset,St=J.trackLen,Bt=J.thumbLen;this.cfg.thumbOffset=R,this.emit("scrollchange",{thumbOffset:R,ratio:(0,g.clamp)(R/(St-Bt),0,1)}),this.delegateEmit("valuechange",{originalValue:lt,value:R})},vt}(rt)},15110:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(62117),_=d(39014),I=d(49242),O={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},P=function(A){w.__extends(E,A);function E(C){var p=A.call(this,C)||this;return p.initCfg(),p}return E.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},E.prototype.clear=function(){},E.prototype.update=function(C){var p=this,b=this.get("defaultCfg");I.each(C,function(y,x){var g=p.get(x),M=y;g!==y&&(I.isObject(y)&&b[x]&&(M=I.deepMix({},b[x],y)),p.set(x,M))}),this.updateInner(C),this.afterUpdate(C)},E.prototype.updateInner=function(C){},E.prototype.afterUpdate=function(C){I.hasKey(C,"visible")&&(C.visible?this.show():this.hide()),I.hasKey(C,"capture")&&this.setCapture(C.capture)},E.prototype.getLayoutBBox=function(){return this.getBBox()},E.prototype.getLocationType=function(){return this.get("locationType")},E.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},E.prototype.setOffset=function(C,p){this.update({offsetX:C,offsetY:p})},E.prototype.setLocation=function(C){var p=w.__assign({},C);this.update(p)},E.prototype.getLocation=function(){var C=this,p={},b=this.get("locationType"),y=O[b];return I.each(y,function(x){p[x]=C.get(x)}),p},E.prototype.isList=function(){return!1},E.prototype.isSlider=function(){return!1},E.prototype.init=function(){},E.prototype.initCfg=function(){var C=this,p=this.get("defaultCfg");I.each(p,function(b,y){var x=C.get(y);if(I.isObject(x)){var g=I.deepMix({},b,x);C.set(y,g)}})},E}(_.Base);S.default=P},51964:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(62117),_=d(80478),I=d(49242),O=d(11594),P=d(15110),A=function(E){w.__extends(C,E);function C(){return E!==null&&E.apply(this,arguments)||this}return C.prototype.getDefaultCfg=function(){var p=E.prototype.getDefaultCfg.call(this);return w.__assign(w.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},C.prototype.getContainer=function(){return this.get("container")},C.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},C.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},C.prototype.setCapture=function(p){var b=this.getContainer(),y=p?"auto":"none";b.style.pointerEvents=y,this.set("capture",p)},C.prototype.getBBox=function(){var p=this.getContainer(),b=parseFloat(p.style.left)||0,y=parseFloat(p.style.top)||0;return O.createBBox(b,y,p.clientWidth,p.clientHeight)},C.prototype.clear=function(){var p=this.get("container");O.clearDom(p)},C.prototype.destroy=function(){this.removeEvent(),this.removeDom(),E.prototype.destroy.call(this)},C.prototype.init=function(){E.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},C.prototype.initCapture=function(){this.setCapture(this.get("capture"))},C.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},C.prototype.initDom=function(){},C.prototype.initContainer=function(){var p=this.get("container");if(I.isNil(p)){p=this.createDom();var b=this.get("parent");I.isString(b)&&(b=document.getElementById(b),this.set("parent",b)),b.appendChild(p),this.set("container",p)}else I.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},C.prototype.resetStyles=function(){var p=this.get("domStyles"),b=this.get("defaultStyles");p?p=I.deepMix({},b,p):p=b,this.set("domStyles",p)},C.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var b=this.getContainer();this.applyChildrenStyles(b,p);var y=this.get("containerClassName");if(y&&O.hasClass(b,y)){var x=p[y];_.modifyCSS(b,x)}}},C.prototype.applyChildrenStyles=function(p,b){I.each(b,function(y,x){var g=p.getElementsByClassName(x);I.each(g,function(M){_.modifyCSS(M,y)})})},C.prototype.applyStyle=function(p,b){var y=this.get("domStyles");_.modifyCSS(b,y[p])},C.prototype.createDom=function(){var p=this.get("containerTpl");return _.createDom(p)},C.prototype.initEvent=function(){},C.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},C.prototype.removeEvent=function(){},C.prototype.updateInner=function(p){I.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},C.prototype.resetPosition=function(){},C}(P.default);S.default=A},7755:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(bt,S,d){"use strict";var w;Object.defineProperty(S,"__esModule",{value:!0});var _=d(52782),I=d(7755);S.default=(w={},w[""+I.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:_.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},w[""+I.TITLE_CLASS]={marginBottom:"4px"},w[""+I.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},w[""+I.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},w[""+I.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},w[""+I.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},w[""+I.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},w[""+I.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},w)},88373:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(62117),I=d(55223),O=d(80478),P=d(49242),A=d(51964),E=d(11594),C=d(7755),p=d(55225),b=d(51227);function y(g,M){var L=!1;return P.each(M,function(k){if(P.hasKey(g,k))return L=!0,!1}),L}var x=function(g){_.__extends(M,g);function M(){return g!==null&&g.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var L=g.prototype.getDefaultCfg.call(this);return _.__assign(_.__assign({},L),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+C.CONTAINER_CLASS+'"><div class="'+C.TITLE_CLASS+'"></div><ul class="'+C.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+C.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+C.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+C.NAME_CLASS+`">{name}</span>:
          <span class="`+C.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+C.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+C.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:C.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},M.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},M.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},M.prototype.show=function(){var L=this.getContainer();!L||this.destroyed||(this.set("visible",!0),O.modifyCSS(L,{visibility:"visible"}),this.setCrossHairsVisible(!0))},M.prototype.hide=function(){var L=this.getContainer();!L||this.destroyed||(this.set("visible",!1),O.modifyCSS(L,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},M.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},M.prototype.setLocation=function(L){this.set("x",L.x),this.set("y",L.y),this.resetPosition()},M.prototype.setCrossHairsVisible=function(L){var k=L?"":"none",F=this.get("xCrosshairDom"),W=this.get("yCrosshairDom");F&&O.modifyCSS(F,{display:k}),W&&O.modifyCSS(W,{display:k})},M.prototype.initContainer=function(){if(g.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var L=this.getHtmlContentNode();this.get("parent").appendChild(L),this.set("container",L),this.resetStyles(),this.applyStyles()}},M.prototype.updateInner=function(L){this.get("customContent")?this.renderCustomContent():(y(L,["title","showTitle"])&&this.resetTitle(),P.hasKey(L,"items")&&this.renderItems()),g.prototype.updateInner.call(this,L)},M.prototype.initDom=function(){this.cacheDoms()},M.prototype.removeDom=function(){g.prototype.removeDom.call(this),this.clearCrosshairs()},M.prototype.resetPosition=function(){var L=this.get("x"),k=this.get("y"),F=this.get("offset"),W=this.getOffset(),$=W.offsetX,z=W.offsetY,U=this.get("position"),et=this.get("region"),q=this.getContainer(),dt=this.getBBox(),ct=dt.width,Mt=dt.height,D;et&&(D=E.regionToBBox(et));var G=b.getAlignPoint(L,k,F,ct,Mt,U,D);O.modifyCSS(q,{left:E.toPx(G.x+$),top:E.toPx(G.y+z)}),this.resetCrosshairs()},M.prototype.renderCustomContent=function(){var L=this.getHtmlContentNode(),k=this.get("parent"),F=this.get("container");F&&F.parentNode===k?k.replaceChild(L,F):k.appendChild(L),this.set("container",L),this.resetStyles(),this.applyStyles()},M.prototype.getHtmlContentNode=function(){var L,k=this.get("customContent");if(k){var F=k(this.get("title"),this.get("items"));P.isElement(F)?L=F:L=O.createDom(F)}return L},M.prototype.cacheDoms=function(){var L=this.getContainer(),k=L.getElementsByClassName(C.TITLE_CLASS)[0],F=L.getElementsByClassName(C.LIST_CLASS)[0];this.set("titleDom",k),this.set("listDom",F)},M.prototype.resetTitle=function(){var L=this.get("title"),k=this.get("showTitle");k&&L?this.setTitle(L):this.setTitle("")},M.prototype.setTitle=function(L){var k=this.get("titleDom");k&&(k.innerText=L)},M.prototype.resetCrosshairs=function(){var L=this.get("crosshairsRegion"),k=this.get("crosshairs");if(!L||!k)this.clearCrosshairs();else{var F=E.regionToBBox(L),W=this.get("xCrosshairDom"),$=this.get("yCrosshairDom");k==="x"?(this.resetCrosshair("x",F),$&&($.remove(),this.set("yCrosshairDom",null))):k==="y"?(this.resetCrosshair("y",F),W&&(W.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",F),this.resetCrosshair("y",F)),this.setCrossHairsVisible(this.get("visible"))}},M.prototype.resetCrosshair=function(L,k){var F=this.checkCrosshair(L),W=this.get(L);L==="x"?O.modifyCSS(F,{left:E.toPx(W),top:E.toPx(k.y),height:E.toPx(k.height)}):O.modifyCSS(F,{top:E.toPx(W),left:E.toPx(k.x),width:E.toPx(k.width)})},M.prototype.checkCrosshair=function(L){var k=L+"CrosshairDom",F=L+"CrosshairTpl",W="CROSSHAIR_"+L.toUpperCase(),$=C[W],z=this.get(k),U=this.get("parent");return z||(z=O.createDom(this.get(F)),this.applyStyle($,z),U.appendChild(z),this.set(k,z)),z},M.prototype.renderItems=function(){this.clearItemDoms();var L=this.get("items"),k=this.get("itemTpl"),F=this.get("listDom");F&&(P.each(L,function(W){var $=I.default.toCSSGradient(W.color),z=_.__assign(_.__assign({},W),{color:$}),U=P.substitute(k,z),et=O.createDom(U);F.appendChild(et)}),this.applyChildrenStyles(F,this.get("domStyles")))},M.prototype.clearItemDoms=function(){this.get("listDom")&&E.clearDom(this.get("listDom"))},M.prototype.clearCrosshairs=function(){var L=this.get("xCrosshairDom"),k=this.get("yCrosshairDom");L&&L.remove(),k&&k.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},M}(A.default);S.Z=x},51227:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function d(I,O,P,A,E){var C={left:I<E.x,right:I+P>E.x+E.width,top:O<E.y,bottom:O+A>E.y+E.height};return C}S.getOutSides=d;function w(I,O,P,A,E,C){var p=I,b=O;switch(C){case"left":p=I-A-P,b=O-E/2;break;case"right":p=I+P,b=O-E/2;break;case"top":p=I-A/2,b=O-E-P;break;case"bottom":p=I-A/2,b=O+P;break;default:p=I+P,b=O-E-P;break}return{x:p,y:b}}S.getPointByPosition=w;function _(I,O,P,A,E,C,p){var b=w(I,O,P,A,E,C);if(p){var y=d(b.x,b.y,A,E,p);C==="auto"?(y.right&&(b.x=Math.max(0,I-A-P)),y.top&&(b.y=Math.max(0,O-E-P))):C==="top"||C==="bottom"?(y.left&&(b.x=p.x),y.right&&(b.x=p.x+p.width-A),C==="top"&&y.top&&(b.y=O+P),C==="bottom"&&y.bottom&&(b.y=O-E-P)):(y.top&&(b.y=p.y),y.bottom&&(b.y=p.y+p.height-E),C==="left"&&y.left&&(b.x=I+P),C==="right"&&y.right&&(b.x=I-A-P))}return b}S.getAlignPoint=_},31207:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var w=d(66192);function _(I,O,P){var A=new w.default(O,P);A.target=I,A.propagationPath.push(I),I.emitDelegation(O,A);for(var E=I.getParent();E;)E.emitDelegation(O,A),A.propagationPath.push(E),E=E.getParent()}S.propagationDelegate=_},52782:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var w=d(49242);function _(F){var W=0,$=0,z=0,U=0;return w.isNumber(F)?W=$=z=U=F:w.isArray(F)&&(W=F[0],z=w.isNil(F[1])?F[0]:F[1],U=w.isNil(F[2])?F[0]:F[2],$=w.isNil(F[3])?z:F[3]),[W,z,U,$]}S.formatPadding=_;function I(F){for(var W=F.childNodes,$=W.length,z=$-1;z>=0;z--)F.removeChild(W[z])}S.clearDom=I;function O(F,W){return!!F.className.match(new RegExp("(\\s|^)"+W+"(\\s|$)"))}S.hasClass=O;function P(F){var W=F.start,$=F.end,z=Math.min(W.x,$.x),U=Math.min(W.y,$.y),et=Math.max(W.x,$.x),q=Math.max(W.y,$.y);return{x:z,y:U,minX:z,minY:U,maxX:et,maxY:q,width:et-z,height:q-U}}S.regionToBBox=P;function A(F){var W=F.map(function(dt){return dt.x}),$=F.map(function(dt){return dt.y}),z=Math.min.apply(Math,W),U=Math.min.apply(Math,$),et=Math.max.apply(Math,W),q=Math.max.apply(Math,$);return{x:z,y:U,minX:z,minY:U,maxX:et,maxY:q,width:et-z,height:q-U}}S.pointsToBBox=A;function E(F,W,$,z){return{x:F,y:W,width:$,height:z,minX:F,minY:W,maxX:F+$,maxY:W+z}}S.createBBox=E;function C(F,W,$){return(1-$)*F+W*$}S.getValueByPercent=C;function p(F,W,$){return{x:F.x+Math.cos($)*W,y:F.y+Math.sin($)*W}}S.getCirclePoint=p;function b(F,W){var $=W.x-F.x,z=W.y-F.y;return Math.sqrt($*$+z*z)}S.distance=b,S.wait=function(F){return new Promise(function(W){setTimeout(W,F)})},S.near=function(F,W){return[F,W].includes(Infinity)?Math.abs(F)===Math.abs(W):Math.abs(F-W)<Math.pow(Number.EPSILON,.5)};function y(F,W){var $=Math.max(F.minX,W.minX),z=Math.max(F.minY,W.minY),U=Math.min(F.maxX,W.maxX),et=Math.min(F.maxY,W.maxY);return E($,z,U-$,et-z)}S.intersectBBox=y;function x(F,W){var $=Math.min(F.minX,W.minX),z=Math.min(F.minY,W.minY),U=Math.max(F.maxX,W.maxX),et=Math.max(F.maxY,W.maxY);return E($,z,U-$,et-z)}S.mergeBBox=x;function g(F){var W=F.getClip(),$=W&&W.getBBox(),z;if(!F.isGroup())z=F.getBBox();else{var U=Infinity,et=-Infinity,q=Infinity,dt=-Infinity,ct=F.getChildren();ct.length>0?w.each(ct,function(Mt){if(Mt.get("visible")){if(Mt.isGroup()&&Mt.get("children").length===0)return!0;var D=g(Mt),G=Mt.applyToMatrix([D.minX,D.minY,1]),X=Mt.applyToMatrix([D.minX,D.maxY,1]),N=Mt.applyToMatrix([D.maxX,D.minY,1]),tt=Mt.applyToMatrix([D.maxX,D.maxY,1]),Q=Math.min(G[0],X[0],N[0],tt[0]),K=Math.max(G[0],X[0],N[0],tt[0]),V=Math.min(G[1],X[1],N[1],tt[1]),H=Math.max(G[1],X[1],N[1],tt[1]);Q<U&&(U=Q),K>et&&(et=K),V<q&&(q=V),H>dt&&(dt=H)}}):(U=0,et=0,q=0,dt=0),z=E(U,q,et-U,dt-q)}return $?y(z,$):z}S.getBBoxWithClip=g;function M(F,W){if(!(!F.getClip()&&!W.getClip())){var $=W.getClip();if(!$){F.setClip(null);return}var z={type:$.get("type"),attrs:$.attr()};F.setClip(z)}}S.updateClip=M;function L(F){return F+"px"}S.toPx=L;function k(F,W,$,z){var U=b(F,W),et=z/U,q=0;return $==="start"?q=0-et:$==="end"&&(q=1+et),{x:C(F.x,W.x,q),y:C(F.y,W.y,q)}}S.getTextPoint=k},13541:function(bt,S,d){"use strict";d.r(S),d.d(S,{Coordinate:function(){return E},getCoordinate:function(){return k},registerCoordinate:function(){return F}});var w=d(70655),_=d(77160),I=d(35600),O=d(31506),P=d(49242),A=function(){function W($){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var z=$.start,U=$.end,et=$.matrix,q=et===void 0?[1,0,0,0,1,0,0,0,1]:et,dt=$.isTransposed,ct=dt===void 0?!1:dt;this.start=z,this.end=U,this.matrix=q,this.originalMatrix=(0,w.__spreadArray)([],q),this.isTransposed=ct}return W.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},W.prototype.update=function($){(0,P.assign)(this,$),this.initial()},W.prototype.convertDim=function($,z){var U,et=this[z],q=et.start,dt=et.end;return this.isReflect(z)&&(U=[dt,q],q=U[0],dt=U[1]),q+$*(dt-q)},W.prototype.invertDim=function($,z){var U,et=this[z],q=et.start,dt=et.end;return this.isReflect(z)&&(U=[dt,q],q=U[0],dt=U[1]),($-q)/(dt-q)},W.prototype.applyMatrix=function($,z,U){U===void 0&&(U=0);var et=this.matrix,q=[$,z,U];return _.transformMat3(q,q,et),q},W.prototype.invertMatrix=function($,z,U){U===void 0&&(U=0);var et=this.matrix,q=I.invert([0,0,0,0,0,0,0,0,0],et),dt=[$,z,U];return q&&_.transformMat3(dt,dt,q),dt},W.prototype.convert=function($){var z=this.convertPoint($),U=z.x,et=z.y,q=this.applyMatrix(U,et,1);return{x:q[0],y:q[1]}},W.prototype.invert=function($){var z=this.invertMatrix($.x,$.y,1);return this.invertPoint({x:z[0],y:z[1]})},W.prototype.rotate=function($){var z=this.matrix,U=this.center;return O.leftTranslate(z,z,[-U.x,-U.y]),O.leftRotate(z,z,$),O.leftTranslate(z,z,[U.x,U.y]),this},W.prototype.reflect=function($){return $==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},W.prototype.scale=function($,z){var U=this.matrix,et=this.center;return O.leftTranslate(U,U,[-et.x,-et.y]),O.leftScale(U,U,[$,z]),O.leftTranslate(U,U,[et.x,et.y]),this},W.prototype.translate=function($,z){var U=this.matrix;return O.leftTranslate(U,U,[$,z]),this},W.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},W.prototype.getCenter=function(){return this.center},W.prototype.getWidth=function(){return this.width},W.prototype.getHeight=function(){return this.height},W.prototype.getRadius=function(){return this.radius},W.prototype.isReflect=function($){return $==="x"?this.isReflectX:this.isReflectY},W.prototype.resetMatrix=function($){this.matrix=$||(0,w.__spreadArray)([],this.originalMatrix)},W}(),E=A,C=function(W){(0,w.__extends)($,W);function $(z){var U=W.call(this,z)||this;return U.isRect=!0,U.type="cartesian",U.initial(),U}return $.prototype.initial=function(){W.prototype.initial.call(this);var z=this.start,U=this.end;this.x={start:z.x,end:U.x},this.y={start:z.y,end:U.y}},$.prototype.convertPoint=function(z){var U,et=z.x,q=z.y;return this.isTransposed&&(U=[q,et],et=U[0],q=U[1]),{x:this.convertDim(et,"x"),y:this.convertDim(q,"y")}},$.prototype.invertPoint=function(z){var U,et=this.invertDim(z.x,"x"),q=this.invertDim(z.y,"y");return this.isTransposed&&(U=[q,et],et=U[0],q=U[1]),{x:et,y:q}},$}(E),p=C,b=d(31437),y=function(W){(0,w.__extends)($,W);function $(z){var U=W.call(this,z)||this;U.isHelix=!0,U.type="helix";var et=z.startAngle,q=et===void 0?1.25*Math.PI:et,dt=z.endAngle,ct=dt===void 0?7.25*Math.PI:dt,Mt=z.innerRadius,D=Mt===void 0?0:Mt,G=z.radius;return U.startAngle=q,U.endAngle=ct,U.innerRadius=D,U.radius=G,U.initial(),U}return $.prototype.initial=function(){W.prototype.initial.call(this);var z=(this.endAngle-this.startAngle)/(2*Math.PI)+1,U=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(U=U*this.radius),this.d=Math.floor(U*(1-this.innerRadius)/z),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*U,end:this.innerRadius*U+this.d*.99}},$.prototype.convertPoint=function(z){var U,et=z.x,q=z.y;this.isTransposed&&(U=[q,et],et=U[0],q=U[1]);var dt=this.convertDim(et,"x"),ct=this.a*dt,Mt=this.convertDim(q,"y");return{x:this.center.x+Math.cos(dt)*(ct+Mt),y:this.center.y+Math.sin(dt)*(ct+Mt)}},$.prototype.invertPoint=function(z){var U,et=this.d+this.y.start,q=b.subtract([0,0],[z.x,z.y],[this.center.x,this.center.y]),dt=O.angleTo(q,[1,0],!0),ct=dt*this.a;b.length(q)<ct&&(ct=b.length(q));var Mt=Math.floor((b.length(q)-ct)/et);dt=2*Mt*Math.PI+dt;var D=this.a*dt,G=b.length(q)-D;G=(0,P.isNumberEqual)(G,0)?0:G;var X=this.invertDim(dt,"x"),N=this.invertDim(G,"y");return X=(0,P.isNumberEqual)(X,0)?0:X,N=(0,P.isNumberEqual)(N,0)?0:N,this.isTransposed&&(U=[N,X],X=U[0],N=U[1]),{x:X,y:N}},$}(E),x=y,g=function(W){(0,w.__extends)($,W);function $(z){var U=W.call(this,z)||this;U.isPolar=!0,U.type="polar";var et=z.startAngle,q=et===void 0?-Math.PI/2:et,dt=z.endAngle,ct=dt===void 0?Math.PI*3/2:dt,Mt=z.innerRadius,D=Mt===void 0?0:Mt,G=z.radius;return U.startAngle=q,U.endAngle=ct,U.innerRadius=D,U.radius=G,U.initial(),U}return $.prototype.initial=function(){for(W.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var z=this.getOneBox(),U=z.maxX-z.minX,et=z.maxY-z.minY,q=Math.abs(z.minX)/U,dt=Math.abs(z.minY)/et,ct;this.height/et>this.width/U?(ct=this.width/U,this.circleCenter={x:this.center.x-(.5-q)*this.width,y:this.center.y-(.5-dt)*ct*et}):(ct=this.height/et,this.circleCenter={x:this.center.x-(.5-q)*ct*U,y:this.center.y-(.5-dt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=ct*this.radius:(this.radius<=0||this.radius>ct)&&(this.polarRadius=ct):this.polarRadius=ct,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},$.prototype.getRadius=function(){return this.polarRadius},$.prototype.convertPoint=function(z){var U,et=this.getCenter(),q=z.x,dt=z.y;return this.isTransposed&&(U=[dt,q],q=U[0],dt=U[1]),q=this.convertDim(q,"x"),dt=this.convertDim(dt,"y"),{x:et.x+Math.cos(q)*dt,y:et.y+Math.sin(q)*dt}},$.prototype.invertPoint=function(z){var U,et=this.getCenter(),q=[z.x-et.x,z.y-et.y],dt=this,ct=dt.startAngle,Mt=dt.endAngle;this.isReflect("x")&&(U=[Mt,ct],ct=U[0],Mt=U[1]);var D=[1,0,0,0,1,0,0,0,1];O.leftRotate(D,D,ct);var G=[1,0,0];_.transformMat3(G,G,D);var X=[G[0],G[1]],N=O.angleTo(X,q,Mt<ct);(0,P.isNumberEqual)(N,Math.PI*2)&&(N=0);var tt=b.length(q),Q=N/(Mt-ct);Q=Mt-ct>0?Q:-Q;var K=this.invertDim(tt,"y"),V={x:0,y:0};return V.x=this.isTransposed?K:Q,V.y=this.isTransposed?Q:K,V},$.prototype.getCenter=function(){return this.circleCenter},$.prototype.getOneBox=function(){var z=this.startAngle,U=this.endAngle;if(Math.abs(U-z)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var et=[0,Math.cos(z),Math.cos(U)],q=[0,Math.sin(z),Math.sin(U)],dt=Math.min(z,U);dt<Math.max(z,U);dt+=Math.PI/18)et.push(Math.cos(dt)),q.push(Math.sin(dt));return{minX:Math.min.apply(Math,et),maxX:Math.max.apply(Math,et),minY:Math.min.apply(Math,q),maxY:Math.max.apply(Math,q)}},$}(E),M=g,L={},k=function(W){return L[W.toLowerCase()]},F=function(W,$){L[W.toLowerCase()]=$};F("rect",p),F("cartesian",p),F("polar",M),F("helix",x)},57817:function(bt,S,d){"use strict";d.d(S,{Z:function(){return w}});function w(_,I,O){if(_){if(typeof _.addEventListener=="function")return _.addEventListener(I,O,!1),{remove:function(){_.removeEventListener(I,O,!1)}};if(typeof _.attachEvent=="function")return _.attachEvent("on"+I,O),{remove:function(){_.detachEvent("on"+I,O)}}}}},6056:function(bt,S,d){"use strict";d.d(S,{Z:function(){return A}});var w,_,I,O;function P(){w=document.createElement("table"),_=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,O={tr:document.createElement("tbody"),tbody:w,thead:w,tfoot:w,td:_,th:_,"*":document.createElement("div")}}function A(E){w||P();var C=I.test(E)&&RegExp.$1;(!C||!(C in O))&&(C="*");var p=O[C];E=E.replace(/(^\s*)|(\s*$)/g,""),p.innerHTML=""+E;var b=p.childNodes[0];return p.removeChild(b),b}},10430:function(bt,S,d){"use strict";d.d(S,{Z:function(){return _}});var w=d(99911);function _(I,O){var P=(0,w.Z)(I,"height",O);return P==="auto"&&(P=I.offsetHeight),parseFloat(P)}},79189:function(bt,S,d){"use strict";d.d(S,{Z:function(){return I}});var w=d(99911),_=d(10430);function I(O,P){var A=(0,_.Z)(O,P),E=parseFloat((0,w.Z)(O,"borderTopWidth"))||0,C=parseFloat((0,w.Z)(O,"paddingTop"))||0,p=parseFloat((0,w.Z)(O,"paddingBottom"))||0,b=parseFloat((0,w.Z)(O,"borderBottomWidth"))||0,y=parseFloat((0,w.Z)(O,"marginTop"))||0,x=parseFloat((0,w.Z)(O,"marginBottom"))||0;return A+E+b+C+p+y+x}},89810:function(bt,S,d){"use strict";d.d(S,{Z:function(){return I}});var w=d(99911),_=d(23408);function I(O,P){var A=(0,_.Z)(O,P),E=parseFloat((0,w.Z)(O,"borderLeftWidth"))||0,C=parseFloat((0,w.Z)(O,"paddingLeft"))||0,p=parseFloat((0,w.Z)(O,"paddingRight"))||0,b=parseFloat((0,w.Z)(O,"borderRightWidth"))||0,y=parseFloat((0,w.Z)(O,"marginRight"))||0,x=parseFloat((0,w.Z)(O,"marginLeft"))||0;return A+E+b+C+p+x+y}},99911:function(bt,S,d){"use strict";d.d(S,{Z:function(){return w}});function w(_,I,O){var P;try{P=window.getComputedStyle?window.getComputedStyle(_,null)[I]:_.style[I]}catch(A){}finally{P=P===void 0?O:P}return P}},23408:function(bt,S,d){"use strict";d.d(S,{Z:function(){return _}});var w=d(99911);function _(I,O){var P=(0,w.Z)(I,"width",O);return P==="auto"&&(P=I.offsetWidth),parseFloat(P)}},80478:function(bt,S,d){"use strict";d.r(S),d.d(S,{addEventListener:function(){return w.Z},createDom:function(){return _.Z},getHeight:function(){return I.Z},getOuterHeight:function(){return O.Z},getOuterWidth:function(){return P.Z},getRatio:function(){return A},getStyle:function(){return E.Z},getWidth:function(){return C.Z},modifyCSS:function(){return p.Z}});var w=d(57817),_=d(6056),I=d(10430),O=d(79189),P=d(89810);function A(){return window.devicePixelRatio?window.devicePixelRatio:2}var E=d(99911),C=d(23408),p=d(45442)},45442:function(bt,S,d){"use strict";d.d(S,{Z:function(){return w}});function w(_,I){if(_)for(var O in I)I.hasOwnProperty(O)&&(_.style[O]=I[O]);return _}},73136:function(bt,S){"use strict";var d;d={value:!0};function w(_,I,O){if(_){if(typeof _.addEventListener=="function")return _.addEventListener(I,O,!1),{remove:function(){_.removeEventListener(I,O,!1)}};if(typeof _.attachEvent=="function")return _.attachEvent("on"+I,O),{remove:function(){_.detachEvent("on"+I,O)}}}}S.Z=w},57821:function(bt,S){"use strict";var d;d={value:!0};var w,_,I,O;function P(){w=document.createElement("table"),_=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,O={tr:document.createElement("tbody"),tbody:w,thead:w,tfoot:w,td:_,th:_,"*":document.createElement("div")}}function A(E){w||P();var C=I.test(E)&&RegExp.$1;(!C||!(C in O))&&(C="*");var p=O[C];E=E.replace(/(^\s*)|(\s*$)/g,""),p.innerHTML=""+E;var b=p.childNodes[0];return p.removeChild(b),b}S.Z=A},1513:function(bt,S){"use strict";var d;d={value:!0};function w(_,I){if(_)for(var O in I)I.hasOwnProperty(O)&&(_.style[O]=I[O]);return _}S.Z=w},90494:function(bt,S,d){"use strict";d.r(S);var w="*",_=function(){function I(){this._events={}}return I.prototype.on=function(O,P,A){return this._events[O]||(this._events[O]=[]),this._events[O].push({callback:P,once:!!A}),this},I.prototype.once=function(O,P){return this.on(O,P,!0),this},I.prototype.emit=function(O){for(var P=this,A=[],E=1;E<arguments.length;E++)A[E-1]=arguments[E];var C=this._events[O]||[],p=this._events[w]||[],b=function(y){for(var x=y.length,g=0;g<x;g++)if(!!y[g]){var M=y[g],L=M.callback,k=M.once;k&&(y.splice(g,1),y.length===0&&delete P._events[O],x--,g--),L.apply(P,A)}};b(C),b(p)},I.prototype.off=function(O,P){if(!O)this._events={};else if(!P)delete this._events[O];else{for(var A=this._events[O]||[],E=A.length,C=0;C<E;C++)A[C].callback===P&&(A.splice(C,1),E--,C--);A.length===0&&delete this._events[O]}return this},I.prototype.getEvents=function(){return this._events},I}();S.default=_},39014:function(bt,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return fi},AbstractGroup:function(){return Ni},AbstractShape:function(){return Wn},Base:function(){return Ce},Event:function(){return gt},PathUtil:function(){return w},version:function(){return va}});var w={};d.r(w),d.d(w,{catmullRomToBezier:function(){return E},fillPath:function(){return Q},fillPathByDiff:function(){return u},formatPath:function(){return it},intersection:function(){return G},parsePathArray:function(){return L},parsePathString:function(){return A},pathToAbsolute:function(){return p},pathToCurve:function(){return g},rectPath:function(){return U}});var _=d(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,O=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),A=function(kt){if(!kt)return null;if((0,_.isArray)(kt))return kt;var At={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(kt).replace(O,function(yt,Rt,Kt){var se=[],he=Rt.toLowerCase();if(Kt.replace(P,function(ce,De){De&&se.push(+De)}),he==="m"&&se.length>2&&(ft.push([Rt].concat(se.splice(0,2))),he="l",Rt=Rt==="m"?"l":"L"),he==="o"&&se.length===1&&ft.push([Rt,se[0]]),he==="r")ft.push([Rt].concat(se));else for(;se.length>=At[he]&&(ft.push([Rt].concat(se.splice(0,At[he]))),!!At[he]););return kt}),ft},E=function(kt,At){for(var ft=[],yt=0,Rt=kt.length;Rt-2*!At>yt;yt+=2){var Kt=[{x:+kt[yt-2],y:+kt[yt-1]},{x:+kt[yt],y:+kt[yt+1]},{x:+kt[yt+2],y:+kt[yt+3]},{x:+kt[yt+4],y:+kt[yt+5]}];At?yt?Rt-4===yt?Kt[3]={x:+kt[0],y:+kt[1]}:Rt-2===yt&&(Kt[2]={x:+kt[0],y:+kt[1]},Kt[3]={x:+kt[2],y:+kt[3]}):Kt[0]={x:+kt[Rt-2],y:+kt[Rt-1]}:Rt-4===yt?Kt[3]=Kt[2]:yt||(Kt[0]={x:+kt[yt],y:+kt[yt+1]}),ft.push(["C",(-Kt[0].x+6*Kt[1].x+Kt[2].x)/6,(-Kt[0].y+6*Kt[1].y+Kt[2].y)/6,(Kt[1].x+6*Kt[2].x-Kt[3].x)/6,(Kt[1].y+6*Kt[2].y-Kt[3].y)/6,Kt[2].x,Kt[2].y])}return ft},C=function(kt,At,ft,yt,Rt){var Kt=[];if(Rt===null&&yt===null&&(yt=ft),kt=+kt,At=+At,ft=+ft,yt=+yt,Rt!==null){var se=Math.PI/180,he=kt+ft*Math.cos(-yt*se),ce=kt+ft*Math.cos(-Rt*se),De=At+ft*Math.sin(-yt*se),Lt=At+ft*Math.sin(-Rt*se);Kt=[["M",he,De],["A",ft,ft,0,+(Rt-yt>180),0,ce,Lt]]}else Kt=[["M",kt,At],["m",0,-yt],["a",ft,yt,0,1,1,0,2*yt],["a",ft,yt,0,1,1,0,-2*yt],["z"]];return Kt},p=function(kt){if(kt=A(kt),!kt||!kt.length)return[["M",0,0]];var At=[],ft=0,yt=0,Rt=0,Kt=0,se=0,he,ce;kt[0][0]==="M"&&(ft=+kt[0][1],yt=+kt[0][2],Rt=ft,Kt=yt,se++,At[0]=["M",ft,yt]);for(var De=kt.length===3&&kt[0][0]==="M"&&kt[1][0].toUpperCase()==="R"&&kt[2][0].toUpperCase()==="Z",Lt=void 0,_t=void 0,Gt=se,qt=kt.length;Gt<qt;Gt++){if(At.push(Lt=[]),_t=kt[Gt],he=_t[0],he!==he.toUpperCase())switch(Lt[0]=he.toUpperCase(),Lt[0]){case"A":Lt[1]=_t[1],Lt[2]=_t[2],Lt[3]=_t[3],Lt[4]=_t[4],Lt[5]=_t[5],Lt[6]=+_t[6]+ft,Lt[7]=+_t[7]+yt;break;case"V":Lt[1]=+_t[1]+yt;break;case"H":Lt[1]=+_t[1]+ft;break;case"R":ce=[ft,yt].concat(_t.slice(1));for(var Ut=2,fe=ce.length;Ut<fe;Ut++)ce[Ut]=+ce[Ut]+ft,ce[++Ut]=+ce[Ut]+yt;At.pop(),At=At.concat(E(ce,De));break;case"O":At.pop(),ce=C(ft,yt,_t[1],_t[2]),ce.push(ce[0]),At=At.concat(ce);break;case"U":At.pop(),At=At.concat(C(ft,yt,_t[1],_t[2],_t[3])),Lt=["U"].concat(At[At.length-1].slice(-2));break;case"M":Rt=+_t[1]+ft,Kt=+_t[2]+yt;break;default:for(var Ut=1,fe=_t.length;Ut<fe;Ut++)Lt[Ut]=+_t[Ut]+(Ut%2?ft:yt)}else if(he==="R")ce=[ft,yt].concat(_t.slice(1)),At.pop(),At=At.concat(E(ce,De)),Lt=["R"].concat(_t.slice(-2));else if(he==="O")At.pop(),ce=C(ft,yt,_t[1],_t[2]),ce.push(ce[0]),At=At.concat(ce);else if(he==="U")At.pop(),At=At.concat(C(ft,yt,_t[1],_t[2],_t[3])),Lt=["U"].concat(At[At.length-1].slice(-2));else for(var Me=0,Oe=_t.length;Me<Oe;Me++)Lt[Me]=_t[Me];if(he=he.toUpperCase(),he!=="O")switch(Lt[0]){case"Z":ft=+Rt,yt=+Kt;break;case"H":ft=Lt[1];break;case"V":yt=Lt[1];break;case"M":Rt=Lt[Lt.length-2],Kt=Lt[Lt.length-1];break;default:ft=Lt[Lt.length-2],yt=Lt[Lt.length-1]}}return At},b=function(kt,At,ft,yt){return[kt,At,ft,yt,ft,yt]},y=function(kt,At,ft,yt,Rt,Kt){var se=1/3,he=2/3;return[se*kt+he*ft,se*At+he*yt,se*Rt+he*ft,se*Kt+he*yt,Rt,Kt]},x=function(kt,At,ft,yt,Rt,Kt,se,he,ce,De){ft===yt&&(ft+=1);var Lt=Math.PI*120/180,_t=Math.PI/180*(+Rt||0),Gt=[],qt,Ut,fe,Me,Oe,Xe=function(_i,Jn,Wi){var oa=_i*Math.cos(Wi)-Jn*Math.sin(Wi),Ka=_i*Math.sin(Wi)+Jn*Math.cos(Wi);return{x:oa,y:Ka}};if(De)Ut=De[0],fe=De[1],Me=De[2],Oe=De[3];else{qt=Xe(kt,At,-_t),kt=qt.x,At=qt.y,qt=Xe(he,ce,-_t),he=qt.x,ce=qt.y,kt===he&&At===ce&&(he+=1,ce+=1);var Le=(kt-he)/2,Ae=(At-ce)/2,dr=Le*Le/(ft*ft)+Ae*Ae/(yt*yt);dr>1&&(dr=Math.sqrt(dr),ft=dr*ft,yt=dr*yt);var Mr=ft*ft,Kr=yt*yt,Ur=(Kt===se?-1:1)*Math.sqrt(Math.abs((Mr*Kr-Mr*Ae*Ae-Kr*Le*Le)/(Mr*Ae*Ae+Kr*Le*Le)));Me=Ur*ft*Ae/yt+(kt+he)/2,Oe=Ur*-yt*Le/ft+(At+ce)/2,Ut=Math.asin(((At-Oe)/yt).toFixed(9)),fe=Math.asin(((ce-Oe)/yt).toFixed(9)),Ut=kt<Me?Math.PI-Ut:Ut,fe=he<Me?Math.PI-fe:fe,Ut<0&&(Ut=Math.PI*2+Ut),fe<0&&(fe=Math.PI*2+fe),se&&Ut>fe&&(Ut=Ut-Math.PI*2),!se&&fe>Ut&&(fe=fe-Math.PI*2)}var bn=fe-Ut;if(Math.abs(bn)>Lt){var Mn=fe,ni=he,zn=ce;fe=Ut+Lt*(se&&fe>Ut?1:-1),he=Me+ft*Math.cos(fe),ce=Oe+yt*Math.sin(fe),Gt=x(he,ce,ft,yt,Rt,0,se,ni,zn,[fe,Mn,Me,Oe])}bn=fe-Ut;var hi=Math.cos(Ut),$n=Math.sin(Ut),Xn=Math.cos(fe),en=Math.sin(fe),ii=Math.tan(bn/4),Qn=4/3*ft*ii,Nn=4/3*yt*ii,na=[kt,At],wi=[kt+Qn*$n,At-Nn*hi],Ki=[he+Qn*en,ce-Nn*Xn],Ma=[he,ce];if(wi[0]=2*na[0]-wi[0],wi[1]=2*na[1]-wi[1],De)return[wi,Ki,Ma].concat(Gt);Gt=[wi,Ki,Ma].concat(Gt).join().split(",");for(var ia=[],Si=0,aa=Gt.length;Si<aa;Si++)ia[Si]=Si%2?Xe(Gt[Si-1],Gt[Si],_t).y:Xe(Gt[Si],Gt[Si+1],_t).x;return ia},g=function(kt,At){var ft=p(kt),yt=At&&p(At),Rt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Kt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},se=[],he=[],ce="",De="",Lt,_t=function(Le,Ae,dr){var Mr,Kr;if(!Le)return["C",Ae.x,Ae.y,Ae.x,Ae.y,Ae.x,Ae.y];switch(!(Le[0]in{T:1,Q:1})&&(Ae.qx=Ae.qy=null),Le[0]){case"M":Ae.X=Le[1],Ae.Y=Le[2];break;case"A":Le=["C"].concat(x.apply(0,[Ae.x,Ae.y].concat(Le.slice(1))));break;case"S":dr==="C"||dr==="S"?(Mr=Ae.x*2-Ae.bx,Kr=Ae.y*2-Ae.by):(Mr=Ae.x,Kr=Ae.y),Le=["C",Mr,Kr].concat(Le.slice(1));break;case"T":dr==="Q"||dr==="T"?(Ae.qx=Ae.x*2-Ae.qx,Ae.qy=Ae.y*2-Ae.qy):(Ae.qx=Ae.x,Ae.qy=Ae.y),Le=["C"].concat(y(Ae.x,Ae.y,Ae.qx,Ae.qy,Le[1],Le[2]));break;case"Q":Ae.qx=Le[1],Ae.qy=Le[2],Le=["C"].concat(y(Ae.x,Ae.y,Le[1],Le[2],Le[3],Le[4]));break;case"L":Le=["C"].concat(b(Ae.x,Ae.y,Le[1],Le[2]));break;case"H":Le=["C"].concat(b(Ae.x,Ae.y,Le[1],Ae.y));break;case"V":Le=["C"].concat(b(Ae.x,Ae.y,Ae.x,Le[1]));break;case"Z":Le=["C"].concat(b(Ae.x,Ae.y,Ae.X,Ae.Y));break;default:break}return Le},Gt=function(Le,Ae){if(Le[Ae].length>7){Le[Ae].shift();for(var dr=Le[Ae];dr.length;)se[Ae]="A",yt&&(he[Ae]="A"),Le.splice(Ae++,0,["C"].concat(dr.splice(0,6)));Le.splice(Ae,1),Lt=Math.max(ft.length,yt&&yt.length||0)}},qt=function(Le,Ae,dr,Mr,Kr){Le&&Ae&&Le[Kr][0]==="M"&&Ae[Kr][0]!=="M"&&(Ae.splice(Kr,0,["M",Mr.x,Mr.y]),dr.bx=0,dr.by=0,dr.x=Le[Kr][1],dr.y=Le[Kr][2],Lt=Math.max(ft.length,yt&&yt.length||0))};Lt=Math.max(ft.length,yt&&yt.length||0);for(var Ut=0;Ut<Lt;Ut++){ft[Ut]&&(ce=ft[Ut][0]),ce!=="C"&&(se[Ut]=ce,Ut&&(De=se[Ut-1])),ft[Ut]=_t(ft[Ut],Rt,De),se[Ut]!=="A"&&ce==="C"&&(se[Ut]="C"),Gt(ft,Ut),yt&&(yt[Ut]&&(ce=yt[Ut][0]),ce!=="C"&&(he[Ut]=ce,Ut&&(De=he[Ut-1])),yt[Ut]=_t(yt[Ut],Kt,De),he[Ut]!=="A"&&ce==="C"&&(he[Ut]="C"),Gt(yt,Ut)),qt(ft,yt,Rt,Kt,Ut),qt(yt,ft,Kt,Rt,Ut);var fe=ft[Ut],Me=yt&&yt[Ut],Oe=fe.length,Xe=yt&&Me.length;Rt.x=fe[Oe-2],Rt.y=fe[Oe-1],Rt.bx=parseFloat(fe[Oe-4])||Rt.x,Rt.by=parseFloat(fe[Oe-3])||Rt.y,Kt.bx=yt&&(parseFloat(Me[Xe-4])||Kt.x),Kt.by=yt&&(parseFloat(Me[Xe-3])||Kt.y),Kt.x=yt&&Me[Xe-2],Kt.y=yt&&Me[Xe-1]}return yt?[ft,yt]:ft},M=/,?([a-z]),?/gi,L=function(kt){return kt.join(",").replace(M,"$1")},k=function(kt,At,ft,yt,Rt){var Kt=-3*At+9*ft-9*yt+3*Rt,se=kt*Kt+6*At-12*ft+6*yt;return kt*se-3*At+3*ft},F=function(kt,At,ft,yt,Rt,Kt,se,he,ce){ce===null&&(ce=1),ce=ce>1?1:ce<0?0:ce;for(var De=ce/2,Lt=12,_t=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Gt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],qt=0,Ut=0;Ut<Lt;Ut++){var fe=De*_t[Ut]+De,Me=k(fe,kt,ft,Rt,se),Oe=k(fe,At,yt,Kt,he),Xe=Me*Me+Oe*Oe;qt+=Gt[Ut]*Math.sqrt(Xe)}return De*qt},W=function(kt,At,ft,yt,Rt,Kt,se,he){for(var ce=[],De=[[],[]],Lt,_t,Gt,qt,Ut=0;Ut<2;++Ut){if(Ut===0?(_t=6*kt-12*ft+6*Rt,Lt=-3*kt+9*ft-9*Rt+3*se,Gt=3*ft-3*kt):(_t=6*At-12*yt+6*Kt,Lt=-3*At+9*yt-9*Kt+3*he,Gt=3*yt-3*At),Math.abs(Lt)<1e-12){if(Math.abs(_t)<1e-12)continue;qt=-Gt/_t,qt>0&&qt<1&&ce.push(qt);continue}var fe=_t*_t-4*Gt*Lt,Me=Math.sqrt(fe);if(!(fe<0)){var Oe=(-_t+Me)/(2*Lt);Oe>0&&Oe<1&&ce.push(Oe);var Xe=(-_t-Me)/(2*Lt);Xe>0&&Xe<1&&ce.push(Xe)}}for(var Le=ce.length,Ae=Le,dr;Le--;)qt=ce[Le],dr=1-qt,De[0][Le]=dr*dr*dr*kt+3*dr*dr*qt*ft+3*dr*qt*qt*Rt+qt*qt*qt*se,De[1][Le]=dr*dr*dr*At+3*dr*dr*qt*yt+3*dr*qt*qt*Kt+qt*qt*qt*he;return De[0][Ae]=kt,De[1][Ae]=At,De[0][Ae+1]=se,De[1][Ae+1]=he,De[0].length=De[1].length=Ae+2,{min:{x:Math.min.apply(0,De[0]),y:Math.min.apply(0,De[1])},max:{x:Math.max.apply(0,De[0]),y:Math.max.apply(0,De[1])}}},$=function(kt,At,ft,yt,Rt,Kt,se,he){if(!(Math.max(kt,ft)<Math.min(Rt,se)||Math.min(kt,ft)>Math.max(Rt,se)||Math.max(At,yt)<Math.min(Kt,he)||Math.min(At,yt)>Math.max(Kt,he))){var ce=(kt*yt-At*ft)*(Rt-se)-(kt-ft)*(Rt*he-Kt*se),De=(kt*yt-At*ft)*(Kt-he)-(At-yt)*(Rt*he-Kt*se),Lt=(kt-ft)*(Kt-he)-(At-yt)*(Rt-se);if(!!Lt){var _t=ce/Lt,Gt=De/Lt,qt=+_t.toFixed(2),Ut=+Gt.toFixed(2);if(!(qt<+Math.min(kt,ft).toFixed(2)||qt>+Math.max(kt,ft).toFixed(2)||qt<+Math.min(Rt,se).toFixed(2)||qt>+Math.max(Rt,se).toFixed(2)||Ut<+Math.min(At,yt).toFixed(2)||Ut>+Math.max(At,yt).toFixed(2)||Ut<+Math.min(Kt,he).toFixed(2)||Ut>+Math.max(Kt,he).toFixed(2)))return{x:_t,y:Gt}}}},z=function(kt,At,ft){return At>=kt.x&&At<=kt.x+kt.width&&ft>=kt.y&&ft<=kt.y+kt.height},U=function(kt,At,ft,yt,Rt){if(Rt)return[["M",+kt+ +Rt,At],["l",ft-Rt*2,0],["a",Rt,Rt,0,0,1,Rt,Rt],["l",0,yt-Rt*2],["a",Rt,Rt,0,0,1,-Rt,Rt],["l",Rt*2-ft,0],["a",Rt,Rt,0,0,1,-Rt,-Rt],["l",0,Rt*2-yt],["a",Rt,Rt,0,0,1,Rt,-Rt],["z"]];var Kt=[["M",kt,At],["l",ft,0],["l",0,yt],["l",-ft,0],["z"]];return Kt.parsePathArray=L,Kt},et=function(kt,At,ft,yt){return kt===null&&(kt=At=ft=yt=0),At===null&&(At=kt.y,ft=kt.width,yt=kt.height,kt=kt.x),{x:kt,y:At,width:ft,w:ft,height:yt,h:yt,x2:kt+ft,y2:At+yt,cx:kt+ft/2,cy:At+yt/2,r1:Math.min(ft,yt)/2,r2:Math.max(ft,yt)/2,r0:Math.sqrt(ft*ft+yt*yt)/2,path:U(kt,At,ft,yt),vb:[kt,At,ft,yt].join(" ")}},q=function(kt,At){return kt=et(kt),At=et(At),z(At,kt.x,kt.y)||z(At,kt.x2,kt.y)||z(At,kt.x,kt.y2)||z(At,kt.x2,kt.y2)||z(kt,At.x,At.y)||z(kt,At.x2,At.y)||z(kt,At.x,At.y2)||z(kt,At.x2,At.y2)||(kt.x<At.x2&&kt.x>At.x||At.x<kt.x2&&At.x>kt.x)&&(kt.y<At.y2&&kt.y>At.y||At.y<kt.y2&&At.y>kt.y)},dt=function(kt,At,ft,yt,Rt,Kt,se,he){(0,_.isArray)(kt)||(kt=[kt,At,ft,yt,Rt,Kt,se,he]);var ce=W.apply(null,kt);return et(ce.min.x,ce.min.y,ce.max.x-ce.min.x,ce.max.y-ce.min.y)},ct=function(kt,At,ft,yt,Rt,Kt,se,he,ce){var De=1-ce,Lt=Math.pow(De,3),_t=Math.pow(De,2),Gt=ce*ce,qt=Gt*ce,Ut=Lt*kt+_t*3*ce*ft+De*3*ce*ce*Rt+qt*se,fe=Lt*At+_t*3*ce*yt+De*3*ce*ce*Kt+qt*he,Me=kt+2*ce*(ft-kt)+Gt*(Rt-2*ft+kt),Oe=At+2*ce*(yt-At)+Gt*(Kt-2*yt+At),Xe=ft+2*ce*(Rt-ft)+Gt*(se-2*Rt+ft),Le=yt+2*ce*(Kt-yt)+Gt*(he-2*Kt+yt),Ae=De*kt+ce*ft,dr=De*At+ce*yt,Mr=De*Rt+ce*se,Kr=De*Kt+ce*he,Ur=90-Math.atan2(Me-Xe,Oe-Le)*180/Math.PI;return{x:Ut,y:fe,m:{x:Me,y:Oe},n:{x:Xe,y:Le},start:{x:Ae,y:dr},end:{x:Mr,y:Kr},alpha:Ur}},Mt=function(kt,At,ft){var yt=dt(kt),Rt=dt(At);if(!q(yt,Rt))return ft?0:[];for(var Kt=F.apply(0,kt),se=F.apply(0,At),he=~~(Kt/8),ce=~~(se/8),De=[],Lt=[],_t={},Gt=ft?0:[],qt=0;qt<he+1;qt++){var Ut=ct.apply(0,kt.concat(qt/he));De.push({x:Ut.x,y:Ut.y,t:qt/he})}for(var qt=0;qt<ce+1;qt++){var Ut=ct.apply(0,At.concat(qt/ce));Lt.push({x:Ut.x,y:Ut.y,t:qt/ce})}for(var qt=0;qt<he;qt++)for(var fe=0;fe<ce;fe++){var Me=De[qt],Oe=De[qt+1],Xe=Lt[fe],Le=Lt[fe+1],Ae=Math.abs(Oe.x-Me.x)<.001?"y":"x",dr=Math.abs(Le.x-Xe.x)<.001?"y":"x",Mr=$(Me.x,Me.y,Oe.x,Oe.y,Xe.x,Xe.y,Le.x,Le.y);if(Mr){if(_t[Mr.x.toFixed(4)]===Mr.y.toFixed(4))continue;_t[Mr.x.toFixed(4)]=Mr.y.toFixed(4);var Kr=Me.t+Math.abs((Mr[Ae]-Me[Ae])/(Oe[Ae]-Me[Ae]))*(Oe.t-Me.t),Ur=Xe.t+Math.abs((Mr[dr]-Xe[dr])/(Le[dr]-Xe[dr]))*(Le.t-Xe.t);Kr>=0&&Kr<=1&&Ur>=0&&Ur<=1&&(ft?Gt+=1:Gt.push({x:Mr.x,y:Mr.y,t1:Kr,t2:Ur}))}}return Gt},D=function(kt,At,ft){kt=g(kt),At=g(At);for(var yt,Rt,Kt,se,he,ce,De,Lt,_t,Gt,qt=ft?0:[],Ut=0,fe=kt.length;Ut<fe;Ut++){var Me=kt[Ut];if(Me[0]==="M")yt=he=Me[1],Rt=ce=Me[2];else{Me[0]==="C"?(_t=[yt,Rt].concat(Me.slice(1)),yt=_t[6],Rt=_t[7]):(_t=[yt,Rt,yt,Rt,he,ce,he,ce],yt=he,Rt=ce);for(var Oe=0,Xe=At.length;Oe<Xe;Oe++){var Le=At[Oe];if(Le[0]==="M")Kt=De=Le[1],se=Lt=Le[2];else{Le[0]==="C"?(Gt=[Kt,se].concat(Le.slice(1)),Kt=Gt[6],se=Gt[7]):(Gt=[Kt,se,Kt,se,De,Lt,De,Lt],Kt=De,se=Lt);var Ae=Mt(_t,Gt,ft);if(ft)qt+=Ae;else{for(var dr=0,Mr=Ae.length;dr<Mr;dr++)Ae[dr].segment1=Ut,Ae[dr].segment2=Oe,Ae[dr].bez1=_t,Ae[dr].bez2=Gt;qt=qt.concat(Ae)}}}}}return qt},G=function(kt,At){return D(kt,At)};function X(kt,At){var ft=[],yt=[];function Rt(Kt,se){if(Kt.length===1)ft.push(Kt[0]),yt.push(Kt[0]);else{for(var he=[],ce=0;ce<Kt.length-1;ce++)ce===0&&ft.push(Kt[0]),ce===Kt.length-2&&yt.push(Kt[ce+1]),he[ce]=[(1-se)*Kt[ce][0]+se*Kt[ce+1][0],(1-se)*Kt[ce][1]+se*Kt[ce+1][1]];Rt(he,se)}}return kt.length&&Rt(kt,At),{left:ft,right:yt.reverse()}}function N(kt,At,ft){var yt=[[kt[1],kt[2]]];ft=ft||2;var Rt=[];At[0]==="A"?(yt.push(At[6]),yt.push(At[7])):At[0]==="C"?(yt.push([At[1],At[2]]),yt.push([At[3],At[4]]),yt.push([At[5],At[6]])):At[0]==="S"||At[0]==="Q"?(yt.push([At[1],At[2]]),yt.push([At[3],At[4]])):yt.push([At[1],At[2]]);for(var Kt=yt,se=1/ft,he=0;he<ft-1;he++){var ce=se/(1-se*he),De=X(Kt,ce);Rt.push(De.left),Kt=De.right}Rt.push(Kt);var Lt=Rt.map(function(_t){var Gt=[];return _t.length===4&&(Gt.push("C"),Gt=Gt.concat(_t[2])),_t.length>=3&&(_t.length===3&&Gt.push("Q"),Gt=Gt.concat(_t[1])),_t.length===2&&Gt.push("L"),Gt=Gt.concat(_t[_t.length-1]),Gt});return Lt}var tt=function(kt,At,ft){if(ft===1)return[[].concat(kt)];var yt=[];if(At[0]==="L"||At[0]==="C"||At[0]==="Q")yt=yt.concat(N(kt,At,ft));else{var Rt=[].concat(kt);Rt[0]==="M"&&(Rt[0]="L");for(var Kt=0;Kt<=ft-1;Kt++)yt.push(Rt)}return yt},Q=function(kt,At){if(kt.length===1)return kt;var ft=kt.length-1,yt=At.length-1,Rt=ft/yt,Kt=[];if(kt.length===1&&kt[0][0]==="M"){for(var se=0;se<yt-ft;se++)kt.push(kt[0]);return kt}for(var se=0;se<yt;se++){var he=Math.floor(Rt*se);Kt[he]=(Kt[he]||0)+1}var ce=Kt.reduce(function(De,Lt,_t){return _t===ft?De.concat(kt[ft]):De.concat(tt(kt[_t],kt[_t+1],Lt))},[]);return ce.unshift(kt[0]),(At[yt]==="Z"||At[yt]==="z")&&ce.push("Z"),ce},K=function(kt,At){if(kt.length!==At.length)return!1;var ft=!0;return(0,_.each)(kt,function(yt,Rt){if(yt!==At[Rt])return ft=!1,!1}),ft};function V(kt,At,ft){var yt=null,Rt=ft;return At<Rt&&(Rt=At,yt="add"),kt<Rt&&(Rt=kt,yt="del"),{type:yt,min:Rt}}var H=function(kt,At){var ft=kt.length,yt=At.length,Rt,Kt,se=0;if(ft===0||yt===0)return null;for(var he=[],ce=0;ce<=ft;ce++)he[ce]=[],he[ce][0]={min:ce};for(var De=0;De<=yt;De++)he[0][De]={min:De};for(var ce=1;ce<=ft;ce++){Rt=kt[ce-1];for(var De=1;De<=yt;De++){Kt=At[De-1],K(Rt,Kt)?se=0:se=1;var Lt=he[ce-1][De].min+1,_t=he[ce][De-1].min+1,Gt=he[ce-1][De-1].min+se;he[ce][De]=V(Lt,_t,Gt)}}return he},u=function(kt,At){var ft=H(kt,At),yt=kt.length,Rt=At.length,Kt=[],se=1,he=1;if(ft[yt][Rt].min!==yt){for(var ce=1;ce<=yt;ce++){var De=ft[ce][ce].min;he=ce;for(var Lt=se;Lt<=Rt;Lt++)ft[ce][Lt].min<De&&(De=ft[ce][Lt].min,he=Lt);se=he,ft[ce][se].type&&Kt.push({index:ce-1,type:ft[ce][se].type})}for(var ce=Kt.length-1;ce>=0;ce--)se=Kt[ce].index,Kt[ce].type==="add"?kt.splice(se,0,[].concat(kt[se])):kt.splice(se,1)}yt=kt.length;var _t=Rt-yt;if(yt<Rt)for(var ce=0;ce<_t;ce++)kt[yt-1][0]==="z"||kt[yt-1][0]==="Z"?kt.splice(yt-2,0,kt[yt-2]):kt.push(kt[yt-1]),yt+=1;return kt};function ot(kt,At,ft){for(var yt=[].concat(kt),Rt,Kt=1/(ft+1),se=pt(At)[0],he=1;he<=ft;he++)Kt*=he,Rt=Math.floor(kt.length*Kt),Rt===0?yt.unshift([se[0]*Kt+kt[Rt][0]*(1-Kt),se[1]*Kt+kt[Rt][1]*(1-Kt)]):yt.splice(Rt,0,[se[0]*Kt+kt[Rt][0]*(1-Kt),se[1]*Kt+kt[Rt][1]*(1-Kt)]);return yt}function pt(kt){var At=[];switch(kt[0]){case"M":At.push([kt[1],kt[2]]);break;case"L":At.push([kt[1],kt[2]]);break;case"A":At.push([kt[6],kt[7]]);break;case"Q":At.push([kt[3],kt[4]]),At.push([kt[1],kt[2]]);break;case"T":At.push([kt[1],kt[2]]);break;case"C":At.push([kt[5],kt[6]]),At.push([kt[1],kt[2]]),At.push([kt[3],kt[4]]);break;case"S":At.push([kt[3],kt[4]]),At.push([kt[1],kt[2]]);break;case"H":At.push([kt[1],kt[1]]);break;case"V":At.push([kt[1],kt[1]]);break;default:}return At}var it=function(kt,At){if(kt.length<=1)return kt;for(var ft,yt=0;yt<At.length;yt++)if(kt[yt][0]!==At[yt][0])switch(ft=pt(kt[yt]),At[yt][0]){case"M":kt[yt]=["M"].concat(ft[0]);break;case"L":kt[yt]=["L"].concat(ft[0]);break;case"A":kt[yt]=[].concat(At[yt]),kt[yt][6]=ft[0][0],kt[yt][7]=ft[0][1];break;case"Q":if(ft.length<2)if(yt>0)ft=ot(ft,kt[yt-1],1);else{kt[yt]=At[yt];break}kt[yt]=["Q"].concat(ft.reduce(function(Rt,Kt){return Rt.concat(Kt)},[]));break;case"T":kt[yt]=["T"].concat(ft[0]);break;case"C":if(ft.length<3)if(yt>0)ft=ot(ft,kt[yt-1],2);else{kt[yt]=At[yt];break}kt[yt]=["C"].concat(ft.reduce(function(Rt,Kt){return Rt.concat(Kt)},[]));break;case"S":if(ft.length<2)if(yt>0)ft=ot(ft,kt[yt-1],1);else{kt[yt]=At[yt];break}kt[yt]=["S"].concat(ft.reduce(function(Rt,Kt){return Rt.concat(Kt)},[]));break;default:kt[yt]=At[yt]}return kt},xt=function(){function kt(At,ft){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=At,this.name=At,this.originalEvent=ft,this.timeStamp=ft.timeStamp}return kt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},kt.prototype.stopPropagation=function(){this.propagationStopped=!0},kt.prototype.toString=function(){var At=this.type;return"[Event (type="+At+")]"},kt.prototype.save=function(){},kt.prototype.restore=function(){},kt}(),gt=xt,wt=d(70655),Dt=d(90494),Nt=d(73890),Ot=d(46812),Tt=d(21830),at=d(33643),st=d(66631),Ct=d(66974),nt=d(27154),rt=d(85260);function mt(kt,At){var ft=kt.indexOf(At);ft!==-1&&kt.splice(ft,1)}var Pt=typeof window!="undefined"&&typeof window.document!="undefined";function Yt(kt,At){if(kt.isCanvas())return!0;for(var ft=At.getParent(),yt=!1;ft;){if(ft===kt){yt=!0;break}ft=ft.getParent()}return yt}function Jt(kt){return kt.cfg.visible&&kt.cfg.capture}var de=function(kt){(0,wt.__extends)(At,kt);function At(ft){var yt=kt.call(this)||this;yt.destroyed=!1;var Rt=yt.getDefaultCfg();return yt.cfg=(0,Ct.default)(Rt,ft),yt}return At.prototype.getDefaultCfg=function(){return{}},At.prototype.get=function(ft){return this.cfg[ft]},At.prototype.set=function(ft,yt){this.cfg[ft]=yt},At.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},At}(Dt.default),Ce=de,ye=d(43631),Se=d(31506);function Fe(kt,At){var ft=[],yt=kt[0],Rt=kt[1],Kt=kt[2],se=kt[3],he=kt[4],ce=kt[5],De=kt[6],Lt=kt[7],_t=kt[8],Gt=At[0],qt=At[1],Ut=At[2],fe=At[3],Me=At[4],Oe=At[5],Xe=At[6],Le=At[7],Ae=At[8];return ft[0]=Gt*yt+qt*se+Ut*De,ft[1]=Gt*Rt+qt*he+Ut*Lt,ft[2]=Gt*Kt+qt*ce+Ut*_t,ft[3]=fe*yt+Me*se+Oe*De,ft[4]=fe*Rt+Me*he+Oe*Lt,ft[5]=fe*Kt+Me*ce+Oe*_t,ft[6]=Xe*yt+Le*se+Ae*De,ft[7]=Xe*Rt+Le*he+Ae*Lt,ft[8]=Xe*Kt+Le*ce+Ae*_t,ft}function Ze(kt,At){var ft=[],yt=At[0],Rt=At[1];return ft[0]=kt[0]*yt+kt[3]*Rt+kt[6],ft[1]=kt[1]*yt+kt[4]*Rt+kt[7],ft}function er(kt){var At=[],ft=kt[0],yt=kt[1],Rt=kt[2],Kt=kt[3],se=kt[4],he=kt[5],ce=kt[6],De=kt[7],Lt=kt[8],_t=Lt*se-he*De,Gt=-Lt*Kt+he*ce,qt=De*Kt-se*ce,Ut=ft*_t+yt*Gt+Rt*qt;return Ut?(Ut=1/Ut,At[0]=_t*Ut,At[1]=(-Lt*yt+Rt*De)*Ut,At[2]=(he*yt-Rt*se)*Ut,At[3]=Gt*Ut,At[4]=(Lt*ft-Rt*ce)*Ut,At[5]=(-he*ft+Rt*Kt)*Ut,At[6]=qt*Ut,At[7]=(-De*ft+yt*ce)*Ut,At[8]=(se*ft-yt*Kt)*Ut,At):null}var qe="matrix",Pr=["zIndex","capture","visible","type"],rn=["repeat"],Or=":",Wr="*";function Zn(kt){for(var At=[],ft=0;ft<kt.length;ft++)(0,_.isArray)(kt[ft])?At.push([].concat(kt[ft])):At.push(kt[ft]);return At}function ei(kt,At){var ft={},yt=At.attrs;for(var Rt in kt)ft[Rt]=yt[Rt];return ft}function mi(kt,At){var ft={},yt=At.attr();return(0,_.each)(kt,function(Rt,Kt){rn.indexOf(Kt)===-1&&!(0,_.isEqual)(yt[Kt],Rt)&&(ft[Kt]=Rt)}),ft}function xi(kt,At){if(At.onFrame)return kt;var ft=At.startTime,yt=At.delay,Rt=At.duration,Kt=Object.prototype.hasOwnProperty;return(0,_.each)(kt,function(se){ft+yt<se.startTime+se.delay+se.duration&&Rt>se.delay&&(0,_.each)(At.toAttrs,function(he,ce){Kt.call(se.toAttrs,ce)&&(delete se.toAttrs[ce],delete se.fromAttrs[ce])})}),kt}var Ht=function(kt){(0,wt.__extends)(At,kt);function At(ft){var yt=kt.call(this,ft)||this;yt.attrs={};var Rt=yt.getDefaultAttrs();return(0,_.mix)(Rt,ft.attrs),yt.attrs=Rt,yt.initAttrs(Rt),yt.initAnimate(),yt}return At.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},At.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},At.prototype.onCanvasChange=function(ft){},At.prototype.initAttrs=function(ft){},At.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},At.prototype.isGroup=function(){return!1},At.prototype.getParent=function(){return this.get("parent")},At.prototype.getCanvas=function(){return this.get("canvas")},At.prototype.attr=function(){for(var ft,yt=[],Rt=0;Rt<arguments.length;Rt++)yt[Rt]=arguments[Rt];var Kt=yt[0],se=yt[1];if(!Kt)return this.attrs;if((0,_.isObject)(Kt)){for(var he in Kt)this.setAttr(he,Kt[he]);return this.afterAttrsChange(Kt),this}return yt.length===2?(this.setAttr(Kt,se),this.afterAttrsChange((ft={},ft[Kt]=se,ft)),this):this.attrs[Kt]},At.prototype.isClipped=function(ft,yt){var Rt=this.getClip();return Rt&&!Rt.isHit(ft,yt)},At.prototype.setAttr=function(ft,yt){var Rt=this.attrs[ft];Rt!==yt&&(this.attrs[ft]=yt,this.onAttrChange(ft,yt,Rt))},At.prototype.onAttrChange=function(ft,yt,Rt){ft==="matrix"&&this.set("totalMatrix",null)},At.prototype.afterAttrsChange=function(ft){this.onCanvasChange("attr")},At.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},At.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},At.prototype.setZIndex=function(ft){this.set("zIndex",ft);var yt=this.getParent();return yt&&yt.sort(),this},At.prototype.toFront=function(){var ft=this.getParent();if(!!ft){var yt=ft.getChildren(),Rt=this.get("el"),Kt=yt.indexOf(this);yt.splice(Kt,1),yt.push(this),this.onCanvasChange("zIndex")}},At.prototype.toBack=function(){var ft=this.getParent();if(!!ft){var yt=ft.getChildren(),Rt=this.get("el"),Kt=yt.indexOf(this);yt.splice(Kt,1),yt.unshift(this),this.onCanvasChange("zIndex")}},At.prototype.remove=function(ft){ft===void 0&&(ft=!0);var yt=this.getParent();yt?(mt(yt.getChildren(),this),yt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),ft&&this.destroy()},At.prototype.resetMatrix=function(){this.attr(qe,this.getDefaultMatrix()),this.onCanvasChange("matrix")},At.prototype.getMatrix=function(){return this.attr(qe)},At.prototype.setMatrix=function(ft){this.attr(qe,ft),this.onCanvasChange("matrix")},At.prototype.getTotalMatrix=function(){var ft=this.get("totalMatrix");if(!ft){var yt=this.attr("matrix"),Rt=this.get("parentMatrix");Rt&&yt?ft=Fe(Rt,yt):ft=yt||Rt,this.set("totalMatrix",ft)}return ft},At.prototype.applyMatrix=function(ft){var yt=this.attr("matrix"),Rt=null;ft&&yt?Rt=Fe(ft,yt):Rt=yt||ft,this.set("totalMatrix",Rt),this.set("parentMatrix",ft)},At.prototype.getDefaultMatrix=function(){return null},At.prototype.applyToMatrix=function(ft){var yt=this.attr("matrix");return yt?Ze(yt,ft):ft},At.prototype.invertFromMatrix=function(ft){var yt=this.attr("matrix");if(yt){var Rt=er(yt);if(Rt)return Ze(Rt,ft)}return ft},At.prototype.setClip=function(ft){var yt=this.getCanvas(),Rt=null;if(ft){var Kt=this.getShapeBase(),se=(0,_.upperFirst)(ft.type),he=Kt[se];he&&(Rt=new he({type:ft.type,isClipShape:!0,attrs:ft.attrs,canvas:yt}))}return this.set("clipShape",Rt),this.onCanvasChange("clip"),Rt},At.prototype.getClip=function(){var ft=this.cfg.clipShape;return ft||null},At.prototype.clone=function(){var ft=this,yt=this.attrs,Rt={};(0,_.each)(yt,function(he,ce){(0,_.isArray)(yt[ce])?Rt[ce]=Zn(yt[ce]):Rt[ce]=yt[ce]});var Kt=this.constructor,se=new Kt({attrs:Rt});return(0,_.each)(Pr,function(he){se.set(he,ft.get(he))}),se},At.prototype.destroy=function(){var ft=this.destroyed;ft||(this.attrs={},kt.prototype.destroy.call(this))},At.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},At.prototype.animate=function(){for(var ft=[],yt=0;yt<arguments.length;yt++)ft[yt]=arguments[yt];this.set("animating",!0);var Rt=this.get("timeline");Rt||(Rt=this.get("canvas").get("timeline"),this.set("timeline",Rt));var Kt=this.get("animations")||[];Rt.timer||Rt.initTimer();var se=ft[0],he=ft[1],ce=ft[2],De=ce===void 0?"easeLinear":ce,Lt=ft[3],_t=Lt===void 0?_.noop:Lt,Gt=ft[4],qt=Gt===void 0?0:Gt,Ut,fe,Me,Oe,Xe;(0,_.isFunction)(se)?(Ut=se,se={}):(0,_.isObject)(se)&&se.onFrame&&(Ut=se.onFrame,fe=se.repeat),(0,_.isObject)(he)?(Xe=he,he=Xe.duration,De=Xe.easing||"easeLinear",qt=Xe.delay||0,fe=Xe.repeat||fe||!1,_t=Xe.callback||_.noop,Me=Xe.pauseCallback||_.noop,Oe=Xe.resumeCallback||_.noop):((0,_.isNumber)(_t)&&(qt=_t,_t=null),(0,_.isFunction)(De)?(_t=De,De="easeLinear"):De=De||"easeLinear");var Le=mi(se,this),Ae={fromAttrs:ei(Le,this),toAttrs:Le,duration:he,easing:De,repeat:fe,callback:_t,pauseCallback:Me,resumeCallback:Oe,delay:qt,startTime:Rt.getTime(),id:(0,_.uniqueId)(),onFrame:Ut,pathFormatted:!1};Kt.length>0?Kt=xi(Kt,Ae):Rt.addAnimator(this),Kt.push(Ae),this.set("animations",Kt),this.set("_pause",{isPaused:!1})},At.prototype.stopAnimate=function(ft){var yt=this;ft===void 0&&(ft=!0);var Rt=this.get("animations");(0,_.each)(Rt,function(Kt){ft&&(Kt.onFrame?yt.attr(Kt.onFrame(1)):yt.attr(Kt.toAttrs)),Kt.callback&&Kt.callback()}),this.set("animating",!1),this.set("animations",[])},At.prototype.pauseAnimate=function(){var ft=this.get("timeline"),yt=this.get("animations"),Rt=ft.getTime();return(0,_.each)(yt,function(Kt){Kt._paused=!0,Kt._pauseTime=Rt,Kt.pauseCallback&&Kt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Rt}),this},At.prototype.resumeAnimate=function(){var ft=this.get("timeline"),yt=ft.getTime(),Rt=this.get("animations"),Kt=this.get("_pause").pauseTime;return(0,_.each)(Rt,function(se){se.startTime=se.startTime+(yt-Kt),se._paused=!1,se._pauseTime=null,se.resumeCallback&&se.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Rt),this},At.prototype.emitDelegation=function(ft,yt){var Rt=this,Kt=yt.propagationPath,se=this.getEvents(),he;ft==="mouseenter"?he=yt.fromShape:ft==="mouseleave"&&(he=yt.toShape);for(var ce=function(Gt){var qt=Kt[Gt],Ut=qt.get("name");if(Ut){if((qt.isGroup()||qt.isCanvas&&qt.isCanvas())&&he&&Yt(qt,he))return"break";(0,_.isArray)(Ut)?(0,_.each)(Ut,function(fe){Rt.emitDelegateEvent(qt,fe,yt)}):De.emitDelegateEvent(qt,Ut,yt)}},De=this,Lt=0;Lt<Kt.length;Lt++){var _t=ce(Lt);if(_t==="break")break}},At.prototype.emitDelegateEvent=function(ft,yt,Rt){var Kt=this.getEvents(),se=yt+Or+Rt.type;(Kt[se]||Kt[Wr])&&(Rt.name=se,Rt.currentTarget=ft,Rt.delegateTarget=this,Rt.delegateObject=ft.get("delegateObject"),this.emit(se,Rt))},At.prototype.translate=function(ft,yt){ft===void 0&&(ft=0),yt===void 0&&(yt=0);var Rt=this.getMatrix(),Kt=Se.transform(Rt,[["t",ft,yt]]);return this.setMatrix(Kt),this},At.prototype.move=function(ft,yt){var Rt=this.attr("x")||0,Kt=this.attr("y")||0;return this.translate(ft-Rt,yt-Kt),this},At.prototype.moveTo=function(ft,yt){return this.move(ft,yt)},At.prototype.scale=function(ft,yt){var Rt=this.getMatrix(),Kt=Se.transform(Rt,[["s",ft,yt||ft]]);return this.setMatrix(Kt),this},At.prototype.rotate=function(ft){var yt=this.getMatrix(),Rt=Se.transform(yt,[["r",ft]]);return this.setMatrix(Rt),this},At.prototype.rotateAtStart=function(ft){var yt=this.attr(),Rt=yt.x,Kt=yt.y,se=this.getMatrix(),he=Se.transform(se,[["t",-Rt,-Kt],["r",ft],["t",Rt,Kt]]);return this.setMatrix(he),this},At.prototype.rotateAtPoint=function(ft,yt,Rt){var Kt=this.getMatrix(),se=Se.transform(Kt,[["t",-ft,-yt],["r",Rt],["t",ft,yt]]);return this.setMatrix(se),this},At}(Ce),Zt=Ht,ne={},ae="_INDEX";function ge(kt){kt.isGroup()?(kt.isEntityGroup()||kt.get("children").length)&&kt.onCanvasChange("add"):kt.onCanvasChange("add")}function xe(kt,At){if(kt.set("canvas",At),kt.isGroup()){var ft=kt.get("children");ft.length&&ft.forEach(function(yt){xe(yt,At)})}}function be(kt,At){if(kt.set("timeline",At),kt.isGroup()){var ft=kt.get("children");ft.length&&ft.forEach(function(yt){be(yt,At)})}}function Te(kt,At){var ft=kt.getChildren();return ft.indexOf(At)>=0}function ve(kt,At,ft){ft===void 0&&(ft=!0),ft?At.destroy():(At.set("parent",null),At.set("canvas",null)),mt(kt.getChildren(),At)}function We(kt){return function(At,ft){var yt=kt(At,ft);return yt===0?At[ae]-ft[ae]:yt}}var Be=function(kt){(0,wt.__extends)(At,kt);function At(){return kt!==null&&kt.apply(this,arguments)||this}return At.prototype.isCanvas=function(){return!1},At.prototype.getBBox=function(){var ft=Infinity,yt=-Infinity,Rt=Infinity,Kt=-Infinity,se=[],he=[],ce=this.getChildren().filter(function(Lt){return Lt.get("visible")&&(!Lt.isGroup()||Lt.isGroup()&&Lt.getChildren().length>0)});ce.length>0?((0,nt.default)(ce,function(Lt){var _t=Lt.getBBox();se.push(_t.minX,_t.maxX),he.push(_t.minY,_t.maxY)}),ft=Math.min.apply(null,se),yt=Math.max.apply(null,se),Rt=Math.min.apply(null,he),Kt=Math.max.apply(null,he)):(ft=0,yt=0,Rt=0,Kt=0);var De={x:ft,y:Rt,minX:ft,minY:Rt,maxX:yt,maxY:Kt,width:yt-ft,height:Kt-Rt};return De},At.prototype.getCanvasBBox=function(){var ft=Infinity,yt=-Infinity,Rt=Infinity,Kt=-Infinity,se=[],he=[],ce=this.getChildren().filter(function(Lt){return Lt.get("visible")&&(!Lt.isGroup()||Lt.isGroup()&&Lt.getChildren().length>0)});ce.length>0?((0,nt.default)(ce,function(Lt){var _t=Lt.getCanvasBBox();se.push(_t.minX,_t.maxX),he.push(_t.minY,_t.maxY)}),ft=Math.min.apply(null,se),yt=Math.max.apply(null,se),Rt=Math.min.apply(null,he),Kt=Math.max.apply(null,he)):(ft=0,yt=0,Rt=0,Kt=0);var De={x:ft,y:Rt,minX:ft,minY:Rt,maxX:yt,maxY:Kt,width:yt-ft,height:Kt-Rt};return De},At.prototype.getDefaultCfg=function(){var ft=kt.prototype.getDefaultCfg.call(this);return ft.children=[],ft},At.prototype.onAttrChange=function(ft,yt,Rt){if(kt.prototype.onAttrChange.call(this,ft,yt,Rt),ft==="matrix"){var Kt=this.getTotalMatrix();this._applyChildrenMarix(Kt)}},At.prototype.applyMatrix=function(ft){var yt=this.getTotalMatrix();kt.prototype.applyMatrix.call(this,ft);var Rt=this.getTotalMatrix();Rt!==yt&&this._applyChildrenMarix(Rt)},At.prototype._applyChildrenMarix=function(ft){var yt=this.getChildren();(0,nt.default)(yt,function(Rt){Rt.applyMatrix(ft)})},At.prototype.addShape=function(){for(var ft=[],yt=0;yt<arguments.length;yt++)ft[yt]=arguments[yt];var Rt=ft[0],Kt=ft[1];(0,at.default)(Rt)?Kt=Rt:Kt.type=Rt;var se=ne[Kt.type];se||(se=(0,rt.default)(Kt.type),ne[Kt.type]=se);var he=this.getShapeBase(),ce=new he[se](Kt);return this.add(ce),ce},At.prototype.addGroup=function(){for(var ft=[],yt=0;yt<arguments.length;yt++)ft[yt]=arguments[yt];var Rt=ft[0],Kt=ft[1],se;if((0,Ot.default)(Rt))Kt?se=new Rt(Kt):se=new Rt({parent:this});else{var he=Rt||{},ce=this.getGroupBase();se=new ce(he)}return this.add(se),se},At.prototype.getCanvas=function(){var ft;return this.isCanvas()?ft=this:ft=this.get("canvas"),ft},At.prototype.getShape=function(ft,yt,Rt){if(!Jt(this))return null;var Kt=this.getChildren(),se;if(this.isCanvas())se=this._findShape(Kt,ft,yt,Rt);else{var he=[ft,yt,1];he=this.invertFromMatrix(he),this.isClipped(he[0],he[1])||(se=this._findShape(Kt,he[0],he[1],Rt))}return se},At.prototype._findShape=function(ft,yt,Rt,Kt){for(var se=null,he=ft.length-1;he>=0;he--){var ce=ft[he];if(Jt(ce)&&(ce.isGroup()?se=ce.getShape(yt,Rt,Kt):ce.isHit(yt,Rt)&&(se=ce)),se)break}return se},At.prototype.add=function(ft){var yt=this.getCanvas(),Rt=this.getChildren(),Kt=this.get("timeline"),se=ft.getParent();se&&ve(se,ft,!1),ft.set("parent",this),yt&&xe(ft,yt),Kt&&be(ft,Kt),Rt.push(ft),ge(ft),this._applyElementMatrix(ft)},At.prototype._applyElementMatrix=function(ft){var yt=this.getTotalMatrix();yt&&ft.applyMatrix(yt)},At.prototype.getChildren=function(){return this.get("children")},At.prototype.sort=function(){var ft=this.getChildren();(0,nt.default)(ft,function(yt,Rt){return yt[ae]=Rt,yt}),ft.sort(We(function(yt,Rt){return yt.get("zIndex")-Rt.get("zIndex")})),this.onCanvasChange("sort")},At.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var ft=this.getChildren(),yt=ft.length-1;yt>=0;yt--)ft[yt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},At.prototype.destroy=function(){this.get("destroyed")||(this.clear(),kt.prototype.destroy.call(this))},At.prototype.getFirst=function(){return this.getChildByIndex(0)},At.prototype.getLast=function(){var ft=this.getChildren();return this.getChildByIndex(ft.length-1)},At.prototype.getChildByIndex=function(ft){var yt=this.getChildren();return yt[ft]},At.prototype.getCount=function(){var ft=this.getChildren();return ft.length},At.prototype.contain=function(ft){var yt=this.getChildren();return yt.indexOf(ft)>-1},At.prototype.removeChild=function(ft,yt){yt===void 0&&(yt=!0),this.contain(ft)&&ft.remove(yt)},At.prototype.findAll=function(ft){var yt=[],Rt=this.getChildren();return(0,nt.default)(Rt,function(Kt){ft(Kt)&&yt.push(Kt),Kt.isGroup()&&(yt=yt.concat(Kt.findAll(ft)))}),yt},At.prototype.find=function(ft){var yt=null,Rt=this.getChildren();return(0,nt.default)(Rt,function(Kt){if(ft(Kt)?yt=Kt:Kt.isGroup()&&(yt=Kt.find(ft)),yt)return!1}),yt},At.prototype.findById=function(ft){return this.find(function(yt){return yt.get("id")===ft})},At.prototype.findByClassName=function(ft){return this.find(function(yt){return yt.get("className")===ft})},At.prototype.findAllByName=function(ft){return this.findAll(function(yt){return yt.get("name")===ft})},At}(Zt),$e=Be,rr=d(35374),Je=d(13681),or=d(26257),ir=d(88122),cr=function(kt){return["fill","stroke","fillStyle","strokeStyle"].includes(kt)},Qe=function(kt){return/^[r,R,L,l]{1}[\s]*\(/.test(kt)},gr=[1,0,0,0,1,0,0,0,1];function Ir(kt,At,ft){var yt={},Rt=At.fromAttrs,Kt=At.toAttrs;if(!kt.destroyed){var se;for(var he in Kt)if(!(0,_.isEqual)(Rt[he],Kt[he]))if(he==="path"){var ce=Kt[he],De=Rt[he];ce.length>De.length?(ce=A(Kt[he]),De=A(Rt[he]),De=u(De,ce),De=it(De,ce),At.fromAttrs.path=De,At.toAttrs.path=ce):At.pathFormatted||(ce=A(Kt[he]),De=A(Rt[he]),De=it(De,ce),At.fromAttrs.path=De,At.toAttrs.path=ce,At.pathFormatted=!0),yt[he]=[];for(var Lt=0;Lt<ce.length;Lt++){for(var _t=ce[Lt],Gt=De[Lt],qt=[],Ut=0;Ut<_t.length;Ut++)(0,_.isNumber)(_t[Ut])&&Gt&&(0,_.isNumber)(Gt[Ut])?(se=(0,or.Z)(Gt[Ut],_t[Ut]),qt.push(se(ft))):qt.push(_t[Ut]);yt[he].push(qt)}}else if(he==="matrix"){var fe=(0,ir.Z)(Rt[he]||gr,Kt[he]||gr),Me=fe(ft);yt[he]=Me}else cr(he)&&Qe(Kt[he])?yt[he]=Kt[he]:(0,_.isFunction)(Kt[he])||(se=(0,or.Z)(Rt[he],Kt[he]),yt[he]=se(ft));kt.attr(yt)}}function Er(kt,At,ft){var yt=At.startTime,Rt=At.delay;if(ft<yt+Rt||At._paused)return!1;var Kt,se=At.duration,he=At.easing;if(ft=ft-yt-At.delay,At.repeat)Kt=ft%se/se,Kt=Je[he](Kt);else if(Kt=ft/se,Kt<1)Kt=Je[he](Kt);else return At.onFrame?kt.attr(At.onFrame(1)):kt.attr(At.toAttrs),!0;if(At.onFrame){var ce=At.onFrame(Kt);kt.attr(ce)}else Ir(kt,At,Kt);return!1}var Lr=function(){function kt(At){this.animators=[],this.current=0,this.timer=null,this.canvas=At}return kt.prototype.initTimer=function(){var At=this,ft=!1,yt,Rt,Kt;this.timer=rr.HT(function(se){if(At.current=se,At.animators.length>0){for(var he=At.animators.length-1;he>=0;he--){if(yt=At.animators[he],yt.destroyed){At.removeAnimator(he);continue}if(!yt.isAnimatePaused()){Rt=yt.get("animations");for(var ce=Rt.length-1;ce>=0;ce--)Kt=Rt[ce],ft=Er(yt,Kt,se),ft&&(Rt.splice(ce,1),ft=!1,Kt.callback&&Kt.callback())}Rt.length===0&&At.removeAnimator(he)}var De=At.canvas.get("autoDraw");De||At.canvas.draw()}})},kt.prototype.addAnimator=function(At){this.animators.push(At)},kt.prototype.removeAnimator=function(At){this.animators.splice(At,1)},kt.prototype.isAnimating=function(){return!!this.animators.length},kt.prototype.stop=function(){this.timer&&this.timer.stop()},kt.prototype.stopAllAnimations=function(At){At===void 0&&(At=!0),this.animators.forEach(function(ft){ft.stopAnimate(At)}),this.animators=[],this.canvas.draw()},kt.prototype.getTime=function(){return this.current},kt}(),Yr=Lr,Dr=40,Cn=0,Qr=":",Rn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function si(kt,At){for(var ft in kt)if(kt.hasOwnProperty(ft)&&ft.indexOf(Qr+At)>=0)return!0;return!1}function Kn(kt,At,ft){ft.name=At,ft.target=kt,ft.currentTarget=kt,ft.delegateTarget=kt,kt.emit(At,ft)}function Ri(kt,At,ft){if(ft.bubbles){var yt=void 0,Rt=!1;if(At==="mouseenter"?(yt=ft.fromShape,Rt=!0):At==="mouseleave"&&(Rt=!0,yt=ft.toShape),kt.isCanvas()&&Rt)return;if(yt&&Yt(kt,yt)){ft.bubbles=!1;return}ft.name=At,ft.currentTarget=kt,ft.delegateTarget=kt,kt.emit(At,ft)}}var bi=function(){function kt(At){var ft=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(yt){var Rt=yt.type;ft._triggerEvent(Rt,yt)},this._onDocumentMove=function(yt){var Rt=ft.canvas,Kt=Rt.get("el");if(Kt!==yt.target&&(ft.dragging||ft.currentShape)){var se=ft._getPointInfo(yt);ft.dragging&&ft._emitEvent("drag",yt,se,ft.draggingShape)}},this._onDocumentMouseUp=function(yt){var Rt=ft.canvas,Kt=Rt.get("el");if(Kt!==yt.target&&ft.dragging){var se=ft._getPointInfo(yt);ft.draggingShape&&ft._emitEvent("drop",yt,se,null),ft._emitEvent("dragend",yt,se,ft.draggingShape),ft._afterDrag(ft.draggingShape,se,yt)}},this.canvas=At.canvas}return kt.prototype.init=function(){this._bindEvents()},kt.prototype._bindEvents=function(){var At=this,ft=this.canvas.get("el");(0,nt.default)(Rn,function(yt){ft.addEventListener(yt,At._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},kt.prototype._clearEvents=function(){var At=this,ft=this.canvas.get("el");(0,nt.default)(Rn,function(yt){ft.removeEventListener(yt,At._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},kt.prototype._getEventObj=function(At,ft,yt,Rt,Kt,se){var he=new gt(At,ft);return he.fromShape=Kt,he.toShape=se,he.x=yt.x,he.y=yt.y,he.clientX=yt.clientX,he.clientY=yt.clientY,he.propagationPath.push(Rt),he},kt.prototype._getShape=function(At,ft){return this.canvas.getShape(At.x,At.y,ft)},kt.prototype._getPointInfo=function(At){var ft=this.canvas,yt=ft.getClientByEvent(At),Rt=ft.getPointByEvent(At);return{x:Rt.x,y:Rt.y,clientX:yt.x,clientY:yt.y}},kt.prototype._triggerEvent=function(At,ft){var yt=this._getPointInfo(ft),Rt=this._getShape(yt,ft),Kt=this["_on"+At],se=!1;if(Kt)Kt.call(this,yt,Rt,ft);else{var he=this.currentShape;At==="mouseenter"||At==="dragenter"||At==="mouseover"?(this._emitEvent(At,ft,yt,null,null,Rt),Rt&&this._emitEvent(At,ft,yt,Rt,null,Rt),At==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ft,yt,null)):At==="mouseleave"||At==="dragleave"||At==="mouseout"?(se=!0,he&&this._emitEvent(At,ft,yt,he,he,null),this._emitEvent(At,ft,yt,null,he,null),At==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ft,yt,null)):this._emitEvent(At,ft,yt,Rt,null,null)}if(se||(this.currentShape=Rt),Rt&&!Rt.get("destroyed")){var ce=this.canvas,De=ce.get("el");De.style.cursor=Rt.attr("cursor")||ce.get("cursor")}},kt.prototype._onmousedown=function(At,ft,yt){yt.button===Cn&&(this.mousedownShape=ft,this.mousedownPoint=At,this.mousedownTimeStamp=yt.timeStamp),this._emitEvent("mousedown",yt,At,ft,null,null)},kt.prototype._emitMouseoverEvents=function(At,ft,yt,Rt){var Kt=this.canvas.get("el");yt!==Rt&&(yt&&(this._emitEvent("mouseout",At,ft,yt,yt,Rt),this._emitEvent("mouseleave",At,ft,yt,yt,Rt),(!Rt||Rt.get("destroyed"))&&(Kt.style.cursor=this.canvas.get("cursor"))),Rt&&(this._emitEvent("mouseover",At,ft,Rt,yt,Rt),this._emitEvent("mouseenter",At,ft,Rt,yt,Rt)))},kt.prototype._emitDragoverEvents=function(At,ft,yt,Rt,Kt){Rt?(Rt!==yt&&(yt&&this._emitEvent("dragleave",At,ft,yt,yt,Rt),this._emitEvent("dragenter",At,ft,Rt,yt,Rt)),Kt||this._emitEvent("dragover",At,ft,Rt)):yt&&this._emitEvent("dragleave",At,ft,yt,yt,Rt),Kt&&this._emitEvent("dragover",At,ft,Rt)},kt.prototype._afterDrag=function(At,ft,yt){At&&(At.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Rt=this._getShape(ft,yt);Rt!==At&&this._emitMouseoverEvents(yt,ft,At,Rt),this.currentShape=Rt},kt.prototype._onmouseup=function(At,ft,yt){if(yt.button===Cn){var Rt=this.draggingShape;this.dragging?(Rt&&this._emitEvent("drop",yt,At,ft),this._emitEvent("dragend",yt,At,Rt),this._afterDrag(Rt,At,yt)):(this._emitEvent("mouseup",yt,At,ft),ft===this.mousedownShape&&this._emitEvent("click",yt,At,ft),this.mousedownShape=null,this.mousedownPoint=null)}},kt.prototype._ondragover=function(At,ft,yt){yt.preventDefault();var Rt=this.currentShape;this._emitDragoverEvents(yt,At,Rt,ft,!0)},kt.prototype._onmousemove=function(At,ft,yt){var Rt=this.canvas,Kt=this.currentShape,se=this.draggingShape;if(this.dragging)se&&this._emitDragoverEvents(yt,At,Kt,ft,!1),this._emitEvent("drag",yt,At,se);else{var he=this.mousedownPoint;if(he){var ce=this.mousedownShape,De=yt.timeStamp,Lt=De-this.mousedownTimeStamp,_t=he.clientX-At.clientX,Gt=he.clientY-At.clientY,qt=_t*_t+Gt*Gt;Lt>120||qt>Dr?ce&&ce.get("draggable")?(se=this.mousedownShape,se.set("capture",!1),this.draggingShape=se,this.dragging=!0,this._emitEvent("dragstart",yt,At,se),this.mousedownShape=null,this.mousedownPoint=null):!ce&&Rt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",yt,At,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(yt,At,Kt,ft),this._emitEvent("mousemove",yt,At,ft)):(this._emitMouseoverEvents(yt,At,Kt,ft),this._emitEvent("mousemove",yt,At,ft))}else this._emitMouseoverEvents(yt,At,Kt,ft),this._emitEvent("mousemove",yt,At,ft)}},kt.prototype._emitEvent=function(At,ft,yt,Rt,Kt,se){var he=this._getEventObj(At,ft,yt,Rt,Kt,se);if(Rt){he.shape=Rt,Kn(Rt,At,he);for(var ce=Rt.getParent();ce;)ce.emitDelegation(At,he),he.propagationStopped||Ri(ce,At,he),he.propagationPath.push(ce),ce=ce.getParent()}else{var De=this.canvas;Kn(De,At,he)}},kt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},kt}(),Cr=bi,ri="px",li=(0,ye.detect)(),ui=li&&li.name==="firefox",pn=function(kt){(0,wt.__extends)(At,kt);function At(ft){var yt=kt.call(this,ft)||this;return yt.initContainer(),yt.initDom(),yt.initEvents(),yt.initTimeline(),yt}return At.prototype.getDefaultCfg=function(){var ft=kt.prototype.getDefaultCfg.call(this);return ft.cursor="default",ft.supportCSSTransform=!1,ft},At.prototype.initContainer=function(){var ft=this.get("container");(0,Tt.default)(ft)&&(ft=document.getElementById(ft),this.set("container",ft))},At.prototype.initDom=function(){var ft=this.createDom();this.set("el",ft);var yt=this.get("container");yt.appendChild(ft),this.setDOMSize(this.get("width"),this.get("height"))},At.prototype.initEvents=function(){var ft=new Cr({canvas:this});ft.init(),this.set("eventController",ft)},At.prototype.initTimeline=function(){var ft=new Yr(this);this.set("timeline",ft)},At.prototype.setDOMSize=function(ft,yt){var Rt=this.get("el");Pt&&(Rt.style.width=ft+ri,Rt.style.height=yt+ri)},At.prototype.changeSize=function(ft,yt){this.setDOMSize(ft,yt),this.set("width",ft),this.set("height",yt),this.onCanvasChange("changeSize")},At.prototype.getRenderer=function(){return this.get("renderer")},At.prototype.getCursor=function(){return this.get("cursor")},At.prototype.setCursor=function(ft){this.set("cursor",ft);var yt=this.get("el");Pt&&yt&&(yt.style.cursor=ft)},At.prototype.getPointByEvent=function(ft){var yt=this.get("supportCSSTransform");if(yt){if(ui&&!(0,Nt.default)(ft.layerX)&&ft.layerX!==ft.offsetX)return{x:ft.layerX,y:ft.layerY};if(!(0,Nt.default)(ft.offsetX))return{x:ft.offsetX,y:ft.offsetY}}var Rt=this.getClientByEvent(ft),Kt=Rt.x,se=Rt.y;return this.getPointByClient(Kt,se)},At.prototype.getClientByEvent=function(ft){var yt=ft;return ft.touches&&(ft.type==="touchend"?yt=ft.changedTouches[0]:yt=ft.touches[0]),{x:yt.clientX,y:yt.clientY}},At.prototype.getPointByClient=function(ft,yt){var Rt=this.get("el"),Kt=Rt.getBoundingClientRect();return{x:ft-Kt.left,y:yt-Kt.top}},At.prototype.getClientByPoint=function(ft,yt){var Rt=this.get("el"),Kt=Rt.getBoundingClientRect();return{x:ft+Kt.left,y:yt+Kt.top}},At.prototype.draw=function(){},At.prototype.removeDom=function(){var ft=this.get("el");ft.parentNode.removeChild(ft)},At.prototype.clearEvents=function(){var ft=this.get("eventController");ft.destroy()},At.prototype.isCanvas=function(){return!0},At.prototype.getParent=function(){return null},At.prototype.destroy=function(){var ft=this.get("timeline");this.get("destroyed")||(this.clear(),ft&&ft.stop(),this.clearEvents(),this.removeDom(),kt.prototype.destroy.call(this))},At}($e),fi=pn,Hi=function(kt){(0,wt.__extends)(At,kt);function At(){return kt!==null&&kt.apply(this,arguments)||this}return At.prototype.isGroup=function(){return!0},At.prototype.isEntityGroup=function(){return!1},At.prototype.clone=function(){for(var ft=kt.prototype.clone.call(this),yt=this.getChildren(),Rt=0;Rt<yt.length;Rt++){var Kt=yt[Rt];ft.add(Kt.clone())}return ft},At}($e),Ni=Hi,Yi=function(kt){(0,wt.__extends)(At,kt);function At(ft){return kt.call(this,ft)||this}return At.prototype._isInBBox=function(ft,yt){var Rt=this.getBBox();return Rt.minX<=ft&&Rt.maxX>=ft&&Rt.minY<=yt&&Rt.maxY>=yt},At.prototype.afterAttrsChange=function(ft){kt.prototype.afterAttrsChange.call(this,ft),this.clearCacheBBox()},At.prototype.getBBox=function(){var ft=this.get("bbox");return ft||(ft=this.calculateBBox(),this.set("bbox",ft)),ft},At.prototype.getCanvasBBox=function(){var ft=this.get("canvasBox");return ft||(ft=this.calculateCanvasBBox(),this.set("canvasBox",ft)),ft},At.prototype.applyMatrix=function(ft){kt.prototype.applyMatrix.call(this,ft),this.set("canvasBox",null)},At.prototype.calculateCanvasBBox=function(){var ft=this.getBBox(),yt=this.getTotalMatrix(),Rt=ft.minX,Kt=ft.minY,se=ft.maxX,he=ft.maxY;if(yt){var ce=Ze(yt,[ft.minX,ft.minY]),De=Ze(yt,[ft.maxX,ft.minY]),Lt=Ze(yt,[ft.minX,ft.maxY]),_t=Ze(yt,[ft.maxX,ft.maxY]);Rt=Math.min(ce[0],De[0],Lt[0],_t[0]),se=Math.max(ce[0],De[0],Lt[0],_t[0]),Kt=Math.min(ce[1],De[1],Lt[1],_t[1]),he=Math.max(ce[1],De[1],Lt[1],_t[1])}var Gt=this.attrs;if(Gt.shadowColor){var qt=Gt.shadowBlur,Ut=qt===void 0?0:qt,fe=Gt.shadowOffsetX,Me=fe===void 0?0:fe,Oe=Gt.shadowOffsetY,Xe=Oe===void 0?0:Oe,Le=Rt-Ut+Me,Ae=se+Ut+Me,dr=Kt-Ut+Xe,Mr=he+Ut+Xe;Rt=Math.min(Rt,Le),se=Math.max(se,Ae),Kt=Math.min(Kt,dr),he=Math.max(he,Mr)}return{x:Rt,y:Kt,minX:Rt,minY:Kt,maxX:se,maxY:he,width:se-Rt,height:he-Kt}},At.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},At.prototype.isClipShape=function(){return this.get("isClipShape")},At.prototype.isInShape=function(ft,yt){return!1},At.prototype.isOnlyHitBox=function(){return!1},At.prototype.isHit=function(ft,yt){var Rt=this.get("startArrowShape"),Kt=this.get("endArrowShape"),se=[ft,yt,1];se=this.invertFromMatrix(se);var he=se[0],ce=se[1],De=this._isInBBox(he,ce);return this.isOnlyHitBox()?De:!!(De&&!this.isClipped(he,ce)&&(this.isInShape(he,ce)||Rt&&Rt.isHit(he,ce)||Kt&&Kt.isHit(he,ce)))},At}(Zt),Wn=Yi,ta=d(76062),va=ta.version},40455:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var _=w.attr(),I=_.x,O=_.y,P=_.r;return{x:I-P,y:O-P,width:P*2,height:P*2}}S.default=d},27633:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var _=w.attr(),I=_.x,O=_.y,P=_.rx,A=_.ry;return{x:I-P,y:O-A,width:P*2,height:A*2}}S.default=d},41056:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(28648);S.b=_.getMethod;var I=d(3541),O=d(40455),P=d(10687),A=d(19914),E=d(92933),C=d(89372),p=d(74461),b=d(27633);_.register("rect",I.default),_.register("image",I.default),_.register("circle",O.default),_.register("marker",O.default),_.register("polyline",P.default),_.register("polygon",A.default),_.register("text",E.default),_.register("path",C.default),_.register("line",p.default),_.register("ellipse",b.default)},74461:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(3406);function _(I){var O=I.attr(),P=O.x1,A=O.y1,E=O.x2,C=O.y2,p=Math.min(P,E),b=Math.max(P,E),y=Math.min(A,C),x=Math.max(A,C),g={minX:p,maxX:b,minY:y,maxY:x};return g=w.mergeArrowBBox(I,g),{x:g.minX,y:g.minY,width:g.maxX-g.minX,height:g.maxY-g.minY}}S.default=_},89372:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(2879),_=d(15730),I=d(33418),O=d(49274),P=d(39984),A=d(3406);function E(b,y){for(var x=[],g=[],M=[],L=0;L<b.length;L++){var k=b[L],F=k.currentPoint,W=k.params,$=k.prePoint,z=void 0;switch(k.command){case"Q":z=w.default.box($[0],$[1],W[1],W[2],W[3],W[4]);break;case"C":z=_.default.box($[0],$[1],W[1],W[2],W[3],W[4],W[5],W[6]);break;case"A":var U=k.arcParams;z=I.default.box(U.cx,U.cy,U.rx,U.ry,U.xRotation,U.startAngle,U.endAngle);break;default:x.push(F[0]),g.push(F[1]);break}z&&(k.box=z,x.push(z.x,z.x+z.width),g.push(z.y,z.y+z.height)),y&&(k.command==="L"||k.command==="M")&&k.prePoint&&k.nextPoint&&M.push(k)}x=x.filter(function(D){return!Number.isNaN(D)}),g=g.filter(function(D){return!Number.isNaN(D)});var et=Math.min.apply(null,x),q=Math.min.apply(null,g),dt=Math.max.apply(null,x),ct=Math.max.apply(null,g);if(M.length===0)return{x:et,y:q,width:dt-et,height:ct-q};for(var L=0;L<M.length;L++){var k=M[L],F=k.currentPoint,Mt=void 0;F[0]===et?(Mt=C(k,y),et=et-Mt.xExtra):F[0]===dt&&(Mt=C(k,y),dt=dt+Mt.xExtra),F[1]===q?(Mt=C(k,y),q=q-Mt.yExtra):F[1]===ct&&(Mt=C(k,y),ct=ct+Mt.yExtra)}return{x:et,y:q,width:dt-et,height:ct-q}}function C(b,y){var x=b.prePoint,g=b.currentPoint,M=b.nextPoint,L=Math.pow(g[0]-x[0],2)+Math.pow(g[1]-x[1],2),k=Math.pow(g[0]-M[0],2)+Math.pow(g[1]-M[1],2),F=Math.pow(x[0]-M[0],2)+Math.pow(x[1]-M[1],2),W=Math.acos((L+k-F)/(2*Math.sqrt(L)*Math.sqrt(k)));if(!W||Math.sin(W)===0||P.default(W,0))return{xExtra:0,yExtra:0};var $=Math.abs(Math.atan2(M[1]-g[1],M[0]-g[0])),z=Math.abs(Math.atan2(M[0]-g[0],M[1]-g[1]));$=$>Math.PI/2?Math.PI-$:$,z=z>Math.PI/2?Math.PI-z:z;var U={xExtra:Math.cos(W/2-$)*(y/2*(1/Math.sin(W/2)))-y/2||0,yExtra:Math.cos(z-W/2)*(y/2*(1/Math.sin(W/2)))-y/2||0};return U}function p(b){var y=b.attr(),x=y.path,g=y.stroke,M=g?y.lineWidth:0,L=b.get("segments")||O.default(x),k=E(L,M),F=k.x,W=k.y,$=k.width,z=k.height,U={minX:F,minY:W,maxX:F+$,maxY:W+z};return U=A.mergeArrowBBox(b,U),{x:U.minX,y:U.minY,width:U.maxX-U.minX,height:U.maxY-U.minY}}S.default=p},19914:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256);function _(I){for(var O=I.attr(),P=O.points,A=[],E=[],C=0;C<P.length;C++){var p=P[C];A.push(p[0]),E.push(p[1])}return w.getBBoxByArray(A,E)}S.default=_},10687:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256),_=d(3406);function I(O){for(var P=O.attr(),A=P.points,E=[],C=[],p=0;p<A.length;p++){var b=A[p];E.push(b[0]),C.push(b[1])}var y=w.getBBoxByArray(E,C),x=y.x,g=y.y,M=y.width,L=y.height,k={minX:x,minY:g,maxX:x+M,maxY:g+L};return k=_.mergeArrowBBox(O,k),{x:k.minX,y:k.minY,width:k.maxX-k.minX,height:k.maxY-k.minY}}S.default=I},3541:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var _=w.attr(),I=_.x,O=_.y,P=_.width,A=_.height;return{x:I,y:O,width:P,height:A}}S.default=d},28648:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=new Map;function w(I,O){d.set(I,O)}S.register=w;function _(I){return d.get(I)}S.getMethod=_},92933:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(8914);function _(I){var O=I.attr(),P=O.x,A=O.y,E=O.text,C=O.fontSize,p=O.lineHeight,b=O.font;b||(b=w.assembleFont(O));var y=w.getTextWidth(E,b),x;if(!y)x={x:P,y:A,width:0,height:0};else{var g=O.textAlign,M=O.textBaseline,L=w.getTextHeight(E,C,p),k={x:P,y:A-L};g&&(g==="end"||g==="right"?k.x-=y:g==="center"&&(k.x-=y/2)),M&&(M==="top"?k.y+=L:M==="middle"&&(k.y+=L/2)),x={x:k.x,y:k.y,width:y,height:L}}return x}S.default=_},3406:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(_,I){return!_||!I?_||I:{minX:Math.min(_.minX,I.minX),minY:Math.min(_.minY,I.minY),maxX:Math.max(_.maxX,I.maxX),maxY:Math.max(_.maxY,I.maxY)}}S.mergeBBox=d;function w(_,I){var O=_.get("startArrowShape"),P=_.get("endArrowShape"),A=null,E=null;return O&&(A=O.getCanvasBBox(),I=d(I,A)),P&&(E=P.getCanvasBBox(),I=d(I,E)),I}S.mergeArrowBBox=w},66192:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function w(_,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=_,this.name=_,this.originalEvent=I,this.timeStamp=I.timeStamp}return w.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},w.prototype.stopPropagation=function(){this.propagationStopped=!0},w.prototype.toString=function(){var _=this.type;return"[Event (type="+_+")]"},w.prototype.save=function(){},w.prototype.restore=function(){},w}();S.default=d},85424:function(bt,S){"use strict";var d;d={value:!0}},4555:function(bt,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(bt,S){"use strict";var d;d={value:!0};function w(O,P){var A=[],E=O[0],C=O[1],p=O[2],b=O[3],y=O[4],x=O[5],g=O[6],M=O[7],L=O[8],k=P[0],F=P[1],W=P[2],$=P[3],z=P[4],U=P[5],et=P[6],q=P[7],dt=P[8];return A[0]=k*E+F*b+W*g,A[1]=k*C+F*y+W*M,A[2]=k*p+F*x+W*L,A[3]=$*E+z*b+U*g,A[4]=$*C+z*y+U*M,A[5]=$*p+z*x+U*L,A[6]=et*E+q*b+dt*g,A[7]=et*C+q*y+dt*M,A[8]=et*p+q*x+dt*L,A}d=w;function _(O,P){var A=[],E=P[0],C=P[1];return A[0]=O[0]*E+O[3]*C+O[6],A[1]=O[1]*E+O[4]*C+O[7],A}S.rG=_;function I(O){var P=[],A=O[0],E=O[1],C=O[2],p=O[3],b=O[4],y=O[5],x=O[6],g=O[7],M=O[8],L=M*b-y*g,k=-M*p+y*x,F=g*p-b*x,W=A*L+E*k+C*F;return W?(W=1/W,P[0]=L*W,P[1]=(-M*E+C*g)*W,P[2]=(y*E-C*b)*W,P[3]=k*W,P[4]=(M*A-C*x)*W,P[5]=(-y*A+C*p)*W,P[6]=F*W,P[7]=(-g*A+E*x)*W,P[8]=(b*A-E*p)*W,P):null}S.U_=I},26632:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=null;function w(){if(!d){var _=document.createElement("canvas");_.width=1,_.height=1,d=_.getContext("2d")}return d}S.getOffScreenContext=w},8914:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(22487),_=d(26632);function I(E,C,p){var b=1;if(w.isString(E)&&(b=E.split(`
`).length),b>1){var y=O(C,p);return C*b+y*(b-1)}return C}S.getTextHeight=I;function O(E,C){return C?C-E:E*.14}S.getLineSpaceing=O;function P(E,C){var p=_.getOffScreenContext(),b=0;if(w.isNil(E)||E==="")return b;if(p.save(),p.font=C,w.isString(E)&&E.includes(`
`)){var y=E.split(`
`);w.each(y,function(x){var g=p.measureText(x).width;b<g&&(b=g)})}else b=p.measureText(E).width;return p.restore(),b}S.getTextWidth=P;function A(E){var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,y=E.fontStyle,x=E.fontVariant;return[y,x,b,C+"px",p].join(" ").trim()}S.assembleFont=A},22487:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function w(x,g){var M=x.indexOf(g);M!==-1&&x.splice(M,1)}S.removeFromArray=w,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var _=d(73890);S.isNil=_.default;var I=d(46812);S.isFunction=I.default;var O=d(21830);S.isString=O.default;var P=d(33643);S.isObject=P.default;var A=d(66631);S.isArray=A.default;var E=d(66974);S.mix=E.default;var C=d(27154);S.each=C.default;var p=d(85260);S.upperFirst=p.default;function b(x,g){if(x.isCanvas())return!0;for(var M=g.getParent(),L=!1;M;){if(M===x){L=!0;break}M=M.getParent()}return L}S.isParent=b;function y(x){return x.cfg.visible&&x.cfg.capture}S.isAllowCapture=y},76062:function(bt){"use strict";bt.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(48465);function I(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function O(E,C){return I(E)*I(C)?(E[0]*C[0]+E[1]*C[1])/(I(E)*I(C)):1}function P(E,C){return(E[0]*C[1]<E[1]*C[0]?-1:1)*Math.acos(O(E,C))}function A(E,C){var p=C[1],b=C[2],y=_.mod(_.toRadian(C[3]),Math.PI*2),x=C[4],g=C[5],M=E[0],L=E[1],k=C[6],F=C[7],W=Math.cos(y)*(M-k)/2+Math.sin(y)*(L-F)/2,$=-1*Math.sin(y)*(M-k)/2+Math.cos(y)*(L-F)/2,z=W*W/(p*p)+$*$/(b*b);z>1&&(p*=Math.sqrt(z),b*=Math.sqrt(z));var U=p*p*($*$)+b*b*(W*W),et=U?Math.sqrt((p*p*(b*b)-U)/U):1;x===g&&(et*=-1),isNaN(et)&&(et=0);var q=b?et*p*$/b:0,dt=p?et*-b*W/p:0,ct=(M+k)/2+Math.cos(y)*q-Math.sin(y)*dt,Mt=(L+F)/2+Math.sin(y)*q+Math.cos(y)*dt,D=[(W-q)/p,($-dt)/b],G=[(-1*W-q)/p,(-1*$-dt)/b],X=P([1,0],D),N=P(D,G);return O(D,G)<=-1&&(N=Math.PI),O(D,G)>=1&&(N=0),g===0&&N>0&&(N=N-2*Math.PI),g===1&&N<0&&(N=N+2*Math.PI),{cx:ct,cy:Mt,rx:_.isSamePoint(E,[k,F])?0:p,ry:_.isSamePoint(E,[k,F])?0:b,startAngle:X,endAngle:X+N,xRotation:y,arcFlag:x,sweepFlag:g}}S.Z=A},48465:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function w(){return window?window.devicePixelRatio:1}S.getPixelRatio=w;function _(F,W,$,z){var U=F-$,et=W-z;return Math.sqrt(U*U+et*et)}S.distance=_;function I(F,W,$,z,U,et){return U>=F&&U<=F+$&&et>=W&&et<=W+z}S.inBox=I;function O(F,W){return!(W.minX>F.maxX||W.maxX<F.minX||W.minY>F.maxY||W.maxY<F.minY)}S.intersectRect=O;function P(F,W){return!F||!W?F||W:{minX:Math.min(F.minX,W.minX),minY:Math.min(F.minY,W.minY),maxX:Math.max(F.maxX,W.maxX),maxY:Math.max(F.maxY,W.maxY)}}S.mergeRegion=P;function A(F,W){return F[0]===W[0]&&F[1]===W[1]}S.isSamePoint=A;var E=d(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return E.default}});var C=d(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return C.default}});var p=d(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var b=d(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return b.default}});var y=d(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return y.default}});var x=d(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return x.default}});var g=d(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return g.default}});var M=d(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.default}});var L=d(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return L.default}});var k=d(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return k.default}})},71270:function(bt){"use strict";bt.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(bt,S,d){"use strict";d.r(S),d.d(S,{Arc:function(){return ot},Cubic:function(){return ct},Line:function(){return b},Polygon:function(){return Ot},Polyline:function(){return Dt},Quad:function(){return $},Util:function(){return w}});var w={};d.r(w),d.d(w,{distance:function(){return O},getBBoxByArray:function(){return A},getBBoxRange:function(){return E},isNumberEqual:function(){return P},piMod:function(){return C}});function _(Tt){return Math.min.apply(null,Tt)}function I(Tt){return Math.max.apply(null,Tt)}function O(Tt,at,st,Ct){var nt=Tt-st,rt=at-Ct;return Math.sqrt(nt*nt+rt*rt)}function P(Tt,at){return Math.abs(Tt-at)<.001}function A(Tt,at){var st=_(Tt),Ct=_(at),nt=I(Tt),rt=I(at);return{x:st,y:Ct,width:nt-st,height:rt-Ct}}function E(Tt,at,st,Ct){return{minX:_([Tt,st]),maxX:I([Tt,st]),minY:_([at,Ct]),maxY:I([at,Ct])}}function C(Tt){return(Tt+Math.PI*2)%(Math.PI*2)}var p=d(31437),b={box:function(Tt,at,st,Ct){return A([Tt,st],[at,Ct])},length:function(Tt,at,st,Ct){return O(Tt,at,st,Ct)},pointAt:function(Tt,at,st,Ct,nt){return{x:(1-nt)*Tt+nt*st,y:(1-nt)*at+nt*Ct}},pointDistance:function(Tt,at,st,Ct,nt,rt){var mt=(st-Tt)*(nt-Tt)+(Ct-at)*(rt-at);if(mt<0)return O(Tt,at,nt,rt);var Pt=(st-Tt)*(st-Tt)+(Ct-at)*(Ct-at);return mt>Pt?O(st,Ct,nt,rt):this.pointToLine(Tt,at,st,Ct,nt,rt)},pointToLine:function(Tt,at,st,Ct,nt,rt){var mt=[st-Tt,Ct-at];if(p.exactEquals(mt,[0,0]))return Math.sqrt((nt-Tt)*(nt-Tt)+(rt-at)*(rt-at));var Pt=[-mt[1],mt[0]];p.normalize(Pt,Pt);var Yt=[nt-Tt,rt-at];return Math.abs(p.dot(Yt,Pt))},tangentAngle:function(Tt,at,st,Ct){return Math.atan2(Ct-at,st-Tt)}},y=1e-4;function x(Tt,at,st,Ct,nt,rt){var mt,Pt=Infinity,Yt=[st,Ct],Jt=20;rt&&rt>200&&(Jt=rt/10);for(var de=1/Jt,Ce=de/10,ye=0;ye<=Jt;ye++){var Se=ye*de,Fe=[nt.apply(null,Tt.concat([Se])),nt.apply(null,at.concat([Se]))],Ze=O(Yt[0],Yt[1],Fe[0],Fe[1]);Ze<Pt&&(mt=Se,Pt=Ze)}if(mt===0)return{x:Tt[0],y:at[0]};if(mt===1){var er=Tt.length;return{x:Tt[er-1],y:at[er-1]}}Pt=Infinity;for(var ye=0;ye<32&&!(Ce<y);ye++){var qe=mt-Ce,Pr=mt+Ce,Fe=[nt.apply(null,Tt.concat([qe])),nt.apply(null,at.concat([qe]))],Ze=O(Yt[0],Yt[1],Fe[0],Fe[1]);if(qe>=0&&Ze<Pt)mt=qe,Pt=Ze;else{var rn=[nt.apply(null,Tt.concat([Pr])),nt.apply(null,at.concat([Pr]))],Or=O(Yt[0],Yt[1],rn[0],rn[1]);Pr<=1&&Or<Pt?(mt=Pr,Pt=Or):Ce*=.5}}return{x:nt.apply(null,Tt.concat([mt])),y:nt.apply(null,at.concat([mt]))}}function g(Tt,at){for(var st=0,Ct=Tt.length,nt=0;nt<Ct;nt++){var rt=Tt[nt],mt=at[nt],Pt=Tt[(nt+1)%Ct],Yt=at[(nt+1)%Ct];st+=O(rt,mt,Pt,Yt)}return st/2}function M(Tt,at,st,Ct){var nt=1-Ct;return nt*nt*Tt+2*Ct*nt*at+Ct*Ct*st}function L(Tt,at,st){var Ct=Tt+st-2*at;if(P(Ct,0))return[.5];var nt=(Tt-at)/Ct;return nt<=1&&nt>=0?[nt]:[]}function k(Tt,at,st,Ct){return 2*(1-Ct)*(at-Tt)+2*Ct*(st-at)}function F(Tt,at,st,Ct,nt,rt,mt){var Pt=M(Tt,st,nt,mt),Yt=M(at,Ct,rt,mt),Jt=b.pointAt(Tt,at,st,Ct,mt),de=b.pointAt(st,Ct,nt,rt,mt);return[[Tt,at,Jt.x,Jt.y,Pt,Yt],[Pt,Yt,de.x,de.y,nt,rt]]}function W(Tt,at,st,Ct,nt,rt,mt){if(mt===0)return(O(Tt,at,st,Ct)+O(st,Ct,nt,rt)+O(Tt,at,nt,rt))/2;var Pt=F(Tt,at,st,Ct,nt,rt,.5),Yt=Pt[0],Jt=Pt[1];return Yt.push(mt-1),Jt.push(mt-1),W.apply(null,Yt)+W.apply(null,Jt)}var $={box:function(Tt,at,st,Ct,nt,rt){var mt=L(Tt,st,nt)[0],Pt=L(at,Ct,rt)[0],Yt=[Tt,nt],Jt=[at,rt];return mt!==void 0&&Yt.push(M(Tt,st,nt,mt)),Pt!==void 0&&Jt.push(M(at,Ct,rt,Pt)),A(Yt,Jt)},length:function(Tt,at,st,Ct,nt,rt){return W(Tt,at,st,Ct,nt,rt,3)},nearestPoint:function(Tt,at,st,Ct,nt,rt,mt,Pt){return x([Tt,st,nt],[at,Ct,rt],mt,Pt,M)},pointDistance:function(Tt,at,st,Ct,nt,rt,mt,Pt){var Yt=this.nearestPoint(Tt,at,st,Ct,nt,rt,mt,Pt);return O(Yt.x,Yt.y,mt,Pt)},interpolationAt:M,pointAt:function(Tt,at,st,Ct,nt,rt,mt){return{x:M(Tt,st,nt,mt),y:M(at,Ct,rt,mt)}},divide:function(Tt,at,st,Ct,nt,rt,mt){return F(Tt,at,st,Ct,nt,rt,mt)},tangentAngle:function(Tt,at,st,Ct,nt,rt,mt){var Pt=k(Tt,st,nt,mt),Yt=k(at,Ct,rt,mt),Jt=Math.atan2(Yt,Pt);return C(Jt)}};function z(Tt,at,st,Ct,nt){var rt=1-nt;return rt*rt*rt*Tt+3*at*nt*rt*rt+3*st*nt*nt*rt+Ct*nt*nt*nt}function U(Tt,at,st,Ct,nt){var rt=1-nt;return 3*(rt*rt*(at-Tt)+2*rt*nt*(st-at)+nt*nt*(Ct-st))}function et(Tt,at,st,Ct){var nt=-3*Tt+9*at-9*st+3*Ct,rt=6*Tt-12*at+6*st,mt=3*at-3*Tt,Pt=[],Yt,Jt,de;if(P(nt,0))P(rt,0)||(Yt=-mt/rt,Yt>=0&&Yt<=1&&Pt.push(Yt));else{var Ce=rt*rt-4*nt*mt;P(Ce,0)?Pt.push(-rt/(2*nt)):Ce>0&&(de=Math.sqrt(Ce),Yt=(-rt+de)/(2*nt),Jt=(-rt-de)/(2*nt),Yt>=0&&Yt<=1&&Pt.push(Yt),Jt>=0&&Jt<=1&&Pt.push(Jt))}return Pt}function q(Tt,at,st,Ct,nt,rt,mt,Pt,Yt){var Jt=z(Tt,st,nt,mt,Yt),de=z(at,Ct,rt,Pt,Yt),Ce=b.pointAt(Tt,at,st,Ct,Yt),ye=b.pointAt(st,Ct,nt,rt,Yt),Se=b.pointAt(nt,rt,mt,Pt,Yt),Fe=b.pointAt(Ce.x,Ce.y,ye.x,ye.y,Yt),Ze=b.pointAt(ye.x,ye.y,Se.x,Se.y,Yt);return[[Tt,at,Ce.x,Ce.y,Fe.x,Fe.y,Jt,de],[Jt,de,Ze.x,Ze.y,Se.x,Se.y,mt,Pt]]}function dt(Tt,at,st,Ct,nt,rt,mt,Pt,Yt){if(Yt===0)return g([Tt,st,nt,mt],[at,Ct,rt,Pt]);var Jt=q(Tt,at,st,Ct,nt,rt,mt,Pt,.5),de=Jt[0],Ce=Jt[1];return de.push(Yt-1),Ce.push(Yt-1),dt.apply(null,de)+dt.apply(null,Ce)}var ct={extrema:et,box:function(Tt,at,st,Ct,nt,rt,mt,Pt){for(var Yt=[Tt,mt],Jt=[at,Pt],de=et(Tt,st,nt,mt),Ce=et(at,Ct,rt,Pt),ye=0;ye<de.length;ye++)Yt.push(z(Tt,st,nt,mt,de[ye]));for(var ye=0;ye<Ce.length;ye++)Jt.push(z(at,Ct,rt,Pt,Ce[ye]));return A(Yt,Jt)},length:function(Tt,at,st,Ct,nt,rt,mt,Pt){return dt(Tt,at,st,Ct,nt,rt,mt,Pt,3)},nearestPoint:function(Tt,at,st,Ct,nt,rt,mt,Pt,Yt,Jt,de){return x([Tt,st,nt,mt],[at,Ct,rt,Pt],Yt,Jt,z,de)},pointDistance:function(Tt,at,st,Ct,nt,rt,mt,Pt,Yt,Jt,de){var Ce=this.nearestPoint(Tt,at,st,Ct,nt,rt,mt,Pt,Yt,Jt,de);return O(Ce.x,Ce.y,Yt,Jt)},interpolationAt:z,pointAt:function(Tt,at,st,Ct,nt,rt,mt,Pt,Yt){return{x:z(Tt,st,nt,mt,Yt),y:z(at,Ct,rt,Pt,Yt)}},divide:function(Tt,at,st,Ct,nt,rt,mt,Pt,Yt){return q(Tt,at,st,Ct,nt,rt,mt,Pt,Yt)},tangentAngle:function(Tt,at,st,Ct,nt,rt,mt,Pt,Yt){var Jt=U(Tt,st,nt,mt,Yt),de=U(at,Ct,rt,Pt,Yt);return C(Math.atan2(de,Jt))}};function Mt(Tt,at){var st=Math.abs(Tt);return at>0?st:st*-1}var D={box:function(Tt,at,st,Ct){return{x:Tt-st,y:at-Ct,width:st*2,height:Ct*2}},length:function(Tt,at,st,Ct){return Math.PI*(3*(st+Ct)-Math.sqrt((3*st+Ct)*(st+3*Ct)))},nearestPoint:function(Tt,at,st,Ct,nt,rt){var mt=st,Pt=Ct;if(mt===0||Pt===0)return{x:Tt,y:at};for(var Yt=nt-Tt,Jt=rt-at,de=Math.abs(Yt),Ce=Math.abs(Jt),ye=mt*mt,Se=Pt*Pt,Fe=Math.PI/4,Ze,er,qe=0;qe<4;qe++){Ze=mt*Math.cos(Fe),er=Pt*Math.sin(Fe);var Pr=(ye-Se)*Math.pow(Math.cos(Fe),3)/mt,rn=(Se-ye)*Math.pow(Math.sin(Fe),3)/Pt,Or=Ze-Pr,Wr=er-rn,Zn=de-Pr,ei=Ce-rn,mi=Math.hypot(Wr,Or),xi=Math.hypot(ei,Zn),Ht=mi*Math.asin((Or*ei-Wr*Zn)/(mi*xi)),Zt=Ht/Math.sqrt(ye+Se-Ze*Ze-er*er);Fe+=Zt,Fe=Math.min(Math.PI/2,Math.max(0,Fe))}return{x:Tt+Mt(Ze,Yt),y:at+Mt(er,Jt)}},pointDistance:function(Tt,at,st,Ct,nt,rt){var mt=this.nearestPoint(Tt,at,st,Ct,nt,rt);return O(mt.x,mt.y,nt,rt)},pointAt:function(Tt,at,st,Ct,nt){var rt=2*Math.PI*nt;return{x:Tt+st*Math.cos(rt),y:at+Ct*Math.sin(rt)}},tangentAngle:function(Tt,at,st,Ct,nt){var rt=2*Math.PI*nt,mt=Math.atan2(Ct*Math.cos(rt),-st*Math.sin(rt));return C(mt)}};function G(Tt,at,st,Ct,nt,rt,mt,Pt){return-1*st*Math.cos(nt)*Math.sin(Pt)-Ct*Math.sin(nt)*Math.cos(Pt)}function X(Tt,at,st,Ct,nt,rt,mt,Pt){return-1*st*Math.sin(nt)*Math.sin(Pt)+Ct*Math.cos(nt)*Math.cos(Pt)}function N(Tt,at,st){return Math.atan(-at/Tt*Math.tan(st))}function tt(Tt,at,st){return Math.atan(at/(Tt*Math.tan(st)))}function Q(Tt,at,st,Ct,nt,rt){return st*Math.cos(nt)*Math.cos(rt)-Ct*Math.sin(nt)*Math.sin(rt)+Tt}function K(Tt,at,st,Ct,nt,rt){return st*Math.sin(nt)*Math.cos(rt)+Ct*Math.cos(nt)*Math.sin(rt)+at}function V(Tt,at,st,Ct){var nt=Math.atan2(Ct*Tt,st*at);return(nt+Math.PI*2)%(Math.PI*2)}function H(Tt,at,st){return{x:Tt*Math.cos(st),y:at*Math.sin(st)}}function u(Tt,at,st){var Ct=Math.cos(st),nt=Math.sin(st);return[Tt*Ct-at*nt,Tt*nt+at*Ct]}var ot={box:function(Tt,at,st,Ct,nt,rt,mt){for(var Pt=N(st,Ct,nt),Yt=Infinity,Jt=-Infinity,de=[rt,mt],Ce=-Math.PI*2;Ce<=Math.PI*2;Ce+=Math.PI){var ye=Pt+Ce;rt<mt?rt<ye&&ye<mt&&de.push(ye):mt<ye&&ye<rt&&de.push(ye)}for(var Ce=0;Ce<de.length;Ce++){var Se=Q(Tt,at,st,Ct,nt,de[Ce]);Se<Yt&&(Yt=Se),Se>Jt&&(Jt=Se)}for(var Fe=tt(st,Ct,nt),Ze=Infinity,er=-Infinity,qe=[rt,mt],Ce=-Math.PI*2;Ce<=Math.PI*2;Ce+=Math.PI){var Pr=Fe+Ce;rt<mt?rt<Pr&&Pr<mt&&qe.push(Pr):mt<Pr&&Pr<rt&&qe.push(Pr)}for(var Ce=0;Ce<qe.length;Ce++){var rn=K(Tt,at,st,Ct,nt,qe[Ce]);rn<Ze&&(Ze=rn),rn>er&&(er=rn)}return{x:Yt,y:Ze,width:Jt-Yt,height:er-Ze}},length:function(Tt,at,st,Ct,nt,rt,mt){},nearestPoint:function(Tt,at,st,Ct,nt,rt,mt,Pt,Yt){var Jt=u(Pt-Tt,Yt-at,-nt),de=Jt[0],Ce=Jt[1],ye=D.nearestPoint(0,0,st,Ct,de,Ce),Se=V(st,Ct,ye.x,ye.y);Se<rt?ye=H(st,Ct,rt):Se>mt&&(ye=H(st,Ct,mt));var Fe=u(ye.x,ye.y,nt);return{x:Fe[0]+Tt,y:Fe[1]+at}},pointDistance:function(Tt,at,st,Ct,nt,rt,mt,Pt,Yt){var Jt=this.nearestPoint(Tt,at,st,Ct,Pt,Yt);return O(Jt.x,Jt.y,Pt,Yt)},pointAt:function(Tt,at,st,Ct,nt,rt,mt,Pt){var Yt=(mt-rt)*Pt+rt;return{x:Q(Tt,at,st,Ct,nt,Yt),y:K(Tt,at,st,Ct,nt,Yt)}},tangentAngle:function(Tt,at,st,Ct,nt,rt,mt,Pt){var Yt=(mt-rt)*Pt+rt,Jt=G(Tt,at,st,Ct,nt,rt,mt,Yt),de=X(Tt,at,st,Ct,nt,rt,mt,Yt);return C(Math.atan2(de,Jt))}};function pt(Tt){for(var at=0,st=[],Ct=0;Ct<Tt.length-1;Ct++){var nt=Tt[Ct],rt=Tt[Ct+1],mt=O(nt[0],nt[1],rt[0],rt[1]),Pt={from:nt,to:rt,length:mt};st.push(Pt),at+=mt}return{segments:st,totalLength:at}}function it(Tt){if(Tt.length<2)return 0;for(var at=0,st=0;st<Tt.length-1;st++){var Ct=Tt[st],nt=Tt[st+1];at+=O(Ct[0],Ct[1],nt[0],nt[1])}return at}function xt(Tt,at){if(at>1||at<0||Tt.length<2)return null;var st=pt(Tt),Ct=st.segments,nt=st.totalLength;if(nt===0)return{x:Tt[0][0],y:Tt[0][1]};for(var rt=0,mt=null,Pt=0;Pt<Ct.length;Pt++){var Yt=Ct[Pt],Jt=Yt.from,de=Yt.to,Ce=Yt.length/nt;if(at>=rt&&at<=rt+Ce){var ye=(at-rt)/Ce;mt=b.pointAt(Jt[0],Jt[1],de[0],de[1],ye);break}rt+=Ce}return mt}function gt(Tt,at){if(at>1||at<0||Tt.length<2)return 0;for(var st=pt(Tt),Ct=st.segments,nt=st.totalLength,rt=0,mt=0,Pt=0;Pt<Ct.length;Pt++){var Yt=Ct[Pt],Jt=Yt.from,de=Yt.to,Ce=Yt.length/nt;if(at>=rt&&at<=rt+Ce){mt=Math.atan2(de[1]-Jt[1],de[0]-Jt[0]);break}rt+=Ce}return mt}function wt(Tt,at,st){for(var Ct=Infinity,nt=0;nt<Tt.length-1;nt++){var rt=Tt[nt],mt=Tt[nt+1],Pt=b.pointDistance(rt[0],rt[1],mt[0],mt[1],at,st);Pt<Ct&&(Ct=Pt)}return Ct}var Dt={box:function(Tt){for(var at=[],st=[],Ct=0;Ct<Tt.length;Ct++){var nt=Tt[Ct];at.push(nt[0]),st.push(nt[1])}return A(at,st)},length:function(Tt){return it(Tt)},pointAt:function(Tt,at){return xt(Tt,at)},pointDistance:function(Tt,at,st){return wt(Tt,at,st)},tangentAngle:function(Tt,at){return gt(Tt,at)}};function Nt(Tt){var at=Tt.slice(0);return Tt.length&&at.push(Tt[0]),at}var Ot={box:function(Tt){return Dt.box(Tt)},length:function(Tt){return it(Nt(Tt))},pointAt:function(Tt,at){return xt(Nt(Tt),at)},pointDistance:function(Tt,at,st){return wt(Nt(Tt),at,st)},tangentAngle:function(Tt,at){return gt(Nt(Tt),at)}}},33418:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256),_=d(55397);function I(x,g,M,L,k,F,W,$){return-1*M*Math.cos(k)*Math.sin($)-L*Math.sin(k)*Math.cos($)}function O(x,g,M,L,k,F,W,$){return-1*M*Math.sin(k)*Math.sin($)+L*Math.cos(k)*Math.cos($)}function P(x,g,M){return Math.atan(-g/x*Math.tan(M))}function A(x,g,M){return Math.atan(g/(x*Math.tan(M)))}function E(x,g,M,L,k,F){return M*Math.cos(k)*Math.cos(F)-L*Math.sin(k)*Math.sin(F)+x}function C(x,g,M,L,k,F){return M*Math.sin(k)*Math.cos(F)+L*Math.cos(k)*Math.sin(F)+g}function p(x,g,M,L){var k=Math.atan2(L*x,M*g);return(k+Math.PI*2)%(Math.PI*2)}function b(x,g,M){return{x:x*Math.cos(M),y:g*Math.sin(M)}}function y(x,g,M){var L=Math.cos(M),k=Math.sin(M);return[x*L-g*k,x*k+g*L]}S.default={box:function(x,g,M,L,k,F,W){for(var $=P(M,L,k),z=Infinity,U=-Infinity,et=[F,W],q=-Math.PI*2;q<=Math.PI*2;q+=Math.PI){var dt=$+q;F<W?F<dt&&dt<W&&et.push(dt):W<dt&&dt<F&&et.push(dt)}for(var q=0;q<et.length;q++){var ct=E(x,g,M,L,k,et[q]);ct<z&&(z=ct),ct>U&&(U=ct)}for(var Mt=A(M,L,k),D=Infinity,G=-Infinity,X=[F,W],q=-Math.PI*2;q<=Math.PI*2;q+=Math.PI){var N=Mt+q;F<W?F<N&&N<W&&X.push(N):W<N&&N<F&&X.push(N)}for(var q=0;q<X.length;q++){var tt=C(x,g,M,L,k,X[q]);tt<D&&(D=tt),tt>G&&(G=tt)}return{x:z,y:D,width:U-z,height:G-D}},length:function(x,g,M,L,k,F,W){},nearestPoint:function(x,g,M,L,k,F,W,$,z){var U=y($-x,z-g,-k),et=U[0],q=U[1],dt=_.default.nearestPoint(0,0,M,L,et,q),ct=p(M,L,dt.x,dt.y);ct<F?dt=b(M,L,F):ct>W&&(dt=b(M,L,W));var Mt=y(dt.x,dt.y,k);return{x:Mt[0]+x,y:Mt[1]+g}},pointDistance:function(x,g,M,L,k,F,W,$,z){var U=this.nearestPoint(x,g,M,L,$,z);return w.distance(U.x,U.y,$,z)},pointAt:function(x,g,M,L,k,F,W,$){var z=(W-F)*$+F;return{x:E(x,g,M,L,k,z),y:C(x,g,M,L,k,z)}},tangentAngle:function(x,g,M,L,k,F,W,$){var z=(W-F)*$+F,U=I(x,g,M,L,k,F,W,z),et=O(x,g,M,L,k,F,W,z);return w.piMod(Math.atan2(et,U))}}},87335:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var w=d(76256),_=1e-4;function I(P,A,E,C,p,b){var y,x=Infinity,g=[E,C],M=20;b&&b>200&&(M=b/10);for(var L=1/M,k=L/10,F=0;F<=M;F++){var W=F*L,$=[p.apply(null,P.concat([W])),p.apply(null,A.concat([W]))],z=w.distance(g[0],g[1],$[0],$[1]);z<x&&(y=W,x=z)}if(y===0)return{x:P[0],y:A[0]};if(y===1){var U=P.length;return{x:P[U-1],y:A[U-1]}}x=Infinity;for(var F=0;F<32&&!(k<_);F++){var et=y-k,q=y+k,$=[p.apply(null,P.concat([et])),p.apply(null,A.concat([et]))],z=w.distance(g[0],g[1],$[0],$[1]);if(et>=0&&z<x)y=et,x=z;else{var dt=[p.apply(null,P.concat([q])),p.apply(null,A.concat([q]))],ct=w.distance(g[0],g[1],dt[0],dt[1]);q<=1&&ct<x?(y=q,x=ct):k*=.5}}return{x:p.apply(null,P.concat([y])),y:p.apply(null,A.concat([y]))}}S.nearestPoint=I;function O(P,A){for(var E=0,C=P.length,p=0;p<C;p++){var b=P[p],y=A[p],x=P[(p+1)%C],g=A[(p+1)%C];E+=w.distance(b,y,x,g)}return E/2}S.snapLength=O},15730:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256),_=d(23646),I=d(87335);function O(p,b,y,x,g){var M=1-g;return M*M*M*p+3*b*g*M*M+3*y*g*g*M+x*g*g*g}function P(p,b,y,x,g){var M=1-g;return 3*(M*M*(b-p)+2*M*g*(y-b)+g*g*(x-y))}function A(p,b,y,x){var g=-3*p+9*b-9*y+3*x,M=6*p-12*b+6*y,L=3*b-3*p,k=[],F,W,$;if(w.isNumberEqual(g,0))w.isNumberEqual(M,0)||(F=-L/M,F>=0&&F<=1&&k.push(F));else{var z=M*M-4*g*L;w.isNumberEqual(z,0)?k.push(-M/(2*g)):z>0&&($=Math.sqrt(z),F=(-M+$)/(2*g),W=(-M-$)/(2*g),F>=0&&F<=1&&k.push(F),W>=0&&W<=1&&k.push(W))}return k}function E(p,b,y,x,g,M,L,k,F){var W=O(p,y,g,L,F),$=O(b,x,M,k,F),z=_.default.pointAt(p,b,y,x,F),U=_.default.pointAt(y,x,g,M,F),et=_.default.pointAt(g,M,L,k,F),q=_.default.pointAt(z.x,z.y,U.x,U.y,F),dt=_.default.pointAt(U.x,U.y,et.x,et.y,F);return[[p,b,z.x,z.y,q.x,q.y,W,$],[W,$,dt.x,dt.y,et.x,et.y,L,k]]}function C(p,b,y,x,g,M,L,k,F){if(F===0)return I.snapLength([p,y,g,L],[b,x,M,k]);var W=E(p,b,y,x,g,M,L,k,.5),$=W[0],z=W[1];return $.push(F-1),z.push(F-1),C.apply(null,$)+C.apply(null,z)}S.default={extrema:A,box:function(p,b,y,x,g,M,L,k){for(var F=[p,L],W=[b,k],$=A(p,y,g,L),z=A(b,x,M,k),U=0;U<$.length;U++)F.push(O(p,y,g,L,$[U]));for(var U=0;U<z.length;U++)W.push(O(b,x,M,k,z[U]));return w.getBBoxByArray(F,W)},length:function(p,b,y,x,g,M,L,k){return C(p,b,y,x,g,M,L,k,3)},nearestPoint:function(p,b,y,x,g,M,L,k,F,W,$){return I.nearestPoint([p,y,g,L],[b,x,M,k],F,W,O,$)},pointDistance:function(p,b,y,x,g,M,L,k,F,W,$){var z=this.nearestPoint(p,b,y,x,g,M,L,k,F,W,$);return w.distance(z.x,z.y,F,W)},interpolationAt:O,pointAt:function(p,b,y,x,g,M,L,k,F){return{x:O(p,y,g,L,F),y:O(b,x,M,k,F)}},divide:function(p,b,y,x,g,M,L,k,F){return E(p,b,y,x,g,M,L,k,F)},tangentAngle:function(p,b,y,x,g,M,L,k,F){var W=P(p,y,g,L,F),$=P(b,x,M,k,F);return w.piMod(Math.atan2($,W))}}},55397:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256);function _(I,O){var P=Math.abs(I);return O>0?P:P*-1}S.default={box:function(I,O,P,A){return{x:I-P,y:O-A,width:P*2,height:A*2}},length:function(I,O,P,A){return Math.PI*(3*(P+A)-Math.sqrt((3*P+A)*(P+3*A)))},nearestPoint:function(I,O,P,A,E,C){var p=P,b=A;if(p===0||b===0)return{x:I,y:O};for(var y=E-I,x=C-O,g=Math.abs(y),M=Math.abs(x),L=p*p,k=b*b,F=Math.PI/4,W,$,z=0;z<4;z++){W=p*Math.cos(F),$=b*Math.sin(F);var U=(L-k)*Math.pow(Math.cos(F),3)/p,et=(k-L)*Math.pow(Math.sin(F),3)/b,q=W-U,dt=$-et,ct=g-U,Mt=M-et,D=Math.hypot(dt,q),G=Math.hypot(Mt,ct),X=D*Math.asin((q*Mt-dt*ct)/(D*G)),N=X/Math.sqrt(L+k-W*W-$*$);F+=N,F=Math.min(Math.PI/2,Math.max(0,F))}return{x:I+_(W,y),y:O+_($,x)}},pointDistance:function(I,O,P,A,E,C){var p=this.nearestPoint(I,O,P,A,E,C);return w.distance(p.x,p.y,E,C)},pointAt:function(I,O,P,A,E){var C=2*Math.PI*E;return{x:I+P*Math.cos(C),y:O+A*Math.sin(C)}},tangentAngle:function(I,O,P,A,E){var C=2*Math.PI*E,p=Math.atan2(A*Math.cos(C),-P*Math.sin(C));return w.piMod(p)}}},23646:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(76256),_=d(31437);S.default={box:function(I,O,P,A){return w.getBBoxByArray([I,P],[O,A])},length:function(I,O,P,A){return w.distance(I,O,P,A)},pointAt:function(I,O,P,A,E){return{x:(1-E)*I+E*P,y:(1-E)*O+E*A}},pointDistance:function(I,O,P,A,E,C){var p=(P-I)*(E-I)+(A-O)*(C-O);if(p<0)return w.distance(I,O,E,C);var b=(P-I)*(P-I)+(A-O)*(A-O);return p>b?w.distance(P,A,E,C):this.pointToLine(I,O,P,A,E,C)},pointToLine:function(I,O,P,A,E,C){var p=[P-I,A-O];if(_.exactEquals(p,[0,0]))return Math.sqrt((E-I)*(E-I)+(C-O)*(C-O));var b=[-p[1],p[0]];_.normalize(b,b);var y=[E-I,C-O];return Math.abs(_.dot(y,b))},tangentAngle:function(I,O,P,A){return Math.atan2(A-O,P-I)}}},65386:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(28171),I=d(76256);S.Z={box:function(O){for(var P=[],A=[],E=0;E<O.length;E++){var C=O[E];P.push(C[0]),A.push(C[1])}return I.getBBoxByArray(P,A)},length:function(O){return _.lengthOfSegment(O)},pointAt:function(O,P){return _.pointAtSegments(O,P)},pointDistance:function(O,P,A){return _.distanceAtSegment(O,P,A)},tangentAngle:function(O,P){return _.angleAtSegments(O,P)}}},2879:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(23646),_=d(76256),I=d(87335);function O(p,b,y,x){var g=1-x;return g*g*p+2*x*g*b+x*x*y}function P(p,b,y){var x=p+y-2*b;if(_.isNumberEqual(x,0))return[.5];var g=(p-b)/x;return g<=1&&g>=0?[g]:[]}function A(p,b,y,x){return 2*(1-x)*(b-p)+2*x*(y-b)}function E(p,b,y,x,g,M,L){var k=O(p,y,g,L),F=O(b,x,M,L),W=w.default.pointAt(p,b,y,x,L),$=w.default.pointAt(y,x,g,M,L);return[[p,b,W.x,W.y,k,F],[k,F,$.x,$.y,g,M]]}function C(p,b,y,x,g,M,L){if(L===0)return(_.distance(p,b,y,x)+_.distance(y,x,g,M)+_.distance(p,b,g,M))/2;var k=E(p,b,y,x,g,M,.5),F=k[0],W=k[1];return F.push(L-1),W.push(L-1),C.apply(null,F)+C.apply(null,W)}S.default={box:function(p,b,y,x,g,M){var L=P(p,y,g)[0],k=P(b,x,M)[0],F=[p,g],W=[b,M];return L!==void 0&&F.push(O(p,y,g,L)),k!==void 0&&W.push(O(b,x,M,k)),_.getBBoxByArray(F,W)},length:function(p,b,y,x,g,M){return C(p,b,y,x,g,M,3)},nearestPoint:function(p,b,y,x,g,M,L,k){return I.nearestPoint([p,y,g],[b,x,M],L,k,O)},pointDistance:function(p,b,y,x,g,M,L,k){var F=this.nearestPoint(p,b,y,x,g,M,L,k);return _.distance(F.x,F.y,L,k)},interpolationAt:O,pointAt:function(p,b,y,x,g,M,L){return{x:O(p,y,g,L),y:O(b,x,M,L)}},divide:function(p,b,y,x,g,M,L){return E(p,b,y,x,g,M,L)},tangentAngle:function(p,b,y,x,g,M,L){var k=A(p,y,g,L),F=A(b,x,M,L),W=Math.atan2(F,k);return _.piMod(W)}}},28171:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var w=d(23646),_=d(76256);function I(C){for(var p=0,b=[],y=0;y<C.length-1;y++){var x=C[y],g=C[y+1],M=_.distance(x[0],x[1],g[0],g[1]),L={from:x,to:g,length:M};b.push(L),p+=M}return{segments:b,totalLength:p}}function O(C){if(C.length<2)return 0;for(var p=0,b=0;b<C.length-1;b++){var y=C[b],x=C[b+1];p+=_.distance(y[0],y[1],x[0],x[1])}return p}S.lengthOfSegment=O;function P(C,p){if(p>1||p<0||C.length<2)return null;var b=I(C),y=b.segments,x=b.totalLength;if(x===0)return{x:C[0][0],y:C[0][1]};for(var g=0,M=null,L=0;L<y.length;L++){var k=y[L],F=k.from,W=k.to,$=k.length/x;if(p>=g&&p<=g+$){var z=(p-g)/$;M=w.default.pointAt(F[0],F[1],W[0],W[1],z);break}g+=$}return M}S.pointAtSegments=P;function A(C,p){if(p>1||p<0||C.length<2)return 0;for(var b=I(C),y=b.segments,x=b.totalLength,g=0,M=0,L=0;L<y.length;L++){var k=y[L],F=k.from,W=k.to,$=k.length/x;if(p>=g&&p<=g+$){M=Math.atan2(W[1]-F[1],W[0]-F[0]);break}g+=$}return M}S.angleAtSegments=A;function E(C,p,b){for(var y=Infinity,x=0;x<C.length-1;x++){var g=C[x],M=C[x+1],L=w.default.pointDistance(g[0],g[1],M[0],M[1],p,b);L<y&&(y=L)}return y}S.distanceAtSegment=E},76256:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;function d(E){return Math.min.apply(null,E)}function w(E){return Math.max.apply(null,E)}function _(E,C,p,b){var y=E-p,x=C-b;return Math.sqrt(y*y+x*x)}S.distance=_;function I(E,C){return Math.abs(E-C)<.001}S.isNumberEqual=I;function O(E,C){var p=d(E),b=d(C),y=w(E),x=w(C);return{x:p,y:b,width:y-p,height:x-b}}S.getBBoxByArray=O;function P(E,C,p,b){return{minX:d([E,p]),maxX:w([E,p]),minY:d([C,b]),maxY:w([C,b])}}S.getBBoxRange=P;function A(E){return(E+Math.PI*2)%(Math.PI*2)}S.piMod=A},56463:function(bt,S,d){"use strict";var w=d(34155),_=this&&this.__spreadArrays||function(){for(var k=0,F=0,W=arguments.length;F<W;F++)k+=arguments[F].length;for(var $=Array(k),z=0,F=0;F<W;F++)for(var U=arguments[F],et=0,q=U.length;et<q;et++,z++)$[z]=U[et];return $};Object.defineProperty(S,"__esModule",{value:!0});var I=function(){function k(F,W,$){this.name=F,this.version=W,this.os=$}return k}();S.BrowserInfo=I;var O=function(){function k(F){this.version=F,this.name="node",this.os=w.platform}return k}();S.NodeInfo=O;var P=function(){function k(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return k}();S.BotInfo=P;var A=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,E=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,C=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",A]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",E]];function y(k){return k?x(k):typeof navigator!="undefined"?x(navigator.userAgent):M()}S.detect=y;function x(k){var F=k!==""&&p.reduce(function(U,et){var q=et[0],dt=et[1];if(U)return U;var ct=dt.exec(k);return!!ct&&[q,ct]},!1);if(!F)return null;var W=F[0],$=F[1];if(W==="searchbot")return new P;var z=$[1]&&$[1].split(/[._]/).slice(0,3);return z?z.length<C&&(z=_(z,L(C-z.length))):z=[],new I(W,z.join("."),g(k))}S.parseUserAgent=x;function g(k){for(var F=0,W=b.length;F<W;F++){var $=b[F],z=$[0],U=$[1],et=U.test(k);if(et)return z}return null}S.detectOS=g;function M(){var k=typeof w!="undefined"&&w.version;return k?new O(w.version.slice(1)):null}S.getNodeVersion=M;function L(k){for(var F=[],W=0;W<k;W++)F.push("0");return F}},23231:function(bt){"use strict";bt.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},52351:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(2810),I=function(){function O(P){var A=P.xField,E=P.yField,C=P.adjustNames,p=C===void 0?["x","y"]:C;this.adjustNames=p,this.xField=A,this.yField=E}return O.prototype.isAdjust=function(P){return this.adjustNames.indexOf(P)>=0},O.prototype.getAdjustRange=function(P,A,E){var C=this.yField,p=E.indexOf(A),b=E.length,y,x;return!C&&this.isAdjust("y")?(y=0,x=1):b>1?(y=E[p===0?0:p-1],x=E[p===b-1?b-1:p+1],p!==0?y+=(A-y)/2:y-=(x-A)/2,p!==b-1?x-=(x-A)/2:x+=(A-E[b-2])/2):(y=A===0?0:A-.5,x=A===0?1:A+.5),{pre:y,next:x}},O.prototype.adjustData=function(P,A){var E=this,C=this.getDimValues(A);w.each(P,function(p,b){w.each(C,function(y,x){E.adjustDim(x,y,p,b)})})},O.prototype.groupData=function(P,A){return w.each(P,function(E){E[A]===void 0&&(E[A]=_.DEFAULT_Y)}),w.groupBy(P,A)},O.prototype.adjustDim=function(P,A,E,C){},O.prototype.getDimValues=function(P){var A=this,E=A.xField,C=A.yField,p={},b=[];if(E&&this.isAdjust("x")&&b.push(E),C&&this.isAdjust("y")&&b.push(C),b.forEach(function(x){p[x]=w.valuesOfKey(P,x).sort(function(g,M){return g-M})}),!C&&this.isAdjust("y")){var y="y";p[y]=[_.DEFAULT_Y,1]}return p},O}();S.default=I},2810:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},68060:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var w=d(8108),_=d(52351);S.Adjust=_.default;var I={},O=function(A){return I[A.toLowerCase()]};S.getAdjust=O;var P=function(A,E){if(O(A))throw new Error("Adjust type '"+A+"' existed.");I[A.toLowerCase()]=E};S.registerAdjust=P,w.__exportStar(d(62056),S)},62056:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},58368:function(bt,S,d){"use strict";d.r(S),d.d(S,{Attribute:function(){return O},Color:function(){return C},Opacity:function(){return b},Position:function(){return x},Scale:function(){return F.Scale},Shape:function(){return M},Size:function(){return k},getAttribute:function(){return $},registerAttribute:function(){return z}});var w=d(49242),_=function(U,et){return(0,w.isString)(et)?et:U.invert(U.scale(et))},I=function(){function U(et){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(et)}return U.prototype.mapping=function(){for(var et=this,q=[],dt=0;dt<arguments.length;dt++)q[dt]=arguments[dt];var ct=q.map(function(Mt,D){return et._toOriginParam(Mt,et.scales[D])});return this.callback.apply(this,ct)},U.prototype.getLinearValue=function(et){var q=this.values.length-1,dt=Math.floor(q*et),ct=q*et-dt,Mt=this.values[dt],D=dt===q?Mt:this.values[dt+1];return Mt+(D-Mt)*ct},U.prototype.getNames=function(){for(var et=this.scales,q=this.names,dt=Math.min(et.length,q.length),ct=[],Mt=0;Mt<dt;Mt+=1)ct.push(q[Mt]);return ct},U.prototype.getFields=function(){return this.scales.map(function(et){return et.field})},U.prototype.getScale=function(et){return this.scales[this.names.indexOf(et)]},U.prototype.defaultCallback=function(){for(var et=this,q=[],dt=0;dt<arguments.length;dt++)q[dt]=arguments[dt];return q.length===0?this.values:q.map(function(ct,Mt){var D=et.scales[Mt];return D.type==="identity"?D.values[0]:et._getAttributeValue(D,ct)})},U.prototype._parseCfg=function(et){var q=this,dt=et.type,ct=dt===void 0?"base":dt,Mt=et.names,D=Mt===void 0?[]:Mt,G=et.scales,X=G===void 0?[]:G,N=et.values,tt=N===void 0?[]:N,Q=et.callback;this.type=ct,this.scales=X,this.values=tt,this.names=D,this.callback=function(){for(var K=[],V=0;V<arguments.length;V++)K[V]=arguments[V];if(Q){var H=Q.apply(void 0,K);if(!(0,w.isNil)(H))return[H]}return q.defaultCallback.apply(q,K)}},U.prototype._getAttributeValue=function(et,q){if(et.isCategory&&!this.linear){var dt=et.translate(q);return this.values[dt%this.values.length]}var ct=et.scale(q);return this.getLinearValue(ct)},U.prototype._toOriginParam=function(et,q){return q.isLinear?et:(0,w.isArray)(et)?et.map(function(dt){return _(q,dt)}):_(q,et)},U}(),O=I,P=d(8108),A=d(55223),E=function(U){(0,P.__extends)(et,U);function et(q){var dt=U.call(this,q)||this;return dt.type="color",dt.names=["color"],(0,w.isString)(dt.values)&&(dt.linear=!0),dt.gradient=A.default.gradient(dt.values),dt}return et.prototype.getLinearValue=function(q){return this.gradient(q)},et}(O),C=E,p=function(U){(0,P.__extends)(et,U);function et(q){var dt=U.call(this,q)||this;return dt.type="opacity",dt.names=["opacity"],dt}return et}(O),b=p,y=function(U){(0,P.__extends)(et,U);function et(q){var dt=U.call(this,q)||this;return dt.names=["x","y"],dt.type="position",dt}return et.prototype.mapping=function(q,dt){var ct=this.scales,Mt=ct[0],D=ct[1];return(0,w.isNil)(q)||(0,w.isNil)(dt)?[]:[(0,w.isArray)(q)?q.map(function(G){return Mt.scale(G)}):Mt.scale(q),(0,w.isArray)(dt)?dt.map(function(G){return D.scale(G)}):D.scale(dt)]},et}(O),x=y,g=function(U){(0,P.__extends)(et,U);function et(q){var dt=U.call(this,q)||this;return dt.type="shape",dt.names=["shape"],dt}return et.prototype.getLinearValue=function(q){var dt=Math.round((this.values.length-1)*q);return this.values[dt]},et}(O),M=g,L=function(U){(0,P.__extends)(et,U);function et(q){var dt=U.call(this,q)||this;return dt.type="size",dt.names=["size"],dt}return et}(O),k=L,F=d(72469),W={},$=function(U){return W[U.toLowerCase()]},z=function(U,et){if($(U))throw new Error("Attribute type '"+U+"' existed.");W[U.toLowerCase()]=et};z("Color",C),z("Opacity",b),z("Position",x),z("Shape",M),z("Size",k)},27210:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=function(O,P){return w.isString(P)?P:O.invert(O.scale(P))},I=function(){function O(P){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(P)}return O.prototype.mapping=function(){for(var P=this,A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var C=A.map(function(p,b){return P._toOriginParam(p,P.scales[b])});return this.callback.apply(this,C)},O.prototype.getLinearValue=function(P){var A=this.values.length-1,E=Math.floor(A*P),C=A*P-E,p=this.values[E],b=E===A?p:this.values[E+1];return p+(b-p)*C},O.prototype.getNames=function(){for(var P=this.scales,A=this.names,E=Math.min(P.length,A.length),C=[],p=0;p<E;p+=1)C.push(A[p]);return C},O.prototype.getFields=function(){return this.scales.map(function(P){return P.field})},O.prototype.getScale=function(P){return this.scales[this.names.indexOf(P)]},O.prototype.defaultCallback=function(){for(var P=this,A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];return A.length===0?this.values:A.map(function(C,p){var b=P.scales[p];return b.type==="identity"?b.values[0]:P._getAttributeValue(b,C)})},O.prototype._parseCfg=function(P){var A=this,E=P.type,C=E===void 0?"base":E,p=P.names,b=p===void 0?[]:p,y=P.scales,x=y===void 0?[]:y,g=P.values,M=g===void 0?[]:g,L=P.callback;this.type=C,this.scales=x,this.values=M,this.names=b,this.callback=function(){for(var k=[],F=0;F<arguments.length;F++)k[F]=arguments[F];if(L){var W=L.apply(void 0,k);if(!w.isNil(W))return[W]}return A.defaultCallback.apply(A,k)}},O.prototype._getAttributeValue=function(P,A){if(P.isCategory&&!this.linear){var E=P.translate(A);return this.values[E%this.values.length]}var C=P.scale(A);return this.getLinearValue(C)},O.prototype._toOriginParam=function(P,A){return A.isLinear?P:w.isArray(P)?P.map(function(E){return _(A,E)}):_(A,P)},O}();S.default=I},25228:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(8108),_=d(27210);S.Attribute=_.default;var I={},O=function(A){return I[A.toLowerCase()]};S.getAttribute=O;var P=function(A,E){if(O(A))throw new Error("Attribute type '"+A+"' existed.");I[A.toLowerCase()]=E};S.registerAttribute=P,w.__exportStar(d(5925),S)},5925:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(72469);S.Scale=w.Scale},61102:function(){},50817:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var d={};function w(I){return d[I.toLowerCase()]}S.getAnimation=w;function _(I,O){d[I.toLowerCase()]=O}S.registerAnimation=_},97488:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var w=d(80123),_=d(49242),I=d(78646),O=d(50817);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var P={interval:function(y){return{enter:{animation:y.isRect?y.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:y.isPolar&&y.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},A={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(y){var x;return y.isRect?x=y.isTransposed?"grow-in-x":"grow-in-y":(x="grow-in-xy",y.isPolar&&y.isTransposed&&(x="wave-in")),{animation:x}},schema:function(y){var x;return y.isRect?x=y.isTransposed?"grow-in-x":"grow-in-y":x="grow-in-xy",{animation:x}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function E(y,x){return{delay:_.isFunction(y.delay)?y.delay(x):y.delay,easing:_.isFunction(y.easing)?y.easing(x):y.easing,duration:_.isFunction(y.duration)?y.duration(x):y.duration,callback:y.callback}}function C(y,x,g){var M=P[y];return M&&(_.isFunction(M)&&(M=M(x)),M=_.deepMix({},S.DEFAULT_ANIMATE_CFG,M),g)?M[g]:M}S.getDefaultAnimateCfg=C;function p(y,x,g){var M=_.get(y.get("origin"),"data",I.FIELD_ORIGIN),L=x.animation,k=E(x,M);if(L){var F=O.getAnimation(L);F&&F(y,k,g)}else y.animate(g.toAttrs,k)}S.doAnimate=p;function b(y,x,g,M,L){if(A[g]){var k=A[g](M),F=O.getAnimation(_.get(k,"animation",""));if(F){var W=w.__assign(w.__assign(w.__assign({},S.DEFAULT_ANIMATE_CFG.appear),k),x);y.stopAnimate(),F(y,W,{coordinate:M,minYPoint:L,toAttrs:null})}}}S.doGroupAppearAnimate=b},51315:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(80123),_=w.__importDefault(d(90494)),I=function(O){w.__extends(P,O);function P(A){var E=O.call(this)||this;E.destroyed=!1;var C=A.visible,p=C===void 0?!0:C;return E.visible=p,E}return P.prototype.show=function(){var A=this.visible;A||this.changeVisible(!0)},P.prototype.hide=function(){var A=this.visible;A&&this.changeVisible(!1)},P.prototype.destroy=function(){this.off(),this.destroyed=!0},P.prototype.changeVisible=function(A){this.visible!==A&&(this.visible=A)},P}(_.default);S.default=I},72282:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var w=d(49242),_=function(){function I(O){this.visible=!0,this.components=[],this.view=O}return I.prototype.clear=function(){w.each(this.components,function(O){O.component.destroy()}),this.components=[]},I.prototype.destroy=function(){this.clear()},I.prototype.getComponents=function(){return this.components},I.prototype.changeVisible=function(O){this.visible!==O&&(this.components.forEach(function(P){O?P.component.show():P.component.hide()}),this.visible=O)},I}();S.Controller=_},67984:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(80123),I=d(72282),O=250,P=function(b,y){var x=y.x-b.x,g=y.y-b.y;return Math.abs(x)>Math.abs(g)?x>0?"right":"left":g>0?"down":"up"},A=function(b,y){var x=Math.abs(y.x-b.x),g=Math.abs(y.y-b.y);return Math.sqrt(x*x+g*g)},E=function(b,y){var x=(b.x+y.x)/2,g=(b.y+y.y)/2;return{x,y:g}},C=function(b,y){if(!!b){for(var x=[],g=b.length,M=0;M<g;M++){var L=b[M],k=L.clientX,F=L.clientY,W=y.getPointByClient(k,F);x.push(W)}return x}},p=function(b){_.__extends(y,b);function y(x){var g=b.call(this,x)||this;return g.processEvent={},g.touchStart=function(M){var L=C(M.originalEvent.touches,g.canvas);!L||(M.points=L,g.reset(),g.startTime=Date.now(),g.startPoints=L,L.length>1?(g.startDistance=A(L[0],L[1]),g.center=E(L[0],L[1])):g.pressTimeout=setTimeout(function(){var k="press";M.direction="none",g.emitStart(k,M),g.emitEvent(k,M),g.eventType=k},O))},g.touchMove=function(M){var L=C(M.originalEvent.touches,g.canvas);if(!!L){g.clearPressTimeout(),M.points=L;var k=g.startPoints;if(!!k)if(L.length>1){var F=g.startDistance,W=A(L[0],L[1]);M.zoom=W/F,M.center=g.center,g.emitStart("pinch",M),g.emitEvent("pinch",M)}else{var $=L[0].x-k[0].x,z=L[0].y-k[0].y,U=g.direction||P(k[0],L[0]);g.direction=U;var et=g.getEventType(L);M.direction=U,M.deltaX=$,M.deltaY=z,g.emitStart(et,M),g.emitEvent(et,M);var q=g.lastMoveTime,dt=Date.now();dt-q>0&&(g.prevMoveTime=q,g.prevMovePoints=g.lastMovePoints,g.lastMoveTime=dt,g.lastMovePoints=L)}}},g.touchEnd=function(M){g.emitEnd(M);var L=g.lastMoveTime,k=Date.now();if(k-L<100){var F=g.prevMoveTime||g.startTime,W=L-F;if(W>0){var $=g.prevMovePoints||g.startPoints,z=g.lastMovePoints,U=A($[0],z[0])/W;U>.3&&(M.velocity=U,M.direction=P($[0],z[0]),g.emitEvent("swipe",M))}}g.reset();var et=M.touches;et&&et.length>0&&g.touchStart(M)},g.canvas=x.getCanvas(),g.delegateEvent(),g.processEvent={},g}return Object.defineProperty(y.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),y.prototype.init=function(){},y.prototype.render=function(){},y.prototype.layout=function(){},y.prototype.update=function(){},y.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},y.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},y.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},y.prototype.emitEvent=function(x,g){var M=this.view;M.emit(x,g)},y.prototype.emitStart=function(x,g){this.isProcess(x)||(this.enable(x),this.emitEvent(x+"start",g))},y.prototype.emitEnd=function(x){var g=this,M=this.processEvent;Object.keys(M).forEach(function(L){g.emitEvent(L+"end",x),delete M[L]})},y.prototype.enable=function(x){this.processEvent[x]=!0},y.prototype.isProcess=function(x){return this.processEvent[x]},y.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},y.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},y.prototype.getEventType=function(x){var g=this,M=g.eventType,L=g.view,k=g.startTime,F=g.startPoints;if(M)return M;var W,$=L.getEvents().pan;if(!$||!$.length)W="press";else{var z=Date.now();z-k>O&&A(F[0],x[0])<10?W="press":W="pan"}return this.eventType=W,W},y}(I.Controller);S.Z=p},13733:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(80123),I=d(49242),O=d(96397),P=d(83714),A=d(38674),E=d(97127),C=d(72282);function p(y){for(var x=[],g=function(L){var k=y[L],F=I.find(x,function(W){return W.color===k.color&&W.name===k.name&&W.value===k.value&&W.title===k.title});F||x.push(k)},M=0;M<y.length;M++)g(M);return x}var b=function(y){_.__extends(x,y);function x(){var g=y!==null&&y.apply(this,arguments)||this;return g.isLocked=!1,g}return Object.defineProperty(x.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),x.prototype.init=function(){},x.prototype.isVisible=function(){var g=this.view.getOptions().tooltip;return g!==!1},x.prototype.render=function(){},x.prototype.showTooltip=function(g){if(this.point=g,!!this.isVisible()){var M=this.view,L=this.getTooltipItems(g);if(!L.length){this.hideTooltip();return}var k=this.getTitle(L),F={x:L[0].x,y:L[0].y};M.emit("tooltip:show",_.__assign({items:L,title:k},g));var W=this.getTooltipCfg(),$=W.follow,z=W.showMarkers,U=W.showCrosshairs,et=W.showContent,q=W.marker,dt=this.items,ct=this.title;if(!I.isEqual(ct,k)||!I.isEqual(dt,L)?(M.emit("tooltip:change",_.__assign({items:L,title:k},g)),et&&(this.tooltip||this.renderTooltip(),this.tooltip.update(I.mix({},W,{items:L,title:k},$?g:{})),this.tooltip.show()),z&&this.renderTooltipMarkers(L,q)):(this.tooltip&&$&&(this.tooltip.update(g),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=L,this.title=k,U){var Mt=I.get(W,["crosshairs","follow"],!1);this.renderCrosshairs(Mt?g:F,W)}}},x.prototype.hideTooltip=function(){var g=this.getTooltipCfg().follow;if(!g){this.point=null;return}var M=this.tooltipMarkersGroup;M&&M.hide();var L=this.xCrosshair,k=this.yCrosshair;L&&L.hide(),k&&k.hide();var F=this.tooltip;F&&F.hide(),this.view.emit("tooltip:hide",{}),this.point=null},x.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},x.prototype.unlockTooltip=function(){this.isLocked=!1;var g=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(g.capture)},x.prototype.isTooltipLocked=function(){return this.isLocked},x.prototype.clear=function(){var g=this,M=g.tooltip,L=g.xCrosshair,k=g.yCrosshair,F=g.tooltipMarkersGroup;M&&(M.hide(),M.clear()),L&&L.clear(),k&&k.clear(),F&&F.clear()},x.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},x.prototype.changeVisible=function(g){if(this.visible!==g){var M=this,L=M.tooltip,k=M.tooltipMarkersGroup,F=M.xCrosshair,W=M.yCrosshair;g?(L&&L.show(),k&&k.show(),F&&F.show(),W&&W.show()):(L&&L.hide(),k&&k.hide(),F&&F.hide(),W&&W.hide()),this.visible=g}},x.prototype.getTooltipItems=function(g){var M=this.findItemsFromView(this.view,g);if(M.length){M=I.flatten(M);for(var L=0,k=M;L<k.length;L++)for(var F=k[L],W=0,$=F;W<$.length;W++){var z=$[W],U=z.mappingData,et=U.x,q=U.y;z.x=I.isArray(et)?et[et.length-1]:et,z.y=I.isArray(q)?q[q.length-1]:q}var dt=this.getTooltipCfg().shared;if(dt===!1&&M.length>1){for(var ct=M[0],Mt=Math.abs(g.y-ct[0].y),D=0,G=M;D<G.length;D++){var X=G[D],N=Math.abs(g.y-X[0].y);N<=Mt&&(ct=X,Mt=N)}M=[ct]}return p(I.flatten(M))}return[]},x.prototype.layout=function(){},x.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var g=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}})}},x.prototype.getTooltipCfg=function(){var g=this.view,M=g.getOptions().tooltip,L=g.getTheme(),k=I.get(L,["components","tooltip"],{}),F=I.isUndefined(I.get(M,"enterable"))?k.enterable:I.get(M,"enterable");return I.deepMix({},k,M,{capture:!!(F||this.isLocked)})},x.prototype.getTitle=function(g){var M=g[0].title||g[0].name;return this.title=M,M},x.prototype.renderTooltip=function(){var g=this.view.getCanvas(),M={start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}},L=this.getTooltipCfg(),k=new O.HtmlTooltip(_.__assign(_.__assign({parent:g.get("el").parentNode,region:M},L),{visible:!1,crosshairs:null}));k.init(),this.tooltip=k},x.prototype.renderTooltipMarkers=function(g,M){for(var L=this.getTooltipMarkersGroup(),k=0,F=g;k<F.length;k++){var W=F[k],$=W.x,z=W.y,U=_.__assign(_.__assign({fill:W.color,symbol:"circle",shadowColor:W.color},M),{x:$,y:z});L.addShape("marker",{attrs:U})}},x.prototype.renderCrosshairs=function(g,M){var L=I.get(M,["crosshairs","type"],"x");L==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(g,M)):L==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(g,M)):L==="xy"&&(this.renderXCrosshairs(g,M),this.renderYCrosshairs(g,M))},x.prototype.renderXCrosshairs=function(g,M){var L=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(L,g)){var k,F;if(L.isRect)L.isTransposed?(k={x:L.start.x,y:g.y},F={x:L.end.x,y:g.y}):(k={x:g.x,y:L.end.y},F={x:g.x,y:L.start.y});else{var W=P.getAngleByPoint(L,g),$=L.getCenter(),z=L.getRadius();F=A.polarToCartesian($.x,$.y,z,W),k=$}var U=I.deepMix({start:k,end:F,container:this.getTooltipCrosshairsGroup()},I.get(M,"crosshairs",{}),this.getCrosshairsText("x",g,M));delete U.type;var et=this.xCrosshair;et?et.update(U):(et=new O.Crosshair.Line(U),et.init()),et.render(),et.show(),this.xCrosshair=et}},x.prototype.renderYCrosshairs=function(g,M){var L=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(L,g)){var k,F;if(L.isRect){var W=void 0,$=void 0;L.isTransposed?(W={x:g.x,y:L.end.y},$={x:g.x,y:L.start.y}):(W={x:L.start.x,y:g.y},$={x:L.end.x,y:g.y}),k={start:W,end:$},F="Line"}else k={center:L.getCenter(),radius:P.getDistanceToCenter(L,g),startAngle:L.startAngle,endAngle:L.endAngle},F="Circle";k=I.deepMix({container:this.getTooltipCrosshairsGroup()},k,I.get(M,"crosshairs",{}),this.getCrosshairsText("y",g,M)),delete k.type;var z=this.yCrosshair;z?L.isRect&&z.get("type")==="circle"||!L.isRect&&z.get("type")==="line"?(z=new O.Crosshair[F](k),z.init()):z.update(k):(z=new O.Crosshair[F](k),z.init()),z.render(),z.show(),this.yCrosshair=z}},x.prototype.getCrosshairsText=function(g,M,L){var k=I.get(L,["crosshairs","text"]),F=I.get(L,["crosshairs","follow"]),W=this.items;if(k){var $=this.getViewWithGeometry(this.view),z=W[0],U=$.getXScale(),et=$.getYScales()[0],q=void 0,dt=void 0;if(F){var ct=this.view.getCoordinate().invert(M);q=U.invert(ct.x),dt=et.invert(ct.y)}else q=z.data[U.field],dt=z.data[et.field];var Mt=g==="x"?q:dt;return I.isFunction(k)?k=k(g,Mt,W,M):k.content=Mt,{text:k}}},x.prototype.getGuideGroup=function(){if(!this.guideGroup){var g=this.view.foregroundGroup;this.guideGroup=g.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},x.prototype.getTooltipMarkersGroup=function(){var g=this.tooltipMarkersGroup;return g&&!g.destroyed?(g.clear(),g.show()):(g=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),g.toFront(),this.tooltipMarkersGroup=g),g},x.prototype.getTooltipCrosshairsGroup=function(){var g=this.tooltipCrosshairsGroup;return g||(g=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),g.toBack(),this.tooltipCrosshairsGroup=g),g},x.prototype.getTooltipItemsByHitShape=function(g,M,L){var k=[],F=g.container,W=F.getShape(M.x,M.y);if(W&&W.get("visible")&&W.get("origin")){var $=W.get("origin").mappingData,z=E.getTooltipItems($,g,L);z.length&&k.push(z)}return k},x.prototype.getTooltipItemsByFindData=function(g,M,L){var k=[],F=g.dataArray;g.sort(F);for(var W=0,$=F;W<$.length;W++){var z=$[W],U=E.findDataByPoint(M,z,g);if(U){var et=g.getElementId(U),q=g.elementsMap[et];if(g.type==="heatmap"||q.visible){var dt=E.getTooltipItems(U,g,L);dt.length&&k.push(dt)}}}return k},x.prototype.findItemsFromView=function(g,M){if(g.getOptions().tooltip===!1)return[];for(var L=[],k=g.geometries,F=this.getTooltipCfg(),W=F.shared,$=F.title,z=0,U=k;z<U.length;z++){var et=U[z];if(et.visible&&et.tooltipOption!==!1){var q=et.type,dt=void 0;["point","edge","polygon"].includes(q)?dt=this.getTooltipItemsByHitShape(et,M,$):["area","line","path","heatmap"].includes(q)?dt=this.getTooltipItemsByFindData(et,M,$):W!==!1?dt=this.getTooltipItemsByFindData(et,M,$):dt=this.getTooltipItemsByHitShape(et,M,$),dt.length&&L.push(dt)}}for(var ct=0,Mt=g.views;ct<Mt.length;ct++){var D=Mt[ct];L=L.concat(this.findItemsFromView(D,M))}return L},x.prototype.getViewWithGeometry=function(g){var M=this;return g.geometries.length?g:I.find(g.views,function(L){return M.getViewWithGeometry(L)})},x}(C.Controller);S.Z=b},78646:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var d;(function(A){A.FORE="fore",A.MID="mid",A.BG="bg"})(d=S.LAYER||(S.LAYER={}));var w;(function(A){A.TOP="top",A.TOP_LEFT="top-left",A.TOP_RIGHT="top-right",A.RIGHT="right",A.RIGHT_TOP="right-top",A.RIGHT_BOTTOM="right-bottom",A.LEFT="left",A.LEFT_TOP="left-top",A.LEFT_BOTTOM="left-bottom",A.BOTTOM="bottom",A.BOTTOM_LEFT="bottom-left",A.BOTTOM_RIGHT="bottom-right",A.RADIUS="radius",A.CIRCLE="circle",A.NONE="none"})(w=S.DIRECTION||(S.DIRECTION={}));var _;(function(A){A.AXIS="axis",A.GRID="grid",A.LEGEND="legend",A.TOOLTIP="tooltip",A.ANNOTATION="annotation",A.OTHER="other"})(_=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var I;(function(A){A.BEFORE_RENDER="beforerender",A.AFTER_RENDER="afterrender",A.BEFORE_PAINT="beforepaint",A.AFTER_PAINT="afterpaint",A.BEFORE_CHANGE_DATA="beforechangedata",A.AFTER_CHANGE_DATA="afterchangedata",A.BEFORE_CLEAR="beforeclear",A.AFTER_CLEAR="afterclear",A.BEFORE_DESTROY="beforedestroy"})(I=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var O;(function(A){A.MOUSE_ENTER="plot:mouseenter",A.MOUSE_DOWN="plot:mousedown",A.MOUSE_MOVE="plot:mousemove",A.MOUSE_UP="plot:mouseup",A.MOUSE_LEAVE="plot:mouseleave",A.TOUCH_START="plot:touchstart",A.TOUCH_MOVE="plot:touchmove",A.TOUCH_END="plot:touchend",A.TOUCH_CANCEL="plot:touchcancel",A.CLICK="plot:click",A.DBLCLICK="plot:dblclick",A.CONTEXTMENU="plot:contextmenu",A.LEAVE="plot:leave",A.ENTER="plot:enter"})(O=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var P;(function(A){A.ACTIVE="active",A.INACTIVE="inactive",A.SELECTED="selected",A.DEFAULT="default"})(P=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},96397:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var w=d(39014);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return w.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return w.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return w.AbstractShape}});var _=d(68060);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return _.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return _.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return _.Adjust}});var I=d(25228);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return I.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return I.Attribute}});var O=d(58368);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return O.Color}});var P=d(13541);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return P.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return P.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return P.Coordinate}});var A=d(72469);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return A.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return A.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return A.Scale}});var E=d(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return E.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return E.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return E.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return E.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return E.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return E.Slider}});var C=E.Axis.Line,p=E.Axis.Circle;S.LineAxis=C,S.CircleAxis=p;var b=E.Grid.Line,y=E.Grid.Circle;S.LineGrid=b,S.CircleGrid=y;var x=E.Legend.Category,g=E.Legend.Continuous;S.CategoryLegend=x,S.ContinuousLegend=g;var M=E.Tooltip.Html;S.HtmlTooltip=M},98880:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(80123),I=d(49242),O=d(97488),P=_.__importDefault(d(51315)),A=d(38674),E=d(31207),C=function(p){_.__extends(b,p);function b(y){var x=p.call(this,y)||this;x.states=[];var g=y.shapeFactory,M=y.container,L=y.offscreenGroup,k=y.visible,F=k===void 0?!0:k;return x.shapeFactory=g,x.container=M,x.offscreenGroup=L,x.visible=F,x}return b.prototype.draw=function(y,x){x===void 0&&(x=!1),this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.drawShape(y,x),this.visible===!1&&this.changeVisible(!1)},b.prototype.update=function(y){var x=this,g=x.shapeFactory,M=x.shape;if(!!M){this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.setShapeInfo(M,y);var L=this.getOffscreenGroup(),k=g.drawShape(this.shapeType,y,L);k.cfg.data=this.data,k.cfg.origin=y,this.syncShapeStyle(M,k,"",this.getAnimateCfg("update"))}},b.prototype.destroy=function(){var y=this,x=y.shapeFactory,g=y.shape;if(g){var M=this.getAnimateCfg("leave");M?O.doAnimate(g,M,{coordinate:x.coordinate,toAttrs:_.__assign({},g.attr())}):g.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},b.prototype.changeVisible=function(y){p.prototype.changeVisible.call(this,y),y?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(x){x.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(x){x.hide()}))},b.prototype.setState=function(y,x){var g=this,M=this,L=M.states,k=M.shapeFactory,F=M.model,W=M.shape,$=M.shapeType,z=L.indexOf(y);if(x){if(z>-1)return;L.push(y),(y==="active"||y==="selected")&&W.toFront()}else{if(z===-1)return;L.splice(z,1),(y==="active"||y==="selected")&&W.toBack()}var U=k.drawShape($,F,this.getOffscreenGroup());L.length?L.forEach(function(q){g.syncShapeStyle(W,U,q,null)}):this.syncShapeStyle(W,U,"reset",null),U.remove(!0);var et={state:y,stateStatus:x,element:this,target:this.container};this.container.emit("statechange",et),E.propagationDelegate(this.shape,"statechange",et)},b.prototype.clearStates=function(){var y=this,x=this.states;I.each(x,function(g){y.setState(g,!1)}),this.states=[]},b.prototype.hasState=function(y){return this.states.includes(y)},b.prototype.getStates=function(){return this.states},b.prototype.getData=function(){return this.data},b.prototype.getModel=function(){return this.model},b.prototype.getBBox=function(){var y=this,x=y.shape,g=y.labelShape,M={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return x&&(M=x.getCanvasBBox()),g&&g.forEach(function(L){var k=L.getCanvasBBox();M.x=Math.min(k.x,M.x),M.y=Math.min(k.y,M.y),M.minX=Math.min(k.minX,M.minX),M.minY=Math.min(k.minY,M.minY),M.maxX=Math.max(k.maxX,M.maxX),M.maxY=Math.max(k.maxY,M.maxY)}),M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M},b.prototype.getStatesStyle=function(){if(!this.statesStyle){var y=this,x=y.shapeType,g=y.geometry,M=y.shapeFactory,L=g.stateOption,k=M.defaultShapeType,F=M.theme[x]||M.theme[k];this.statesStyle=I.deepMix({},F,L)}return this.statesStyle},b.prototype.getStateStyle=function(y,x){var g=this.getStatesStyle(),M=I.get(g,[y,"style"],{}),L=M[x]||M;return I.isFunction(L)?L(this):L},b.prototype.getAnimateCfg=function(y){var x=this.animate;return x?x[y]:null},b.prototype.drawShape=function(y,x){x===void 0&&(x=!1);var g=this,M=g.shapeFactory,L=g.container,k=g.shapeType;if(this.shape=M.drawShape(k,y,L),this.shape){this.setShapeInfo(this.shape,y);var F=this.shape.cfg.name;F?I.isString(F)&&(this.shape.cfg.name=["element",F]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var W=x?"enter":"appear",$=this.getAnimateCfg(W);$&&O.doAnimate(this.shape,$,{coordinate:M.coordinate,toAttrs:_.__assign({},this.shape.attr())})}},b.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var y=this.container.getGroupBase();this.offscreenGroup=new y({})}return this.offscreenGroup},b.prototype.setShapeInfo=function(y,x){var g=this;if(y.cfg.origin=x,y.cfg.element=this,y.isGroup()){var M=y.get("children");M.forEach(function(L){g.setShapeInfo(L,x)})}},b.prototype.syncShapeStyle=function(y,x,g,M,L){if(g===void 0&&(g=""),L===void 0&&(L=0),y.isGroup())for(var k=y.get("children"),F=x.get("children"),W=0;W<k.length;W++)this.syncShapeStyle(k[W],F[W],g,M,L+W);else{if(g&&g!=="reset"){var $=y.get("name");I.isArray($)&&($=$[1]);var z=this.getStateStyle(g,$||L);x.attr(z)}var U=A.getReplaceAttrs(y,x);this.animate?M?O.doAnimate(y,M,{coordinate:this.shapeFactory.coordinate,toAttrs:U,shapeModel:this.model}):g?(y.stopAnimate(),y.animate(U,{duration:300})):y.attr(U):y.attr(U)}},b.prototype.getShapeType=function(y){var x=I.get(y,"shape");return I.isArray(x)?x[0]:x},b}(P.default);w=C},78685:function(bt,S,d){"use strict";var w;w={value:!0},S.iV=w=w=void 0;var _=d(80123),I=d(90835),O=d(95280);w=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],w=["cross","tick","plus","hyphen","line"];function P(A,E,C,p,b){var y=O.getStyle(E,b,!b,"r"),x=A.parsePoints(E.points),g=x[0];if(E.isStack)g=x[1];else if(x.length>1){for(var M=C.addGroup(),L=0,k=x;L<k.length;L++){var F=k[L];M.addShape({type:"marker",attrs:_.__assign(_.__assign(_.__assign({},y),{symbol:I.MarkerSymbols[p]||p}),F)})}return M}return C.addShape({type:"marker",attrs:_.__assign(_.__assign(_.__assign({},y),{symbol:I.MarkerSymbols[p]||p}),g)})}S.iV=P},95280:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var w=d(80123),_=d(49242);function I(O,P,A,E){E===void 0&&(E="");var C=O.style,p=C===void 0?{}:C,b=O.defaultStyle,y=O.color,x=O.size,g=w.__assign(w.__assign({},b),p);return y&&(P&&(p.stroke||(g.stroke=y)),A&&(p.fill||(g.fill=y))),E&&_.isNil(p[E])&&!_.isNil(x)&&(g[E]=x),g}S.getStyle=I},89921:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var w=d(43567),_=d(49242),I=d(83714);function O(g,M){var L=[];if(g.length){L.push(["M",g[0].x,g[0].y]);for(var k=1,F=g.length;k<F;k+=1){var W=g[k];L.push(["L",W.x,W.y])}M&&L.push(["Z"])}return L}function P(g,M){for(var L=[g[0]],k=1,F=g.length;k<F;k=k+2){var W=M.convert({x:g[k],y:g[k+1]});L.push(W.x,W.y)}return L}function A(g,M,L){var k=L.isTransposed,F=L.startAngle,W=L.endAngle,$={x:g[1],y:g[2]},z={x:M[1],y:M[2]},U=[],et=k?"y":"x",q=Math.abs(z[et]-$[et])*(W-F),dt=z[et]>=$[et]?1:0,ct=q>Math.PI?1:0,Mt=L.convert(z),D=I.getDistanceToCenter(L,Mt);if(D>=.5)if(q===Math.PI*2){var G={x:(z.x+$.x)/2,y:(z.y+$.y)/2},X=L.convert(G);U.push(["A",D,D,0,ct,dt,X.x,X.y]),U.push(["A",D,D,0,ct,dt,Mt.x,Mt.y])}else U.push(["A",D,D,0,ct,dt,Mt.x,Mt.y]);return U}function E(g){_.each(g,function(M,L){var k=M;if(k[0].toLowerCase()==="a"){var F=g[L-1],W=g[L+1];W&&W[0].toLowerCase()==="a"?F&&F[0].toLowerCase()==="l"&&(F[0]="M"):F&&F[0].toLowerCase()==="a"&&W&&W[0].toLowerCase()==="l"&&(W[0]="M")}})}S.smoothBezier=function(g,M,L,k){var F=[],W,$,z=!!k,U,et;if(z){U=[Infinity,Infinity],et=[-Infinity,-Infinity];for(var q=0,dt=g.length;q<dt;q++){var ct=g[q];U=w.vec2.min([0,0],U,ct),et=w.vec2.max([0,0],et,ct)}U=w.vec2.min([0,0],U,k[0]),et=w.vec2.max([0,0],et,k[1])}for(var q=0,Mt=g.length;q<Mt;q++){var ct=g[q];if(L)W=g[q?q-1:Mt-1],$=g[(q+1)%Mt];else if(q===0||q===Mt-1){F.push(ct);continue}else W=g[q-1],$=g[q+1];var D=[0,0];D=w.vec2.sub(D,$,W),D=w.vec2.scale(D,D,M);var G=w.vec2.distance(ct,W),X=w.vec2.distance(ct,$),N=G+X;N!==0&&(G/=N,X/=N);var tt=w.vec2.scale([0,0],D,-G),Q=w.vec2.scale([0,0],D,X),K=w.vec2.add([0,0],ct,tt),V=w.vec2.add([0,0],ct,Q);z&&(K=w.vec2.max([0,0],K,U),K=w.vec2.min([0,0],K,et),V=w.vec2.max([0,0],V,U),V=w.vec2.min([0,0],V,et)),F.push(K),F.push(V)}return L&&F.push(F.shift()),F};function C(g,M,L){for(var k=!!M,F=[],W=0,$=g.length;W<$;W+=2)F.push([g[W],g[W+1]]);for(var z=S.smoothBezier(F,.4,k,L),U=F.length,et=[],q,dt,ct,W=0;W<U-1;W++)q=z[W*2],dt=z[W*2+1],ct=F[W+1],et.push(["C",q[0],q[1],dt[0],dt[1],ct[0],ct[1]]);return k&&(q=z[U],dt=z[U+1],ct=F[0],et.push(["C",q[0],q[1],dt[0],dt[1],ct[0],ct[1]])),et}S.catmullRom2bezier=C;function p(g,M){return O(g,M)}S.getLinePath=p;function b(g,M,L){var k=[],F=g[0],W=null;if(g.length<=2)return p(g,M);for(var $=0,z=g.length;$<z;$++){var U=g[$];(!W||!(W.x===U.x&&W.y===U.y))&&(k.push(U.x),k.push(U.y),W=U)}var et=L||[[0,0],[1,1]],q=C(k,M,et);return q.unshift(["M",F.x,F.y]),q}S.getSplinePath=b;function y(g,M){var L=[];return _.each(M,function(k){var F=k[0];switch(F.toLowerCase()){case"m":case"l":case"c":L.push(P(k,g));break;case"z":default:L.push(k);break}}),L}S.convertNormalPath=y;function x(g,M){var L=[],k,F,W,$;return _.each(M,function(z,U){var et=z[0];switch(et.toLowerCase()){case"m":case"c":case"q":L.push(P(z,g));break;case"l":k=M[U-1],F=z,W=g.isTransposed,$=W?k[k.length-2]===F[1]:k[k.length-1]===F[2],$?L=L.concat(A(k,F,g)):L.push(P(z,g));break;case"z":default:L.push(z);break}}),E(L),L}S.convertPolarPath=x},54244:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=function(){function I(O,P){this.context=O,this.cfg=P,O.addAction(this)}return I.prototype.applyCfg=function(O){w.assign(this,O)},I.prototype.init=function(){this.applyCfg(this.cfg)},I.prototype.destroy=function(){this.context.removeAction(this),this.context=null},I}();S.default=_},32479:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(80123),_=w.__importDefault(d(54244)),I=function(O){w.__extends(P,O);function P(){return O!==null&&O.apply(this,arguments)||this}return P.prototype.execute=function(){this.callback&&this.callback(this.context)},P.prototype.destroy=function(){O.prototype.destroy.call(this),this.callback=null},P}(_.default);S.default=I},9154:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var w=d(80123),_=w.__importDefault(d(32479)),I=d(49242),O={};function P(b,y){var x=O[b],g=null;if(x){var M=x.ActionClass,L=x.cfg;g=new M(y,L),g.name=b,g.init()}return g}S.createAction=P;function A(b){var y=O[b];return I.get(y,"ActionClass")}S.getActionClass=A;function E(b,y,x){O[b]={ActionClass:y,cfg:x}}S.registerAction=E;function C(b){delete O[b]}S.unregisterAction=C;function p(b,y){var x=new _.default(y);return x.callback=b,x.name="callback",x}S.createCallbackAction=p},85506:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var w=d(80123),_=d(49242),I=d(89921),O=d(62810),P=w.__importDefault(d(70146));function A(K,V){var H=K.event,u=H.target,ot=u.getCanvasBBox();return ot.width>=V||ot.height>=V?ot:null}function E(K,V){var H=K.event,u=H.target,ot=u.getCanvasBBox();return ot.width>=V||ot.height>=V?u.attr("path"):null}function C(K){var V=K.event,H,u=V.target;return u&&(H=u.get("element")),H}S.getCurrentElement=C;function p(K){var V=K.event,H=V.target,u;return H&&(u=H.get("delegateObject")),u}S.getDelegationObject=p;function b(K){var V=K.event.gEvent;return!(V&&V.fromShape&&V.toShape&&V.fromShape.get("element")===V.toShape.get("element"))}S.isElementChange=b;function y(K){return K&&K.component&&K.component.isList()}S.isList=y;function x(K){return K&&K.component&&K.component.isSlider()}S.isSlider=x;function g(K){var V=K.event,H=V.target;return H&&H.get("name")==="mask"}S.isMask=g;function M(K,V){var H=K.event.target;if(H.get("type")==="path"){var u=E(K,V);return u?q(K.view,u):void 0}var ot=A(K,V);return ot?U(K.view,ot):null}S.getMaskedElements=M;function L(K,V,H){var u=A(K,H);if(!u)return null;var ot=K.view,pt=N(ot,V,{x:u.x,y:u.y}),it=N(ot,V,{x:u.maxX,y:u.maxY}),xt={minX:pt.x,minY:pt.y,maxX:it.x,maxY:it.y};return U(V,xt)}S.getSiblingMaskElements=L;function k(K){var V=K.geometries,H=[];return _.each(V,function(u){var ot=u.elements;H=H.concat(ot)}),K.views&&K.views.length&&_.each(K.views,function(u){H=H.concat(k(u))}),H}S.getElements=k;function F(K,V,H){var u=k(K);return u.filter(function(ot){return $(ot,V)===H})}S.getElementsByField=F;function W(K,V){var H=K.geometries,u=[];return _.each(H,function(ot){var pt=ot.getElementsBy(function(it){return it.hasState(V)});u=u.concat(pt)}),u}S.getElementsByState=W;function $(K,V){var H=K.getModel(),u=H.data,ot;return _.isArray(u)?ot=u[0][V]:ot=u[V],ot}S.getElementValue=$;function z(K,V){return!(V.minX>K.maxX||V.maxX<K.minX||V.minY>K.maxY||V.maxY<K.minY)}S.intersectRect=z;function U(K,V){var H=k(K),u=[];return _.each(H,function(ot){var pt=ot.shape,it=pt.getCanvasBBox();z(V,it)&&u.push(ot)}),u}S.getIntersectElements=U;function et(K){var V=[];return _.each(K,function(H){var u=H[0];if(u!=="A")for(var ot=1;ot<H.length;ot=ot+2)V.push([H[ot],H[ot+1]]);else{var pt=H.length;V.push([H[pt-2],H[pt-1]])}}),V}function q(K,V){var H=k(K),u=et(V),ot=H.filter(function(pt){var it=pt.shape,xt;if(it.get("type")==="path")xt=et(it.attr("path"));else{var gt=it.getCanvasBBox();xt=O.toPoints(gt)}return P.default(u,xt)});return ot}S.getElementsByPath=q;function dt(K){return K.getComponents().map(function(V){return V.component})}S.getComponents=dt;function ct(K,V){var H=V.x-K.x,u=V.y-K.y;return Math.sqrt(H*H+u*u)}S.distance=ct;function Mt(K,V){if(K.length<=2)return I.getLinePath(K,!1);var H=K[0],u=[];_.each(K,function(pt){u.push(pt.x),u.push(pt.y)});var ot=I.catmullRom2bezier(u,V,null);return ot.unshift(["M",H.x,H.y]),ot}S.getSpline=Mt;function D(K,V){return K.x<=V.x&&K.maxX>=V.x&&K.y<=V.y&&K.maxY>V.y}S.isInBox=D;function G(K){var V=K.parent,H=null;return V&&(H=V.views.filter(function(u){return u!==K})),H}S.getSilbings=G;function X(K,V){var H=K.getCoordinate();return H.invert(V)}function N(K,V,H){var u=X(K,H);return V.getCoordinate().convert(u)}S.getSiblingPoint=N;function tt(K,V,H,u){var ot=!1;return _.each(K,function(pt){if(pt[H]===V[H]&&pt[u]===V[u])return ot=!0,!1}),ot}S.isInRecords=tt;function Q(K,V){var H=K.getScaleByField(V);return!H&&K.views&&_.each(K.views,function(u){if(H=Q(u,V),H)return!1}),H}S.getScaleByField=Q},94194:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=d(85506),I=function(){function O(P){this.actions=[],this.event=null,this.cacheMap={},this.view=P}return O.prototype.cache=function(){for(var P=[],A=0;A<arguments.length;A++)P[A]=arguments[A];if(P.length===1)return this.cacheMap[P[0]];P.length===2&&(this.cacheMap[P[0]]=P[1])},O.prototype.getAction=function(P){return this.actions.find(function(A){return A.name===P})},O.prototype.addAction=function(P){this.actions.push(P)},O.prototype.removeAction=function(P){var A=this.actions,E=this.actions.indexOf(P);E>=0&&A.splice(E,1)},O.prototype.getCurrentPoint=function(){var P=this.event;if(P)if(P.target instanceof HTMLElement){var A=this.view.getCanvas(),E=A.getPointByClient(P.clientX,P.clientY);return E}else return{x:P.x,y:P.y};return null},O.prototype.getCurrentShape=function(){return w.get(this.event,["gEvent","shape"])},O.prototype.isInPlot=function(){var P=this.getCurrentPoint();return P?this.view.isPointInPlot(P):!1},O.prototype.isInShape=function(P){var A=this.getCurrentShape();return A?A.get("name")===P:!1},O.prototype.isInComponent=function(P){var A=_.getComponents(this.view),E=this.getCurrentPoint();return E?!!A.find(function(C){var p=C.getBBox();return P?C.get("name")===P&&_.isInBox(p,E):_.isInBox(p,E)}):!1},O.prototype.destroy=function(){this.view=null,this.event=null,w.each(this.actions.slice(),function(P){P.destroy()}),this.actions=null,this.cacheMap=null},O}();S.default=I},86050:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(80123),I=d(49242),O=d(9154),P=_.__importDefault(d(94194)),A=_.__importDefault(d(38144));function E(y,x){var g=y.split(":"),M=g[0],L=x.getAction(M)||O.createAction(M,x);if(!L)throw new Error("There is no action named "+M);var k=g[1];return{action:L,methodName:k}}function C(y){var x=y.action,g=y.methodName;if(x[g])x[g]();else throw new Error("Action("+x.name+") doesn't have a method called "+g)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},b=function(y){_.__extends(x,y);function x(g,M){var L=y.call(this,g,M)||this;return L.callbackCaches={},L.emitCaches={},L.steps=M,L}return x.prototype.init=function(){this.initContext(),y.prototype.init.call(this)},x.prototype.destroy=function(){y.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},x.prototype.initEvents=function(){var g=this;I.each(this.steps,function(M,L){I.each(M,function(k){var F=g.getActionCallback(L,k);F&&g.bindEvent(k.trigger,F)})})},x.prototype.clearEvents=function(){var g=this;I.each(this.steps,function(M,L){I.each(M,function(k){var F=g.getActionCallback(L,k);F&&g.offEvent(k.trigger,F)})})},x.prototype.initContext=function(){var g=this.view,M=new P.default(g);this.context=M;var L=this.steps;I.each(L,function(k){I.each(k,function(F){if(I.isFunction(F.action))F.actionObject={action:O.createCallbackAction(F.action,M),methodName:"execute"};else if(I.isString(F.action))F.actionObject=E(F.action,M);else if(I.isArray(F.action)){var W=F.action;F.actionObject=[],I.each(W,function($){F.actionObject.push(E($,M))})}})})},x.prototype.isAllowStep=function(g){var M=this.currentStepName,L=this.steps;if(M===g||g===p.SHOW_ENABLE)return!0;if(g===p.PROCESSING)return M===p.START;if(g===p.START)return M!==p.PROCESSING;if(g===p.END)return M===p.PROCESSING||M===p.START;if(g===p.ROLLBACK){if(L[p.END])return M===p.END;if(M===p.START)return!0}return!1},x.prototype.isAllowExcute=function(g,M){if(this.isAllowStep(g)){var L=this.getKey(g,M);return M.once&&this.emitCaches[L]?!1:M.isEnable?M.isEnable(this.context):!0}return!1},x.prototype.enterStep=function(g){this.currentStepName=g,this.emitCaches={}},x.prototype.afterExecute=function(g,M){g!==p.SHOW_ENABLE&&this.currentStepName!==g&&this.enterStep(g);var L=this.getKey(g,M);this.emitCaches[L]=!0},x.prototype.getKey=function(g,M){return g+M.trigger+M.action},x.prototype.getActionCallback=function(g,M){var L=this,k=this.context,F=this.callbackCaches,W=M.actionObject;if(M.action&&W){var $=this.getKey(g,M);if(!F[$]){var z=function(U){k.event=U,L.isAllowExcute(g,M)?(I.isArray(W)?I.each(W,function(et){k.event=U,C(et)}):(k.event=U,C(W)),L.afterExecute(g,M),M.callback&&(k.event=U,M.callback(k))):k.event=null};M.debounce?F[$]=I.debounce(z,M.debounce.wait,M.debounce.immediate):M.throttle?F[$]=I.throttle(z,M.throttle.wait,{leading:M.throttle.leading,trailing:M.throttle.trailing}):F[$]=z}return F[$]}return null},x.prototype.bindEvent=function(g,M){var L=g.split(":");L[0]==="window"?window.addEventListener(L[1],M):L[0]==="document"?document.addEventListener(L[1],M):this.view.on(g,M)},x.prototype.offEvent=function(g,M){var L=g.split(":");L[0]==="window"?window.removeEventListener(L[1],M):L[0]==="document"?document.removeEventListener(L[1],M):this.view.off(g,M)},x}(A.default);w=b},38144:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function w(_,I){this.view=_,this.cfg=I}return w.prototype.init=function(){this.initEvents()},w.prototype.initEvents=function(){},w.prototype.clearEvents=function(){},w.prototype.destroy=function(){this.clearEvents()},w}();S.default=d},62810:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var w=d(49242),_=d(78646),I=function(){function P(A,E,C,p){A===void 0&&(A=0),E===void 0&&(E=0),C===void 0&&(C=0),p===void 0&&(p=0),this.x=A,this.y=E,this.height=p,this.width=C}return P.fromRange=function(A,E,C,p){return new P(A,E,C-A,p-E)},Object.defineProperty(P.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),P.prototype.isEqual=function(A){return this.x===A.x&&this.y===A.y&&this.width===A.width&&this.height===A.height},P.prototype.clone=function(){return new P(this.x,this.y,this.width,this.height)},P.prototype.add=function(){for(var A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var C=this.clone();return w.each(A,function(p){C.x=Math.min(p.x,C.x),C.y=Math.min(p.y,C.y),C.width=Math.max(p.maxX,C.maxX)-C.x,C.height=Math.max(p.maxY,C.maxY)-C.y}),C},P.prototype.merge=function(){for(var A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var C=this.clone();return w.each(A,function(p){C.x=Math.max(p.x,C.x),C.y=Math.max(p.y,C.y),C.width=Math.min(p.maxX,C.maxX)-C.x,C.height=Math.min(p.maxY,C.maxY)-C.y}),C},P.prototype.cut=function(A,E){var C=A.width,p=A.height;switch(E){case _.DIRECTION.TOP:case _.DIRECTION.TOP_LEFT:case _.DIRECTION.TOP_RIGHT:return P.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case _.DIRECTION.RIGHT:case _.DIRECTION.RIGHT_TOP:case _.DIRECTION.RIGHT_BOTTOM:return P.fromRange(this.minX,this.minY,this.maxX-C,this.maxY);case _.DIRECTION.BOTTOM:case _.DIRECTION.BOTTOM_LEFT:case _.DIRECTION.BOTTOM_RIGHT:return P.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case _.DIRECTION.LEFT:case _.DIRECTION.LEFT_TOP:case _.DIRECTION.LEFT_BOTTOM:return P.fromRange(this.minX+C,this.minY,this.maxX,this.maxY);default:return this}},P.prototype.shrink=function(A){var E=A[0],C=A[1],p=A[2],b=A[3];return new P(this.x+b,this.y+E,this.width-b-C,this.height-E-p)},P.prototype.exceed=function(A){return[Math.max(-this.minY+A.minY,0),Math.max(this.maxX-A.maxX,0),Math.max(this.maxY-A.maxY,0),Math.max(-this.minX+A.minX,0)]},P.prototype.size=function(){return this.width*this.height},P}();S.BBox=I,S.getRegionBBox=function(P,A){var E=A.start,C=A.end;return new I(P.x+P.width*E.x,P.y+P.height*E.y,P.width*Math.abs(C.x-E.x),P.height*Math.abs(C.y-E.y))};function O(P){return[[P.minX,P.minY],[P.maxX,P.minY],[P.maxX,P.maxY],[P.minX,P.maxY]]}S.toPoints=O},83714:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var w=d(38674),_=d(10521);function I(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var b=p.convert({x:0,y:0}),y=p.convert({x:1,y:0});return Math.sqrt(Math.pow(y.x-b.x,2)+Math.pow(y.y-b.y,2))}S.getXDimensionLength=I;function O(p){if(p.isPolar){var b=p.startAngle,y=p.endAngle;return y-b==Math.PI*2}return!1}S.isFullCircle=O;function P(p,b){var y=p.getCenter();return Math.sqrt(Math.pow(b.x-y.x,2)+Math.pow(b.y-y.y,2))}S.getDistanceToCenter=P;function A(p,b){var y=!1;if(p)if(p.type==="theta"){var x=p.start,g=p.end;y=_.isBetween(b.x,x.x,g.x)&&_.isBetween(b.y,x.y,g.y)}else{var M=p.invert(b);y=_.isBetween(M.x,0,1)&&_.isBetween(M.y,0,1)}return y}S.isPointInCoordinate=A;function E(p,b){var y=p.getCenter();return Math.atan2(b.y-y.y,b.x-y.x)}S.getAngleByPoint=E;function C(p,b){b===void 0&&(b=0);var y=p.start,x=p.end,g=p.getWidth(),M=p.getHeight();if(p.isPolar){var L=p.startAngle,k=p.endAngle,F=p.getCenter(),W=p.getRadius();return{type:"path",startState:{path:w.getSectorPath(F.x,F.y,W+b,L,L)},endState:function(z){var U=(k-L)*z+L,et=w.getSectorPath(F.x,F.y,W+b,L,U);return{path:et}},attrs:{path:w.getSectorPath(F.x,F.y,W+b,L,k)}}}var $;return p.isTransposed?$={height:M+b*2}:$={width:g+b*2},{type:"rect",startState:{x:y.x-b,y:x.y-b,width:p.isTransposed?g+b*2:0,height:p.isTransposed?0:M+b*2},endState:$,attrs:{x:y.x-b,y:x.y-b,width:g+b*2,height:M+b*2}}}S.getCoordinateClipCfg=C},38674:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var w=d(49242);function _(p){if(w.isEmpty(p))return null;var b=p[0].x,y=p[0].x,x=p[0].y,g=p[0].y;return w.each(p,function(M){b=b>M.x?M.x:b,y=y<M.x?M.x:y,x=x>M.y?M.y:x,g=g<M.y?M.y:g}),{minX:b,maxX:y,minY:x,maxY:g,centerX:(b+y)/2,centerY:(x+g)/2}}function I(p,b,y,x){return{x:p+y*Math.cos(x),y:b+y*Math.sin(x)}}S.polarToCartesian=I;function O(p,b,y,x,g,M){M===void 0&&(M=0);var L=I(p,b,y,x),k=I(p,b,y,g),F=I(p,b,M,x),W=I(p,b,M,g);if(g-x==Math.PI*2){var $=I(p,b,y,x+Math.PI),z=I(p,b,M,x+Math.PI),U=[["M",L.x,L.y],["A",y,y,0,1,1,$.x,$.y],["A",y,y,0,1,1,k.x,k.y],["M",F.x,F.y]];return M&&(U.push(["A",M,M,0,1,0,z.x,z.y]),U.push(["A",M,M,0,1,0,W.x,W.y])),U.push(["M",L.x,L.y]),U.push(["Z"]),U}var et=g-x<=Math.PI?0:1,q=[["M",L.x,L.y],["A",y,y,0,et,1,k.x,k.y],["L",W.x,W.y]];return M&&q.push(["A",M,M,0,et,0,F.x,F.y]),q.push(["L",L.x,L.y]),q.push(["Z"]),q}S.getSectorPath=O;function P(p,b,y,x,g){var M=I(p,b,y,x),L=I(p,b,y,g);if(w.isNumberEqual(g-x,Math.PI*2)){var k=I(p,b,y,x+Math.PI);return[["M",M.x,M.y],["A",y,y,0,1,1,k.x,k.y],["A",y,y,0,1,1,M.x,M.y],["A",y,y,0,1,0,k.x,k.y],["A",y,y,0,1,0,M.x,M.y],["Z"]]}var F=g-x<=Math.PI?0:1;return[["M",M.x,M.y],["A",y,y,0,F,1,L.x,L.y]]}S.getArcPath=P;function A(p,b){var y=p.points,x=_(y),g,M,L=b.startAngle,k=b.endAngle,F=k-L;return b.isTransposed?(g=x.maxY*F,M=x.minY*F):(g=x.maxX*F,M=x.minX*F),g+=L,M+=L,{startAngle:M,endAngle:g}}S.getAngle=A;function E(p,b){if(w.isNumber(p)&&w.isNumber(b))return[p,b];for(var y=-1,x=0,g=0,M,L=p.length-1,k,F=0;++y<p.length;)M=L,L=y,F+=k=p[M]*b[L]-p[L]*b[M],x+=(p[M]+p[L])*k,g+=(b[M]+b[L])*k;return F*=3,[x/F,g/F]}S.getPolygonCentroid=E;function C(p,b){var y=p.attr(),x=b.attr();return w.each(y,function(g,M){x[M]===void 0&&(x[M]=void 0)}),x}S.getReplaceAttrs=C},10521:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var w=d(49242);function _(A,E,C){var p=Math.min(E,C),b=Math.max(E,C);return A>=p&&A<=b}S.isBetween=_;function I(A,E,C){if(w.isString(A))return A.padEnd(E,C);if(w.isArray(A)){var p=A.length;if(p<E)for(var b=E-p,y=0;y<b;y++)A.push(C)}return A}S.padEnd=I;function O(A,E){return E.forEach(function(C){delete A[C]}),A}S.omit=O;function P(A,E,C){E===void 0&&(E=[]),C===void 0&&(C={});for(var p=0,b=A;p<b.length;p++){var y=b[p];C[y]||(E.push(y),C[y]=!0)}return E}S.uniq=P},90835:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(d,w,_){var I=_/2*Math.sqrt(3);return[["M",d,w-_],["L",d+I,w-_/2],["L",d+I,w+_/2],["L",d,w+_],["L",d-I,w+_/2],["L",d-I,w-_/2],["Z"]]},bowtie:function(d,w,_){var I=_-1.5;return[["M",d-_,w-I],["L",d+_,w+I],["L",d+_,w-I],["L",d-_,w+I],["Z"]]},cross:function(d,w,_){return[["M",d-_,w-_],["L",d+_,w+_],["M",d+_,w-_],["L",d-_,w+_]]},tick:function(d,w,_){return[["M",d-_/2,w-_],["L",d+_/2,w-_],["M",d,w-_],["L",d,w+_],["M",d-_/2,w+_],["L",d+_/2,w+_]]},plus:function(d,w,_){return[["M",d-_,w],["L",d+_,w],["M",d,w-_],["L",d,w+_]]},hyphen:function(d,w,_){return[["M",d-_,w],["L",d+_,w]]},line:function(d,w,_){return[["M",d,w-_],["L",d,w+_]]}}},95152:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var w=d(80123),_=d(49242),I=d(96397),O=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function P(p){var b="linear";return O.test(p)?b="time":_.isString(p)&&(b="cat"),b}function A(p,b,y){var x=b||[];if(_.isNumber(p)||_.isNil(_.firstValue(x,p))&&_.isEmpty(y)){var g=I.getScale("identity");return new g({field:p.toString(),values:[p]})}var M=_.valuesOfKey(x,p),L=_.get(y,"type",P(M[0])),k=I.getScale(L);return new k(w.__assign({field:p,values:M},y))}S.createScaleByField=A;function E(p,b){if(p.type!=="identity"&&b.type!=="identity"){var y={};for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(y[x]=b[x]);p.change(y)}}S.syncScale=E;function C(p){return p.alias||p.field}S.getName=C},97127:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var w=d(80123),_=d(49242),I=d(78646),O=d(95152);function P(k,F,W){var $=W.translate(k),z=W.translate(F);return _.isNumberEqual($,z)}function A(k,F){var W=F.coordinate,$=F.getXScale(),z=$.range,U=z[z.length-1],et=z[0],q=W.invert(k),dt=q.x;return W.isPolar&&dt>(1+U)/2&&(dt=et),$.translate($.invert(dt))}function E(k,F,W){var $=W.coordinate,z=W.getYScale(),U=z.field,et=$.invert(F),q=z.invert(et.y),dt=_.find(k,function(ct){var Mt=ct[I.FIELD_ORIGIN];return Mt[U][0]<=q&&Mt[U][1]>=q});return dt||k[k.length-1]}var C=_.memoize(function(k){if(k.isCategory)return 1;for(var F=k.values,W=F.length,$=k.translate(F[0]),z=$,U=0;U<W;U++){var et=F[U],q=k.translate(et);q<$&&($=q),q>z&&(z=q)}return(z-$)/(W-1)});function p(k,F,W){var $=W;if(!W){var z=F.getAttribute("position"),U=z.getFields();$=U[0]}var et=F.scales;return et[$]?et[$].getText(k[$]):_.hasKey(k,$)?k[$]:$}function b(k){var F=_.values(k.attributes);return _.filter(F,function(W){return _.contains(I.GROUP_ATTRS,W.type)})}function y(k){for(var F=b(k),W,$=0,z=F;$<z.length;$++){var U=z[$],et=U.getScale(U.type);if(et&&et.isLinear){W=et;break}}var q=k.getXScale(),dt=k.getYScale();return W||dt||q}function x(k,F){var W=F.field,$=k[W];if(_.isArray($)){var z=$.map(function(U){return F.getText(U)});return z.join("-")}return F.getText($)}function g(k,F){var W,$=F.getGroupScales();if($.length&&(W=$[0]),W){var z=W.field;return W.getText(k[z])}var U=y(F);return O.getName(U)}function M(k,F,W){if(F.length===0)return null;var $=W.type,z=W.getXScale(),U=W.getYScale(),et=z.field,q=U.field,dt=null;if($==="heatmap"||$==="point"){for(var ct=W.coordinate,Mt=ct.invert(k),D=z.invert(Mt.x),G=U.invert(Mt.y),X=Infinity,N=0;N<F.length;N++){var tt=F[N],Q=tt[I.FIELD_ORIGIN],K=Math.pow(Q[et]-D,2)+Math.pow(Q[q]-G,2);K<X&&(X=K,dt=tt)}return dt}var V=F[0],H=F[F.length-1],u=A(k,W),ot=V[I.FIELD_ORIGIN][et],pt=V[I.FIELD_ORIGIN][q],it=H[I.FIELD_ORIGIN][et],xt=U.isLinear&&_.isArray(pt);if(_.isArray(ot)){for(var N=0;N<F.length;N++){var gt=F[N],Q=gt[I.FIELD_ORIGIN];if(z.translate(Q[et][0])<=u&&z.translate(Q[et][1])>=u)if(xt)_.isArray(dt)||(dt=[]),dt.push(gt);else{dt=gt;break}}_.isArray(dt)&&(dt=E(dt,k,W))}else{var wt=void 0;if(!z.isLinear&&z.type!=="timeCat"){for(var N=0;N<F.length;N++){var gt=F[N],Q=gt[I.FIELD_ORIGIN];if(P(Q[et],u,z))if(xt)_.isArray(dt)||(dt=[]),dt.push(gt);else{dt=gt;break}else z.translate(Q[et])<=u&&(H=gt,wt=F[N+1])}_.isArray(dt)&&(dt=E(dt,k,W))}else{if((u>z.translate(it)||u<z.translate(ot))&&(u>z.max||u<z.min))return null;for(var Dt=0,Nt=F.length-1,Ot=void 0;Dt<=Nt;){Ot=Math.floor((Dt+Nt)/2);var Tt=F[Ot][I.FIELD_ORIGIN][et];if(P(Tt,u,z))return F[Ot];z.translate(Tt)<=z.translate(u)?(Dt=Ot+1,H=F[Ot],wt=F[Ot+1]):(Nt===0&&(H=F[0]),Nt=Ot-1)}}H&&wt&&Math.abs(z.translate(H[I.FIELD_ORIGIN][et])-u)>Math.abs(z.translate(wt[I.FIELD_ORIGIN][et])-u)&&(H=wt)}var at=C(W.getXScale());return!dt&&Math.abs(z.translate(H[I.FIELD_ORIGIN][et])-u)<=at/2&&(dt=H),dt}S.findDataByPoint=M;function L(k,F,W){W===void 0&&(W="");var $=k[I.FIELD_ORIGIN],z=p($,F,W),U=F.tooltipOption,et=F.theme.defaultColor,q=[],dt,ct;function Mt(pt,it){if(!_.isNil(it)&&it!==""){var xt={title:z,data:$,mappingData:k,name:pt,value:it,color:k.color||et,marker:!0};q.push(xt)}}if(_.isObject(U)){var D=U.fields,G=U.callback;if(G){var X=D.map(function(pt){return k[I.FIELD_ORIGIN][pt]}),N=G.apply(void 0,X),tt=w.__assign({data:k[I.FIELD_ORIGIN],mappingData:k,title:z,color:k.color||et,marker:!0},N);q.push(tt)}else for(var Q=F.scales,K=0,V=D;K<V.length;K++){var H=V[K];if(!_.isNil($[H])){var u=Q[H];dt=O.getName(u),ct=u.getText($[H]),Mt(dt,ct)}}}else{var ot=y(F);_.isNil($[ot.field])||(ct=x($,ot),dt=g($,F),Mt(dt,ct))}return q}S.getTooltipItems=L},80123:function(bt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return _},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return P},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return x},__read:function(){return g},__spread:function(){return M},__spreadArrays:function(){return L},__spreadArray:function(){return k},__await:function(){return F},__asyncGenerator:function(){return W},__asyncDelegator:function(){return $},__asyncValues:function(){return z},__makeTemplateObject:function(){return U},__importStar:function(){return q},__importDefault:function(){return dt},__classPrivateFieldGet:function(){return ct},__classPrivateFieldSet:function(){return Mt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(D,G){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,N){X.__proto__=N}||function(X,N){for(var tt in N)Object.prototype.hasOwnProperty.call(N,tt)&&(X[tt]=N[tt])},w(D,G)};function _(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");w(D,G);function X(){this.constructor=D}D.prototype=G===null?Object.create(G):(X.prototype=G.prototype,new X)}var I=function(){return I=Object.assign||function(G){for(var X,N=1,tt=arguments.length;N<tt;N++){X=arguments[N];for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&(G[Q]=X[Q])}return G},I.apply(this,arguments)};function O(D,G){var X={};for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&G.indexOf(N)<0&&(X[N]=D[N]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,N=Object.getOwnPropertySymbols(D);tt<N.length;tt++)G.indexOf(N[tt])<0&&Object.prototype.propertyIsEnumerable.call(D,N[tt])&&(X[N[tt]]=D[N[tt]]);return X}function P(D,G,X,N){var tt=arguments.length,Q=tt<3?G:N===null?N=Object.getOwnPropertyDescriptor(G,X):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(D,G,X,N);else for(var V=D.length-1;V>=0;V--)(K=D[V])&&(Q=(tt<3?K(Q):tt>3?K(G,X,Q):K(G,X))||Q);return tt>3&&Q&&Object.defineProperty(G,X,Q),Q}function A(D,G){return function(X,N){G(X,N,D)}}function E(D,G){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(D,G)}function C(D,G,X,N){function tt(Q){return Q instanceof X?Q:new X(function(K){K(Q)})}return new(X||(X=Promise))(function(Q,K){function V(ot){try{u(N.next(ot))}catch(pt){K(pt)}}function H(ot){try{u(N.throw(ot))}catch(pt){K(pt)}}function u(ot){ot.done?Q(ot.value):tt(ot.value).then(V,H)}u((N=N.apply(D,G||[])).next())})}function p(D,G){var X={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},N,tt,Q,K;return K={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function V(u){return function(ot){return H([u,ot])}}function H(u){if(N)throw new TypeError("Generator is already executing.");for(;X;)try{if(N=1,tt&&(Q=u[0]&2?tt.return:u[0]?tt.throw||((Q=tt.return)&&Q.call(tt),0):tt.next)&&!(Q=Q.call(tt,u[1])).done)return Q;switch(tt=0,Q&&(u=[u[0]&2,Q.value]),u[0]){case 0:case 1:Q=u;break;case 4:return X.label++,{value:u[1],done:!1};case 5:X.label++,tt=u[1],u=[0];continue;case 7:u=X.ops.pop(),X.trys.pop();continue;default:if(Q=X.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(u[0]===6||u[0]===2)){X=0;continue}if(u[0]===3&&(!Q||u[1]>Q[0]&&u[1]<Q[3])){X.label=u[1];break}if(u[0]===6&&X.label<Q[1]){X.label=Q[1],Q=u;break}if(Q&&X.label<Q[2]){X.label=Q[2],X.ops.push(u);break}Q[2]&&X.ops.pop(),X.trys.pop();continue}u=G.call(D,X)}catch(ot){u=[6,ot],tt=0}finally{N=Q=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var b=Object.create?function(D,G,X,N){N===void 0&&(N=X),Object.defineProperty(D,N,{enumerable:!0,get:function(){return G[X]}})}:function(D,G,X,N){N===void 0&&(N=X),D[N]=G[X]};function y(D,G){for(var X in D)X!=="default"&&!Object.prototype.hasOwnProperty.call(G,X)&&b(G,D,X)}function x(D){var G=typeof Symbol=="function"&&Symbol.iterator,X=G&&D[G],N=0;if(X)return X.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&N>=D.length&&(D=void 0),{value:D&&D[N++],done:!D}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(D,G){var X=typeof Symbol=="function"&&D[Symbol.iterator];if(!X)return D;var N=X.call(D),tt,Q=[],K;try{for(;(G===void 0||G-- >0)&&!(tt=N.next()).done;)Q.push(tt.value)}catch(V){K={error:V}}finally{try{tt&&!tt.done&&(X=N.return)&&X.call(N)}finally{if(K)throw K.error}}return Q}function M(){for(var D=[],G=0;G<arguments.length;G++)D=D.concat(g(arguments[G]));return D}function L(){for(var D=0,G=0,X=arguments.length;G<X;G++)D+=arguments[G].length;for(var N=Array(D),tt=0,G=0;G<X;G++)for(var Q=arguments[G],K=0,V=Q.length;K<V;K++,tt++)N[tt]=Q[K];return N}function k(D,G,X){if(X||arguments.length===2)for(var N=0,tt=G.length,Q;N<tt;N++)(Q||!(N in G))&&(Q||(Q=Array.prototype.slice.call(G,0,N)),Q[N]=G[N]);return D.concat(Q||Array.prototype.slice.call(G))}function F(D){return this instanceof F?(this.v=D,this):new F(D)}function W(D,G,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=X.apply(D,G||[]),tt,Q=[];return tt={},K("next"),K("throw"),K("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function K(it){N[it]&&(tt[it]=function(xt){return new Promise(function(gt,wt){Q.push([it,xt,gt,wt])>1||V(it,xt)})})}function V(it,xt){try{H(N[it](xt))}catch(gt){pt(Q[0][3],gt)}}function H(it){it.value instanceof F?Promise.resolve(it.value.v).then(u,ot):pt(Q[0][2],it)}function u(it){V("next",it)}function ot(it){V("throw",it)}function pt(it,xt){it(xt),Q.shift(),Q.length&&V(Q[0][0],Q[0][1])}}function $(D){var G,X;return G={},N("next"),N("throw",function(tt){throw tt}),N("return"),G[Symbol.iterator]=function(){return this},G;function N(tt,Q){G[tt]=D[tt]?function(K){return(X=!X)?{value:F(D[tt](K)),done:tt==="return"}:Q?Q(K):K}:Q}}function z(D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=D[Symbol.asyncIterator],X;return G?G.call(D):(D=typeof x=="function"?x(D):D[Symbol.iterator](),X={},N("next"),N("throw"),N("return"),X[Symbol.asyncIterator]=function(){return this},X);function N(Q){X[Q]=D[Q]&&function(K){return new Promise(function(V,H){K=D[Q](K),tt(V,H,K.done,K.value)})}}function tt(Q,K,V,H){Promise.resolve(H).then(function(u){Q({value:u,done:V})},K)}}function U(D,G){return Object.defineProperty?Object.defineProperty(D,"raw",{value:G}):D.raw=G,D}var et=Object.create?function(D,G){Object.defineProperty(D,"default",{enumerable:!0,value:G})}:function(D,G){D.default=G};function q(D){if(D&&D.__esModule)return D;var G={};if(D!=null)for(var X in D)X!=="default"&&Object.prototype.hasOwnProperty.call(D,X)&&b(G,D,X);return et(G,D),G}function dt(D){return D&&D.__esModule?D:{default:D}}function ct(D,G,X,N){if(X==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?D!==G||!N:!G.has(D))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?N:X==="a"?N.call(D):N?N.value:G.get(D)}function Mt(D,G,X,N,tt){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!tt)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?D!==G||!tt:!G.has(D))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?tt.call(D,X):tt?tt.value=X:G.set(D,X),X}},74988:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=I,S.toRadian=P,S.equals=A;var d=S.EPSILON=1e-6,w=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,_=S.RANDOM=Math.random;function I(E){S.ARRAY_TYPE=w=E}var O=Math.PI/180;function P(E){return E*O}function A(E,C){return Math.abs(E-C)<=d*Math.max(1,Math.abs(E),Math.abs(C))}},31502:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=O,S.fromMat4=P,S.clone=A,S.copy=E,S.fromValues=C,S.set=p,S.identity=b,S.transpose=y,S.invert=x,S.adjoint=g,S.determinant=M,S.multiply=L,S.translate=k,S.rotate=F,S.scale=W,S.fromTranslation=$,S.fromRotation=z,S.fromScaling=U,S.fromMat2d=et,S.fromQuat=q,S.normalFromMat4=dt,S.projection=ct,S.str=Mt,S.frob=D,S.add=G,S.subtract=X,S.multiplyScalar=N,S.multiplyScalarAndAdd=tt,S.exactEquals=Q,S.equals=K;var w=d(74988),_=I(w);function I(u){if(u&&u.__esModule)return u;var ot={};if(u!=null)for(var pt in u)Object.prototype.hasOwnProperty.call(u,pt)&&(ot[pt]=u[pt]);return ot.default=u,ot}function O(){var u=new _.ARRAY_TYPE(9);return _.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function P(u,ot){return u[0]=ot[0],u[1]=ot[1],u[2]=ot[2],u[3]=ot[4],u[4]=ot[5],u[5]=ot[6],u[6]=ot[8],u[7]=ot[9],u[8]=ot[10],u}function A(u){var ot=new _.ARRAY_TYPE(9);return ot[0]=u[0],ot[1]=u[1],ot[2]=u[2],ot[3]=u[3],ot[4]=u[4],ot[5]=u[5],ot[6]=u[6],ot[7]=u[7],ot[8]=u[8],ot}function E(u,ot){return u[0]=ot[0],u[1]=ot[1],u[2]=ot[2],u[3]=ot[3],u[4]=ot[4],u[5]=ot[5],u[6]=ot[6],u[7]=ot[7],u[8]=ot[8],u}function C(u,ot,pt,it,xt,gt,wt,Dt,Nt){var Ot=new _.ARRAY_TYPE(9);return Ot[0]=u,Ot[1]=ot,Ot[2]=pt,Ot[3]=it,Ot[4]=xt,Ot[5]=gt,Ot[6]=wt,Ot[7]=Dt,Ot[8]=Nt,Ot}function p(u,ot,pt,it,xt,gt,wt,Dt,Nt,Ot){return u[0]=ot,u[1]=pt,u[2]=it,u[3]=xt,u[4]=gt,u[5]=wt,u[6]=Dt,u[7]=Nt,u[8]=Ot,u}function b(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function y(u,ot){if(u===ot){var pt=ot[1],it=ot[2],xt=ot[5];u[1]=ot[3],u[2]=ot[6],u[3]=pt,u[5]=ot[7],u[6]=it,u[7]=xt}else u[0]=ot[0],u[1]=ot[3],u[2]=ot[6],u[3]=ot[1],u[4]=ot[4],u[5]=ot[7],u[6]=ot[2],u[7]=ot[5],u[8]=ot[8];return u}function x(u,ot){var pt=ot[0],it=ot[1],xt=ot[2],gt=ot[3],wt=ot[4],Dt=ot[5],Nt=ot[6],Ot=ot[7],Tt=ot[8],at=Tt*wt-Dt*Ot,st=-Tt*gt+Dt*Nt,Ct=Ot*gt-wt*Nt,nt=pt*at+it*st+xt*Ct;return nt?(nt=1/nt,u[0]=at*nt,u[1]=(-Tt*it+xt*Ot)*nt,u[2]=(Dt*it-xt*wt)*nt,u[3]=st*nt,u[4]=(Tt*pt-xt*Nt)*nt,u[5]=(-Dt*pt+xt*gt)*nt,u[6]=Ct*nt,u[7]=(-Ot*pt+it*Nt)*nt,u[8]=(wt*pt-it*gt)*nt,u):null}function g(u,ot){var pt=ot[0],it=ot[1],xt=ot[2],gt=ot[3],wt=ot[4],Dt=ot[5],Nt=ot[6],Ot=ot[7],Tt=ot[8];return u[0]=wt*Tt-Dt*Ot,u[1]=xt*Ot-it*Tt,u[2]=it*Dt-xt*wt,u[3]=Dt*Nt-gt*Tt,u[4]=pt*Tt-xt*Nt,u[5]=xt*gt-pt*Dt,u[6]=gt*Ot-wt*Nt,u[7]=it*Nt-pt*Ot,u[8]=pt*wt-it*gt,u}function M(u){var ot=u[0],pt=u[1],it=u[2],xt=u[3],gt=u[4],wt=u[5],Dt=u[6],Nt=u[7],Ot=u[8];return ot*(Ot*gt-wt*Nt)+pt*(-Ot*xt+wt*Dt)+it*(Nt*xt-gt*Dt)}function L(u,ot,pt){var it=ot[0],xt=ot[1],gt=ot[2],wt=ot[3],Dt=ot[4],Nt=ot[5],Ot=ot[6],Tt=ot[7],at=ot[8],st=pt[0],Ct=pt[1],nt=pt[2],rt=pt[3],mt=pt[4],Pt=pt[5],Yt=pt[6],Jt=pt[7],de=pt[8];return u[0]=st*it+Ct*wt+nt*Ot,u[1]=st*xt+Ct*Dt+nt*Tt,u[2]=st*gt+Ct*Nt+nt*at,u[3]=rt*it+mt*wt+Pt*Ot,u[4]=rt*xt+mt*Dt+Pt*Tt,u[5]=rt*gt+mt*Nt+Pt*at,u[6]=Yt*it+Jt*wt+de*Ot,u[7]=Yt*xt+Jt*Dt+de*Tt,u[8]=Yt*gt+Jt*Nt+de*at,u}function k(u,ot,pt){var it=ot[0],xt=ot[1],gt=ot[2],wt=ot[3],Dt=ot[4],Nt=ot[5],Ot=ot[6],Tt=ot[7],at=ot[8],st=pt[0],Ct=pt[1];return u[0]=it,u[1]=xt,u[2]=gt,u[3]=wt,u[4]=Dt,u[5]=Nt,u[6]=st*it+Ct*wt+Ot,u[7]=st*xt+Ct*Dt+Tt,u[8]=st*gt+Ct*Nt+at,u}function F(u,ot,pt){var it=ot[0],xt=ot[1],gt=ot[2],wt=ot[3],Dt=ot[4],Nt=ot[5],Ot=ot[6],Tt=ot[7],at=ot[8],st=Math.sin(pt),Ct=Math.cos(pt);return u[0]=Ct*it+st*wt,u[1]=Ct*xt+st*Dt,u[2]=Ct*gt+st*Nt,u[3]=Ct*wt-st*it,u[4]=Ct*Dt-st*xt,u[5]=Ct*Nt-st*gt,u[6]=Ot,u[7]=Tt,u[8]=at,u}function W(u,ot,pt){var it=pt[0],xt=pt[1];return u[0]=it*ot[0],u[1]=it*ot[1],u[2]=it*ot[2],u[3]=xt*ot[3],u[4]=xt*ot[4],u[5]=xt*ot[5],u[6]=ot[6],u[7]=ot[7],u[8]=ot[8],u}function $(u,ot){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=ot[0],u[7]=ot[1],u[8]=1,u}function z(u,ot){var pt=Math.sin(ot),it=Math.cos(ot);return u[0]=it,u[1]=pt,u[2]=0,u[3]=-pt,u[4]=it,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function U(u,ot){return u[0]=ot[0],u[1]=0,u[2]=0,u[3]=0,u[4]=ot[1],u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function et(u,ot){return u[0]=ot[0],u[1]=ot[1],u[2]=0,u[3]=ot[2],u[4]=ot[3],u[5]=0,u[6]=ot[4],u[7]=ot[5],u[8]=1,u}function q(u,ot){var pt=ot[0],it=ot[1],xt=ot[2],gt=ot[3],wt=pt+pt,Dt=it+it,Nt=xt+xt,Ot=pt*wt,Tt=it*wt,at=it*Dt,st=xt*wt,Ct=xt*Dt,nt=xt*Nt,rt=gt*wt,mt=gt*Dt,Pt=gt*Nt;return u[0]=1-at-nt,u[3]=Tt-Pt,u[6]=st+mt,u[1]=Tt+Pt,u[4]=1-Ot-nt,u[7]=Ct-rt,u[2]=st-mt,u[5]=Ct+rt,u[8]=1-Ot-at,u}function dt(u,ot){var pt=ot[0],it=ot[1],xt=ot[2],gt=ot[3],wt=ot[4],Dt=ot[5],Nt=ot[6],Ot=ot[7],Tt=ot[8],at=ot[9],st=ot[10],Ct=ot[11],nt=ot[12],rt=ot[13],mt=ot[14],Pt=ot[15],Yt=pt*Dt-it*wt,Jt=pt*Nt-xt*wt,de=pt*Ot-gt*wt,Ce=it*Nt-xt*Dt,ye=it*Ot-gt*Dt,Se=xt*Ot-gt*Nt,Fe=Tt*rt-at*nt,Ze=Tt*mt-st*nt,er=Tt*Pt-Ct*nt,qe=at*mt-st*rt,Pr=at*Pt-Ct*rt,rn=st*Pt-Ct*mt,Or=Yt*rn-Jt*Pr+de*qe+Ce*er-ye*Ze+Se*Fe;return Or?(Or=1/Or,u[0]=(Dt*rn-Nt*Pr+Ot*qe)*Or,u[1]=(Nt*er-wt*rn-Ot*Ze)*Or,u[2]=(wt*Pr-Dt*er+Ot*Fe)*Or,u[3]=(xt*Pr-it*rn-gt*qe)*Or,u[4]=(pt*rn-xt*er+gt*Ze)*Or,u[5]=(it*er-pt*Pr-gt*Fe)*Or,u[6]=(rt*Se-mt*ye+Pt*Ce)*Or,u[7]=(mt*de-nt*Se-Pt*Jt)*Or,u[8]=(nt*ye-rt*de+Pt*Yt)*Or,u):null}function ct(u,ot,pt){return u[0]=2/ot,u[1]=0,u[2]=0,u[3]=0,u[4]=-2/pt,u[5]=0,u[6]=-1,u[7]=1,u[8]=1,u}function Mt(u){return"mat3("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+")"}function D(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2)+Math.pow(u[2],2)+Math.pow(u[3],2)+Math.pow(u[4],2)+Math.pow(u[5],2)+Math.pow(u[6],2)+Math.pow(u[7],2)+Math.pow(u[8],2))}function G(u,ot,pt){return u[0]=ot[0]+pt[0],u[1]=ot[1]+pt[1],u[2]=ot[2]+pt[2],u[3]=ot[3]+pt[3],u[4]=ot[4]+pt[4],u[5]=ot[5]+pt[5],u[6]=ot[6]+pt[6],u[7]=ot[7]+pt[7],u[8]=ot[8]+pt[8],u}function X(u,ot,pt){return u[0]=ot[0]-pt[0],u[1]=ot[1]-pt[1],u[2]=ot[2]-pt[2],u[3]=ot[3]-pt[3],u[4]=ot[4]-pt[4],u[5]=ot[5]-pt[5],u[6]=ot[6]-pt[6],u[7]=ot[7]-pt[7],u[8]=ot[8]-pt[8],u}function N(u,ot,pt){return u[0]=ot[0]*pt,u[1]=ot[1]*pt,u[2]=ot[2]*pt,u[3]=ot[3]*pt,u[4]=ot[4]*pt,u[5]=ot[5]*pt,u[6]=ot[6]*pt,u[7]=ot[7]*pt,u[8]=ot[8]*pt,u}function tt(u,ot,pt,it){return u[0]=ot[0]+pt[0]*it,u[1]=ot[1]+pt[1]*it,u[2]=ot[2]+pt[2]*it,u[3]=ot[3]+pt[3]*it,u[4]=ot[4]+pt[4]*it,u[5]=ot[5]+pt[5]*it,u[6]=ot[6]+pt[6]*it,u[7]=ot[7]+pt[7]*it,u[8]=ot[8]+pt[8]*it,u}function Q(u,ot){return u[0]===ot[0]&&u[1]===ot[1]&&u[2]===ot[2]&&u[3]===ot[3]&&u[4]===ot[4]&&u[5]===ot[5]&&u[6]===ot[6]&&u[7]===ot[7]&&u[8]===ot[8]}function K(u,ot){var pt=u[0],it=u[1],xt=u[2],gt=u[3],wt=u[4],Dt=u[5],Nt=u[6],Ot=u[7],Tt=u[8],at=ot[0],st=ot[1],Ct=ot[2],nt=ot[3],rt=ot[4],mt=ot[5],Pt=ot[6],Yt=ot[7],Jt=ot[8];return Math.abs(pt-at)<=_.EPSILON*Math.max(1,Math.abs(pt),Math.abs(at))&&Math.abs(it-st)<=_.EPSILON*Math.max(1,Math.abs(it),Math.abs(st))&&Math.abs(xt-Ct)<=_.EPSILON*Math.max(1,Math.abs(xt),Math.abs(Ct))&&Math.abs(gt-nt)<=_.EPSILON*Math.max(1,Math.abs(gt),Math.abs(nt))&&Math.abs(wt-rt)<=_.EPSILON*Math.max(1,Math.abs(wt),Math.abs(rt))&&Math.abs(Dt-mt)<=_.EPSILON*Math.max(1,Math.abs(Dt),Math.abs(mt))&&Math.abs(Nt-Pt)<=_.EPSILON*Math.max(1,Math.abs(Nt),Math.abs(Pt))&&Math.abs(Ot-Yt)<=_.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(Yt))&&Math.abs(Tt-Jt)<=_.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(Jt))}var V=S.mul=L,H=S.sub=X},76172:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=O,S.clone=P,S.fromValues=A,S.copy=E,S.set=C,S.add=p,S.subtract=b,S.multiply=y,S.divide=x,S.ceil=g,S.floor=M,S.min=L,S.max=k,S.round=F,S.scale=W,S.scaleAndAdd=$,S.distance=z,S.squaredDistance=U,S.length=et,S.squaredLength=q,S.negate=dt,S.inverse=ct,S.normalize=Mt,S.dot=D,S.cross=G,S.lerp=X,S.random=N,S.transformMat2=tt,S.transformMat2d=Q,S.transformMat3=K,S.transformMat4=V,S.rotate=H,S.angle=u,S.str=ot,S.exactEquals=pt,S.equals=it;var w=d(74988),_=I(w);function I(st){if(st&&st.__esModule)return st;var Ct={};if(st!=null)for(var nt in st)Object.prototype.hasOwnProperty.call(st,nt)&&(Ct[nt]=st[nt]);return Ct.default=st,Ct}function O(){var st=new _.ARRAY_TYPE(2);return _.ARRAY_TYPE!=Float32Array&&(st[0]=0,st[1]=0),st}function P(st){var Ct=new _.ARRAY_TYPE(2);return Ct[0]=st[0],Ct[1]=st[1],Ct}function A(st,Ct){var nt=new _.ARRAY_TYPE(2);return nt[0]=st,nt[1]=Ct,nt}function E(st,Ct){return st[0]=Ct[0],st[1]=Ct[1],st}function C(st,Ct,nt){return st[0]=Ct,st[1]=nt,st}function p(st,Ct,nt){return st[0]=Ct[0]+nt[0],st[1]=Ct[1]+nt[1],st}function b(st,Ct,nt){return st[0]=Ct[0]-nt[0],st[1]=Ct[1]-nt[1],st}function y(st,Ct,nt){return st[0]=Ct[0]*nt[0],st[1]=Ct[1]*nt[1],st}function x(st,Ct,nt){return st[0]=Ct[0]/nt[0],st[1]=Ct[1]/nt[1],st}function g(st,Ct){return st[0]=Math.ceil(Ct[0]),st[1]=Math.ceil(Ct[1]),st}function M(st,Ct){return st[0]=Math.floor(Ct[0]),st[1]=Math.floor(Ct[1]),st}function L(st,Ct,nt){return st[0]=Math.min(Ct[0],nt[0]),st[1]=Math.min(Ct[1],nt[1]),st}function k(st,Ct,nt){return st[0]=Math.max(Ct[0],nt[0]),st[1]=Math.max(Ct[1],nt[1]),st}function F(st,Ct){return st[0]=Math.round(Ct[0]),st[1]=Math.round(Ct[1]),st}function W(st,Ct,nt){return st[0]=Ct[0]*nt,st[1]=Ct[1]*nt,st}function $(st,Ct,nt,rt){return st[0]=Ct[0]+nt[0]*rt,st[1]=Ct[1]+nt[1]*rt,st}function z(st,Ct){var nt=Ct[0]-st[0],rt=Ct[1]-st[1];return Math.sqrt(nt*nt+rt*rt)}function U(st,Ct){var nt=Ct[0]-st[0],rt=Ct[1]-st[1];return nt*nt+rt*rt}function et(st){var Ct=st[0],nt=st[1];return Math.sqrt(Ct*Ct+nt*nt)}function q(st){var Ct=st[0],nt=st[1];return Ct*Ct+nt*nt}function dt(st,Ct){return st[0]=-Ct[0],st[1]=-Ct[1],st}function ct(st,Ct){return st[0]=1/Ct[0],st[1]=1/Ct[1],st}function Mt(st,Ct){var nt=Ct[0],rt=Ct[1],mt=nt*nt+rt*rt;return mt>0&&(mt=1/Math.sqrt(mt),st[0]=Ct[0]*mt,st[1]=Ct[1]*mt),st}function D(st,Ct){return st[0]*Ct[0]+st[1]*Ct[1]}function G(st,Ct,nt){var rt=Ct[0]*nt[1]-Ct[1]*nt[0];return st[0]=st[1]=0,st[2]=rt,st}function X(st,Ct,nt,rt){var mt=Ct[0],Pt=Ct[1];return st[0]=mt+rt*(nt[0]-mt),st[1]=Pt+rt*(nt[1]-Pt),st}function N(st,Ct){Ct=Ct||1;var nt=_.RANDOM()*2*Math.PI;return st[0]=Math.cos(nt)*Ct,st[1]=Math.sin(nt)*Ct,st}function tt(st,Ct,nt){var rt=Ct[0],mt=Ct[1];return st[0]=nt[0]*rt+nt[2]*mt,st[1]=nt[1]*rt+nt[3]*mt,st}function Q(st,Ct,nt){var rt=Ct[0],mt=Ct[1];return st[0]=nt[0]*rt+nt[2]*mt+nt[4],st[1]=nt[1]*rt+nt[3]*mt+nt[5],st}function K(st,Ct,nt){var rt=Ct[0],mt=Ct[1];return st[0]=nt[0]*rt+nt[3]*mt+nt[6],st[1]=nt[1]*rt+nt[4]*mt+nt[7],st}function V(st,Ct,nt){var rt=Ct[0],mt=Ct[1];return st[0]=nt[0]*rt+nt[4]*mt+nt[12],st[1]=nt[1]*rt+nt[5]*mt+nt[13],st}function H(st,Ct,nt,rt){var mt=Ct[0]-nt[0],Pt=Ct[1]-nt[1],Yt=Math.sin(rt),Jt=Math.cos(rt);return st[0]=mt*Jt-Pt*Yt+nt[0],st[1]=mt*Yt+Pt*Jt+nt[1],st}function u(st,Ct){var nt=st[0],rt=st[1],mt=Ct[0],Pt=Ct[1],Yt=nt*nt+rt*rt;Yt>0&&(Yt=1/Math.sqrt(Yt));var Jt=mt*mt+Pt*Pt;Jt>0&&(Jt=1/Math.sqrt(Jt));var de=(nt*mt+rt*Pt)*Yt*Jt;return de>1?0:de<-1?Math.PI:Math.acos(de)}function ot(st){return"vec2("+st[0]+", "+st[1]+")"}function pt(st,Ct){return st[0]===Ct[0]&&st[1]===Ct[1]}function it(st,Ct){var nt=st[0],rt=st[1],mt=Ct[0],Pt=Ct[1];return Math.abs(nt-mt)<=_.EPSILON*Math.max(1,Math.abs(nt),Math.abs(mt))&&Math.abs(rt-Pt)<=_.EPSILON*Math.max(1,Math.abs(rt),Math.abs(Pt))}var xt=S.len=et,gt=S.sub=b,wt=S.mul=y,Dt=S.div=x,Nt=S.dist=z,Ot=S.sqrDist=U,Tt=S.sqrLen=q,at=S.forEach=function(){var st=O();return function(Ct,nt,rt,mt,Pt,Yt){var Jt=void 0,de=void 0;for(nt||(nt=2),rt||(rt=0),mt?de=Math.min(mt*nt+rt,Ct.length):de=Ct.length,Jt=rt;Jt<de;Jt+=nt)st[0]=Ct[Jt],st[1]=Ct[Jt+1],Pt(st,st,Yt),Ct[Jt]=st[0],Ct[Jt+1]=st[1];return Ct}}()},88395:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=O,S.clone=P,S.length=A,S.fromValues=E,S.copy=C,S.set=p,S.add=b,S.subtract=y,S.multiply=x,S.divide=g,S.ceil=M,S.floor=L,S.min=k,S.max=F,S.round=W,S.scale=$,S.scaleAndAdd=z,S.distance=U,S.squaredDistance=et,S.squaredLength=q,S.negate=dt,S.inverse=ct,S.normalize=Mt,S.dot=D,S.cross=G,S.lerp=X,S.hermite=N,S.bezier=tt,S.random=Q,S.transformMat4=K,S.transformMat3=V,S.transformQuat=H,S.rotateX=u,S.rotateY=ot,S.rotateZ=pt,S.angle=it,S.str=xt,S.exactEquals=gt,S.equals=wt;var w=d(74988),_=I(w);function I(rt){if(rt&&rt.__esModule)return rt;var mt={};if(rt!=null)for(var Pt in rt)Object.prototype.hasOwnProperty.call(rt,Pt)&&(mt[Pt]=rt[Pt]);return mt.default=rt,mt}function O(){var rt=new _.ARRAY_TYPE(3);return _.ARRAY_TYPE!=Float32Array&&(rt[0]=0,rt[1]=0,rt[2]=0),rt}function P(rt){var mt=new _.ARRAY_TYPE(3);return mt[0]=rt[0],mt[1]=rt[1],mt[2]=rt[2],mt}function A(rt){var mt=rt[0],Pt=rt[1],Yt=rt[2];return Math.sqrt(mt*mt+Pt*Pt+Yt*Yt)}function E(rt,mt,Pt){var Yt=new _.ARRAY_TYPE(3);return Yt[0]=rt,Yt[1]=mt,Yt[2]=Pt,Yt}function C(rt,mt){return rt[0]=mt[0],rt[1]=mt[1],rt[2]=mt[2],rt}function p(rt,mt,Pt,Yt){return rt[0]=mt,rt[1]=Pt,rt[2]=Yt,rt}function b(rt,mt,Pt){return rt[0]=mt[0]+Pt[0],rt[1]=mt[1]+Pt[1],rt[2]=mt[2]+Pt[2],rt}function y(rt,mt,Pt){return rt[0]=mt[0]-Pt[0],rt[1]=mt[1]-Pt[1],rt[2]=mt[2]-Pt[2],rt}function x(rt,mt,Pt){return rt[0]=mt[0]*Pt[0],rt[1]=mt[1]*Pt[1],rt[2]=mt[2]*Pt[2],rt}function g(rt,mt,Pt){return rt[0]=mt[0]/Pt[0],rt[1]=mt[1]/Pt[1],rt[2]=mt[2]/Pt[2],rt}function M(rt,mt){return rt[0]=Math.ceil(mt[0]),rt[1]=Math.ceil(mt[1]),rt[2]=Math.ceil(mt[2]),rt}function L(rt,mt){return rt[0]=Math.floor(mt[0]),rt[1]=Math.floor(mt[1]),rt[2]=Math.floor(mt[2]),rt}function k(rt,mt,Pt){return rt[0]=Math.min(mt[0],Pt[0]),rt[1]=Math.min(mt[1],Pt[1]),rt[2]=Math.min(mt[2],Pt[2]),rt}function F(rt,mt,Pt){return rt[0]=Math.max(mt[0],Pt[0]),rt[1]=Math.max(mt[1],Pt[1]),rt[2]=Math.max(mt[2],Pt[2]),rt}function W(rt,mt){return rt[0]=Math.round(mt[0]),rt[1]=Math.round(mt[1]),rt[2]=Math.round(mt[2]),rt}function $(rt,mt,Pt){return rt[0]=mt[0]*Pt,rt[1]=mt[1]*Pt,rt[2]=mt[2]*Pt,rt}function z(rt,mt,Pt,Yt){return rt[0]=mt[0]+Pt[0]*Yt,rt[1]=mt[1]+Pt[1]*Yt,rt[2]=mt[2]+Pt[2]*Yt,rt}function U(rt,mt){var Pt=mt[0]-rt[0],Yt=mt[1]-rt[1],Jt=mt[2]-rt[2];return Math.sqrt(Pt*Pt+Yt*Yt+Jt*Jt)}function et(rt,mt){var Pt=mt[0]-rt[0],Yt=mt[1]-rt[1],Jt=mt[2]-rt[2];return Pt*Pt+Yt*Yt+Jt*Jt}function q(rt){var mt=rt[0],Pt=rt[1],Yt=rt[2];return mt*mt+Pt*Pt+Yt*Yt}function dt(rt,mt){return rt[0]=-mt[0],rt[1]=-mt[1],rt[2]=-mt[2],rt}function ct(rt,mt){return rt[0]=1/mt[0],rt[1]=1/mt[1],rt[2]=1/mt[2],rt}function Mt(rt,mt){var Pt=mt[0],Yt=mt[1],Jt=mt[2],de=Pt*Pt+Yt*Yt+Jt*Jt;return de>0&&(de=1/Math.sqrt(de),rt[0]=mt[0]*de,rt[1]=mt[1]*de,rt[2]=mt[2]*de),rt}function D(rt,mt){return rt[0]*mt[0]+rt[1]*mt[1]+rt[2]*mt[2]}function G(rt,mt,Pt){var Yt=mt[0],Jt=mt[1],de=mt[2],Ce=Pt[0],ye=Pt[1],Se=Pt[2];return rt[0]=Jt*Se-de*ye,rt[1]=de*Ce-Yt*Se,rt[2]=Yt*ye-Jt*Ce,rt}function X(rt,mt,Pt,Yt){var Jt=mt[0],de=mt[1],Ce=mt[2];return rt[0]=Jt+Yt*(Pt[0]-Jt),rt[1]=de+Yt*(Pt[1]-de),rt[2]=Ce+Yt*(Pt[2]-Ce),rt}function N(rt,mt,Pt,Yt,Jt,de){var Ce=de*de,ye=Ce*(2*de-3)+1,Se=Ce*(de-2)+de,Fe=Ce*(de-1),Ze=Ce*(3-2*de);return rt[0]=mt[0]*ye+Pt[0]*Se+Yt[0]*Fe+Jt[0]*Ze,rt[1]=mt[1]*ye+Pt[1]*Se+Yt[1]*Fe+Jt[1]*Ze,rt[2]=mt[2]*ye+Pt[2]*Se+Yt[2]*Fe+Jt[2]*Ze,rt}function tt(rt,mt,Pt,Yt,Jt,de){var Ce=1-de,ye=Ce*Ce,Se=de*de,Fe=ye*Ce,Ze=3*de*ye,er=3*Se*Ce,qe=Se*de;return rt[0]=mt[0]*Fe+Pt[0]*Ze+Yt[0]*er+Jt[0]*qe,rt[1]=mt[1]*Fe+Pt[1]*Ze+Yt[1]*er+Jt[1]*qe,rt[2]=mt[2]*Fe+Pt[2]*Ze+Yt[2]*er+Jt[2]*qe,rt}function Q(rt,mt){mt=mt||1;var Pt=_.RANDOM()*2*Math.PI,Yt=_.RANDOM()*2-1,Jt=Math.sqrt(1-Yt*Yt)*mt;return rt[0]=Math.cos(Pt)*Jt,rt[1]=Math.sin(Pt)*Jt,rt[2]=Yt*mt,rt}function K(rt,mt,Pt){var Yt=mt[0],Jt=mt[1],de=mt[2],Ce=Pt[3]*Yt+Pt[7]*Jt+Pt[11]*de+Pt[15];return Ce=Ce||1,rt[0]=(Pt[0]*Yt+Pt[4]*Jt+Pt[8]*de+Pt[12])/Ce,rt[1]=(Pt[1]*Yt+Pt[5]*Jt+Pt[9]*de+Pt[13])/Ce,rt[2]=(Pt[2]*Yt+Pt[6]*Jt+Pt[10]*de+Pt[14])/Ce,rt}function V(rt,mt,Pt){var Yt=mt[0],Jt=mt[1],de=mt[2];return rt[0]=Yt*Pt[0]+Jt*Pt[3]+de*Pt[6],rt[1]=Yt*Pt[1]+Jt*Pt[4]+de*Pt[7],rt[2]=Yt*Pt[2]+Jt*Pt[5]+de*Pt[8],rt}function H(rt,mt,Pt){var Yt=Pt[0],Jt=Pt[1],de=Pt[2],Ce=Pt[3],ye=mt[0],Se=mt[1],Fe=mt[2],Ze=Jt*Fe-de*Se,er=de*ye-Yt*Fe,qe=Yt*Se-Jt*ye,Pr=Jt*qe-de*er,rn=de*Ze-Yt*qe,Or=Yt*er-Jt*Ze,Wr=Ce*2;return Ze*=Wr,er*=Wr,qe*=Wr,Pr*=2,rn*=2,Or*=2,rt[0]=ye+Ze+Pr,rt[1]=Se+er+rn,rt[2]=Fe+qe+Or,rt}function u(rt,mt,Pt,Yt){var Jt=[],de=[];return Jt[0]=mt[0]-Pt[0],Jt[1]=mt[1]-Pt[1],Jt[2]=mt[2]-Pt[2],de[0]=Jt[0],de[1]=Jt[1]*Math.cos(Yt)-Jt[2]*Math.sin(Yt),de[2]=Jt[1]*Math.sin(Yt)+Jt[2]*Math.cos(Yt),rt[0]=de[0]+Pt[0],rt[1]=de[1]+Pt[1],rt[2]=de[2]+Pt[2],rt}function ot(rt,mt,Pt,Yt){var Jt=[],de=[];return Jt[0]=mt[0]-Pt[0],Jt[1]=mt[1]-Pt[1],Jt[2]=mt[2]-Pt[2],de[0]=Jt[2]*Math.sin(Yt)+Jt[0]*Math.cos(Yt),de[1]=Jt[1],de[2]=Jt[2]*Math.cos(Yt)-Jt[0]*Math.sin(Yt),rt[0]=de[0]+Pt[0],rt[1]=de[1]+Pt[1],rt[2]=de[2]+Pt[2],rt}function pt(rt,mt,Pt,Yt){var Jt=[],de=[];return Jt[0]=mt[0]-Pt[0],Jt[1]=mt[1]-Pt[1],Jt[2]=mt[2]-Pt[2],de[0]=Jt[0]*Math.cos(Yt)-Jt[1]*Math.sin(Yt),de[1]=Jt[0]*Math.sin(Yt)+Jt[1]*Math.cos(Yt),de[2]=Jt[2],rt[0]=de[0]+Pt[0],rt[1]=de[1]+Pt[1],rt[2]=de[2]+Pt[2],rt}function it(rt,mt){var Pt=E(rt[0],rt[1],rt[2]),Yt=E(mt[0],mt[1],mt[2]);Mt(Pt,Pt),Mt(Yt,Yt);var Jt=D(Pt,Yt);return Jt>1?0:Jt<-1?Math.PI:Math.acos(Jt)}function xt(rt){return"vec3("+rt[0]+", "+rt[1]+", "+rt[2]+")"}function gt(rt,mt){return rt[0]===mt[0]&&rt[1]===mt[1]&&rt[2]===mt[2]}function wt(rt,mt){var Pt=rt[0],Yt=rt[1],Jt=rt[2],de=mt[0],Ce=mt[1],ye=mt[2];return Math.abs(Pt-de)<=_.EPSILON*Math.max(1,Math.abs(Pt),Math.abs(de))&&Math.abs(Yt-Ce)<=_.EPSILON*Math.max(1,Math.abs(Yt),Math.abs(Ce))&&Math.abs(Jt-ye)<=_.EPSILON*Math.max(1,Math.abs(Jt),Math.abs(ye))}var Dt=S.sub=y,Nt=S.mul=x,Ot=S.div=g,Tt=S.dist=U,at=S.sqrDist=et,st=S.len=A,Ct=S.sqrLen=q,nt=S.forEach=function(){var rt=O();return function(mt,Pt,Yt,Jt,de,Ce){var ye=void 0,Se=void 0;for(Pt||(Pt=3),Yt||(Yt=0),Jt?Se=Math.min(Jt*Pt+Yt,mt.length):Se=mt.length,ye=Yt;ye<Se;ye+=Pt)rt[0]=mt[ye],rt[1]=mt[ye+1],rt[2]=mt[ye+2],de(rt,rt,Ce),mt[ye]=rt[0],mt[ye+1]=rt[1],mt[ye+2]=rt[2];return mt}}()},92640:function(bt,S,d){function w(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var _=d(4905),I=d(90390),O=d(30130),P=d(22965),A=function(p){w(b,p);function b(){return p.apply(this,arguments)||this}var y=b.prototype;return y.execute=function(){var g=this;return O(g.rootNode,g.options,I)},b}(_),E={};function C(p,b){return b=P.assign({},E,b),new A(p,b).execute()}bt.exports=C},34542:function(bt,S,d){function w(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var _=d(4905),I=d(37133),O=d(30130),P=d(22965),A=function(p){w(b,p);function b(){return p.apply(this,arguments)||this}var y=b.prototype;return y.execute=function(){var g=this;return g.rootNode.width=0,O(g.rootNode,g.options,I)},b}(_),E={};function C(p,b){return b=P.assign({},E,b),new A(p,b).execute()}bt.exports=C},57088:function(bt,S,d){function w(y,x){y.prototype=Object.create(x.prototype),y.prototype.constructor=y,y.__proto__=x}var _=d(4905),I=d(10568),O=d(59286),P=d(22965),A=["LR","RL","H"],E=A[0],C=function(y){w(x,y);function x(){return y.apply(this,arguments)||this}var g=x.prototype;return g.execute=function(){var L=this,k=L.options,F=L.rootNode;k.isHorizontal=!0;var W=k.indent,$=W===void 0?20:W,z=k.dropCap,U=z===void 0?!0:z,et=k.direction||E;if(et&&A.indexOf(et)===-1)throw new TypeError("Invalid direction: "+et);if(et===A[0])I(F,$,U);else if(et===A[1])I(F,$,U),F.right2left();else if(et===A[2]){var q=O(F,k),dt=q.left,ct=q.right;I(dt,$,U),dt.right2left(),I(ct,$,U);var Mt=dt.getBoundingBox();ct.translate(Mt.width,0),F.x=ct.x-F.width/2}return F},x}(_),p={};function b(y,x){return x=P.assign({},p,x),new C(y,x).execute()}bt.exports=b},77201:function(bt,S,d){var w={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};bt.exports=w},4905:function(bt,S,d){var w=d(27249),_=function(){function I(P,A){A===void 0&&(A={});var E=this;E.options=A,E.rootNode=w(P,A)}var O=I.prototype;return O.execute=function(){throw new Error("please override this method")},I}();bt.exports=_},37133:function(bt,S,d){var w=d(22965);function _(P,A){P===void 0&&(P=0),A===void 0&&(A=[]);var E=this;E.x=E.y=0,E.leftChild=E.rightChild=null,E.height=0,E.children=A}var I={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function O(P,A,E){E?(A.x=P.x,A.y=P.y):(A.x=P.y,A.y=P.x),P.children.forEach(function(C,p){O(C,A.children[p],E)})}bt.exports=function(P,A){A===void 0&&(A={}),A=w.assign({},I,A);var E=0;function C(g){if(!g)return null;g.width=0,g.depth&&g.depth>E&&(E=g.depth);var M=g.children,L=M.length,k=new _(g.height,[]);return M.forEach(function(F,W){var $=C(F);k.children.push($),W===0&&(k.leftChild=$),W===L-1&&(k.rightChild=$)}),k.originNode=g,k.isLeaf=g.isLeaf(),k}function p(g){if(g.isLeaf||g.children.length===0)g.drawingDepth=E;else{var M=g.children.map(function(k){return p(k)}),L=Math.min.apply(null,M);g.drawingDepth=L-1}return g.drawingDepth}var b;function y(g){g.x=g.drawingDepth*A.rankSep,g.isLeaf?(g.y=0,b&&(g.y=b.y+b.height+A.nodeSep,g.originNode.parent!==b.originNode.parent&&(g.y+=A.subTreeSep)),b=g):(g.children.forEach(function(M){y(M)}),g.y=(g.leftChild.y+g.rightChild.y)/2)}var x=C(P);return p(x),y(x),O(x,P,A.isHorizontal),P}},30130:function(bt,S,d){var w=d(59286),_=["LR","RL","TB","BT","H","V"],I=["LR","RL","H"],O=function(E){return I.indexOf(E)>-1},P=_[0];bt.exports=function(A,E,C){var p=E.direction||P;if(E.isHorizontal=O(p),p&&_.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===_[0])C(A,E);else if(p===_[1])C(A,E),A.right2left();else if(p===_[2])C(A,E);else if(p===_[3])C(A,E),A.bottom2top();else if(p===_[4]||p===_[5]){var b=w(A,E),y=b.left,x=b.right;C(y,E),C(x,E),E.isHorizontal?y.right2left():y.bottom2top(),x.translate(y.x-x.x,y.y-x.y),A.x=y.x,A.y=x.y;var g=A.getBoundingBox();E.isHorizontal?g.top<0&&A.translate(0,-g.top):g.left<0&&A.translate(-g.left,0)}var M=E.fixedRoot;return M===void 0&&(M=!0),M&&A.translate(-(A.x+A.width/2+A.hgap),-(A.y+A.height/2+A.vgap)),A}},27249:function(bt,S,d){var w=d(22965),_=18,I=_*2,O=_,P={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||O},getVGap:function(p){return p.vgap||O},getChildren:function(p){return p.children},getHeight:function(p){return p.height||I},getWidth:function(p){var b=p.label||" ";return p.width||b.split("").length*_}};function A(C,p){var b=this;if(b.vgap=b.hgap=0,C instanceof A)return C;b.data=C;var y=p.getHGap(C),x=p.getVGap(C);return b.preH=p.getPreH(C),b.preV=p.getPreV(C),b.width=p.getWidth(C),b.height=p.getHeight(C),b.width+=b.preH,b.height+=b.preV,b.id=p.getId(C),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(y,x),b}w.assign(A.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,b){var y=this;y.hgap+=p,y.vgap+=b,y.width+=2*p,y.height+=2*b},eachNode:function(p){for(var b=this,y=[b],x;x=y.shift();)p(x),y=x.children.concat(y)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var b=this,y=[b],x;x=y.shift();)p(x),y=y.concat(x.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){p.left=Math.min(p.left,b.x),p.top=Math.min(p.top,b.y),p.width=Math.max(p.width,b.x+b.width),p.height=Math.max(p.height,b.y+b.height)}),p},translate:function(p,b){p===void 0&&(p=0),b===void 0&&(b=0),this.eachNode(function(y){y.x+=p,y.y+=b,y.x+=y.preH,y.y+=y.preV})},right2left:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(y){y.x=y.x-(y.x-b.left)*2-y.width}),p.translate(b.width,0)},bottom2top:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(y){y.y=y.y-(y.y-b.top)*2-y.height}),p.translate(0,b.height)}});function E(C,p,b){p===void 0&&(p={}),p=w.assign({},P,p);var y=new A(C,p),x=[y],g;if(!b&&!C.collapsed){for(;g=x.shift();)if(!g.data.collapsed){var M=p.getChildren(g.data),L=M?M.length:0;if(g.children=new Array(L),M&&L)for(var k=0;k<L;k++){var F=new A(M[k],p);g.children[k]=F,x.push(F),F.parent=g,F.depth=g.depth+1}}}return y}bt.exports=E},10568:function(bt){function S(d,w,_,I){var O=typeof _=="function"?_(d):_*d.depth;if(!I)try{if(d.id===d.parent.children[0].id){d.x+=O,d.y=w?w.y:0;return}}catch(P){}d.x+=O,d.y=w?w.y+w.height:0}bt.exports=function(d,w,_){var I=null;d.eachNode(function(O){S(O,I,w,_),I=O})}},24461:function(bt,S,d){var w=d(22965);function _(P,A){var E=0;return P.children.length?P.children.forEach(function(C){E+=_(C,A)}):E=P.height,P._subTreeSep=A.getSubTreeSep(P.data),P.totalHeight=Math.max(P.height,E)+2*P._subTreeSep,P.totalHeight}function I(P){var A=P.children,E=A.length;if(E){A.forEach(function(g){I(g)});var C=A[0],p=A[E-1],b=p.y-C.y+p.height,y=0;if(A.forEach(function(g){y+=g.totalHeight}),b>P.height)P.y=C.y+b/2-P.height/2;else if(A.length!==1||P.height>y){var x=P.y+(P.height-b)/2-C.y;A.forEach(function(g){g.translate(0,x)})}else P.y=(C.y+C.height/2+p.y+p.height/2)/2-P.height/2}}var O={getSubTreeSep:function(){return 0}};bt.exports=function(P,A){A===void 0&&(A={}),A=w.assign({},O,A),P.parent={x:0,width:0,height:0,y:0},P.BFTraverse(function(E){E.x=E.parent.x+E.parent.width}),P.parent=null,_(P,A),P.startY=0,P.y=P.totalHeight/2-P.height/2,P.eachNode(function(E){var C=E.children,p=C.length;if(p){var b=C[0];if(b.startY=E.startY+E._subTreeSep,p===1)b.y=E.y+E.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var y=1;y<p;y++){var x=C[y];x.startY=C[y-1].startY+C[y-1].totalHeight,x.y=x.startY+x.totalHeight/2-x.height/2}}}}),I(P)}},90390:function(bt){function S(P,A,E,C){C===void 0&&(C=[]);var p=this;p.w=P||0,p.h=A||0,p.y=E||0,p.x=0,p.c=C||[],p.cs=C.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(P,A){if(!P)return null;var E=[];return P.children.forEach(function(C){E.push(S.fromNode(C,A))}),A?new S(P.height,P.width,P.x,E):new S(P.width,P.height,P.y,E)};function d(P,A,E){E?P.y+=A:P.x+=A,P.children.forEach(function(C){d(C,A,E)})}function w(P,A){var E=A?P.y:P.x;return P.children.forEach(function(C){E=Math.min(w(C,A),E)}),E}function _(P,A){var E=w(P,A);d(P,-E,A)}function I(P,A,E){E?A.y=P.x:A.x=P.x,P.c.forEach(function(C,p){I(C,A.children[p],E)})}function O(P,A,E){E===void 0&&(E=0),A?(P.x=E,E+=P.width):(P.y=E,E+=P.height),P.children.forEach(function(C){O(C,A,E)})}bt.exports=function(P,A){A===void 0&&(A={});var E=A.isHorizontal;function C(q){if(q.cs===0){p(q);return}C(q.c[0]);for(var dt=U(M(q.c[0].el),0,null),ct=1;ct<q.cs;++ct){C(q.c[ct]);var Mt=M(q.c[ct].er);b(q,ct,dt),dt=U(Mt,ct,dt)}F(q),p(q)}function p(q){q.cs===0?(q.el=q,q.er=q,q.msel=q.mser=0):(q.el=q.c[0].el,q.msel=q.c[0].msel,q.er=q.c[q.cs-1].er,q.mser=q.c[q.cs-1].mser)}function b(q,dt,ct){for(var Mt=q.c[dt-1],D=Mt.mod,G=q.c[dt],X=G.mod;Mt!==null&&G!==null;){M(Mt)>ct.low&&(ct=ct.nxt);var N=D+Mt.prelim+Mt.w-(X+G.prelim);N>0&&(X+=N,y(q,dt,ct.index,N));var tt=M(Mt),Q=M(G);tt<=Q&&(Mt=g(Mt),Mt!==null&&(D+=Mt.mod)),tt>=Q&&(G=x(G),G!==null&&(X+=G.mod))}!Mt&&!!G?L(q,dt,G,X):!!Mt&&!G&&k(q,dt,Mt,D)}function y(q,dt,ct,Mt){q.c[dt].mod+=Mt,q.c[dt].msel+=Mt,q.c[dt].mser+=Mt,$(q,dt,ct,Mt)}function x(q){return q.cs===0?q.tl:q.c[0]}function g(q){return q.cs===0?q.tr:q.c[q.cs-1]}function M(q){return q.y+q.h}function L(q,dt,ct,Mt){var D=q.c[0].el;D.tl=ct;var G=Mt-ct.mod-q.c[0].msel;D.mod+=G,D.prelim-=G,q.c[0].el=q.c[dt].el,q.c[0].msel=q.c[dt].msel}function k(q,dt,ct,Mt){var D=q.c[dt].er;D.tr=ct;var G=Mt-ct.mod-q.c[dt].mser;D.mod+=G,D.prelim-=G,q.c[dt].er=q.c[dt-1].er,q.c[dt].mser=q.c[dt-1].mser}function F(q){q.prelim=(q.c[0].prelim+q.c[0].mod+q.c[q.cs-1].mod+q.c[q.cs-1].prelim+q.c[q.cs-1].w)/2-q.w/2}function W(q,dt){dt+=q.mod,q.x=q.prelim+dt,z(q);for(var ct=0;ct<q.cs;ct++)W(q.c[ct],dt)}function $(q,dt,ct,Mt){if(ct!==dt-1){var D=dt-ct;q.c[ct+1].shift+=Mt/D,q.c[dt].shift-=Mt/D,q.c[dt].change-=Mt-Mt/D}}function z(q){for(var dt=0,ct=0,Mt=0;Mt<q.cs;Mt++)dt+=q.c[Mt].shift,ct+=dt+q.c[Mt].change,q.c[Mt].mod+=ct}function U(q,dt,ct){for(;ct!==null&&q>=ct.low;)ct=ct.nxt;return{low:q,index:dt,nxt:ct}}O(P,E);var et=S.fromNode(P,E);return C(et),W(et,0),I(et,P,E),_(P,E),P}},59286:function(bt,S,d){var w=d(27249);bt.exports=function(_,I){for(var O=w(_.data,I,!0),P=w(_.data,I,!0),A=_.children.length,E=Math.round(A/2),C=I.getSide||function(x,g){return g<E?"right":"left"},p=0;p<A;p++){var b=_.children[p],y=C(b,p);y==="right"?P.children.push(b):O.children.push(b)}return O.eachNode(function(x){x.isRoot()||(x.side="left")}),P.eachNode(function(x){x.isRoot()||(x.side="right")}),{left:O,right:P}}},1355:function(bt,S,d){function w(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var _=d(4905),I=d(24461),O=d(30130),P=d(22965),A=function(p){w(b,p);function b(){return p.apply(this,arguments)||this}var y=b.prototype;return y.execute=function(){var g=this;return O(g.rootNode,g.options,I)},b}(_),E={};function C(p,b){return b=P.assign({},E,b),new A(p,b).execute()}bt.exports=C},22965:function(bt,S,d){var w=d(49242),_=w.mix;bt.exports={assign:_}},31506:function(bt,S,d){"use strict";d.r(S),d.d(S,{leftTranslate:function(){return I},leftRotate:function(){return O},leftScale:function(){return P},transform:function(){return E},direction:function(){return C},angleTo:function(){return p},vertical:function(){return b}});var w=d(35600),_=d(31437);function I(y,x,g){var M=[0,0,0,0,0,0,0,0,0];return w.fromTranslation(M,g),w.multiply(y,M,x)}function O(y,x,g){var M=[0,0,0,0,0,0,0,0,0];return w.fromRotation(M,g),w.multiply(y,M,x)}function P(y,x,g){var M=[0,0,0,0,0,0,0,0,0];return w.fromScaling(M,g),w.multiply(y,M,x)}function A(y,x,g){return w.multiply(y,g,x)}function E(y,x){for(var g=y?[].concat(y):[1,0,0,0,1,0,0,0,1],M=0,L=x.length;M<L;M++){var k=x[M];switch(k[0]){case"t":I(g,g,[k[1],k[2]]);break;case"s":P(g,g,[k[1],k[2]]);break;case"r":O(g,g,k[1]);break;case"m":A(g,g,k[1]);break;default:break}}return g}function C(y,x){return y[0]*x[1]-x[0]*y[1]}function p(y,x,g){var M=_.angle(y,x),L=C(y,x)>=0;return g?L?Math.PI*2-M:M:L?M:Math.PI*2-M}function b(y,x,g){return g?(y[0]=x[1],y[1]=-1*x[0]):(y[0]=-1*x[1],y[1]=x[0]),y}},43567:function(bt,S,d){"use strict";d.r(S),d.d(S,{mat3:function(){return w},vec2:function(){return _},vec3:function(){return I},ext:function(){return O}});var w=d(35600),_=d(31437),I=d(77160),O=d(31506)},57350:function(bt,S,d){"use strict";d.r(S),d.d(S,{catmullRom2Bezier:function(){return p},fillPath:function(){return g},fillPathByDiff:function(){return k},formatPath:function(){return $},getArcParams:function(){return ye},getLineIntersect:function(){return er},isPointInPolygon:function(){return Or},isPolygonsIntersect:function(){return xi},parsePath:function(){return P},parsePathArray:function(){return Pt},parsePathString:function(){return dt},path2Absolute:function(){return D},path2Curve:function(){return pt},path2Segments:function(){return Fe},pathIntersection:function(){return rt},reactPath:function(){return z}});var w=d(49242),_=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function O(Ht){var Zt=Ht||[];if((0,w.isArray)(Zt))return Zt;if((0,w.isString)(Zt))return Zt=Zt.match(_),(0,w.each)(Zt,function(ne,ae){if(ne=ne.match(I),ne[0].length>1){var ge=ne[0].charAt(0);ne.splice(1,0,ne[0].substr(1)),ne[0]=ge}(0,w.each)(ne,function(xe,be){isNaN(xe)||(ne[be]=+xe)}),Zt[ae]=ne}),Zt}var P=O,A=d(31437);function E(Ht,Zt,ne,ae){var ge=[],xe=!!ae,be,Te,ve,We,Be,$e,rr;if(xe){ve=ae[0],We=ae[1];for(var Je=0,or=Ht.length;Je<or;Je+=1){var ir=Ht[Je];ve=A.min([0,0],ve,ir),We=A.max([0,0],We,ir)}}for(var Je=0,cr=Ht.length;Je<cr;Je+=1){var ir=Ht[Je];if(Je===0&&!ne)rr=ir;else if(Je===cr-1&&!ne)$e=ir,ge.push(rr),ge.push($e);else{var Qe=[Je?Je-1:cr-1,Je-1][ne?0:1];be=Ht[Qe],Te=Ht[ne?(Je+1)%cr:Je+1];var gr=[0,0];gr=A.sub(gr,Te,be),gr=A.scale(gr,gr,Zt);var Ir=A.distance(ir,be),Er=A.distance(ir,Te),Lr=Ir+Er;Lr!==0&&(Ir/=Lr,Er/=Lr);var Yr=A.scale([0,0],gr,-Ir),Dr=A.scale([0,0],gr,Er);$e=A.add([0,0],ir,Yr),Be=A.add([0,0],ir,Dr),Be=A.min([0,0],Be,A.max([0,0],Te,ir)),Be=A.max([0,0],Be,A.min([0,0],Te,ir)),Yr=A.sub([0,0],Be,ir),Yr=A.scale([0,0],Yr,-Ir/Er),$e=A.add([0,0],ir,Yr),$e=A.min([0,0],$e,A.max([0,0],be,ir)),$e=A.max([0,0],$e,A.min([0,0],be,ir)),Dr=A.sub([0,0],ir,$e),Dr=A.scale([0,0],Dr,Er/Ir),Be=A.add([0,0],ir,Dr),xe&&($e=A.max([0,0],$e,ve),$e=A.min([0,0],$e,We),Be=A.max([0,0],Be,ve),Be=A.min([0,0],Be,We)),ge.push(rr),ge.push($e),rr=Be}}return ne&&ge.push(ge.shift()),ge}function C(Ht,Zt,ne){Zt===void 0&&(Zt=!1),ne===void 0&&(ne=[[0,0],[1,1]]);for(var ae=!!Zt,ge=[],xe=0,be=Ht.length;xe<be;xe+=2)ge.push([Ht[xe],Ht[xe+1]]);for(var Te=E(ge,.4,ae,ne),ve=ge.length,We=[],Be,$e,rr,xe=0;xe<ve-1;xe+=1)Be=Te[xe*2],$e=Te[xe*2+1],rr=ge[xe+1],We.push(["C",Be[0],Be[1],$e[0],$e[1],rr[0],rr[1]]);return ae&&(Be=Te[ve],$e=Te[ve+1],rr=ge[0],We.push(["C",Be[0],Be[1],$e[0],$e[1],rr[0],rr[1]])),We}var p=C;function b(Ht,Zt){var ne=[],ae=[];function ge(xe,be){if(xe.length===1)ne.push(xe[0]),ae.push(xe[0]);else{for(var Te=[],ve=0;ve<xe.length-1;ve++)ve===0&&ne.push(xe[0]),ve===xe.length-2&&ae.push(xe[ve+1]),Te[ve]=[(1-be)*xe[ve][0]+be*xe[ve+1][0],(1-be)*xe[ve][1]+be*xe[ve+1][1]];ge(Te,be)}}return Ht.length&&ge(Ht,Zt),{left:ne,right:ae.reverse()}}function y(Ht,Zt,ne){var ae=[[Ht[1],Ht[2]]];ne=ne||2;var ge=[];Zt[0]==="A"?(ae.push(Zt[6]),ae.push(Zt[7])):Zt[0]==="C"?(ae.push([Zt[1],Zt[2]]),ae.push([Zt[3],Zt[4]]),ae.push([Zt[5],Zt[6]])):Zt[0]==="S"||Zt[0]==="Q"?(ae.push([Zt[1],Zt[2]]),ae.push([Zt[3],Zt[4]])):ae.push([Zt[1],Zt[2]]);for(var xe=ae,be=1/ne,Te=0;Te<ne-1;Te++){var ve=be/(1-be*Te),We=b(xe,ve);ge.push(We.left),xe=We.right}ge.push(xe);var Be=ge.map(function($e){var rr=[];return $e.length===4&&(rr.push("C"),rr=rr.concat($e[2])),$e.length>=3&&($e.length===3&&rr.push("Q"),rr=rr.concat($e[1])),$e.length===2&&rr.push("L"),rr=rr.concat($e[$e.length-1]),rr});return Be}function x(Ht,Zt,ne){if(ne===1)return[[].concat(Ht)];var ae=[];if(Zt[0]==="L"||Zt[0]==="C"||Zt[0]==="Q")ae=ae.concat(y(Ht,Zt,ne));else{var ge=[].concat(Ht);ge[0]==="M"&&(ge[0]="L");for(var xe=0;xe<=ne-1;xe++)ae.push(ge)}return ae}function g(Ht,Zt){if(Ht.length===1)return Ht;var ne=Ht.length-1,ae=Zt.length-1,ge=ne/ae,xe=[];if(Ht.length===1&&Ht[0][0]==="M"){for(var be=0;be<ae-ne;be++)Ht.push(Ht[0]);return Ht}for(var be=0;be<ae;be++){var Te=Math.floor(ge*be);xe[Te]=(xe[Te]||0)+1}var ve=xe.reduce(function(We,Be,$e){return $e===ne?We.concat(Ht[ne]):We.concat(x(Ht[$e],Ht[$e+1],Be))},[]);return ve.unshift(Ht[0]),(Zt[ae]==="Z"||Zt[ae]==="z")&&ve.push("Z"),ve}function M(Ht,Zt,ne){var ae=null,ge=ne;return Zt<ge&&(ge=Zt,ae="add"),Ht<ge&&(ge=Ht,ae="del"),{type:ae,min:ge}}var L=function(Ht,Zt){var ne=Ht.length,ae=Zt.length,ge,xe,be=0;if(ne===0||ae===0)return null;for(var Te=[],ve=0;ve<=ne;ve++)Te[ve]=[],Te[ve][0]={min:ve};for(var We=0;We<=ae;We++)Te[0][We]={min:We};for(var ve=1;ve<=ne;ve++){ge=Ht[ve-1];for(var We=1;We<=ae;We++){xe=Zt[We-1],(0,w.isEqual)(ge,xe)?be=0:be=1;var Be=Te[ve-1][We].min+1,$e=Te[ve][We-1].min+1,rr=Te[ve-1][We-1].min+be;Te[ve][We]=M(Be,$e,rr)}}return Te};function k(Ht,Zt){var ne=L(Ht,Zt),ae=Ht.length,ge=Zt.length,xe=[],be=1,Te=1;if(ne[ae][ge]!==ae){for(var ve=1;ve<=ae;ve++){var We=ne[ve][ve].min;Te=ve;for(var Be=be;Be<=ge;Be++)ne[ve][Be].min<We&&(We=ne[ve][Be].min,Te=Be);be=Te,ne[ve][be].type&&xe.push({index:ve-1,type:ne[ve][be].type})}for(var ve=xe.length-1;ve>=0;ve--)be=xe[ve].index,xe[ve].type==="add"?Ht.splice(be,0,[].concat(Ht[be])):Ht.splice(be,1)}if(ae=Ht.length,ae<ge)for(var ve=0;ve<ge-ae;ve++)Ht[ae-1][0]==="z"||Ht[ae-1][0]==="Z"?Ht.splice(ae-2,0,Ht[ae-2]):Ht.push(Ht[ae-1]);return Ht}function F(Ht){var Zt=[];switch(Ht[0]){case"M":Zt.push([Ht[1],Ht[2]]);break;case"L":Zt.push([Ht[1],Ht[2]]);break;case"A":Zt.push([Ht[6],Ht[7]]);break;case"Q":Zt.push([Ht[3],Ht[4]]),Zt.push([Ht[1],Ht[2]]);break;case"T":Zt.push([Ht[1],Ht[2]]);break;case"C":Zt.push([Ht[5],Ht[6]]),Zt.push([Ht[1],Ht[2]]),Zt.push([Ht[3],Ht[4]]);break;case"S":Zt.push([Ht[3],Ht[4]]),Zt.push([Ht[1],Ht[2]]);break;case"H":Zt.push([Ht[1],Ht[1]]);break;case"V":Zt.push([Ht[1],Ht[1]]);break;default:}return Zt}function W(Ht,Zt,ne){for(var ae=[].concat(Ht),ge,xe=1/(ne+1),be=F(Zt)[0],Te=1;Te<=ne;Te++)xe*=Te,ge=Math.floor(Ht.length*xe),ge===0?ae.unshift([be[0]*xe+Ht[ge][0]*(1-xe),be[1]*xe+Ht[ge][1]*(1-xe)]):ae.splice(ge,0,[be[0]*xe+Ht[ge][0]*(1-xe),be[1]*xe+Ht[ge][1]*(1-xe)]);return ae}function $(Ht,Zt){if(Ht.length<=1)return Ht;for(var ne,ae=0;ae<Zt.length;ae++)if(Ht[ae][0]!==Zt[ae][0])switch(ne=F(Ht[ae]),Zt[ae][0]){case"M":Ht[ae]=["M"].concat(ne[0]);break;case"L":Ht[ae]=["L"].concat(ne[0]);break;case"A":Ht[ae]=[].concat(Zt[ae]),Ht[ae][6]=ne[0][0],Ht[ae][7]=ne[0][1];break;case"Q":if(ne.length<2)if(ae>0)ne=W(ne,Ht[ae-1],1);else{Ht[ae]=Zt[ae];break}Ht[ae]=["Q"].concat(ne.reduce(function(ge,xe){return ge.concat(xe)},[]));break;case"T":Ht[ae]=["T"].concat(ne[0]);break;case"C":if(ne.length<3)if(ae>0)ne=W(ne,Ht[ae-1],2);else{Ht[ae]=Zt[ae];break}Ht[ae]=["C"].concat(ne.reduce(function(ge,xe){return ge.concat(xe)},[]));break;case"S":if(ne.length<2)if(ae>0)ne=W(ne,Ht[ae-1],1);else{Ht[ae]=Zt[ae];break}Ht[ae]=["S"].concat(ne.reduce(function(ge,xe){return ge.concat(xe)},[]));break;default:Ht[ae]=Zt[ae]}return Ht}function z(Ht,Zt,ne,ae,ge){return ge?[["M",+Ht+ +ge,Zt],["l",ne-ge*2,0],["a",ge,ge,0,0,1,ge,ge],["l",0,ae-ge*2],["a",ge,ge,0,0,1,-ge,ge],["l",ge*2-ne,0],["a",ge,ge,0,0,1,-ge,-ge],["l",0,ge*2-ae],["a",ge,ge,0,0,1,ge,-ge],["z"]]:[["M",Ht,Zt],["l",ne,0],["l",0,ae],["l",-ne,0],["z"]]}var U=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,et=new RegExp("([a-z])["+U+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+U+"]*,?["+U+"]*)+)","ig"),q=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+U+"]*,?["+U+"]*","ig");function dt(Ht){if(!Ht)return null;if((0,w.isArray)(Ht))return Ht;var Zt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ne=[];return String(Ht).replace(et,function(ae,ge,xe){var be=[],Te=ge.toLowerCase();if(xe.replace(q,function(ve,We){We&&be.push(+We)}),Te==="m"&&be.length>2&&(ne.push([ge].concat(be.splice(0,2))),Te="l",ge=ge==="m"?"l":"L"),Te==="o"&&be.length===1&&ne.push([ge,be[0]]),Te==="r")ne.push([ge].concat(be));else for(;be.length>=Zt[Te]&&(ne.push([ge].concat(be.splice(0,Zt[Te]))),!!Zt[Te]););return""}),ne}var ct=/[a-z]/;function Mt(Ht,Zt){return[Zt[0]+(Zt[0]-Ht[0]),Zt[1]+(Zt[1]-Ht[1])]}function D(Ht){var Zt=dt(Ht);if(!Zt||!Zt.length)return[["M",0,0]];for(var ne=!1,ae=0;ae<Zt.length;ae++){var ge=Zt[ae][0];if(ct.test(ge)||["V","H","T","S"].indexOf(ge)>=0){ne=!0;break}}if(!ne)return Zt;var xe=[],be=0,Te=0,ve=0,We=0,Be=0,$e,rr,Je=Zt[0];(Je[0]==="M"||Je[0]==="m")&&(be=+Je[1],Te=+Je[2],ve=be,We=Te,Be++,xe[0]=["M",be,Te]);for(var ae=Be,or=Zt.length;ae<or;ae++){var ir=Zt[ae],cr=xe[ae-1],Qe=[],ge=ir[0],gr=ge.toUpperCase();if(ge!==gr)switch(Qe[0]=gr,gr){case"A":Qe[1]=ir[1],Qe[2]=ir[2],Qe[3]=ir[3],Qe[4]=ir[4],Qe[5]=ir[5],Qe[6]=+ir[6]+be,Qe[7]=+ir[7]+Te;break;case"V":Qe[1]=+ir[1]+Te;break;case"H":Qe[1]=+ir[1]+be;break;case"M":ve=+ir[1]+be,We=+ir[2]+Te,Qe[1]=ve,Qe[2]=We;break;default:for(var Ir=1,Er=ir.length;Ir<Er;Ir++)Qe[Ir]=+ir[Ir]+(Ir%2?be:Te)}else Qe=Zt[ae];switch(gr){case"Z":be=+ve,Te=+We;break;case"H":be=Qe[1],Qe=["L",be,Te];break;case"V":Te=Qe[1],Qe=["L",be,Te];break;case"T":be=Qe[1],Te=Qe[2];var Lr=Mt([cr[1],cr[2]],[cr[3],cr[4]]);Qe=["Q",Lr[0],Lr[1],be,Te];break;case"S":be=Qe[Qe.length-2],Te=Qe[Qe.length-1];var Yr=cr.length,Dr=Mt([cr[Yr-4],cr[Yr-3]],[cr[Yr-2],cr[Yr-1]]);Qe=["C",Dr[0],Dr[1],Qe[1],Qe[2],be,Te];break;case"M":ve=Qe[Qe.length-2],We=Qe[Qe.length-1];break;default:be=Qe[Qe.length-2],Te=Qe[Qe.length-1]}xe.push(Qe)}return xe}var G=Math.PI*2,X=function(Ht,Zt,ne,ae,ge,xe,be){var Te=Ht.x,ve=Ht.y;Te*=Zt,ve*=ne;var We=ae*Te-ge*ve,Be=ge*Te+ae*ve;return{x:We+xe,y:Be+be}},N=function(Ht,Zt){var ne=Zt===1.5707963267948966?.551915024494:Zt===-1.5707963267948966?-.551915024494:4/3*Math.tan(Zt/4),ae=Math.cos(Ht),ge=Math.sin(Ht),xe=Math.cos(Ht+Zt),be=Math.sin(Ht+Zt);return[{x:ae-ge*ne,y:ge+ae*ne},{x:xe+be*ne,y:be-xe*ne},{x:xe,y:be}]},tt=function(Ht,Zt,ne,ae){var ge=Ht*ae-Zt*ne<0?-1:1,xe=Ht*ne+Zt*ae;return xe>1&&(xe=1),xe<-1&&(xe=-1),ge*Math.acos(xe)},Q=function(Ht,Zt,ne,ae,ge,xe,be,Te,ve,We,Be,$e){var rr=Math.pow(ge,2),Je=Math.pow(xe,2),or=Math.pow(Be,2),ir=Math.pow($e,2),cr=rr*Je-rr*ir-Je*or;cr<0&&(cr=0),cr/=rr*ir+Je*or,cr=Math.sqrt(cr)*(be===Te?-1:1);var Qe=cr*ge/xe*$e,gr=cr*-xe/ge*Be,Ir=We*Qe-ve*gr+(Ht+ne)/2,Er=ve*Qe+We*gr+(Zt+ae)/2,Lr=(Be-Qe)/ge,Yr=($e-gr)/xe,Dr=(-Be-Qe)/ge,Cn=(-$e-gr)/xe,Qr=tt(1,0,Lr,Yr),Rn=tt(Lr,Yr,Dr,Cn);return Te===0&&Rn>0&&(Rn-=G),Te===1&&Rn<0&&(Rn+=G),[Ir,Er,Qr,Rn]},K=function(Ht){var Zt=Ht.px,ne=Ht.py,ae=Ht.cx,ge=Ht.cy,xe=Ht.rx,be=Ht.ry,Te=Ht.xAxisRotation,ve=Te===void 0?0:Te,We=Ht.largeArcFlag,Be=We===void 0?0:We,$e=Ht.sweepFlag,rr=$e===void 0?0:$e,Je=[];if(xe===0||be===0)return[{x1:0,y1:0,x2:0,y2:0,x:ae,y:ge}];var or=Math.sin(ve*G/360),ir=Math.cos(ve*G/360),cr=ir*(Zt-ae)/2+or*(ne-ge)/2,Qe=-or*(Zt-ae)/2+ir*(ne-ge)/2;if(cr===0&&Qe===0)return[{x1:0,y1:0,x2:0,y2:0,x:ae,y:ge}];xe=Math.abs(xe),be=Math.abs(be);var gr=Math.pow(cr,2)/Math.pow(xe,2)+Math.pow(Qe,2)/Math.pow(be,2);gr>1&&(xe*=Math.sqrt(gr),be*=Math.sqrt(gr));var Ir=Q(Zt,ne,ae,ge,xe,be,Be,rr,or,ir,cr,Qe),Er=Ir[0],Lr=Ir[1],Yr=Ir[2],Dr=Ir[3],Cn=Math.abs(Dr)/(G/4);Math.abs(1-Cn)<1e-7&&(Cn=1);var Qr=Math.max(Math.ceil(Cn),1);Dr/=Qr;for(var Rn=0;Rn<Qr;Rn++)Je.push(N(Yr,Dr)),Yr+=Dr;return Je.map(function(si){var Kn=X(si[0],xe,be,ir,or,Er,Lr),Ri=Kn.x,bi=Kn.y,Cr=X(si[1],xe,be,ir,or,Er,Lr),ri=Cr.x,li=Cr.y,ui=X(si[2],xe,be,ir,or,Er,Lr),pn=ui.x,fi=ui.y;return{x1:Ri,y1:bi,x2:ri,y2:li,x:pn,y:fi}})};function V(Ht,Zt,ne,ae,ge,xe,be,Te,ve){var We=K({px:Ht,py:Zt,cx:Te,cy:ve,rx:ne,ry:ae,xAxisRotation:ge,largeArcFlag:xe,sweepFlag:be});return We.reduce(function(Be,$e){var rr=$e.x1,Je=$e.y1,or=$e.x2,ir=$e.y2,cr=$e.x,Qe=$e.y;return Be.push(rr,Je,or,ir,cr,Qe),Be},[])}function H(Ht,Zt,ne,ae,ge,xe){var be=1/3,Te=2/3;return[be*Ht+Te*ne,be*Zt+Te*ae,be*ge+Te*ne,be*xe+Te*ae,ge,xe]}function u(Ht,Zt,ne,ae){return[Ht,Zt,ne,ae,ne,ae]}function ot(Ht,Zt){"TQ".indexOf(Ht[0])<0&&(Zt.qx=null,Zt.qy=null);var ne=Ht.slice(1),ae=ne[0],ge=ne[1];switch(Ht[0]){case"M":return Zt.x=ae,Zt.y=ge,Ht;case"A":return["C"].concat(V.apply(0,[Zt.x1,Zt.y1].concat(Ht.slice(1))));case"Q":return Zt.qx=ae,Zt.qy=ge,["C"].concat(H.apply(0,[Zt.x1,Zt.y1].concat(Ht.slice(1))));case"L":return["C"].concat(u(Zt.x1,Zt.y1,Ht[1],Ht[2]));case"H":return["C"].concat(u(Zt.x1,Zt.y1,Ht[1],Zt.y1));case"V":return["C"].concat(u(Zt.x1,Zt.y1,Zt.x1,Ht[1]));case"Z":return["C"].concat(u(Zt.x1,Zt.y1,Zt.x,Zt.y));default:}return Ht}function pt(Ht,Zt){Zt===void 0&&(Zt=!1);for(var ne=D(Ht),ae={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},ge=[],xe="",be=ne.length,Te,ve,We=[],Be=0;Be<be;Be+=1)ne[Be]&&(xe=ne[Be][0]),ge[Be]=xe,ne[Be]=ot(ne[Be],ae),it(ne,ge,Be),be=ne.length,xe==="Z"&&We.push(Be),Te=ne[Be],ve=Te.length,ae.x1=+Te[ve-2],ae.y1=+Te[ve-1],ae.x2=+Te[ve-4]||ae.x1,ae.y2=+Te[ve-3]||ae.y1;return Zt?[ne,We]:ne}function it(Ht,Zt,ne){if(Ht[ne].length>7){Ht[ne].shift();for(var ae=Ht[ne],ge=ne;ae.length;)Zt[ne]="A",Ht.splice(ge+=1,0,["C"].concat(ae.splice(0,6)));Ht.splice(ne,1)}}var xt=function(Ht,Zt,ne,ae,ge){var xe=-3*Zt+9*ne-9*ae+3*ge,be=Ht*xe+6*Zt-12*ne+6*ae;return Ht*be-3*Zt+3*ne},gt=function(Ht,Zt,ne,ae,ge,xe,be,Te,ve){ve===null&&(ve=1),ve=ve>1?1:ve<0?0:ve;for(var We=ve/2,Be=12,$e=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],rr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Je=0,or=0;or<Be;or++){var ir=We*$e[or]+We,cr=xt(ir,Ht,ne,ge,be),Qe=xt(ir,Zt,ae,xe,Te),gr=cr*cr+Qe*Qe;Je+=rr[or]*Math.sqrt(gr)}return We*Je},wt=function(Ht,Zt,ne,ae,ge,xe,be,Te){for(var ve=[],We=[[],[]],Be,$e,rr,Je,or=0;or<2;++or){if(or===0?($e=6*Ht-12*ne+6*ge,Be=-3*Ht+9*ne-9*ge+3*be,rr=3*ne-3*Ht):($e=6*Zt-12*ae+6*xe,Be=-3*Zt+9*ae-9*xe+3*Te,rr=3*ae-3*Zt),Math.abs(Be)<1e-12){if(Math.abs($e)<1e-12)continue;Je=-rr/$e,Je>0&&Je<1&&ve.push(Je);continue}var ir=$e*$e-4*rr*Be,cr=Math.sqrt(ir);if(!(ir<0)){var Qe=(-$e+cr)/(2*Be);Qe>0&&Qe<1&&ve.push(Qe);var gr=(-$e-cr)/(2*Be);gr>0&&gr<1&&ve.push(gr)}}for(var Ir=ve.length,Er=Ir,Lr;Ir--;)Je=ve[Ir],Lr=1-Je,We[0][Ir]=Lr*Lr*Lr*Ht+3*Lr*Lr*Je*ne+3*Lr*Je*Je*ge+Je*Je*Je*be,We[1][Ir]=Lr*Lr*Lr*Zt+3*Lr*Lr*Je*ae+3*Lr*Je*Je*xe+Je*Je*Je*Te;return We[0][Er]=Ht,We[1][Er]=Zt,We[0][Er+1]=be,We[1][Er+1]=Te,We[0].length=We[1].length=Er+2,{min:{x:Math.min.apply(0,We[0]),y:Math.min.apply(0,We[1])},max:{x:Math.max.apply(0,We[0]),y:Math.max.apply(0,We[1])}}},Dt=function(Ht,Zt,ne,ae,ge,xe,be,Te){if(!(Math.max(Ht,ne)<Math.min(ge,be)||Math.min(Ht,ne)>Math.max(ge,be)||Math.max(Zt,ae)<Math.min(xe,Te)||Math.min(Zt,ae)>Math.max(xe,Te))){var ve=(Ht*ae-Zt*ne)*(ge-be)-(Ht-ne)*(ge*Te-xe*be),We=(Ht*ae-Zt*ne)*(xe-Te)-(Zt-ae)*(ge*Te-xe*be),Be=(Ht-ne)*(xe-Te)-(Zt-ae)*(ge-be);if(!!Be){var $e=ve/Be,rr=We/Be,Je=+$e.toFixed(2),or=+rr.toFixed(2);if(!(Je<+Math.min(Ht,ne).toFixed(2)||Je>+Math.max(Ht,ne).toFixed(2)||Je<+Math.min(ge,be).toFixed(2)||Je>+Math.max(ge,be).toFixed(2)||or<+Math.min(Zt,ae).toFixed(2)||or>+Math.max(Zt,ae).toFixed(2)||or<+Math.min(xe,Te).toFixed(2)||or>+Math.max(xe,Te).toFixed(2)))return{x:$e,y:rr}}}},Nt=function(Ht,Zt,ne){return Zt>=Ht.x&&Zt<=Ht.x+Ht.width&&ne>=Ht.y&&ne<=Ht.y+Ht.height},Ot=function(Ht,Zt,ne,ae){return Ht===null&&(Ht=Zt=ne=ae=0),Zt===null&&(Zt=Ht.y,ne=Ht.width,ae=Ht.height,Ht=Ht.x),{x:Ht,y:Zt,width:ne,w:ne,height:ae,h:ae,x2:Ht+ne,y2:Zt+ae,cx:Ht+ne/2,cy:Zt+ae/2,r1:Math.min(ne,ae)/2,r2:Math.max(ne,ae)/2,r0:Math.sqrt(ne*ne+ae*ae)/2,path:z(Ht,Zt,ne,ae),vb:[Ht,Zt,ne,ae].join(" ")}},Tt=function(Ht,Zt){return Ht=Ot(Ht),Zt=Ot(Zt),Nt(Zt,Ht.x,Ht.y)||Nt(Zt,Ht.x2,Ht.y)||Nt(Zt,Ht.x,Ht.y2)||Nt(Zt,Ht.x2,Ht.y2)||Nt(Ht,Zt.x,Zt.y)||Nt(Ht,Zt.x2,Zt.y)||Nt(Ht,Zt.x,Zt.y2)||Nt(Ht,Zt.x2,Zt.y2)||(Ht.x<Zt.x2&&Ht.x>Zt.x||Zt.x<Ht.x2&&Zt.x>Ht.x)&&(Ht.y<Zt.y2&&Ht.y>Zt.y||Zt.y<Ht.y2&&Zt.y>Ht.y)},at=function(Ht,Zt,ne,ae,ge,xe,be,Te){(0,w.isArray)(Ht)||(Ht=[Ht,Zt,ne,ae,ge,xe,be,Te]);var ve=wt.apply(null,Ht);return Ot(ve.min.x,ve.min.y,ve.max.x-ve.min.x,ve.max.y-ve.min.y)},st=function(Ht,Zt,ne,ae,ge,xe,be,Te,ve){var We=1-ve,Be=Math.pow(We,3),$e=Math.pow(We,2),rr=ve*ve,Je=rr*ve,or=Be*Ht+$e*3*ve*ne+We*3*ve*ve*ge+Je*be,ir=Be*Zt+$e*3*ve*ae+We*3*ve*ve*xe+Je*Te,cr=Ht+2*ve*(ne-Ht)+rr*(ge-2*ne+Ht),Qe=Zt+2*ve*(ae-Zt)+rr*(xe-2*ae+Zt),gr=ne+2*ve*(ge-ne)+rr*(be-2*ge+ne),Ir=ae+2*ve*(xe-ae)+rr*(Te-2*xe+ae),Er=We*Ht+ve*ne,Lr=We*Zt+ve*ae,Yr=We*ge+ve*be,Dr=We*xe+ve*Te,Cn=90-Math.atan2(cr-gr,Qe-Ir)*180/Math.PI;return{x:or,y:ir,m:{x:cr,y:Qe},n:{x:gr,y:Ir},start:{x:Er,y:Lr},end:{x:Yr,y:Dr},alpha:Cn}},Ct=function(Ht,Zt,ne){var ae=at(Ht),ge=at(Zt);if(!Tt(ae,ge))return ne?0:[];for(var xe=gt.apply(0,Ht),be=gt.apply(0,Zt),Te=~~(xe/8),ve=~~(be/8),We=[],Be=[],$e={},rr=ne?0:[],Je=0;Je<Te+1;Je++){var or=st.apply(0,Ht.concat(Je/Te));We.push({x:or.x,y:or.y,t:Je/Te})}for(var Je=0;Je<ve+1;Je++){var or=st.apply(0,Zt.concat(Je/ve));Be.push({x:or.x,y:or.y,t:Je/ve})}for(var Je=0;Je<Te;Je++)for(var ir=0;ir<ve;ir++){var cr=We[Je],Qe=We[Je+1],gr=Be[ir],Ir=Be[ir+1],Er=Math.abs(Qe.x-cr.x)<.001?"y":"x",Lr=Math.abs(Ir.x-gr.x)<.001?"y":"x",Yr=Dt(cr.x,cr.y,Qe.x,Qe.y,gr.x,gr.y,Ir.x,Ir.y);if(Yr){if($e[Yr.x.toFixed(4)]===Yr.y.toFixed(4))continue;$e[Yr.x.toFixed(4)]=Yr.y.toFixed(4);var Dr=cr.t+Math.abs((Yr[Er]-cr[Er])/(Qe[Er]-cr[Er]))*(Qe.t-cr.t),Cn=gr.t+Math.abs((Yr[Lr]-gr[Lr])/(Ir[Lr]-gr[Lr]))*(Ir.t-gr.t);Dr>=0&&Dr<=1&&Cn>=0&&Cn<=1&&(ne?rr++:rr.push({x:Yr.x,y:Yr.y,t1:Dr,t2:Cn}))}}return rr},nt=function(Ht,Zt,ne){Ht=pt(Ht),Zt=pt(Zt);for(var ae,ge,xe,be,Te,ve,We,Be,$e,rr,Je=ne?0:[],or=0,ir=Ht.length;or<ir;or++){var cr=Ht[or];if(cr[0]==="M")ae=Te=cr[1],ge=ve=cr[2];else{cr[0]==="C"?($e=[ae,ge].concat(cr.slice(1)),ae=$e[6],ge=$e[7]):($e=[ae,ge,ae,ge,Te,ve,Te,ve],ae=Te,ge=ve);for(var Qe=0,gr=Zt.length;Qe<gr;Qe++){var Ir=Zt[Qe];if(Ir[0]==="M")xe=We=Ir[1],be=Be=Ir[2];else{Ir[0]==="C"?(rr=[xe,be].concat(Ir.slice(1)),xe=rr[6],be=rr[7]):(rr=[xe,be,xe,be,We,Be,We,Be],xe=We,be=Be);var Er=Ct($e,rr,ne);if(ne)Je+=Er;else{for(var Lr=0,Yr=Er.length;Lr<Yr;Lr++)Er[Lr].segment1=or,Er[Lr].segment2=Qe,Er[Lr].bez1=$e,Er[Lr].bez2=rr;Je=Je.concat(Er)}}}}}return Je};function rt(Ht,Zt){return nt(Ht,Zt)}var mt=/,?([a-z]),?/gi;function Pt(Ht){return Ht.join(",").replace(mt,"$1")}function Yt(Ht){return Math.sqrt(Ht[0]*Ht[0]+Ht[1]*Ht[1])}function Jt(Ht,Zt){return Yt(Ht)*Yt(Zt)?(Ht[0]*Zt[0]+Ht[1]*Zt[1])/(Yt(Ht)*Yt(Zt)):1}function de(Ht,Zt){return(Ht[0]*Zt[1]<Ht[1]*Zt[0]?-1:1)*Math.acos(Jt(Ht,Zt))}function Ce(Ht,Zt){return Ht[0]===Zt[0]&&Ht[1]===Zt[1]}function ye(Ht,Zt){var ne=Zt[1],ae=Zt[2],ge=(0,w.mod)((0,w.toRadian)(Zt[3]),Math.PI*2),xe=Zt[4],be=Zt[5],Te=Ht[0],ve=Ht[1],We=Zt[6],Be=Zt[7],$e=Math.cos(ge)*(Te-We)/2+Math.sin(ge)*(ve-Be)/2,rr=-1*Math.sin(ge)*(Te-We)/2+Math.cos(ge)*(ve-Be)/2,Je=$e*$e/(ne*ne)+rr*rr/(ae*ae);Je>1&&(ne*=Math.sqrt(Je),ae*=Math.sqrt(Je));var or=ne*ne*(rr*rr)+ae*ae*($e*$e),ir=or?Math.sqrt((ne*ne*(ae*ae)-or)/or):1;xe===be&&(ir*=-1),isNaN(ir)&&(ir=0);var cr=ae?ir*ne*rr/ae:0,Qe=ne?ir*-ae*$e/ne:0,gr=(Te+We)/2+Math.cos(ge)*cr-Math.sin(ge)*Qe,Ir=(ve+Be)/2+Math.sin(ge)*cr+Math.cos(ge)*Qe,Er=[($e-cr)/ne,(rr-Qe)/ae],Lr=[(-1*$e-cr)/ne,(-1*rr-Qe)/ae],Yr=de([1,0],Er),Dr=de(Er,Lr);return Jt(Er,Lr)<=-1&&(Dr=Math.PI),Jt(Er,Lr)>=1&&(Dr=0),be===0&&Dr>0&&(Dr=Dr-2*Math.PI),be===1&&Dr<0&&(Dr=Dr+2*Math.PI),{cx:gr,cy:Ir,rx:Ce(Ht,[We,Be])?0:ne,ry:Ce(Ht,[We,Be])?0:ae,startAngle:Yr,endAngle:Yr+Dr,xRotation:ge,arcFlag:xe,sweepFlag:be}}function Se(Ht,Zt){return[Zt[0]+(Zt[0]-Ht[0]),Zt[1]+(Zt[1]-Ht[1])]}function Fe(Ht){Ht=P(Ht);for(var Zt=[],ne=null,ae=null,ge=null,xe=0,be=Ht.length,Te=0;Te<be;Te++){var ve=Ht[Te];ae=Ht[Te+1];var We=ve[0],Be={command:We,prePoint:ne,params:ve,startTangent:null,endTangent:null};switch(We){case"M":ge=[ve[1],ve[2]],xe=Te;break;case"A":var $e=ye(ne,ve);Be.arcParams=$e;break;default:break}if(We==="Z")ne=ge,ae=Ht[xe+1];else{var rr=ve.length;ne=[ve[rr-2],ve[rr-1]]}ae&&ae[0]==="Z"&&(ae=Ht[xe],Zt[xe]&&(Zt[xe].prePoint=ne)),Be.currentPoint=ne,Zt[xe]&&Ce(ne,Zt[xe].currentPoint)&&(Zt[xe].prePoint=Be.prePoint);var Je=ae?[ae[ae.length-2],ae[ae.length-1]]:null;Be.nextPoint=Je;var or=Be.prePoint;if(["L","H","V"].includes(We))Be.startTangent=[or[0]-ne[0],or[1]-ne[1]],Be.endTangent=[ne[0]-or[0],ne[1]-or[1]];else if(We==="Q"){var ir=[ve[1],ve[2]];Be.startTangent=[or[0]-ir[0],or[1]-ir[1]],Be.endTangent=[ne[0]-ir[0],ne[1]-ir[1]]}else if(We==="T"){var cr=Zt[Te-1],ir=Se(cr.currentPoint,or);cr.command==="Q"?(Be.command="Q",Be.startTangent=[or[0]-ir[0],or[1]-ir[1]],Be.endTangent=[ne[0]-ir[0],ne[1]-ir[1]]):(Be.command="TL",Be.startTangent=[or[0]-ne[0],or[1]-ne[1]],Be.endTangent=[ne[0]-or[0],ne[1]-or[1]])}else if(We==="C"){var Qe=[ve[1],ve[2]],gr=[ve[3],ve[4]];Be.startTangent=[or[0]-Qe[0],or[1]-Qe[1]],Be.endTangent=[ne[0]-gr[0],ne[1]-gr[1]],Be.startTangent[0]===0&&Be.startTangent[1]===0&&(Be.startTangent=[Qe[0]-gr[0],Qe[1]-gr[1]]),Be.endTangent[0]===0&&Be.endTangent[1]===0&&(Be.endTangent=[gr[0]-Qe[0],gr[1]-Qe[1]])}else if(We==="S"){var cr=Zt[Te-1],Qe=Se(cr.currentPoint,or),gr=[ve[1],ve[2]];cr.command==="C"?(Be.command="C",Be.startTangent=[or[0]-Qe[0],or[1]-Qe[1]],Be.endTangent=[ne[0]-gr[0],ne[1]-gr[1]]):(Be.command="SQ",Be.startTangent=[or[0]-gr[0],or[1]-gr[1]],Be.endTangent=[ne[0]-gr[0],ne[1]-gr[1]])}else if(We==="A"){var Ir=.001,Er=Be.arcParams||{},Lr=Er.cx,Yr=Lr===void 0?0:Lr,Dr=Er.cy,Cn=Dr===void 0?0:Dr,Qr=Er.rx,Rn=Qr===void 0?0:Qr,si=Er.ry,Kn=si===void 0?0:si,Ri=Er.sweepFlag,bi=Ri===void 0?0:Ri,Cr=Er.startAngle,ri=Cr===void 0?0:Cr,li=Er.endAngle,ui=li===void 0?0:li;bi===0&&(Ir*=-1);var pn=Rn*Math.cos(ri-Ir)+Yr,fi=Kn*Math.sin(ri-Ir)+Cn;Be.startTangent=[pn-ge[0],fi-ge[1]];var Hi=Rn*Math.cos(ri+ui+Ir)+Yr,Ni=Kn*Math.sin(ri+ui-Ir)+Cn;Be.endTangent=[or[0]-Hi,or[1]-Ni]}Zt.push(Be)}return Zt}var Ze=function(Ht,Zt,ne){return Ht>=Zt&&Ht<=ne};function er(Ht,Zt,ne,ae){var ge=.001,xe={x:ne.x-Ht.x,y:ne.y-Ht.y},be={x:Zt.x-Ht.x,y:Zt.y-Ht.y},Te={x:ae.x-ne.x,y:ae.y-ne.y},ve=be.x*Te.y-be.y*Te.x,We=ve*ve,Be=be.x*be.x+be.y*be.y,$e=Te.x*Te.x+Te.y*Te.y,rr=null;if(We>ge*Be*$e){var Je=(xe.x*Te.y-xe.y*Te.x)/ve,or=(xe.x*be.y-xe.y*be.x)/ve;Ze(Je,0,1)&&Ze(or,0,1)&&(rr={x:Ht.x+Je*be.x,y:Ht.y+Je*be.y})}return rr}var qe=1e-6;function Pr(Ht){return Math.abs(Ht)<qe?0:Ht<0?-1:1}function rn(Ht,Zt,ne){return(ne[0]-Ht[0])*(Zt[1]-Ht[1])==(Zt[0]-Ht[0])*(ne[1]-Ht[1])&&Math.min(Ht[0],Zt[0])<=ne[0]&&ne[0]<=Math.max(Ht[0],Zt[0])&&Math.min(Ht[1],Zt[1])<=ne[1]&&ne[1]<=Math.max(Ht[1],Zt[1])}function Or(Ht,Zt,ne){var ae=!1,ge=Ht.length;if(ge<=2)return!1;for(var xe=0;xe<ge;xe++){var be=Ht[xe],Te=Ht[(xe+1)%ge];if(rn(be,Te,[Zt,ne]))return!0;Pr(be[1]-ne)>0!=Pr(Te[1]-ne)>0&&Pr(Zt-(ne-be[1])*(be[0]-Te[0])/(be[1]-Te[1])-be[0])<0&&(ae=!ae)}return ae}function Wr(Ht){for(var Zt=[],ne=Ht.length,ae=0;ae<ne-1;ae++){var ge=Ht[ae],xe=Ht[ae+1];Zt.push({from:{x:ge[0],y:ge[1]},to:{x:xe[0],y:xe[1]}})}if(Zt.length>1){var be=Ht[0],Te=Ht[ne-1];Zt.push({from:{x:Te[0],y:Te[1]},to:{x:be[0],y:be[1]}})}return Zt}function Zn(Ht,Zt){var ne=!1;return(0,w.each)(Ht,function(ae){if(er(ae.from,ae.to,Zt.from,Zt.to))return ne=!0,!1}),ne}function ei(Ht){var Zt=Ht.map(function(ae){return ae[0]}),ne=Ht.map(function(ae){return ae[1]});return{minX:Math.min.apply(null,Zt),maxX:Math.max.apply(null,Zt),minY:Math.min.apply(null,ne),maxY:Math.max.apply(null,ne)}}function mi(Ht,Zt){return!(Zt.minX>Ht.maxX||Zt.maxX<Ht.minX||Zt.minY>Ht.maxY||Zt.maxY<Ht.minY)}function xi(Ht,Zt){if(Ht.length<2||Zt.length<2)return!1;var ne=ei(Ht),ae=ei(Zt);if(!mi(ne,ae))return!1;var ge=!1;if((0,w.each)(Zt,function(ve){if(Or(Ht,ve[0],ve[1]))return ge=!0,!1}),ge||((0,w.each)(Ht,function(ve){if(Or(Zt,ve[0],ve[1]))return ge=!0,!1}),ge))return!0;var xe=Wr(Ht),be=Wr(Zt),Te=!1;return(0,w.each)(be,function(ve){if(Zn(xe,ve))return Te=!0,!1}),Te}},84023:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var w=d(49242);function _(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function I(E,C){return _(E)*_(C)?(E[0]*C[0]+E[1]*C[1])/(_(E)*_(C)):1}function O(E,C){return(E[0]*C[1]<E[1]*C[0]?-1:1)*Math.acos(I(E,C))}function P(E,C){return E[0]===C[0]&&E[1]===C[1]}S.isSamePoint=P;function A(E,C){var p=C[1],b=C[2],y=(0,w.mod)((0,w.toRadian)(C[3]),Math.PI*2),x=C[4],g=C[5],M=E[0],L=E[1],k=C[6],F=C[7],W=Math.cos(y)*(M-k)/2+Math.sin(y)*(L-F)/2,$=-1*Math.sin(y)*(M-k)/2+Math.cos(y)*(L-F)/2,z=W*W/(p*p)+$*$/(b*b);z>1&&(p*=Math.sqrt(z),b*=Math.sqrt(z));var U=p*p*($*$)+b*b*(W*W),et=U?Math.sqrt((p*p*(b*b)-U)/U):1;x===g&&(et*=-1),isNaN(et)&&(et=0);var q=b?et*p*$/b:0,dt=p?et*-b*W/p:0,ct=(M+k)/2+Math.cos(y)*q-Math.sin(y)*dt,Mt=(L+F)/2+Math.sin(y)*q+Math.cos(y)*dt,D=[(W-q)/p,($-dt)/b],G=[(-1*W-q)/p,(-1*$-dt)/b],X=O([1,0],D),N=O(D,G);return I(D,G)<=-1&&(N=Math.PI),I(D,G)>=1&&(N=0),g===0&&N>0&&(N=N-2*Math.PI),g===1&&N<0&&(N=N+2*Math.PI),{cx:ct,cy:Mt,rx:P(E,[k,F])?0:p,ry:P(E,[k,F])?0:b,startAngle:X,endAngle:X+N,xRotation:y,arcFlag:x,sweepFlag:g}}S.default=A},21528:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(_,I,O){return _>=I&&_<=O};function w(_,I,O,P){var A=.001,E={x:O.x-_.x,y:O.y-_.y},C={x:I.x-_.x,y:I.y-_.y},p={x:P.x-O.x,y:P.y-O.y},b=C.x*p.y-C.y*p.x,y=b*b,x=C.x*C.x+C.y*C.y,g=p.x*p.x+p.y*p.y,M=null;if(y>A*x*g){var L=(E.x*p.y-E.y*p.x)/b,k=(E.x*C.y-E.y*C.x)/b;d(L,0,1)&&d(k,0,1)&&(M={x:_.x+L*C.x,y:_.y+L*C.y})}return M}S.default=w},70146:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66957),_=d(21528),I=d(49242);function O(p){for(var b=[],y=p.length,x=0;x<y-1;x++){var g=p[x],M=p[x+1];b.push({from:{x:g[0],y:g[1]},to:{x:M[0],y:M[1]}})}if(b.length>1){var L=p[0],k=p[y-1];b.push({from:{x:k[0],y:k[1]},to:{x:L[0],y:L[1]}})}return b}function P(p,b){var y=!1;return(0,I.each)(p,function(x){if((0,_.default)(x.from,x.to,b.from,b.to))return y=!0,!1}),y}function A(p){var b=p.map(function(x){return x[0]}),y=p.map(function(x){return x[1]});return{minX:Math.min.apply(null,b),maxX:Math.max.apply(null,b),minY:Math.min.apply(null,y),maxY:Math.max.apply(null,y)}}function E(p,b){return!(b.minX>p.maxX||b.maxX<p.minX||b.minY>p.maxY||b.maxY<p.minY)}function C(p,b){if(p.length<2||b.length<2)return!1;var y=A(p),x=A(b);if(!E(y,x))return!1;var g=!1;if((0,I.each)(b,function(F){if((0,w.default)(p,F[0],F[1]))return g=!0,!1}),g||((0,I.each)(p,function(F){if((0,w.default)(b,F[0],F[1]))return g=!0,!1}),g))return!0;var M=O(p),L=O(b),k=!1;return(0,I.each)(L,function(F){if(P(M,F))return k=!0,!1}),k}S.default=C},28498:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+_+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+_+"]*,?["+_+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+_+"]*,?["+_+"]*","ig");function P(A){if(!A)return null;if((0,w.isArray)(A))return A;var E={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},C=[];return String(A).replace(I,function(p,b,y){var x=[],g=b.toLowerCase();if(y.replace(O,function(M,L){L&&x.push(+L)}),g==="m"&&x.length>2&&(C.push([b].concat(x.splice(0,2))),g="l",b=b==="m"?"l":"L"),g==="o"&&x.length===1&&C.push([b,x[0]]),g==="r")C.push([b].concat(x));else for(;x.length>=E[g]&&(C.push([b].concat(x.splice(0,E[g]))),!!E[g]););return""}),C}S.default=P},80315:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(49242),_=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function O(P){var A=P||[];if((0,w.isArray)(A))return A;if((0,w.isString)(A))return A=A.match(_),(0,w.each)(A,function(E,C){if(E=E.match(I),E[0].length>1){var p=E[0].charAt(0);E.splice(1,0,E[0].substr(1)),E[0]=p}(0,w.each)(E,function(b,y){isNaN(b)||(E[y]=+b)}),A[C]=E}),A}S.default=O},74479:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(28498),I=/[a-z]/;function O(A,E){return[E[0]+(E[0]-A[0]),E[1]+(E[1]-A[1])]}function P(A){var E=(0,_.default)(A);if(!E||!E.length)return[["M",0,0]];for(var C=!1,p=0;p<E.length;p++){var b=E[p][0];if(I.test(b)||["V","H","T","S"].indexOf(b)>=0){C=!0;break}}if(!C)return E;var y=[],x=0,g=0,M=0,L=0,k=0,F,W,$=E[0];($[0]==="M"||$[0]==="m")&&(x=+$[1],g=+$[2],M=x,L=g,k++,y[0]=["M",x,g]);for(var p=k,z=E.length;p<z;p++){var U=E[p],et=y[p-1],q=[],b=U[0],dt=b.toUpperCase();if(b!==dt)switch(q[0]=dt,dt){case"A":q[1]=U[1],q[2]=U[2],q[3]=U[3],q[4]=U[4],q[5]=U[5],q[6]=+U[6]+x,q[7]=+U[7]+g;break;case"V":q[1]=+U[1]+g;break;case"H":q[1]=+U[1]+x;break;case"M":M=+U[1]+x,L=+U[2]+g,q[1]=M,q[2]=L;break;default:for(var ct=1,Mt=U.length;ct<Mt;ct++)q[ct]=+U[ct]+(ct%2?x:g)}else q=E[p];switch(dt){case"Z":x=+M,g=+L;break;case"H":x=q[1],q=["L",x,g];break;case"V":g=q[1],q=["L",x,g];break;case"T":x=q[1],g=q[2];var D=O([et[1],et[2]],[et[3],et[4]]);q=["Q",D[0],D[1],x,g];break;case"S":x=q[q.length-2],g=q[q.length-1];var G=et.length,X=O([et[G-4],et[G-3]],[et[G-2],et[G-1]]);q=["C",X[0],X[1],q[1],q[2],x,g];break;case"M":M=q[q.length-2],L=q[q.length-1];break;default:x=q[q.length-2],g=q[q.length-1]}y.push(q)}return y}S.Z=P},49274:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(84023),_=d(84023),I=d(80315);function O(A,E){return[E[0]+(E[0]-A[0]),E[1]+(E[1]-A[1])]}function P(A){A=(0,I.default)(A);for(var E=[],C=null,p=null,b=null,y=0,x=A.length,g=0;g<x;g++){var M=A[g];p=A[g+1];var L=M[0],k={command:L,prePoint:C,params:M,startTangent:null,endTangent:null};switch(L){case"M":b=[M[1],M[2]],y=g;break;case"A":var F=(0,w.default)(C,M);k.arcParams=F;break;default:break}if(L==="Z")C=b,p=A[y+1];else{var W=M.length;C=[M[W-2],M[W-1]]}p&&p[0]==="Z"&&(p=A[y],E[y]&&(E[y].prePoint=C)),k.currentPoint=C,E[y]&&(0,_.isSamePoint)(C,E[y].currentPoint)&&(E[y].prePoint=k.prePoint);var $=p?[p[p.length-2],p[p.length-1]]:null;k.nextPoint=$;var z=k.prePoint;if(["L","H","V"].includes(L))k.startTangent=[z[0]-C[0],z[1]-C[1]],k.endTangent=[C[0]-z[0],C[1]-z[1]];else if(L==="Q"){var U=[M[1],M[2]];k.startTangent=[z[0]-U[0],z[1]-U[1]],k.endTangent=[C[0]-U[0],C[1]-U[1]]}else if(L==="T"){var et=E[g-1],U=O(et.currentPoint,z);et.command==="Q"?(k.command="Q",k.startTangent=[z[0]-U[0],z[1]-U[1]],k.endTangent=[C[0]-U[0],C[1]-U[1]]):(k.command="TL",k.startTangent=[z[0]-C[0],z[1]-C[1]],k.endTangent=[C[0]-z[0],C[1]-z[1]])}else if(L==="C"){var q=[M[1],M[2]],dt=[M[3],M[4]];k.startTangent=[z[0]-q[0],z[1]-q[1]],k.endTangent=[C[0]-dt[0],C[1]-dt[1]],k.startTangent[0]===0&&k.startTangent[1]===0&&(k.startTangent=[q[0]-dt[0],q[1]-dt[1]]),k.endTangent[0]===0&&k.endTangent[1]===0&&(k.endTangent=[dt[0]-q[0],dt[1]-q[1]])}else if(L==="S"){var et=E[g-1],q=O(et.currentPoint,z),dt=[M[1],M[2]];et.command==="C"?(k.command="C",k.startTangent=[z[0]-q[0],z[1]-q[1]],k.endTangent=[C[0]-dt[0],C[1]-dt[1]]):(k.command="SQ",k.startTangent=[z[0]-dt[0],z[1]-dt[1]],k.endTangent=[C[0]-dt[0],C[1]-dt[1]])}else if(L==="A"){var ct=.001,Mt=k.arcParams||{},D=Mt.cx,G=D===void 0?0:D,X=Mt.cy,N=X===void 0?0:X,tt=Mt.rx,Q=tt===void 0?0:tt,K=Mt.ry,V=K===void 0?0:K,H=Mt.sweepFlag,u=H===void 0?0:H,ot=Mt.startAngle,pt=ot===void 0?0:ot,it=Mt.endAngle,xt=it===void 0?0:it;u===0&&(ct*=-1);var gt=Q*Math.cos(pt-ct)+G,wt=V*Math.sin(pt-ct)+N;k.startTangent=[gt-b[0],wt-b[1]];var Dt=Q*Math.cos(pt+xt+ct)+G,Nt=V*Math.sin(pt+xt-ct)+N;k.endTangent=[z[0]-Dt,z[1]-Nt]}E.push(k)}return E}S.default=P},66957:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function w(O){return Math.abs(O)<d?0:O<0?-1:1}function _(O,P,A){return(A[0]-O[0])*(P[1]-O[1])==(P[0]-O[0])*(A[1]-O[1])&&Math.min(O[0],P[0])<=A[0]&&A[0]<=Math.max(O[0],P[0])&&Math.min(O[1],P[1])<=A[1]&&A[1]<=Math.max(O[1],P[1])}function I(O,P,A){var E=!1,C=O.length;if(C<=2)return!1;for(var p=0;p<C;p++){var b=O[p],y=O[(p+1)%C];if(_(b,y,[P,A]))return!0;w(b[1]-A)>0!=w(y[1]-A)>0&&w(P-(A-b[1])*(b[0]-y[0])/(b[1]-y[1])-b[0])<0&&(E=!E)}return E}S.default=I},72469:function(bt,S,d){"use strict";d.r(S),d.d(S,{Category:function(){return b},Identity:function(){return ve},Linear:function(){return Fe},Log:function(){return Wr},Pow:function(){return ei},Quantile:function(){return ae},Quantize:function(){return Zt},Scale:function(){return E},Time:function(){return xi},TimeCat:function(){return de},getScale:function(){return xe},getTickMethod:function(){return O},registerScale:function(){return be},registerTickMethod:function(){return P}});var w={};d.r(w),d.d(w,{assign:function(){return z},default:function(){return wt},defaultI18n:function(){return ct},format:function(){return it},parse:function(){return xt},setGlobalDateI18n:function(){return D},setGlobalDateMasks:function(){return pt}});var _=d(49242),I={};function O(Lt){return I[Lt]}function P(Lt,_t){I[Lt]=_t}var A=function(){function Lt(_t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=_t,this.initCfg(),this.init()}return Lt.prototype.translate=function(_t){return _t},Lt.prototype.change=function(_t){(0,_.assign)(this.__cfg__,_t),this.init()},Lt.prototype.clone=function(){return this.constructor(this.__cfg__)},Lt.prototype.getTicks=function(){var _t=this;return(0,_.map)(this.ticks,function(Gt,qt){return(0,_.isObject)(Gt)?Gt:{text:_t.getText(Gt,qt),tickValue:Gt,value:_t.scale(Gt)}})},Lt.prototype.getText=function(_t,Gt){var qt=this.formatter,Ut=qt?qt(_t,Gt):_t;return(0,_.isNil)(Ut)||!(0,_.isFunction)(Ut.toString)?"":Ut.toString()},Lt.prototype.getConfig=function(_t){return this.__cfg__[_t]},Lt.prototype.init=function(){(0,_.assign)(this,this.__cfg__),this.setDomain(),(0,_.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Lt.prototype.initCfg=function(){},Lt.prototype.setDomain=function(){},Lt.prototype.calculateTicks=function(){var _t=this.tickMethod,Gt=[];if((0,_.isString)(_t)){var qt=O(_t);if(!qt)throw new Error("There is no method to to calculate ticks!");Gt=qt(this)}else(0,_.isFunction)(_t)&&(Gt=_t(this));return Gt},Lt.prototype.rangeMin=function(){return this.range[0]},Lt.prototype.rangeMax=function(){return this.range[1]},Lt.prototype.calcPercent=function(_t,Gt,qt){return(0,_.isNumber)(_t)?(_t-Gt)/(qt-Gt):NaN},Lt.prototype.calcValue=function(_t,Gt,qt){return Gt+_t*(qt-Gt)},Lt}(),E=A,C=d(70655),p=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="cat",Gt.isCategory=!0,Gt}return _t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var Gt=0;Gt<this.values.length;Gt++)this.translateIndexMap.set(this.values[Gt],Gt)}},_t.prototype.translate=function(Gt){this.buildIndexMap();var qt=this.translateIndexMap.get(Gt);return qt===void 0&&(qt=(0,_.isNumber)(Gt)?Gt:NaN),qt},_t.prototype.scale=function(Gt){var qt=this.translate(Gt),Ut=this.calcPercent(qt,this.min,this.max);return this.calcValue(Ut,this.rangeMin(),this.rangeMax())},_t.prototype.invert=function(Gt){var qt=this.max-this.min,Ut=this.calcPercent(Gt,this.rangeMin(),this.rangeMax()),fe=Math.round(qt*Ut)+this.min;return fe<this.min||fe>this.max?NaN:this.values[fe]},_t.prototype.getText=function(Gt){for(var qt=[],Ut=1;Ut<arguments.length;Ut++)qt[Ut-1]=arguments[Ut];var fe=Gt;return(0,_.isNumber)(Gt)&&!this.values.includes(Gt)&&(fe=this.values[fe]),Lt.prototype.getText.apply(this,(0,C.__spreadArrays)([fe],qt))},_t.prototype.initCfg=function(){this.tickMethod="cat"},_t.prototype.setDomain=function(){if((0,_.isNil)(this.getConfig("min"))&&(this.min=0),(0,_.isNil)(this.getConfig("max"))){var Gt=this.values.length;this.max=Gt>1?Gt-1:Gt}this.translateIndexMap&&(this.translateIndexMap=void 0)},_t}(E),b=p,y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,x="[1-9]\\d?",g="\\d\\d",M="\\d{3}",L="\\d{4}",k="[^\\s]+",F=/\[([^]*?)\]/gm;function W(Lt,_t){for(var Gt=[],qt=0,Ut=Lt.length;qt<Ut;qt++)Gt.push(Lt[qt].substr(0,_t));return Gt}var $=function(Lt){return function(_t,Gt){var qt=Gt[Lt].map(function(fe){return fe.toLowerCase()}),Ut=qt.indexOf(_t.toLowerCase());return Ut>-1?Ut:null}};function z(Lt){for(var _t=[],Gt=1;Gt<arguments.length;Gt++)_t[Gt-1]=arguments[Gt];for(var qt=0,Ut=_t;qt<Ut.length;qt++){var fe=Ut[qt];for(var Me in fe)Lt[Me]=fe[Me]}return Lt}var U=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],et=["January","February","March","April","May","June","July","August","September","October","November","December"],q=W(et,3),dt=W(U,3),ct={dayNamesShort:dt,dayNames:U,monthNamesShort:q,monthNames:et,amPm:["am","pm"],DoFn:function(Lt){return Lt+["th","st","nd","rd"][Lt%10>3?0:(Lt-Lt%10!=10?1:0)*Lt%10]}},Mt=z({},ct),D=function(Lt){return Mt=z(Mt,Lt)},G=function(Lt){return Lt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},X=function(Lt,_t){for(_t===void 0&&(_t=2),Lt=String(Lt);Lt.length<_t;)Lt="0"+Lt;return Lt},N={D:function(Lt){return String(Lt.getDate())},DD:function(Lt){return X(Lt.getDate())},Do:function(Lt,_t){return _t.DoFn(Lt.getDate())},d:function(Lt){return String(Lt.getDay())},dd:function(Lt){return X(Lt.getDay())},ddd:function(Lt,_t){return _t.dayNamesShort[Lt.getDay()]},dddd:function(Lt,_t){return _t.dayNames[Lt.getDay()]},M:function(Lt){return String(Lt.getMonth()+1)},MM:function(Lt){return X(Lt.getMonth()+1)},MMM:function(Lt,_t){return _t.monthNamesShort[Lt.getMonth()]},MMMM:function(Lt,_t){return _t.monthNames[Lt.getMonth()]},YY:function(Lt){return X(String(Lt.getFullYear()),4).substr(2)},YYYY:function(Lt){return X(Lt.getFullYear(),4)},h:function(Lt){return String(Lt.getHours()%12||12)},hh:function(Lt){return X(Lt.getHours()%12||12)},H:function(Lt){return String(Lt.getHours())},HH:function(Lt){return X(Lt.getHours())},m:function(Lt){return String(Lt.getMinutes())},mm:function(Lt){return X(Lt.getMinutes())},s:function(Lt){return String(Lt.getSeconds())},ss:function(Lt){return X(Lt.getSeconds())},S:function(Lt){return String(Math.round(Lt.getMilliseconds()/100))},SS:function(Lt){return X(Math.round(Lt.getMilliseconds()/10),2)},SSS:function(Lt){return X(Lt.getMilliseconds(),3)},a:function(Lt,_t){return Lt.getHours()<12?_t.amPm[0]:_t.amPm[1]},A:function(Lt,_t){return Lt.getHours()<12?_t.amPm[0].toUpperCase():_t.amPm[1].toUpperCase()},ZZ:function(Lt){var _t=Lt.getTimezoneOffset();return(_t>0?"-":"+")+X(Math.floor(Math.abs(_t)/60)*100+Math.abs(_t)%60,4)},Z:function(Lt){var _t=Lt.getTimezoneOffset();return(_t>0?"-":"+")+X(Math.floor(Math.abs(_t)/60),2)+":"+X(Math.abs(_t)%60,2)}},tt=function(Lt){return+Lt-1},Q=[null,x],K=[null,k],V=["isPm",k,function(Lt,_t){var Gt=Lt.toLowerCase();return Gt===_t.amPm[0]?0:Gt===_t.amPm[1]?1:null}],H=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Lt){var _t=(Lt+"").match(/([+-]|\d\d)/gi);if(_t){var Gt=+_t[1]*60+parseInt(_t[2],10);return _t[0]==="+"?Gt:-Gt}return 0}],u={D:["day",x],DD:["day",g],Do:["day",x+k,function(Lt){return parseInt(Lt,10)}],M:["month",x,tt],MM:["month",g,tt],YY:["year",g,function(Lt){var _t=new Date,Gt=+(""+_t.getFullYear()).substr(0,2);return+(""+(+Lt>68?Gt-1:Gt)+Lt)}],h:["hour",x,void 0,"isPm"],hh:["hour",g,void 0,"isPm"],H:["hour",x],HH:["hour",g],m:["minute",x],mm:["minute",g],s:["second",x],ss:["second",g],YYYY:["year",L],S:["millisecond","\\d",function(Lt){return+Lt*100}],SS:["millisecond",g,function(Lt){return+Lt*10}],SSS:["millisecond",M],d:Q,dd:Q,ddd:K,dddd:K,MMM:["month",k,$("monthNamesShort")],MMMM:["month",k,$("monthNames")],a:V,A:V,ZZ:H,Z:H},ot={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},pt=function(Lt){return z(ot,Lt)},it=function(Lt,_t,Gt){if(_t===void 0&&(_t=ot.default),Gt===void 0&&(Gt={}),typeof Lt=="number"&&(Lt=new Date(Lt)),Object.prototype.toString.call(Lt)!=="[object Date]"||isNaN(Lt.getTime()))throw new Error("Invalid Date pass to format");_t=ot[_t]||_t;var qt=[];_t=_t.replace(F,function(fe,Me){return qt.push(Me),"@@@"});var Ut=z(z({},Mt),Gt);return _t=_t.replace(y,function(fe){return N[fe](Lt,Ut)}),_t.replace(/@@@/g,function(){return qt.shift()})};function xt(Lt,_t,Gt){if(Gt===void 0&&(Gt={}),typeof _t!="string")throw new Error("Invalid format in fecha parse");if(_t=ot[_t]||_t,Lt.length>1e3)return null;var qt=new Date,Ut={year:qt.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},fe=[],Me=[],Oe=_t.replace(F,function($n,Xn){return Me.push(G(Xn)),"@@@"}),Xe={},Le={};Oe=G(Oe).replace(y,function($n){var Xn=u[$n],en=Xn[0],ii=Xn[1],Qn=Xn[3];if(Xe[en])throw new Error("Invalid format. "+en+" specified twice in format");return Xe[en]=!0,Qn&&(Le[Qn]=!0),fe.push(Xn),"("+ii+")"}),Object.keys(Le).forEach(function($n){if(!Xe[$n])throw new Error("Invalid format. "+$n+" is required in specified format")}),Oe=Oe.replace(/@@@/g,function(){return Me.shift()});var Ae=Lt.match(new RegExp(Oe,"i"));if(!Ae)return null;for(var dr=z(z({},Mt),Gt),Mr=1;Mr<Ae.length;Mr++){var Kr=fe[Mr-1],Ur=Kr[0],bn=Kr[2],Mn=bn?bn(Ae[Mr],dr):+Ae[Mr];if(Mn==null)return null;Ut[Ur]=Mn}Ut.isPm===1&&Ut.hour!=null&&+Ut.hour!=12?Ut.hour=+Ut.hour+12:Ut.isPm===0&&+Ut.hour==12&&(Ut.hour=0);for(var ni=new Date(Ut.year,Ut.month,Ut.day,Ut.hour,Ut.minute,Ut.second,Ut.millisecond),zn=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Mr=0,hi=zn.length;Mr<hi;Mr++)if(Xe[zn[Mr][0]]&&Ut[zn[Mr][0]]!==ni[zn[Mr][1]]())return null;return Ut.timezoneOffset==null?ni:new Date(Date.UTC(Ut.year,Ut.month,Ut.day,Ut.hour,Ut.minute-Ut.timezoneOffset,Ut.second,Ut.millisecond))}var gt={format:it,parse:xt,defaultI18n:ct,setGlobalDateI18n:D,setGlobalDateMasks:pt},wt=gt;function Dt(Lt){return function(_t,Gt,qt,Ut){for(var fe=(0,_.isNil)(qt)?0:qt,Me=(0,_.isNil)(Ut)?_t.length:Ut;fe<Me;){var Oe=fe+Me>>>1;Lt(_t[Oe])>Gt?Me=Oe:fe=Oe+1}return fe}}var Nt="format";function Ot(Lt,_t){var Gt=w[Nt]||wt[Nt];return Gt(Lt,_t)}function Tt(Lt){return(0,_.isString)(Lt)&&(Lt.indexOf("T")>0?Lt=new Date(Lt).getTime():Lt=new Date(Lt.replace(/-/gi,"/")).getTime()),(0,_.isDate)(Lt)&&(Lt=Lt.getTime()),Lt}var at=1e3,st=60*at,Ct=60*st,nt=24*Ct,rt=nt*31,mt=nt*365,Pt=[["HH:mm:ss",at],["HH:mm:ss",at*10],["HH:mm:ss",at*30],["HH:mm",st],["HH:mm",st*10],["HH:mm",st*30],["HH",Ct],["HH",Ct*6],["HH",Ct*12],["YYYY-MM-DD",nt],["YYYY-MM-DD",nt*4],["YYYY-WW",nt*7],["YYYY-MM",rt],["YYYY-MM",rt*4],["YYYY-MM",rt*6],["YYYY",nt*380]];function Yt(Lt,_t,Gt){var qt=(_t-Lt)/Gt,Ut=Dt(function(Me){return Me[1]})(Pt,qt)-1,fe=Pt[Ut];return Ut<0?fe=Pt[0]:Ut>=Pt.length&&(fe=(0,_.last)(Pt)),fe}var Jt=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="timeCat",Gt}return _t.prototype.translate=function(Gt){Gt=Tt(Gt);var qt=this.values.indexOf(Gt);return qt===-1&&((0,_.isNumber)(Gt)&&Gt<this.values.length?qt=Gt:qt=NaN),qt},_t.prototype.getText=function(Gt,qt){var Ut=this.translate(Gt);if(Ut>-1){var fe=this.values[Ut],Me=this.formatter;return fe=Me?Me(fe,qt):Ot(fe,this.mask),fe}return Gt},_t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},_t.prototype.setDomain=function(){var Gt=this.values;(0,_.each)(Gt,function(qt,Ut){Gt[Ut]=Tt(qt)}),Gt.sort(function(qt,Ut){return qt-Ut}),Lt.prototype.setDomain.call(this)},_t}(b),de=Jt,Ce=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.isContinuous=!0,Gt}return _t.prototype.scale=function(Gt){if((0,_.isNil)(Gt))return NaN;var qt=this.rangeMin(),Ut=this.rangeMax(),fe=this.max,Me=this.min;if(fe===Me)return qt;var Oe=this.getScalePercent(Gt);return qt+Oe*(Ut-qt)},_t.prototype.init=function(){Lt.prototype.init.call(this);var Gt=this.ticks,qt=(0,_.head)(Gt),Ut=(0,_.last)(Gt);qt<this.min&&(this.min=qt),Ut>this.max&&(this.max=Ut),(0,_.isNil)(this.minLimit)||(this.min=qt),(0,_.isNil)(this.maxLimit)||(this.max=Ut)},_t.prototype.setDomain=function(){var Gt=(0,_.getRange)(this.values),qt=Gt.min,Ut=Gt.max;(0,_.isNil)(this.min)&&(this.min=qt),(0,_.isNil)(this.max)&&(this.max=Ut),this.min>this.max&&(this.min=qt,this.max=Ut)},_t.prototype.calculateTicks=function(){var Gt=this,qt=Lt.prototype.calculateTicks.call(this);return this.nice||(qt=(0,_.filter)(qt,function(Ut){return Ut>=Gt.min&&Ut<=Gt.max})),qt},_t.prototype.getScalePercent=function(Gt){var qt=this.max,Ut=this.min;return(Gt-Ut)/(qt-Ut)},_t.prototype.getInvertPercent=function(Gt){return(Gt-this.rangeMin())/(this.rangeMax()-this.rangeMin())},_t}(E),ye=Ce,Se=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="linear",Gt.isLinear=!0,Gt}return _t.prototype.invert=function(Gt){var qt=this.getInvertPercent(Gt);return this.min+qt*(this.max-this.min)},_t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},_t}(ye),Fe=Se;function Ze(Lt,_t){var Gt=Math.E,qt;return _t>=0?qt=Math.pow(Gt,Math.log(_t)/Lt):qt=Math.pow(Gt,Math.log(-_t)/Lt)*-1,qt}function er(Lt,_t){return Lt===1?1:Math.log(_t)/Math.log(Lt)}function qe(Lt,_t,Gt){(0,_.isNil)(Gt)&&(Gt=Math.max.apply(null,Lt));var qt=Gt;return(0,_.each)(Lt,function(Ut){Ut>0&&Ut<qt&&(qt=Ut)}),qt===Gt&&(qt=Gt/_t),qt>1&&(qt=1),qt}function Pr(Lt){var _t=Lt.toString().split(/[eE]/),Gt=(_t[0].split(".")[1]||"").length-+(_t[1]||0);return Gt>0?Gt:0}function rn(Lt,_t){var Gt=Pr(Lt),qt=Pr(_t),Ut=Math.pow(10,Math.max(Gt,qt));return(Lt*Ut+_t*Ut)/Ut}var Or=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="log",Gt}return _t.prototype.invert=function(Gt){var qt=this.base,Ut=er(qt,this.max),fe=this.rangeMin(),Me=this.rangeMax()-fe,Oe,Xe=this.positiveMin;if(Xe){if(Gt===0)return 0;Oe=er(qt,Xe/qt);var Le=1/(Ut-Oe)*Me;if(Gt<Le)return Gt/Le*Xe}else Oe=er(qt,this.min);var Ae=(Gt-fe)/Me,dr=Ae*(Ut-Oe)+Oe;return Math.pow(qt,dr)},_t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},_t.prototype.setDomain=function(){Lt.prototype.setDomain.call(this);var Gt=this.min;if(Gt<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");Gt===0&&(this.positiveMin=qe(this.values,this.base,this.max))},_t.prototype.getScalePercent=function(Gt){var qt=this.max,Ut=this.min;if(qt===Ut||Gt<=0)return 0;var fe=this.base,Me=this.positiveMin;Me&&(Ut=Me*1/fe);var Oe;return Gt<Me?Oe=Gt/Me/(er(fe,qt)-er(fe,Ut)):Oe=(er(fe,Gt)-er(fe,Ut))/(er(fe,qt)-er(fe,Ut)),Oe},_t}(ye),Wr=Or,Zn=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="pow",Gt}return _t.prototype.invert=function(Gt){var qt=this.getInvertPercent(Gt),Ut=this.exponent,fe=Ze(Ut,this.max),Me=Ze(Ut,this.min),Oe=qt*(fe-Me)+Me,Xe=Oe>=0?1:-1;return Math.pow(Oe,Ut)*Xe},_t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},_t.prototype.getScalePercent=function(Gt){var qt=this.max,Ut=this.min;if(qt===Ut)return 0;var fe=this.exponent,Me=(Ze(fe,Gt)-Ze(fe,Ut))/(Ze(fe,qt)-Ze(fe,Ut));return Me},_t}(ye),ei=Zn,mi=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="time",Gt}return _t.prototype.getText=function(Gt,qt){var Ut=this.translate(Gt),fe=this.formatter;return fe?fe(Ut,qt):Ot(Ut,this.mask)},_t.prototype.scale=function(Gt){var qt=Gt;return((0,_.isString)(qt)||(0,_.isDate)(qt))&&(qt=this.translate(qt)),Lt.prototype.scale.call(this,qt)},_t.prototype.translate=function(Gt){return Tt(Gt)},_t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},_t.prototype.setDomain=function(){var Gt=this.values,qt=this.getConfig("min"),Ut=this.getConfig("max");if((!(0,_.isNil)(qt)||!(0,_.isNumber)(qt))&&(this.min=this.translate(this.min)),(!(0,_.isNil)(Ut)||!(0,_.isNumber)(Ut))&&(this.max=this.translate(this.max)),Gt&&Gt.length){var fe=[],Me=Infinity,Oe=Me,Xe=0;(0,_.each)(Gt,function(Le){var Ae=Tt(Le);if(isNaN(Ae))throw new TypeError("Invalid Time: "+Le+" in time scale!");Me>Ae?(Oe=Me,Me=Ae):Oe>Ae&&(Oe=Ae),Xe<Ae&&(Xe=Ae),fe.push(Ae)}),Gt.length>1&&(this.minTickInterval=Oe-Me),(0,_.isNil)(qt)&&(this.min=Me),(0,_.isNil)(Ut)&&(this.max=Xe)}},_t}(Fe),xi=mi,Ht=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="quantize",Gt}return _t.prototype.invert=function(Gt){var qt=this.ticks,Ut=qt.length,fe=this.getInvertPercent(Gt),Me=Math.floor(fe*(Ut-1));if(Me>=Ut-1)return(0,_.last)(qt);if(Me<0)return(0,_.head)(qt);var Oe=qt[Me],Xe=qt[Me+1],Le=Me/(Ut-1),Ae=(Me+1)/(Ut-1);return Oe+(fe-Le)/(Ae-Le)*(Xe-Oe)},_t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},_t.prototype.calculateTicks=function(){var Gt=Lt.prototype.calculateTicks.call(this);return this.nice||((0,_.last)(Gt)!==this.max&&Gt.push(this.max),(0,_.head)(Gt)!==this.min&&Gt.unshift(this.min)),Gt},_t.prototype.getScalePercent=function(Gt){var qt=this.ticks;if(Gt<(0,_.head)(qt))return 0;if(Gt>(0,_.last)(qt))return 1;var Ut=0;return(0,_.each)(qt,function(fe,Me){if(Gt>=fe)Ut=Me;else return!1}),Ut/(qt.length-1)},_t}(ye),Zt=Ht,ne=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="quantile",Gt}return _t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},_t}(Zt),ae=ne,ge={};function xe(Lt){return ge[Lt]}function be(Lt,_t){if(xe(Lt))throw new Error("type '"+Lt+"' existed.");ge[Lt]=_t}var Te=function(Lt){(0,C.__extends)(_t,Lt);function _t(){var Gt=Lt!==null&&Lt.apply(this,arguments)||this;return Gt.type="identity",Gt.isIdentity=!0,Gt}return _t.prototype.calculateTicks=function(){return this.values},_t.prototype.scale=function(Gt){return this.values[0]!==Gt&&(0,_.isNumber)(Gt)?Gt:this.range[0]},_t.prototype.invert=function(Gt){var qt=this.range;return Gt<qt[0]||Gt>qt[1]?NaN:this.values[0]},_t}(E),ve=Te;function We(Lt){return Math.abs(Lt)<1e-15?Lt:parseFloat(Lt.toFixed(15))}var Be=[1,5,2,2.5,4,3],$e=null,rr=Number.EPSILON*100;function Je(Lt,_t){return(Lt%_t+_t)%_t}function or(Lt,_t,Gt,qt,Ut,fe){var Me=(0,_.size)(_t),Oe=(0,_.indexOf)(_t,Lt),Xe=0,Le=Je(qt,fe);return(Le<rr||fe-Le<rr)&&qt<=0&&Ut>=0&&(Xe=1),1-Oe/(Me-1)-Gt+Xe}function ir(Lt,_t,Gt){var qt=(0,_.size)(_t),Ut=(0,_.indexOf)(_t,Lt),fe=1;return 1-Ut/(qt-1)-Gt+fe}function cr(Lt,_t,Gt,qt,Ut,fe){var Me=(Lt-1)/(fe-Ut),Oe=(_t-1)/(Math.max(fe,qt)-Math.min(Gt,Ut));return 2-Math.max(Me/Oe,Oe/Me)}function Qe(Lt,_t){return Lt>=_t?2-(Lt-1)/(_t-1):1}function gr(Lt,_t,Gt,qt){var Ut=_t-Lt;return 1-.5*(Math.pow(_t-qt,2)+Math.pow(Lt-Gt,2))/Math.pow(.1*Ut,2)}function Ir(Lt,_t,Gt){var qt=_t-Lt;if(Gt>qt){var Ut=(Gt-qt)/2;return 1-Math.pow(Ut,2)/Math.pow(.1*qt,2)}return 1}function Er(){return 1}function Lr(Lt,_t,Gt,qt,Ut,fe){Gt===void 0&&(Gt=5),qt===void 0&&(qt=!0),Ut===void 0&&(Ut=Be),fe===void 0&&(fe=[.25,.2,.5,.05]);var Me=Gt<0?0:Math.round(Gt);if(Number.isNaN(Lt)||Number.isNaN(_t)||typeof Lt!="number"||typeof _t!="number"||!Me)return{min:0,max:0,ticks:[]};if(_t-Lt<1e-15||Me===1)return{min:Lt,max:_t,ticks:[Lt]};for(var Oe={score:-2,lmin:0,lmax:0,lstep:0},Xe=1;Xe<Infinity;){for(var Le=0;Le<Ut.length;Le+=1){var Ae=Ut[Le],dr=ir(Ae,Ut,Xe);if(fe[0]*dr+fe[1]+fe[2]+fe[3]<Oe.score){Xe=Infinity;break}for(var Mr=2;Mr<Infinity;){var Kr=Qe(Mr,Me);if(fe[0]*dr+fe[1]+fe[2]*Kr+fe[3]<Oe.score)break;for(var Ur=(_t-Lt)/(Mr+1)/Xe/Ae,bn=Math.ceil(Math.log10(Ur));bn<Infinity;){var Mn=Xe*Ae*Math.pow(10,bn),ni=Ir(Lt,_t,Mn*(Mr-1));if(fe[0]*dr+fe[1]*ni+fe[2]*Kr+fe[3]<Oe.score)break;var zn=Math.floor(_t/Mn)*Xe-(Mr-1)*Xe,hi=Math.ceil(Lt/Mn)*Xe;if(zn<=hi)for(var $n=hi-zn,Xn=0;Xn<=$n;Xn+=1){var en=zn+Xn,ii=en*(Mn/Xe),Qn=ii+Mn*(Mr-1),Nn=Mn,na=or(Ae,Ut,Xe,ii,Qn,Nn),wi=gr(Lt,_t,ii,Qn),Ki=cr(Mr,Me,Lt,_t,ii,Qn),Ma=Er(),ia=fe[0]*na+fe[1]*wi+fe[2]*Ki+fe[3]*Ma;ia>Oe.score&&(!qt||ii<=Lt&&Qn>=_t)&&(Oe.lmin=ii,Oe.lmax=Qn,Oe.lstep=Nn,Oe.score=ia)}bn+=1}Mr+=1}}Xe+=1}for(var Si=Oe.lmax,aa=Oe.lmin,_i=Oe.lstep,Jn=Math.floor((Si-aa)/_i)+1,Wi=new Array(Jn),Le=0;Le<Jn;Le++)Wi[Le]=We(aa+Le*_i);return{min:Math.min(Lt,(0,_.head)(Wi)),max:Math.max(_t,(0,_.last)(Wi)),ticks:Wi}}function Yr(Lt){var _t=Lt.values,Gt=Lt.tickInterval,qt=Lt.tickCount,Ut=_t;if((0,_.isNumber)(Gt))return(0,_.filter)(Ut,function(Le,Ae){return Ae%Gt==0});var fe=Lt.min,Me=Lt.max;if((0,_.isNil)(fe)&&(fe=0),(0,_.isNil)(Me)&&(Me=_t.length-1),(0,_.isNumber)(qt)&&qt<Me-fe){var Oe=Lr(fe,Me,qt,!1,[1,2,5,3,4,7,6,8,9]).ticks,Xe=(0,_.filter)(Oe,function(Le){return Le>=fe&&Le<=Me});return Xe.map(function(Le){return _t[Le]})}return _t.slice(fe,Me+1)}function Dr(Lt){var _t=Lt.min,Gt=Lt.max,qt=Lt.nice,Ut=Lt.tickCount,fe=new Kn;return fe.domain([_t,Gt]),qt&&fe.nice(Ut),fe.ticks(Ut)}var Cn=5,Qr=Math.sqrt(50),Rn=Math.sqrt(10),si=Math.sqrt(2),Kn=function(){function Lt(){this._domain=[0,1]}return Lt.prototype.domain=function(_t){return _t?(this._domain=Array.from(_t,Number),this):this._domain.slice()},Lt.prototype.nice=function(_t){var Gt,qt;_t===void 0&&(_t=Cn);var Ut=this._domain.slice(),fe=0,Me=this._domain.length-1,Oe=this._domain[fe],Xe=this._domain[Me],Le;return Xe<Oe&&(Gt=[Xe,Oe],Oe=Gt[0],Xe=Gt[1],qt=[Me,fe],fe=qt[0],Me=qt[1]),Le=bi(Oe,Xe,_t),Le>0?(Oe=Math.floor(Oe/Le)*Le,Xe=Math.ceil(Xe/Le)*Le,Le=bi(Oe,Xe,_t)):Le<0&&(Oe=Math.ceil(Oe*Le)/Le,Xe=Math.floor(Xe*Le)/Le,Le=bi(Oe,Xe,_t)),Le>0?(Ut[fe]=Math.floor(Oe/Le)*Le,Ut[Me]=Math.ceil(Xe/Le)*Le,this.domain(Ut)):Le<0&&(Ut[fe]=Math.ceil(Oe*Le)/Le,Ut[Me]=Math.floor(Xe*Le)/Le,this.domain(Ut)),this},Lt.prototype.ticks=function(_t){return _t===void 0&&(_t=Cn),Ri(this._domain[0],this._domain[this._domain.length-1],_t||Cn)},Lt}();function Ri(Lt,_t,Gt){var qt,Ut=-1,fe,Me,Oe;if(_t=+_t,Lt=+Lt,Gt=+Gt,Lt===_t&&Gt>0)return[Lt];if((qt=_t<Lt)&&(fe=Lt,Lt=_t,_t=fe),(Oe=bi(Lt,_t,Gt))===0||!isFinite(Oe))return[];if(Oe>0)for(Lt=Math.ceil(Lt/Oe),_t=Math.floor(_t/Oe),Me=new Array(fe=Math.ceil(_t-Lt+1));++Ut<fe;)Me[Ut]=(Lt+Ut)*Oe;else for(Lt=Math.floor(Lt*Oe),_t=Math.ceil(_t*Oe),Me=new Array(fe=Math.ceil(Lt-_t+1));++Ut<fe;)Me[Ut]=(Lt-Ut)/Oe;return qt&&Me.reverse(),Me}function bi(Lt,_t,Gt){var qt=(_t-Lt)/Math.max(0,Gt),Ut=Math.floor(Math.log(qt)/Math.LN10),fe=qt/Math.pow(10,Ut);return Ut>=0?(fe>=Qr?10:fe>=Rn?5:fe>=si?2:1)*Math.pow(10,Ut):-Math.pow(10,-Ut)/(fe>=Qr?10:fe>=Rn?5:fe>=si?2:1)}function Cr(Lt,_t,Gt){var qt;return Gt==="ceil"?qt=Math.ceil(Lt/_t):Gt==="floor"?qt=Math.floor(Lt/_t):qt=Math.round(Lt/_t),qt*_t}function ri(Lt,_t,Gt){var qt=Cr(Lt,Gt,"floor"),Ut=Cr(_t,Gt,"ceil");qt=(0,_.fixedBase)(qt,Gt),Ut=(0,_.fixedBase)(Ut,Gt);for(var fe=[],Me=qt;Me<=Ut;Me=Me+Gt){var Oe=(0,_.fixedBase)(Me,Gt);fe.push(Oe)}return{min:qt,max:Ut,ticks:fe}}function li(Lt,_t,Gt){var qt,Ut=Lt.minLimit,fe=Lt.maxLimit,Me=Lt.min,Oe=Lt.max,Xe=Lt.tickCount,Le=Xe===void 0?5:Xe,Ae=(0,_.isNil)(Ut)?(0,_.isNil)(_t)?Me:_t:Ut,dr=(0,_.isNil)(fe)?(0,_.isNil)(Gt)?Oe:Gt:fe;if(Ae>dr&&(qt=[Ae,dr],dr=qt[0],Ae=qt[1]),Le<=2)return[Ae,dr];for(var Mr=(dr-Ae)/(Le-1),Kr=[],Ur=0;Ur<Le;Ur++)Kr.push(Ae+Mr*Ur);return Kr}function ui(Lt){var _t=Lt.min,Gt=Lt.max,qt=Lt.tickInterval,Ut=Lt.minLimit,fe=Lt.maxLimit,Me=Dr(Lt);return!(0,_.isNil)(Ut)||!(0,_.isNil)(fe)?li(Lt,(0,_.head)(Me),(0,_.last)(Me)):qt?ri(_t,Gt,qt).ticks:Me}function pn(Lt){var _t=Lt.min,Gt=Lt.max,qt=Lt.tickCount,Ut=Lt.nice,fe=Lt.tickInterval,Me=Lt.minLimit,Oe=Lt.maxLimit,Xe=Lr(_t,Gt,qt,Ut).ticks;return!(0,_.isNil)(Me)||!(0,_.isNil)(Oe)?li(Lt,(0,_.head)(Xe),(0,_.last)(Xe)):fe?ri(_t,Gt,fe).ticks:Xe}function fi(Lt){var _t=Lt.base,Gt=Lt.tickCount,qt=Lt.min,Ut=Lt.max,fe=Lt.values,Me,Oe=er(_t,Ut);if(qt>0)Me=Math.floor(er(_t,qt));else{var Xe=qe(fe,_t,Ut);Me=Math.floor(er(_t,Xe))}for(var Le=Oe-Me,Ae=Math.ceil(Le/Gt),dr=[],Mr=Me;Mr<Oe+Ae;Mr=Mr+Ae)dr.push(Math.pow(_t,Mr));return qt<=0&&dr.unshift(0),dr}function Hi(Lt,_t,Gt){if(Gt===void 0&&(Gt=5),Lt===_t)return{max:_t,min:Lt,ticks:[Lt]};var qt=Gt<0?0:Math.round(Gt);if(qt===0)return{max:_t,min:Lt,ticks:[]};var Ut=1.5,fe=.5+1.5*Ut,Me=_t-Lt,Oe=Me/qt,Xe=Math.pow(10,Math.floor(Math.log10(Oe))),Le=Xe;2*Xe-Oe<Ut*(Oe-Le)&&(Le=2*Xe,5*Xe-Oe<fe*(Oe-Le)&&(Le=5*Xe,10*Xe-Oe<Ut*(Oe-Le)&&(Le=10*Xe)));for(var Ae=Math.ceil(_t/Le),dr=Math.floor(Lt/Le),Mr=Math.max(Ae*Le,_t),Kr=Math.min(dr*Le,Lt),Ur=Math.floor((Mr-Kr)/Le)+1,bn=new Array(Ur),Mn=0;Mn<Ur;Mn++)bn[Mn]=We(Kr+Mn*Le);return{min:Kr,max:Mr,ticks:bn}}function Ni(Lt){var _t=Lt.exponent,Gt=Lt.tickCount,qt=Math.ceil(Ze(_t,Lt.max)),Ut=Math.floor(Ze(_t,Lt.min)),fe=Hi(Ut,qt,Gt).ticks;return fe.map(function(Me){var Oe=Me>=0?1:-1;return Math.pow(Me,_t)*Oe})}function Yi(Lt,_t){var Gt=Lt.length*_t;return _t===1?Lt[Lt.length-1]:_t===0?Lt[0]:Gt%1!=0?Lt[Math.ceil(Gt)-1]:Lt.length%2==0?(Lt[Gt-1]+Lt[Gt])/2:Lt[Gt]}function Wn(Lt){var _t=Lt.tickCount,Gt=Lt.values;if(!Gt||!Gt.length)return[];for(var qt=Gt.slice().sort(function(Oe,Xe){return Oe-Xe}),Ut=[],fe=0;fe<_t;fe++){var Me=fe/(_t-1);Ut.push(Yi(qt,Me))}return Ut}function ta(Lt){var _t=Lt.min,Gt=Lt.max,qt=Lt.tickCount,Ut=Lt.tickInterval,fe=Lt.minLimit,Me=Lt.maxLimit,Oe=Hi(_t,Gt,qt).ticks;return!(0,_.isNil)(fe)||!(0,_.isNil)(Me)?li(Lt,(0,_.head)(Oe),(0,_.last)(Oe)):Ut?ri(_t,Gt,Ut).ticks:Oe}function va(Lt){var _t=Lt.min,Gt=Lt.max,qt=Lt.minTickInterval,Ut=Lt.tickInterval,fe=Lt.tickCount;if(Ut)fe=Math.ceil((Gt-_t)/Ut);else{Ut=Yt(_t,Gt,fe)[1];var Me=(Gt-_t)/Ut,Oe=Me/fe;Oe>1&&(Ut=Ut*Math.ceil(Oe)),qt&&Ut<qt&&(Ut=qt)}for(var Xe=[],Le=_t;Le<Gt+Ut;Le+=Ut)Xe.push(Le);return Xe}function kt(Lt){var _t=Yr(Lt),Gt=(0,_.last)(Lt.values);return Gt!==(0,_.last)(_t)&&_t.push(Gt),_t}function At(Lt){return new Date(Lt).getFullYear()}function ft(Lt){return new Date(Lt,0,1).getTime()}function yt(Lt){return new Date(Lt).getMonth()}function Rt(Lt,_t){var Gt=At(Lt),qt=At(_t),Ut=yt(Lt),fe=yt(_t);return(qt-Gt)*12+(fe-Ut)%12}function Kt(Lt,_t){return new Date(Lt,_t,1).getTime()}function se(Lt,_t){return Math.ceil((_t-Lt)/nt)}function he(Lt,_t){return Math.ceil((_t-Lt)/Ct)}function ce(Lt,_t){return Math.ceil((_t-Lt)/(60*1e3))}function De(Lt){var _t=Lt.min,Gt=Lt.max,qt=Lt.minTickInterval,Ut=Lt.tickCount,fe=Lt.tickInterval,Me=[];fe||(fe=(Gt-_t)/Ut,qt&&fe<qt&&(fe=qt));var Oe=At(_t);if(fe>mt)for(var Xe=At(Gt),Le=Math.ceil(fe/mt),Ae=Oe;Ae<=Xe+Le;Ae=Ae+Le)Me.push(ft(Ae));else if(fe>rt)for(var dr=Math.ceil(fe/rt),Mr=yt(_t),Kr=Rt(_t,Gt),Ae=0;Ae<=Kr+dr;Ae=Ae+dr)Me.push(Kt(Oe,Ae+Mr));else if(fe>nt)for(var Ur=new Date(_t),bn=Ur.getFullYear(),Mn=Ur.getMonth(),ni=Ur.getDate(),zn=Math.ceil(fe/nt),hi=se(_t,Gt),Ae=0;Ae<hi+zn;Ae=Ae+zn)Me.push(new Date(bn,Mn,ni+Ae).getTime());else if(fe>Ct)for(var Ur=new Date(_t),bn=Ur.getFullYear(),Mn=Ur.getMonth(),zn=Ur.getDate(),$n=Ur.getHours(),Xn=Math.ceil(fe/Ct),en=he(_t,Gt),Ae=0;Ae<=en+Xn;Ae=Ae+Xn)Me.push(new Date(bn,Mn,zn,$n+Ae).getTime());else if(fe>st)for(var ii=ce(_t,Gt),Qn=Math.ceil(fe/st),Ae=0;Ae<=ii+Qn;Ae=Ae+Qn)Me.push(_t+Ae*st);else{var Nn=fe;Nn<at&&(Nn=at);for(var na=Math.floor(_t/at)*at,wi=Math.ceil((Gt-_t)/at),Ki=Math.ceil(Nn/at),Ae=0;Ae<wi+Ki;Ae=Ae+Ki)Me.push(na+Ae*at)}return Me.length>=512&&console.warn("Notice: current ticks length("+Me.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+fe+") is too small, increase the value to solve the problem!"),Me}P("cat",Yr),P("time-cat",kt),P("wilkinson-extended",pn),P("r-pretty",ta),P("time",va),P("time-pretty",De),P("log",fi),P("pow",Ni),P("quantile",Wn),P("d3-linear",ui),be("cat",b),be("category",b),be("identity",ve),be("linear",Fe),be("log",Wr),be("pow",ei),be("time",xi),be("timeCat",de),be("quantize",Zt),be("quantile",ae)},49242:function(bt,S,d){"use strict";d.r(S),d.d(S,{Cache:function(){return $r},assign:function(){return _i},augment:function(){return Wi},clamp:function(){return Je},clearAnimationFrame:function(){return Si},clone:function(){return Ka},contains:function(){return O},debounce:function(){return as},deepMix:function(){return $a},difference:function(){return C},each:function(){return W},endsWith:function(){return rn},every:function(){return Wr},extend:function(){return os},filter:function(){return A},find:function(){return G},findIndex:function(){return N},firstValue:function(){return Q},fixedBase:function(){return ir},flatten:function(){return V},flattenDeep:function(){return u},forIn:function(){return kt},get:function(){return R},getEllipsisText:function(){return Zr},getRange:function(){return xt},getType:function(){return Le},getWrapBehavior:function(){return ge},group:function(){return ne},groupBy:function(){return Ht},groupToMap:function(){return Zt},has:function(){return At},hasKey:function(){return ft},hasValue:function(){return Kt},head:function(){return Fe},identity:function(){return Re},includes:function(){return O},indexOf:function(){return Io},isArguments:function(){return dr},isArray:function(){return L},isArrayLike:function(){return _},isBoolean:function(){return Kr},isDate:function(){return bn},isDecimal:function(){return Ir},isElement:function(){return Ma},isEmpty:function(){return ls},isEqual:function(){return yn},isEqualWith:function(){return ko},isError:function(){return ni},isEven:function(){return Lr},isFinite:function(){return zn},isFunction:function(){return x},isInteger:function(){return Dr},isMatch:function(){return et},isNegative:function(){return Qr},isNil:function(){return M},isNull:function(){return $n},isNumber:function(){return Qe},isNumberEqual:function(){return si},isObject:function(){return k},isObjectLike:function(){return dt},isOdd:function(){return Ri},isPlainObject:function(){return Mt},isPositive:function(){return Cr},isPrototype:function(){return ii},isRegExp:function(){return Nn},isString:function(){return Pt},isType:function(){return y},isUndefined:function(){return wi},keys:function(){return z},last:function(){return Ze},lowerCase:function(){return ce},lowerFirst:function(){return Lt},map:function(){return Ra},mapValues:function(){return vt},max:function(){return ot},maxBy:function(){return ri},measureTextWidth:function(){return mr},memoize:function(){return _o},min:function(){return pt},minBy:function(){return li},mix:function(){return _i},mod:function(){return pn},noop:function(){return we},number2color:function(){return We},omit:function(){return Bt},parseRadius:function(){return $e},pick:function(){return St},pull:function(){return Ot},pullAt:function(){return st},reduce:function(){return nt},remove:function(){return mt},requestAnimationFrame:function(){return ia},set:function(){return J},size:function(){return Ve},some:function(){return ei},sortBy:function(){return Jt},startsWith:function(){return qe},substitute:function(){return Gt},throttle:function(){return Xt},toArray:function(){return ee},toDegree:function(){return Ni},toInteger:function(){return Yi},toRadian:function(){return va},toString:function(){return se},union:function(){return ye},uniq:function(){return de},uniqueId:function(){return pe},upperCase:function(){return Ut},upperFirst:function(){return Me},values:function(){return Rt},valuesOfKey:function(){return Se},wrapBehavior:function(){return be}});var w=function(It){return It!==null&&typeof It!="function"&&isFinite(It.length)},_=w,I=function(It,te){return _(It)?It.indexOf(te)>-1:!1},O=I,P=function(It,te){if(!_(It))return It;for(var le=[],me=0;me<It.length;me++){var ke=It[me];te(ke,me)&&le.push(ke)}return le},A=P,E=function(It,te){return te===void 0&&(te=[]),A(It,function(le){return!O(te,le)})},C=E,p={}.toString,b=function(It,te){return p.call(It)==="[object "+te+"]"},y=b,x=function(It){return y(It,"Function")},g=function(It){return It==null},M=g,L=function(It){return Array.isArray?Array.isArray(It):y(It,"Array")},k=function(It){var te=typeof It;return It!==null&&te==="object"||te==="function"};function F(It,te){if(!!It){var le;if(L(It))for(var me=0,ke=It.length;me<ke&&(le=te(It[me],me),le!==!1);me++);else if(k(It)){for(var tr in It)if(It.hasOwnProperty(tr)&&(le=te(It[tr],tr),le===!1))break}}}var W=F,$=Object.keys?function(It){return Object.keys(It)}:function(It){var te=[];return W(It,function(le,me){x(It)&&me==="prototype"||te.push(me)}),te},z=$;function U(It,te){var le=z(te),me=le.length;if(M(It))return!me;for(var ke=0;ke<me;ke+=1){var tr=le[ke];if(te[tr]!==It[tr]||!(tr in It))return!1}return!0}var et=U,q=function(It){return typeof It=="object"&&It!==null},dt=q,ct=function(It){if(!dt(It)||!y(It,"Object"))return!1;if(Object.getPrototypeOf(It)===null)return!0;for(var te=It;Object.getPrototypeOf(te)!==null;)te=Object.getPrototypeOf(te);return Object.getPrototypeOf(It)===te},Mt=ct;function D(It,te){if(!L(It))return null;var le;if(x(te)&&(le=te),Mt(te)&&(le=function(ke){return et(ke,te)}),le){for(var me=0;me<It.length;me+=1)if(le(It[me]))return It[me]}return null}var G=D;function X(It,te,le){le===void 0&&(le=0);for(var me=le;me<It.length;me++)if(te(It[me],me))return me;return-1}var N=X,tt=function(It,te){for(var le=null,me=0;me<It.length;me++){var ke=It[me],tr=ke[te];if(!M(tr)){L(tr)?le=tr[0]:le=tr;break}}return le},Q=tt,K=function(It){if(!L(It))return[];for(var te=[],le=0;le<It.length;le++)te=te.concat(It[le]);return te},V=K,H=function(It,te){if(te===void 0&&(te=[]),!L(It))te.push(It);else for(var le=0;le<It.length;le+=1)H(It[le],te);return te},u=H,ot=function(It){if(!!L(It))return It.reduce(function(te,le){return Math.max(te,le)},It[0])},pt=function(It){if(!!L(It))return It.reduce(function(te,le){return Math.min(te,le)},It[0])},it=function(It){var te=It.filter(function(_r){return!isNaN(_r)});if(!te.length)return{min:0,max:0};if(L(It[0])){for(var le=[],me=0;me<It.length;me++)le=le.concat(It[me]);te=le}var ke=ot(te),tr=pt(te);return{min:tr,max:ke}},xt=it,gt=Array.prototype,wt=gt.splice,Dt=gt.indexOf,Nt=function(It){for(var te=[],le=1;le<arguments.length;le++)te[le-1]=arguments[le];for(var me=0;me<te.length;me++)for(var ke=te[me],tr=-1;(tr=Dt.call(It,ke))>-1;)wt.call(It,tr,1);return It},Ot=Nt,Tt=Array.prototype.splice,at=function(te,le){if(!_(te))return[];for(var me=te?le.length:0,ke=me-1;me--;){var tr=void 0,_r=le[me];(me===ke||_r!==tr)&&(tr=_r,Tt.call(te,_r,1))}return te},st=at,Ct=function(It,te,le){if(!L(It)&&!Mt(It))return It;var me=le;return W(It,function(ke,tr){me=te(me,ke,tr)}),me},nt=Ct,rt=function(It,te){var le=[];if(!_(It))return le;for(var me=-1,ke=[],tr=It.length;++me<tr;){var _r=It[me];te(_r,me,It)&&(le.push(_r),ke.push(me))}return st(It,ke),le},mt=rt,Pt=function(It){return y(It,"String")};function Yt(It,te){var le;if(x(te))le=function(ke,tr){return te(ke)-te(tr)};else{var me=[];Pt(te)?me.push(te):L(te)&&(me=te),le=function(ke,tr){for(var _r=0;_r<me.length;_r+=1){var fn=me[_r];if(ke[fn]>tr[fn])return 1;if(ke[fn]<tr[fn])return-1}return 0}}return It.sort(le),It}var Jt=Yt;function de(It,te){te===void 0&&(te=new Map);var le=[];if(Array.isArray(It))for(var me=0,ke=It.length;me<ke;me++){var tr=It[me];te.has(tr)||(le.push(tr),te.set(tr,!0))}return le}var Ce=function(){for(var It=[],te=0;te<arguments.length;te++)It[te]=arguments[te];return de([].concat.apply([],It))},ye=Ce,Se=function(It,te){for(var le=[],me={},ke=0;ke<It.length;ke++){var tr=It[ke],_r=tr[te];if(!M(_r)){L(_r)||(_r=[_r]);for(var fn=0;fn<_r.length;fn++){var ci=_r[fn];me[ci]||(le.push(ci),me[ci]=!0)}}}return le};function Fe(It){if(_(It))return It[0]}function Ze(It){if(_(It)){var te=It;return te[te.length-1]}}function er(It,te){return L(It)||Pt(It)?It[0]===te:!1}var qe=er;function Pr(It,te){return L(It)||Pt(It)?It[It.length-1]===te:!1}var rn=Pr,Or=function(It,te){for(var le=0;le<It.length;le++)if(!te(It[le],le))return!1;return!0},Wr=Or,Zn=function(It,te){for(var le=0;le<It.length;le++)if(te(It[le],le))return!0;return!1},ei=Zn,mi=Object.prototype.hasOwnProperty;function xi(It,te){if(!te||!L(It))return{};for(var le={},me=x(te)?te:function(fn){return fn[te]},ke,tr=0;tr<It.length;tr++){var _r=It[tr];ke=me(_r),mi.call(le,ke)?le[ke].push(_r):le[ke]=[_r]}return le}var Ht=xi;function Zt(It,te){if(!te)return{0:It};if(!x(te)){var le=L(te)?te:te.replace(/\s+/g,"").split("*");te=function(me){for(var ke="_",tr=0,_r=le.length;tr<_r;tr++)ke+=me[le[tr]]&&me[le[tr]].toString();return ke}}return Ht(It,te)}var ne=function(It,te){if(!te)return[It];var le=Zt(It,te),me=[];for(var ke in le)me.push(le[ke]);return me};function ae(It,te){return It["_wrap_"+te]}var ge=ae;function xe(It,te){if(It["_wrap_"+te])return It["_wrap_"+te];var le=function(me){It[te](me)};return It["_wrap_"+te]=le,le}var be=xe,Te={};function ve(It){var te=Te[It];if(!te){for(var le=It.toString(16),me=le.length;me<6;me++)le="0"+le;te="#"+le,Te[It]=te}return te}var We=ve;function Be(It){var te=0,le=0,me=0,ke=0;return L(It)?It.length===1?te=le=me=ke=It[0]:It.length===2?(te=me=It[0],le=ke=It[1]):It.length===3?(te=It[0],le=ke=It[1],me=It[2]):(te=It[0],le=It[1],me=It[2],ke=It[3]):te=le=me=ke=It,{r1:te,r2:le,r3:me,r4:ke}}var $e=Be,rr=function(It,te,le){return It<te?te:It>le?le:It},Je=rr,or=function(It,te){var le=te.toString(),me=le.indexOf(".");if(me===-1)return Math.round(It);var ke=le.substr(me+1).length;return ke>20&&(ke=20),parseFloat(It.toFixed(ke))},ir=or,cr=function(It){return y(It,"Number")},Qe=cr,gr=function(It){return Qe(It)&&It%1!=0},Ir=gr,Er=function(It){return Qe(It)&&It%2==0},Lr=Er,Yr=Number.isInteger?Number.isInteger:function(It){return Qe(It)&&It%1==0},Dr=Yr,Cn=function(It){return Qe(It)&&It<0},Qr=Cn,Rn=1e-5;function si(It,te,le){return le===void 0&&(le=Rn),Math.abs(It-te)<le}var Kn=function(It){return Qe(It)&&It%2!=0},Ri=Kn,bi=function(It){return Qe(It)&&It>0},Cr=bi,ri=function(It,te){if(!!L(It)){for(var le,me=-Infinity,ke=0;ke<It.length;ke++){var tr=It[ke],_r=x(te)?te(tr):tr[te];_r>me&&(le=tr,me=_r)}return le}},li=function(It,te){if(!!L(It)){for(var le,me=Infinity,ke=0;ke<It.length;ke++){var tr=It[ke],_r=x(te)?te(tr):tr[te];_r<me&&(le=tr,me=_r)}return le}},ui=function(It,te){return(It%te+te)%te},pn=ui,fi=180/Math.PI,Hi=function(It){return fi*It},Ni=Hi,Yi=parseInt,Wn=Math.PI/180,ta=function(It){return Wn*It},va=ta,kt=W,At=function(It,te){return It.hasOwnProperty(te)},ft=At,yt=Object.values?function(It){return Object.values(It)}:function(It){var te=[];return W(It,function(le,me){x(It)&&me==="prototype"||te.push(le)}),te},Rt=yt,Kt=function(It,te){return O(Rt(It),te)},se=function(It){return M(It)?"":It.toString()},he=function(It){return se(It).toLowerCase()},ce=he,De=function(It){var te=se(It);return te.charAt(0).toLowerCase()+te.substring(1)},Lt=De;function _t(It,te){return!It||!te?It:It.replace(/\\?\{([^{}]+)\}/g,function(le,me){return le.charAt(0)==="\\"?le.slice(1):te[me]===void 0?"":te[me]})}var Gt=_t,qt=function(It){return se(It).toUpperCase()},Ut=qt,fe=function(It){var te=se(It);return te.charAt(0).toUpperCase()+te.substring(1)},Me=fe,Oe={}.toString,Xe=function(It){return Oe.call(It).replace(/^\[object /,"").replace(/]$/,"")},Le=Xe,Ae=function(It){return y(It,"Arguments")},dr=Ae,Mr=function(It){return y(It,"Boolean")},Kr=Mr,Ur=function(It){return y(It,"Date")},bn=Ur,Mn=function(It){return y(It,"Error")},ni=Mn;function zn(It){return Qe(It)&&isFinite(It)}var hi=function(It){return It===null},$n=hi,Xn=Object.prototype,en=function(It){var te=It&&It.constructor,le=typeof te=="function"&&te.prototype||Xn;return It===le},ii=en,Qn=function(It){return y(It,"RegExp")},Nn=Qn,na=function(It){return It===void 0},wi=na,Ki=function(It){return It instanceof Element||It instanceof HTMLDocument},Ma=Ki;function ia(It){var te=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(le){return setTimeout(le,16)};return te(It)}function Si(It){var te=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;te(It)}function aa(It,te){for(var le in te)te.hasOwnProperty(le)&&le!=="constructor"&&te[le]!==void 0&&(It[le]=te[le])}function _i(It,te,le,me){return te&&aa(It,te),le&&aa(It,le),me&&aa(It,me),It}var Jn=function(){for(var It=[],te=0;te<arguments.length;te++)It[te]=arguments[te];for(var le=It[0],me=1;me<It.length;me++){var ke=It[me];x(ke)&&(ke=ke.prototype),_i(le.prototype,ke)}},Wi=Jn,oa=function(It){if(typeof It!="object"||It===null)return It;var te;if(L(It)){te=[];for(var le=0,me=It.length;le<me;le++)typeof It[le]=="object"&&It[le]!=null?te[le]=oa(It[le]):te[le]=It[le]}else{te={};for(var ke in It)typeof It[ke]=="object"&&It[ke]!=null?te[ke]=oa(It[ke]):te[ke]=It[ke]}return te},Ka=oa;function Ea(It,te,le){var me;return function(){var ke=this,tr=arguments,_r=function(){me=null,le||It.apply(ke,tr)},fn=le&&!me;clearTimeout(me),me=setTimeout(_r,te),fn&&It.apply(ke,tr)}}var as=Ea,_o=function(It,te){if(!x(It))throw new TypeError("Expected a function");var le=function(){for(var me=[],ke=0;ke<arguments.length;ke++)me[ke]=arguments[ke];var tr=te?te.apply(this,me):me[0],_r=le.cache;if(_r.has(tr))return _r.get(tr);var fn=It.apply(this,me);return _r.set(tr,fn),fn};return le.cache=new Map,le},Hs=5;function fo(It,te,le,me){le=le||0,me=me||Hs;for(var ke in te)if(te.hasOwnProperty(ke)){var tr=te[ke];tr!==null&&Mt(tr)?(Mt(It[ke])||(It[ke]={}),le<me?fo(It[ke],tr,le+1,me):It[ke]=te[ke]):L(tr)?(It[ke]=[],It[ke]=It[ke].concat(tr)):tr!==void 0&&(It[ke]=tr)}}var Oo=function(It){for(var te=[],le=1;le<arguments.length;le++)te[le-1]=arguments[le];for(var me=0;me<te.length;me+=1)fo(It,te[me]);return It},$a=Oo,Oi=function(It,te,le,me){x(te)||(le=te,te=It,It=function(){});var ke=Object.create?function(_r,fn){return Object.create(_r,{constructor:{value:fn}})}:function(_r,fn){function ci(){}ci.prototype=_r;var $i=new ci;return $i.constructor=fn,$i},tr=ke(te.prototype,It);return It.prototype=_i(tr,It.prototype),It.superclass=ke(te.prototype,te),_i(tr,le),_i(It,me),It},os=Oi,ss=function(It,te){if(!_(It))return-1;var le=Array.prototype.indexOf;if(le)return le.call(It,te);for(var me=-1,ke=0;ke<It.length;ke++)if(It[ke]===te){me=ke;break}return me},Io=ss,ho=Object.prototype.hasOwnProperty;function mn(It){if(M(It))return!0;if(_(It))return!It.length;var te=Le(It);if(te==="Map"||te==="Set")return!It.size;if(ii(It))return!Object.keys(It).length;for(var le in It)if(ho.call(It,le))return!1;return!0}var ls=mn,Ci=function(It,te){if(It===te)return!0;if(!It||!te||Pt(It)||Pt(te))return!1;if(_(It)||_(te)){if(It.length!==te.length)return!1;for(var le=!0,me=0;me<It.length&&(le=Ci(It[me],te[me]),!!le);me++);return le}if(dt(It)||dt(te)){var ke=Object.keys(It),tr=Object.keys(te);if(ke.length!==tr.length)return!1;for(var le=!0,me=0;me<ke.length&&(le=Ci(It[ke[me]],te[ke[me]]),!!le);me++);return le}return!1},yn=Ci,ko=function(It,te,le){return x(le)?!!le(It,te):yn(It,te)},cn=function(It,te){if(!_(It))return It;for(var le=[],me=0;me<It.length;me++){var ke=It[me];le.push(te(ke,me))}return le},Ra=cn,Vt=function(It){return It},vt=function(It,te){te===void 0&&(te=Vt);var le={};return k(It)&&!M(It)&&Object.keys(It).forEach(function(me){le[me]=te(It[me],me)}),le},R=function(It,te,le){for(var me=0,ke=Pt(te)?te.split("."):te;It&&me<ke.length;)It=It[ke[me++]];return It===void 0||me<ke.length?le:It},J=function(It,te,le){var me=It,ke=Pt(te)?te.split("."):te;return ke.forEach(function(tr,_r){_r<ke.length-1?(k(me[tr])||(me[tr]=Qe(ke[_r+1])?[]:{}),me=me[tr]):me[tr]=le}),It},lt=Object.prototype.hasOwnProperty,St=function(It,te){if(It===null||!Mt(It))return{};var le={};return W(te,function(me){lt.call(It,me)&&(le[me]=It[me])}),le},Bt=function(It,te){return nt(It,function(le,me,ke){return te.includes(ke)||(le[ke]=me),le},{})},Xt=function(It,te,le){var me,ke,tr,_r,fn=0;le||(le={});var ci=function(){fn=le.leading===!1?0:Date.now(),me=null,_r=It.apply(ke,tr),me||(ke=tr=null)},$i=function(){var ea=Date.now();!fn&&le.leading===!1&&(fn=ea);var us=te-(ea-fn);return ke=this,tr=arguments,us<=0||us>te?(me&&(clearTimeout(me),me=null),fn=ea,_r=It.apply(ke,tr),me||(ke=tr=null)):!me&&le.trailing!==!1&&(me=setTimeout(ci,us)),_r};return $i.cancel=function(){clearTimeout(me),fn=0,me=ke=tr=null},$i},ee=function(It){return _(It)?Array.prototype.slice.call(It):[]},ie={},pe=function(It){return It=It||"g",ie[It]?ie[It]+=1:ie[It]=1,It+ie[It]},we=function(){},Re=function(It){return It};function Ve(It){return M(It)?0:_(It)?It.length:Object.keys(It).length}var sr=d(70655),Ar,mr=_o(function(It,te){te===void 0&&(te={});var le=te.fontSize,me=te.fontFamily,ke=te.fontWeight,tr=te.fontStyle,_r=te.fontVariant;return Ar||(Ar=document.createElement("canvas").getContext("2d")),Ar.font=[tr,_r,ke,le+"px",me].join(" "),Ar.measureText(Pt(It)?It:"").width},function(It,te){return te===void 0&&(te={}),(0,sr.__spreadArrays)([It],Rt(te)).join("")}),Zr=function(It,te,le,me){me===void 0&&(me="...");var ke=16,tr=mr(me,le),_r=Pt(It)?It:se(It),fn=te,ci=[],$i,ea;if(mr(It,le)<=te)return It;for(;$i=_r.substr(0,ke),ea=mr($i,le),!(ea+tr>fn&&ea>fn);)if(ci.push($i),fn-=ea,_r=_r.substr(ke),!_r)return ci.join("");for(;$i=_r.substr(0,1),ea=mr($i,le),!(ea+tr>fn);)if(ci.push($i),fn-=ea,_r=_r.substr(1),!_r)return ci.join("");return""+ci.join("")+me},Jr=function(){function It(){this.map={}}return It.prototype.has=function(te){return this.map[te]!==void 0},It.prototype.get=function(te,le){var me=this.map[te];return me===void 0?le:me},It.prototype.set=function(te,le){this.map[te]=le},It.prototype.clear=function(){this.map={}},It.prototype.delete=function(te){delete this.map[te]},It.prototype.size=function(){return Object.keys(this.map).length},It}(),$r=Jr},99581:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66974),_=d(46812),I=function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];for(var A=O[0],E=1;E<O.length;E++){var C=O[E];_.default(C)&&(C=C.prototype),w.default(A.prototype,C)}};S.default=I},68039:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function w(){this.map={}}return w.prototype.has=function(_){return this.map[_]!==void 0},w.prototype.get=function(_,I){var O=this.map[_];return O===void 0?I:O},w.prototype.set=function(_,I){this.map[_]=I},w.prototype.clear=function(){this.map={}},w.prototype.delete=function(_){delete this.map[_]},w.prototype.size=function(){return Object.keys(this.map).length},w}();S.default=d},37339:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,_,I){return w<_?_:w>I?I:w};S.default=d},35755:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var _=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;_(w)}S.default=d},8289:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=function(I){if(typeof I!="object"||I===null)return I;var O;if(w.default(I)){O=[];for(var P=0,A=I.length;P<A;P++)typeof I[P]=="object"&&I[P]!=null?O[P]=_(I[P]):O[P]=I[P]}else{O={};for(var E in I)typeof I[E]=="object"&&I[E]!=null?O[E]=_(I[E]):O[E]=I[E]}return O};S.default=_},75349:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),_=function(I,O){return w.default(I)?I.indexOf(O)>-1:!1};S.default=_},79663:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,_,I){var O;return function(){var P=this,A=arguments,E=function(){O=null,I||w.apply(P,A)},C=I&&!O;clearTimeout(O),O=setTimeout(E,_),C&&w.apply(P,A)}}S.default=d},90497:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(15907),I=5;function O(A,E,C,p){C=C||0,p=p||I;for(var b in E)if(E.hasOwnProperty(b)){var y=E[b];y!==null&&_.default(y)?(_.default(A[b])||(A[b]={}),C<p?O(A[b],y,C+1,p):A[b]=E[b]):w.default(y)?(A[b]=[],A[b]=A[b].concat(y)):y!==void 0&&(A[b]=y)}}var P=function(A){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];for(var p=0;p<E.length;p+=1)O(A,E[p]);return A};S.default=P},25430:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(40007),_=d(75349),I=function(O,P){return P===void 0&&(P=[]),w.default(O,function(A){return!_.default(P,A)})};S.default=I},27154:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(33643);function I(O,P){if(!!O){var A;if(w.default(O))for(var E=0,C=O.length;E<C&&(A=P(O[E],E),A!==!1);E++);else if(_.default(O)){for(var p in O)if(O.hasOwnProperty(p)&&(A=P(O[p],p),A===!1))break}}}S.default=I},61846:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(21830);function I(O,P){return w.default(O)||_.default(O)?O[O.length-1]===P:!1}S.default=I},8153:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,_){for(var I=0;I<w.length;I++)if(!_(w[I],I))return!1;return!0};S.default=d},13829:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66974),_=d(46812),I=function(O,P,A,E){_.default(P)||(A=P,P=O,O=function(){});var C=Object.create?function(b,y){return Object.create(b,{constructor:{value:y}})}:function(b,y){function x(){}x.prototype=b;var g=new x;return g.constructor=y,g},p=C(P.prototype,O);return O.prototype=w.default(p,O.prototype),O.superclass=C(P.prototype,P),w.default(p,A),w.default(O,E),O};S.default=I},40007:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),_=function(I,O){if(!w.default(I))return I;for(var P=[],A=0;A<I.length;A++){var E=I[A];O(E,A)&&P.push(E)}return P};S.default=_},90871:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,_,I){I===void 0&&(I=0);for(var O=I;O<w.length;O++)if(_(w[O],O))return O;return-1}S.default=d},32114:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(46812),_=d(20253),I=d(66631),O=d(15907);function P(A,E){if(!I.default(A))return null;var C;if(w.default(E)&&(C=E),O.default(E)&&(C=function(b){return _.default(b,E)}),C){for(var p=0;p<A.length;p+=1)if(C(A[p]))return A[p]}return null}S.default=P},84521:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),_=d(66631),I=function(O,P){for(var A=null,E=0;E<O.length;E++){var C=O[E],p=C[P];if(!w.default(p)){_.default(p)?A=p[0]:A=p;break}}return A};S.default=I},14266:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,_){var I=_.toString(),O=I.indexOf(".");if(O===-1)return Math.round(w);var P=I.substr(O+1).length;return P>20&&(P=20),parseFloat(w.toFixed(P))};S.default=d},61917:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=function(I,O){if(O===void 0&&(O=[]),!w.default(I))O.push(I);else for(var P=0;P<I.length;P+=1)_(I[P],O);return O};S.default=_},30267:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=function(I){if(!w.default(I))return[];for(var O=[],P=0;P<I.length;P++)O=O.concat(I[P]);return O};S.default=_},8361:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154);S.default=w.default},65616:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21830),_=d(78127),I=d(13754);S.default=function(O,P,A,E){E===void 0&&(E="...");var C=16,p=I.default(E,A),b=w.default(O)?O:_.default(O),y=P,x=[],g,M;if(I.default(O,A)<=P)return O;for(;g=b.substr(0,C),M=I.default(g,A),!(M+p>y&&M>y);)if(x.push(g),y-=M,b=b.substr(C),!b)return x.join("");for(;g=b.substr(0,1),M=I.default(g,A),!(M+p>y);)if(x.push(g),y-=M,b=b.substr(1),!b)return x.join("");return""+x.join("")+E}},83236:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(14705),I=d(45356),O=function(P){var A=P.filter(function(y){return!isNaN(y)});if(!A.length)return{min:0,max:0};if(w.default(P[0])){for(var E=[],C=0;C<P.length;C++)E=E.concat(P[C]);A=E}var p=_.default(A),b=I.default(A);return{min:b,max:p}};S.default=O},89175:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,w=function(_){return d.call(_).replace(/^\[object /,"").replace(/]$/,"")};S.default=w},71668:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,_){return w["_wrap_"+_]}S.default=d},58070:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(21830);S.default=function(_,I,O){for(var P=0,A=w.default(I)?I.split("."):I;_&&P<A.length;)_=_[A[P++]];return _===void 0||P<A.length?O:_}},54544:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(46812),I=Object.prototype.hasOwnProperty;function O(P,A){if(!A||!w.default(P))return{};for(var E={},C=_.default(A)?A:function(x){return x[A]},p,b=0;b<P.length;b++){var y=P[b];p=C(y),I.call(E,p)?E[p].push(y):E[p]=[y]}return E}S.default=O},64725:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(46812),I=d(54544);function O(P,A){if(!A)return{0:P};if(!_.default(A)){var E=w.default(A)?A:A.replace(/\s+/g,"").split("*");A=function(C){for(var p="_",b=0,y=E.length;b<y;b++)p+=C[E[b]]&&C[E[b]].toString();return p}}return I.default(P,A)}S.default=O},93597:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(64725);S.default=function(_,I){if(!I)return[_];var O=w.default(_,I),P=[];for(var A in O)P.push(O[A]);return P}},97507:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(57921);S.default=w.default},99969:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(75349),_=d(91161);S.default=function(I,O){return w.default(_.default(I),O)}},57921:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,w){return d.hasOwnProperty(w)}},41169:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102);function _(I){if(w.default(I))return I[0]}S.default=_},80870:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){return d}},40035:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),_=function(I,O){if(!w.default(I))return-1;var P=Array.prototype.indexOf;if(P)return P.call(I,O);for(var A=-1,E=0;E<I.length;E++)if(I[E]===O){A=E;break}return A};S.default=_},50229:function(bt,S,d){"use strict";var w;w={value:!0};var _=d(75349);w={enumerable:!0,get:function(){return _.default}},w={enumerable:!0,get:function(){return _.default}};var I=d(25430);w={enumerable:!0,get:function(){return I.default}};var O=d(32114);w={enumerable:!0,get:function(){return O.default}};var P=d(90871);w={enumerable:!0,get:function(){return P.default}};var A=d(84521);w={enumerable:!0,get:function(){return A.default}};var E=d(30267);w={enumerable:!0,get:function(){return E.default}};var C=d(61917);w={enumerable:!0,get:function(){return C.default}};var p=d(83236);w={enumerable:!0,get:function(){return p.default}};var b=d(5220);w={enumerable:!0,get:function(){return b.default}};var y=d(50779);w={enumerable:!0,get:function(){return y.default}};var x=d(13847);w={enumerable:!0,get:function(){return x.default}};var g=d(89757);w={enumerable:!0,get:function(){return g.default}};var M=d(27599);w={enumerable:!0,get:function(){return M.default}};var L=d(58632);w={enumerable:!0,get:function(){return L.default}};var k=d(12619);w={enumerable:!0,get:function(){return k.default}};var F=d(29208);w={enumerable:!0,get:function(){return F.default}};var W=d(41169);w={enumerable:!0,get:function(){return W.default}};var $=d(95145);w={enumerable:!0,get:function(){return $.default}};var z=d(680);w={enumerable:!0,get:function(){return z.default}};var U=d(61846);w={enumerable:!0,get:function(){return U.default}};var et=d(40007);w={enumerable:!0,get:function(){return et.default}};var q=d(8153);w={enumerable:!0,get:function(){return q.default}};var dt=d(58175);w={enumerable:!0,get:function(){return dt.default}};var ct=d(93597);w={enumerable:!0,get:function(){return ct.default}};var Mt=d(54544);w={enumerable:!0,get:function(){return Mt.default}};var D=d(64725);w={enumerable:!0,get:function(){return D.default}};var G=d(71668);w={enumerable:!0,get:function(){return G.default}};var X=d(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return X.default}});var N=d(45145);w={enumerable:!0,get:function(){return N.default}};var tt=d(85418);w={enumerable:!0,get:function(){return tt.default}};var Q=d(37339);w={enumerable:!0,get:function(){return Q.default}};var K=d(14266);w={enumerable:!0,get:function(){return K.default}};var V=d(51008);w={enumerable:!0,get:function(){return V.default}};var H=d(45420);w={enumerable:!0,get:function(){return H.default}};var u=d(68221);w={enumerable:!0,get:function(){return u.default}};var ot=d(58706);w={enumerable:!0,get:function(){return ot.default}};var pt=d(39984);w={enumerable:!0,get:function(){return pt.default}};var it=d(32705);w={enumerable:!0,get:function(){return it.default}};var xt=d(75732);w={enumerable:!0,get:function(){return xt.default}};var gt=d(14705);w={enumerable:!0,get:function(){return gt.default}};var wt=d(38935);w={enumerable:!0,get:function(){return wt.default}};var Dt=d(45356);w={enumerable:!0,get:function(){return Dt.default}};var Nt=d(89857);w={enumerable:!0,get:function(){return Nt.default}};var Ot=d(5253);w={enumerable:!0,get:function(){return Ot.default}};var Tt=d(2119);w={enumerable:!0,get:function(){return Tt.default}};var at=d(23196);w={enumerable:!0,get:function(){return at.default}};var st=d(9217);w={enumerable:!0,get:function(){return st.default}};var Ct=d(8361);w={enumerable:!0,get:function(){return Ct.default}};var nt=d(57921);w={enumerable:!0,get:function(){return nt.default}};var rt=d(97507);w={enumerable:!0,get:function(){return rt.default}};var mt=d(99969);w={enumerable:!0,get:function(){return mt.default}};var Pt=d(85050);w={enumerable:!0,get:function(){return Pt.default}};var Yt=d(20253);w={enumerable:!0,get:function(){return Yt.default}};var Jt=d(91161);w={enumerable:!0,get:function(){return Jt.default}};var de=d(88362);w={enumerable:!0,get:function(){return de.default}};var Ce=d(56095);w={enumerable:!0,get:function(){return Ce.default}};var ye=d(35541);w={enumerable:!0,get:function(){return ye.default}};var Se=d(72660);w={enumerable:!0,get:function(){return Se.default}};var Fe=d(85260);w={enumerable:!0,get:function(){return Fe.default}};var Ze=d(89175);w={enumerable:!0,get:function(){return Ze.default}};var er=d(55039);w={enumerable:!0,get:function(){return er.default}};var qe=d(66631);w={enumerable:!0,get:function(){return qe.default}};var Pr=d(48102);w={enumerable:!0,get:function(){return Pr.default}};var rn=d(25873);w={enumerable:!0,get:function(){return rn.default}};var Or=d(79396);w={enumerable:!0,get:function(){return Or.default}};var Wr=d(14230);w={enumerable:!0,get:function(){return Wr.default}};var Zn=d(46812);w={enumerable:!0,get:function(){return Zn.default}};var ei=d(73420);w={enumerable:!0,get:function(){return ei.default}};var mi=d(73890);w={enumerable:!0,get:function(){return mi.default}};var xi=d(85497);w={enumerable:!0,get:function(){return xi.default}};var Ht=d(16185);w={enumerable:!0,get:function(){return Ht.default}};var Zt=d(33643);w={enumerable:!0,get:function(){return Zt.default}};var ne=d(70441);w={enumerable:!0,get:function(){return ne.default}};var ae=d(15907);w={enumerable:!0,get:function(){return ae.default}};var ge=d(26296);w={enumerable:!0,get:function(){return ge.default}};var xe=d(7877);w={enumerable:!0,get:function(){return xe.default}};var be=d(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return be.default}});var Te=d(44235);w={enumerable:!0,get:function(){return Te.default}};var ve=d(25523);w={enumerable:!0,get:function(){return ve.default}};var We=d(58417);w={enumerable:!0,get:function(){return We.default}};var Be=d(98229);w={enumerable:!0,get:function(){return Be.default}};var $e=d(35755);w={enumerable:!0,get:function(){return $e.default}};var rr=d(99581);w={enumerable:!0,get:function(){return rr.default}};var Je=d(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return Je.default}});var or=d(79663);w={enumerable:!0,get:function(){return or.default}};var ir=d(99834);w={enumerable:!0,get:function(){return ir.default}};var cr=d(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return cr.default}});var Qe=d(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return Qe.default}});var gr=d(13829);w={enumerable:!0,get:function(){return gr.default}};var Ir=d(40035);w={enumerable:!0,get:function(){return Ir.default}};var Er=d(64029);w={enumerable:!0,get:function(){return Er.default}};var Lr=d(212);w={enumerable:!0,get:function(){return Lr.default}};var Yr=d(18112);w={enumerable:!0,get:function(){return Yr.default}};var Dr=d(92693);w={enumerable:!0,get:function(){return Dr.default}};var Cn=d(53497);w={enumerable:!0,get:function(){return Cn.default}};var Qr=d(66974);w={enumerable:!0,get:function(){return Qr.default}},w={enumerable:!0,get:function(){return Qr.default}};var Rn=d(58070);w={enumerable:!0,get:function(){return Rn.default}};var si=d(64119);w={enumerable:!0,get:function(){return si.default}};var Kn=d(24263);w={enumerable:!0,get:function(){return Kn.default}};var Ri=d(14179);w={enumerable:!0,get:function(){return Ri.default}};var bi=d(60979);w={enumerable:!0,get:function(){return bi.default}};var Cr=d(66668);w={enumerable:!0,get:function(){return Cr.default}};var ri=d(78127);w={enumerable:!0,get:function(){return ri.default}};var li=d(67250);w={enumerable:!0,get:function(){return li.default}};var ui=d(26851);w={enumerable:!0,get:function(){return ui.default}};var pn=d(80870);w={enumerable:!0,get:function(){return pn.default}};var fi=d(30597);w={enumerable:!0,get:function(){return fi.default}};var Hi=d(13754);w={enumerable:!0,get:function(){return Hi.default}};var Ni=d(65616);w={enumerable:!0,get:function(){return Ni.default}};var Yi=d(68039);w={enumerable:!0,get:function(){return Yi.default}}},55039:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),_=function(I){return w.default(I,"Arguments")};S.default=_},48102:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w!==null&&typeof w!="function"&&isFinite(w.length)};S.default=d},66631:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235);S.default=function(_){return Array.isArray?Array.isArray(_):w.default(_,"Array")}},25873:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),_=function(I){return w.default(I,"Boolean")};S.default=_},79396:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),_=function(I){return w.default(I,"Date")};S.default=_},51008:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),_=function(I){return w.default(I)&&I%1!=0};S.default=_},58417:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w instanceof Element||w instanceof HTMLDocument};S.default=d},64029:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),_=d(48102),I=d(89175),O=d(26296),P=Object.prototype.hasOwnProperty;function A(E){if(w.default(E))return!0;if(_.default(E))return!E.length;var C=I.default(E);if(C==="Map"||C==="Set")return!E.size;if(O.default(E))return!Object.keys(E).length;for(var p in E)if(P.call(E,p))return!1;return!0}S.default=A},18112:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(46812),_=d(212);S.default=function(I,O,P){return w.default(P)?!!P(I,O):_.default(I,O)}},212:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(70441),_=d(48102),I=d(21830),O=function(P,A){if(P===A)return!0;if(!P||!A||I.default(P)||I.default(A))return!1;if(_.default(P)||_.default(A)){if(P.length!==A.length)return!1;for(var E=!0,C=0;C<P.length&&(E=O(P[C],A[C]),!!E);C++);return E}if(w.default(P)||w.default(A)){var p=Object.keys(P),b=Object.keys(A);if(p.length!==b.length)return!1;for(var E=!0,C=0;C<p.length&&(E=O(P[p[C]],A[p[C]]),!!E);C++);return E}return!1};S.default=O},14230:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),_=function(I){return w.default(I,"Error")};S.default=_},45420:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),_=function(I){return w.default(I)&&I%2==0};S.default=_},73420:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185);function _(I){return w.default(I)&&isFinite(I)}S.default=_},46812:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235);S.default=function(_){return w.default(_,"Function")}},68221:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),_=Number.isInteger?Number.isInteger:function(I){return w.default(I)&&I%1==0};S.default=_},20253:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),_=d(85050);function I(O,P){var A=_.default(P),E=A.length;if(w.default(O))return!E;for(var C=0;C<E;C+=1){var p=A[C];if(P[p]!==O[p]||!(p in O))return!1}return!0}S.default=I},58706:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),_=function(I){return w.default(I)&&I<0};S.default=_},73890:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w==null};S.default=d},85497:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w===null};S.default=d},39984:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-5;function w(_,I,O){return O===void 0&&(O=d),Math.abs(_-I)<O}S.default=w},16185:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),_=function(I){return w.default(I,"Number")};S.default=_},70441:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return typeof w=="object"&&w!==null};S.default=d},33643:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){var w=typeof d;return d!==null&&w==="object"||w==="function"}},32705:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),_=function(I){return w.default(I)&&I%2!=0};S.default=_},15907:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(70441),_=d(44235),I=function(O){if(!w.default(O)||!_.default(O,"Object"))return!1;if(Object.getPrototypeOf(O)===null)return!0;for(var P=O;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(O)===P};S.default=I},75732:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(16185),_=function(I){return w.default(I)&&I>0};S.default=_},26296:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Object.prototype,w=function(_){var I=_&&_.constructor,O=typeof I=="function"&&I.prototype||d;return _===O};S.default=w},7877:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235),_=function(I){return w.default(I,"RegExp")};S.default=_},21830:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(44235);S.default=function(_){return w.default(_,"String")}},44235:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,w=function(_,I){return d.call(_)==="[object "+I+"]"};S.default=w},25523:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w){return w===void 0};S.default=d},85050:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154),_=d(46812),I=Object.keys?function(O){return Object.keys(O)}:function(O){var P=[];return w.default(O,function(A,E){_.default(O)&&E==="prototype"||P.push(E)}),P};S.default=I},95145:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102);function _(I){if(w.default(I)){var O=I;return O[O.length-1]}}S.default=_},88362:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(78127),_=function(I){return w.default(I).toLowerCase()};S.default=_},56095:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(78127),_=function(I){var O=w.default(I);return O.charAt(0).toLowerCase()+O.substring(1)};S.default=_},53497:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),_=d(33643),I=function(O){return O};S.default=function(O,P){P===void 0&&(P=I);var A={};return _.default(O)&&!w.default(O)&&Object.keys(O).forEach(function(E){A[E]=P(O[E],E)}),A}},92693:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),_=function(I,O){if(!w.default(I))return I;for(var P=[],A=0;A<I.length;A++){var E=I[A];P.push(O(E,A))}return P};S.default=_},38935:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(46812);S.default=function(I,O){if(!!w.default(I)){for(var P,A=-Infinity,E=0;E<I.length;E++){var C=I[E],p=_.default(O)?O(C):C[O];p>A&&(P=C,A=p)}return P}}},14705:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631);S.default=function(_){if(!!w.default(_))return _.reduce(function(I,O){return Math.max(I,O)},_[0])}},13754:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(70655),_=d(91161),I=d(99834),O=d(21830),P;S.default=I.default(function(A,E){E===void 0&&(E={});var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,y=E.fontStyle,x=E.fontVariant;return P||(P=document.createElement("canvas").getContext("2d")),P.font=[y,x,b,C+"px",p].join(" "),P.measureText(O.default(A)?A:"").width},function(A,E){return E===void 0&&(E={}),w.__spreadArrays([A],_.default(E)).join("")})},99834:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(46812);S.default=function(_,I){if(!w.default(_))throw new TypeError("Expected a function");var O=function(){for(var P=[],A=0;A<arguments.length;A++)P[A]=arguments[A];var E=I?I.apply(this,P):P[0],C=O.cache;if(C.has(E))return C.get(E);var p=_.apply(this,P);return C.set(E,p),p};return O.cache=new Map,O}},89857:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(46812);S.default=function(I,O){if(!!w.default(I)){for(var P,A=Infinity,E=0;E<I.length;E++){var C=I[E],p=_.default(O)?O(C):C[O];p<A&&(P=C,A=p)}return P}}},45356:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631);S.default=function(_){if(!!w.default(_))return _.reduce(function(I,O){return Math.min(I,O)},_[0])}},66974:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(_,I){for(var O in I)I.hasOwnProperty(O)&&O!=="constructor"&&I[O]!==void 0&&(_[O]=I[O])}function w(_,I,O,P){return I&&d(_,I),O&&d(_,O),P&&d(_,P),_}S.default=w},5253:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,_){return(w%_+_)%_};S.default=d},26851:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};function w(_){var I=d[_];if(!I){for(var O=_.toString(16),P=O.length;P<6;P++)O="0"+O;I="#"+O,d[_]=I}return I}S.default=w},14179:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(13847);S.default=function(_,I){return w.default(_,function(O,P,A){return I.includes(A)||(O[A]=P),O},{})}},85418:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631);function _(I){var O=0,P=0,A=0,E=0;return w.default(I)?I.length===1?O=P=A=E=I[0]:I.length===2?(O=A=I[0],P=E=I[1]):I.length===3?(O=I[0],P=E=I[1],A=I[2]):(O=I[0],P=I[1],A=I[2],E=I[3]):O=P=A=E=I,{r1:O,r2:P,r3:A,r4:E}}S.default=_},24263:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154),_=d(15907),I=Object.prototype.hasOwnProperty;S.default=function(O,P){if(O===null||!_.default(O))return{};var A={};return w.default(P,function(E){I.call(O,E)&&(A[E]=O[E])}),A}},50779:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),_=Array.prototype.splice,I=function(P,A){if(!w.default(P))return[];for(var E=P?A.length:0,C=E-1;E--;){var p=void 0,b=A[E];(E===C||b!==p)&&(p=b,_.call(P,b,1))}return P};S.default=I},5220:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Array.prototype,w=d.splice,_=d.indexOf,I=function(O){for(var P=[],A=1;A<arguments.length;A++)P[A-1]=arguments[A];for(var E=0;E<P.length;E++)for(var C=P[E],p=-1;(p=_.call(O,C))>-1;)w.call(O,p,1);return O};S.default=I},13847:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154),_=d(66631),I=d(15907),O=function(P,A,E){if(!_.default(P)&&!I.default(P))return P;var C=E;return w.default(P,function(p,b){C=A(C,p,b)}),C};S.default=O},89757:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102),_=d(50779),I=function(O,P){var A=[];if(!w.default(O))return A;for(var E=-1,C=[],p=O.length;++E<p;){var b=O[E];P(b,E,O)&&(A.push(b),C.push(E))}return _.default(O,C),A};S.default=I},98229:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w){var _=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(I){return setTimeout(I,16)};return _(w)}S.default=d},64119:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(33643),_=d(21830),I=d(16185);S.default=function(O,P,A){var E=O,C=_.default(P)?P.split("."):P;return C.forEach(function(p,b){b<C.length-1?(w.default(E[p])||(E[p]=I.default(C[b+1])?[]:{}),E=E[p]):E[p]=A}),O}},30597:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890),_=d(48102);function I(O){return w.default(O)?0:_.default(O)?O.length:Object.keys(O).length}S.default=I},58175:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(w,_){for(var I=0;I<w.length;I++)if(_(w[I],I))return!0;return!1};S.default=d},27599:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(21830),I=d(46812);function O(P,A){var E;if(I.default(A))E=function(p,b){return A(p)-A(b)};else{var C=[];_.default(A)?C.push(A):w.default(A)&&(C=A),E=function(p,b){for(var y=0;y<C.length;y+=1){var x=C[y];if(p[x]>b[x])return 1;if(p[x]<b[x])return-1}return 0}}return P.sort(E),P}S.default=O},680:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(21830);function I(O,P){return w.default(O)||_.default(O)?O[0]===P:!1}S.default=I},35541:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,_){return!w||!_?w:w.replace(/\\?\{([^{}]+)\}/g,function(I,O){return I.charAt(0)==="\\"?I.slice(1):_[O]===void 0?"":_[O]})}S.default=d},60979:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,w,_){var I,O,P,A,E=0;_||(_={});var C=function(){E=_.leading===!1?0:Date.now(),I=null,A=d.apply(O,P),I||(O=P=null)},p=function(){var b=Date.now();!E&&_.leading===!1&&(E=b);var y=w-(b-E);return O=this,P=arguments,y<=0||y>w?(I&&(clearTimeout(I),I=null),E=b,A=d.apply(O,P),I||(O=P=null)):!I&&_.trailing!==!1&&(I=setTimeout(C,y)),A};return p.cancel=function(){clearTimeout(I),E=0,I=O=P=null},p}},66668:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(48102);S.default=function(_){return w.default(_)?Array.prototype.slice.call(_):[]}},2119:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=180/Math.PI,w=function(_){return d*_};S.default=w},23196:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Math.PI/180,w=function(_){return d*_};S.default=w},78127:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(73890);S.default=function(_){return w.default(_)?"":_.toString()}},58632:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(12619),_=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];return w.default([].concat.apply([],I))};S.default=_},12619:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,_){_===void 0&&(_=new Map);var I=[];if(Array.isArray(w))for(var O=0,P=w.length;O<P;O++){var A=w[O];_.has(A)||(I.push(A),_.set(A,!0))}return I}S.default=d},67250:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};S.default=function(w){return w=w||"g",d[w]?d[w]+=1:d[w]=1,w+d[w]}},72660:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(78127),_=function(I){return w.default(I).toUpperCase()};S.default=_},85260:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(78127),_=function(I){var O=w.default(I);return O.charAt(0).toUpperCase()+O.substring(1)};S.default=_},29208:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(66631),_=d(73890);S.default=function(I,O){for(var P=[],A={},E=0;E<I.length;E++){var C=I[E],p=C[O];if(!_.default(p)){w.default(p)||(p=[p]);for(var b=0;b<p.length;b++){var y=p[b];A[y]||(P.push(y),A[y]=!0)}}}return P}},91161:function(bt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var w=d(27154),_=d(46812),I=Object.values?function(O){return Object.values(O)}:function(O){var P=[];return w.default(O,function(A,E){_.default(O)&&E==="prototype"||P.push(A)}),P};S.default=I},61262:function(bt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(w,_){if(w["_wrap_"+_])return w["_wrap_"+_];var I=function(O){w[_](O)};return w["_wrap_"+_]=I,I}S.default=d},62117:function(bt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return _},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return P},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return x},__read:function(){return g},__spread:function(){return M},__spreadArrays:function(){return L},__await:function(){return k},__asyncGenerator:function(){return F},__asyncDelegator:function(){return W},__asyncValues:function(){return $},__makeTemplateObject:function(){return z},__importStar:function(){return U},__importDefault:function(){return et},__classPrivateFieldGet:function(){return q},__classPrivateFieldSet:function(){return dt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(Mt,D){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,X){G.__proto__=X}||function(G,X){for(var N in X)X.hasOwnProperty(N)&&(G[N]=X[N])},w(Mt,D)};function _(ct,Mt){w(ct,Mt);function D(){this.constructor=ct}ct.prototype=Mt===null?Object.create(Mt):(D.prototype=Mt.prototype,new D)}var I=function(){return I=Object.assign||function(D){for(var G,X=1,N=arguments.length;X<N;X++){G=arguments[X];for(var tt in G)Object.prototype.hasOwnProperty.call(G,tt)&&(D[tt]=G[tt])}return D},I.apply(this,arguments)};function O(ct,Mt){var D={};for(var G in ct)Object.prototype.hasOwnProperty.call(ct,G)&&Mt.indexOf(G)<0&&(D[G]=ct[G]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(ct);X<G.length;X++)Mt.indexOf(G[X])<0&&Object.prototype.propertyIsEnumerable.call(ct,G[X])&&(D[G[X]]=ct[G[X]]);return D}function P(ct,Mt,D,G){var X=arguments.length,N=X<3?Mt:G===null?G=Object.getOwnPropertyDescriptor(Mt,D):G,tt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(ct,Mt,D,G);else for(var Q=ct.length-1;Q>=0;Q--)(tt=ct[Q])&&(N=(X<3?tt(N):X>3?tt(Mt,D,N):tt(Mt,D))||N);return X>3&&N&&Object.defineProperty(Mt,D,N),N}function A(ct,Mt){return function(D,G){Mt(D,G,ct)}}function E(ct,Mt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ct,Mt)}function C(ct,Mt,D,G){function X(N){return N instanceof D?N:new D(function(tt){tt(N)})}return new(D||(D=Promise))(function(N,tt){function Q(H){try{V(G.next(H))}catch(u){tt(u)}}function K(H){try{V(G.throw(H))}catch(u){tt(u)}}function V(H){H.done?N(H.value):X(H.value).then(Q,K)}V((G=G.apply(ct,Mt||[])).next())})}function p(ct,Mt){var D={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},G,X,N,tt;return tt={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function Q(V){return function(H){return K([V,H])}}function K(V){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,X&&(N=V[0]&2?X.return:V[0]?X.throw||((N=X.return)&&N.call(X),0):X.next)&&!(N=N.call(X,V[1])).done)return N;switch(X=0,N&&(V=[V[0]&2,N.value]),V[0]){case 0:case 1:N=V;break;case 4:return D.label++,{value:V[1],done:!1};case 5:D.label++,X=V[1],V=[0];continue;case 7:V=D.ops.pop(),D.trys.pop();continue;default:if(N=D.trys,!(N=N.length>0&&N[N.length-1])&&(V[0]===6||V[0]===2)){D=0;continue}if(V[0]===3&&(!N||V[1]>N[0]&&V[1]<N[3])){D.label=V[1];break}if(V[0]===6&&D.label<N[1]){D.label=N[1],N=V;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(V);break}N[2]&&D.ops.pop(),D.trys.pop();continue}V=Mt.call(ct,D)}catch(H){V=[6,H],X=0}finally{G=N=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}}function b(ct,Mt,D,G){G===void 0&&(G=D),ct[G]=Mt[D]}function y(ct,Mt){for(var D in ct)D!=="default"&&!Mt.hasOwnProperty(D)&&(Mt[D]=ct[D])}function x(ct){var Mt=typeof Symbol=="function"&&Symbol.iterator,D=Mt&&ct[Mt],G=0;if(D)return D.call(ct);if(ct&&typeof ct.length=="number")return{next:function(){return ct&&G>=ct.length&&(ct=void 0),{value:ct&&ct[G++],done:!ct}}};throw new TypeError(Mt?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(ct,Mt){var D=typeof Symbol=="function"&&ct[Symbol.iterator];if(!D)return ct;var G=D.call(ct),X,N=[],tt;try{for(;(Mt===void 0||Mt-- >0)&&!(X=G.next()).done;)N.push(X.value)}catch(Q){tt={error:Q}}finally{try{X&&!X.done&&(D=G.return)&&D.call(G)}finally{if(tt)throw tt.error}}return N}function M(){for(var ct=[],Mt=0;Mt<arguments.length;Mt++)ct=ct.concat(g(arguments[Mt]));return ct}function L(){for(var ct=0,Mt=0,D=arguments.length;Mt<D;Mt++)ct+=arguments[Mt].length;for(var G=Array(ct),X=0,Mt=0;Mt<D;Mt++)for(var N=arguments[Mt],tt=0,Q=N.length;tt<Q;tt++,X++)G[X]=N[tt];return G}function k(ct){return this instanceof k?(this.v=ct,this):new k(ct)}function F(ct,Mt,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=D.apply(ct,Mt||[]),X,N=[];return X={},tt("next"),tt("throw"),tt("return"),X[Symbol.asyncIterator]=function(){return this},X;function tt(ot){G[ot]&&(X[ot]=function(pt){return new Promise(function(it,xt){N.push([ot,pt,it,xt])>1||Q(ot,pt)})})}function Q(ot,pt){try{K(G[ot](pt))}catch(it){u(N[0][3],it)}}function K(ot){ot.value instanceof k?Promise.resolve(ot.value.v).then(V,H):u(N[0][2],ot)}function V(ot){Q("next",ot)}function H(ot){Q("throw",ot)}function u(ot,pt){ot(pt),N.shift(),N.length&&Q(N[0][0],N[0][1])}}function W(ct){var Mt,D;return Mt={},G("next"),G("throw",function(X){throw X}),G("return"),Mt[Symbol.iterator]=function(){return this},Mt;function G(X,N){Mt[X]=ct[X]?function(tt){return(D=!D)?{value:k(ct[X](tt)),done:X==="return"}:N?N(tt):tt}:N}}function $(ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mt=ct[Symbol.asyncIterator],D;return Mt?Mt.call(ct):(ct=typeof x=="function"?x(ct):ct[Symbol.iterator](),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=ct[N]&&function(tt){return new Promise(function(Q,K){tt=ct[N](tt),X(Q,K,tt.done,tt.value)})}}function X(N,tt,Q,K){Promise.resolve(K).then(function(V){N({value:V,done:Q})},tt)}}function z(ct,Mt){return Object.defineProperty?Object.defineProperty(ct,"raw",{value:Mt}):ct.raw=Mt,ct}function U(ct){if(ct&&ct.__esModule)return ct;var Mt={};if(ct!=null)for(var D in ct)Object.hasOwnProperty.call(ct,D)&&(Mt[D]=ct[D]);return Mt.default=ct,Mt}function et(ct){return ct&&ct.__esModule?ct:{default:ct}}function q(ct,Mt){if(!Mt.has(ct))throw new TypeError("attempted to get private field on non-instance");return Mt.get(ct)}function dt(ct,Mt,D){if(!Mt.has(ct))throw new TypeError("attempted to set private field on non-instance");return Mt.set(ct,D),D}},8108:function(bt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return _},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return P},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return x},__read:function(){return g},__spread:function(){return M},__spreadArrays:function(){return L},__await:function(){return k},__asyncGenerator:function(){return F},__asyncDelegator:function(){return W},__asyncValues:function(){return $},__makeTemplateObject:function(){return z},__importStar:function(){return U},__importDefault:function(){return et},__classPrivateFieldGet:function(){return q},__classPrivateFieldSet:function(){return dt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(Mt,D){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,X){G.__proto__=X}||function(G,X){for(var N in X)X.hasOwnProperty(N)&&(G[N]=X[N])},w(Mt,D)};function _(ct,Mt){w(ct,Mt);function D(){this.constructor=ct}ct.prototype=Mt===null?Object.create(Mt):(D.prototype=Mt.prototype,new D)}var I=function(){return I=Object.assign||function(D){for(var G,X=1,N=arguments.length;X<N;X++){G=arguments[X];for(var tt in G)Object.prototype.hasOwnProperty.call(G,tt)&&(D[tt]=G[tt])}return D},I.apply(this,arguments)};function O(ct,Mt){var D={};for(var G in ct)Object.prototype.hasOwnProperty.call(ct,G)&&Mt.indexOf(G)<0&&(D[G]=ct[G]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(ct);X<G.length;X++)Mt.indexOf(G[X])<0&&Object.prototype.propertyIsEnumerable.call(ct,G[X])&&(D[G[X]]=ct[G[X]]);return D}function P(ct,Mt,D,G){var X=arguments.length,N=X<3?Mt:G===null?G=Object.getOwnPropertyDescriptor(Mt,D):G,tt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(ct,Mt,D,G);else for(var Q=ct.length-1;Q>=0;Q--)(tt=ct[Q])&&(N=(X<3?tt(N):X>3?tt(Mt,D,N):tt(Mt,D))||N);return X>3&&N&&Object.defineProperty(Mt,D,N),N}function A(ct,Mt){return function(D,G){Mt(D,G,ct)}}function E(ct,Mt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ct,Mt)}function C(ct,Mt,D,G){function X(N){return N instanceof D?N:new D(function(tt){tt(N)})}return new(D||(D=Promise))(function(N,tt){function Q(H){try{V(G.next(H))}catch(u){tt(u)}}function K(H){try{V(G.throw(H))}catch(u){tt(u)}}function V(H){H.done?N(H.value):X(H.value).then(Q,K)}V((G=G.apply(ct,Mt||[])).next())})}function p(ct,Mt){var D={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},G,X,N,tt;return tt={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function Q(V){return function(H){return K([V,H])}}function K(V){if(G)throw new TypeError("Generator is already executing.");for(;D;)try{if(G=1,X&&(N=V[0]&2?X.return:V[0]?X.throw||((N=X.return)&&N.call(X),0):X.next)&&!(N=N.call(X,V[1])).done)return N;switch(X=0,N&&(V=[V[0]&2,N.value]),V[0]){case 0:case 1:N=V;break;case 4:return D.label++,{value:V[1],done:!1};case 5:D.label++,X=V[1],V=[0];continue;case 7:V=D.ops.pop(),D.trys.pop();continue;default:if(N=D.trys,!(N=N.length>0&&N[N.length-1])&&(V[0]===6||V[0]===2)){D=0;continue}if(V[0]===3&&(!N||V[1]>N[0]&&V[1]<N[3])){D.label=V[1];break}if(V[0]===6&&D.label<N[1]){D.label=N[1],N=V;break}if(N&&D.label<N[2]){D.label=N[2],D.ops.push(V);break}N[2]&&D.ops.pop(),D.trys.pop();continue}V=Mt.call(ct,D)}catch(H){V=[6,H],X=0}finally{G=N=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}}function b(ct,Mt,D,G){G===void 0&&(G=D),ct[G]=Mt[D]}function y(ct,Mt){for(var D in ct)D!=="default"&&!Mt.hasOwnProperty(D)&&(Mt[D]=ct[D])}function x(ct){var Mt=typeof Symbol=="function"&&Symbol.iterator,D=Mt&&ct[Mt],G=0;if(D)return D.call(ct);if(ct&&typeof ct.length=="number")return{next:function(){return ct&&G>=ct.length&&(ct=void 0),{value:ct&&ct[G++],done:!ct}}};throw new TypeError(Mt?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(ct,Mt){var D=typeof Symbol=="function"&&ct[Symbol.iterator];if(!D)return ct;var G=D.call(ct),X,N=[],tt;try{for(;(Mt===void 0||Mt-- >0)&&!(X=G.next()).done;)N.push(X.value)}catch(Q){tt={error:Q}}finally{try{X&&!X.done&&(D=G.return)&&D.call(G)}finally{if(tt)throw tt.error}}return N}function M(){for(var ct=[],Mt=0;Mt<arguments.length;Mt++)ct=ct.concat(g(arguments[Mt]));return ct}function L(){for(var ct=0,Mt=0,D=arguments.length;Mt<D;Mt++)ct+=arguments[Mt].length;for(var G=Array(ct),X=0,Mt=0;Mt<D;Mt++)for(var N=arguments[Mt],tt=0,Q=N.length;tt<Q;tt++,X++)G[X]=N[tt];return G}function k(ct){return this instanceof k?(this.v=ct,this):new k(ct)}function F(ct,Mt,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=D.apply(ct,Mt||[]),X,N=[];return X={},tt("next"),tt("throw"),tt("return"),X[Symbol.asyncIterator]=function(){return this},X;function tt(ot){G[ot]&&(X[ot]=function(pt){return new Promise(function(it,xt){N.push([ot,pt,it,xt])>1||Q(ot,pt)})})}function Q(ot,pt){try{K(G[ot](pt))}catch(it){u(N[0][3],it)}}function K(ot){ot.value instanceof k?Promise.resolve(ot.value.v).then(V,H):u(N[0][2],ot)}function V(ot){Q("next",ot)}function H(ot){Q("throw",ot)}function u(ot,pt){ot(pt),N.shift(),N.length&&Q(N[0][0],N[0][1])}}function W(ct){var Mt,D;return Mt={},G("next"),G("throw",function(X){throw X}),G("return"),Mt[Symbol.iterator]=function(){return this},Mt;function G(X,N){Mt[X]=ct[X]?function(tt){return(D=!D)?{value:k(ct[X](tt)),done:X==="return"}:N?N(tt):tt}:N}}function $(ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mt=ct[Symbol.asyncIterator],D;return Mt?Mt.call(ct):(ct=typeof x=="function"?x(ct):ct[Symbol.iterator](),D={},G("next"),G("throw"),G("return"),D[Symbol.asyncIterator]=function(){return this},D);function G(N){D[N]=ct[N]&&function(tt){return new Promise(function(Q,K){tt=ct[N](tt),X(Q,K,tt.done,tt.value)})}}function X(N,tt,Q,K){Promise.resolve(K).then(function(V){N({value:V,done:Q})},tt)}}function z(ct,Mt){return Object.defineProperty?Object.defineProperty(ct,"raw",{value:Mt}):ct.raw=Mt,ct}function U(ct){if(ct&&ct.__esModule)return ct;var Mt={};if(ct!=null)for(var D in ct)Object.hasOwnProperty.call(ct,D)&&(Mt[D]=ct[D]);return Mt.default=ct,Mt}function et(ct){return ct&&ct.__esModule?ct:{default:ct}}function q(ct,Mt){if(!Mt.has(ct))throw new TypeError("attempted to get private field on non-instance");return Mt.get(ct)}function dt(ct,Mt,D){if(!Mt.has(ct))throw new TypeError("attempted to set private field on non-instance");return Mt.set(ct,D),D}},48168:function(bt,S,d){var w=d(39092),_={};for(var I in w)w.hasOwnProperty(I)&&(_[w[I]]=I);var O=bt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var P in O)if(O.hasOwnProperty(P)){if(!("channels"in O[P]))throw new Error("missing channels property: "+P);if(!("labels"in O[P]))throw new Error("missing channel labels property: "+P);if(O[P].labels.length!==O[P].channels)throw new Error("channel and label counts mismatch: "+P);var A=O[P].channels,E=O[P].labels;delete O[P].channels,delete O[P].labels,Object.defineProperty(O[P],"channels",{value:A}),Object.defineProperty(O[P],"labels",{value:E})}O.rgb.hsl=function(p){var b=p[0]/255,y=p[1]/255,x=p[2]/255,g=Math.min(b,y,x),M=Math.max(b,y,x),L=M-g,k,F,W;return M===g?k=0:b===M?k=(y-x)/L:y===M?k=2+(x-b)/L:x===M&&(k=4+(b-y)/L),k=Math.min(k*60,360),k<0&&(k+=360),W=(g+M)/2,M===g?F=0:W<=.5?F=L/(M+g):F=L/(2-M-g),[k,F*100,W*100]},O.rgb.hsv=function(p){var b,y,x,g,M,L=p[0]/255,k=p[1]/255,F=p[2]/255,W=Math.max(L,k,F),$=W-Math.min(L,k,F),z=function(U){return(W-U)/6/$+1/2};return $===0?g=M=0:(M=$/W,b=z(L),y=z(k),x=z(F),L===W?g=x-y:k===W?g=1/3+b-x:F===W&&(g=2/3+y-b),g<0?g+=1:g>1&&(g-=1)),[g*360,M*100,W*100]},O.rgb.hwb=function(p){var b=p[0],y=p[1],x=p[2],g=O.rgb.hsl(p)[0],M=1/255*Math.min(b,Math.min(y,x));return x=1-1/255*Math.max(b,Math.max(y,x)),[g,M*100,x*100]},O.rgb.cmyk=function(p){var b=p[0]/255,y=p[1]/255,x=p[2]/255,g,M,L,k;return k=Math.min(1-b,1-y,1-x),g=(1-b-k)/(1-k)||0,M=(1-y-k)/(1-k)||0,L=(1-x-k)/(1-k)||0,[g*100,M*100,L*100,k*100]};function C(p,b){return Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2)+Math.pow(p[2]-b[2],2)}O.rgb.keyword=function(p){var b=_[p];if(b)return b;var y=Infinity,x;for(var g in w)if(w.hasOwnProperty(g)){var M=w[g],L=C(p,M);L<y&&(y=L,x=g)}return x},O.keyword.rgb=function(p){return w[p]},O.rgb.xyz=function(p){var b=p[0]/255,y=p[1]/255,x=p[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92,x=x>.04045?Math.pow((x+.055)/1.055,2.4):x/12.92;var g=b*.4124+y*.3576+x*.1805,M=b*.2126+y*.7152+x*.0722,L=b*.0193+y*.1192+x*.9505;return[g*100,M*100,L*100]},O.rgb.lab=function(p){var b=O.rgb.xyz(p),y=b[0],x=b[1],g=b[2],M,L,k;return y/=95.047,x/=100,g/=108.883,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,M=116*x-16,L=500*(y-x),k=200*(x-g),[M,L,k]},O.hsl.rgb=function(p){var b=p[0]/360,y=p[1]/100,x=p[2]/100,g,M,L,k,F;if(y===0)return F=x*255,[F,F,F];x<.5?M=x*(1+y):M=x+y-x*y,g=2*x-M,k=[0,0,0];for(var W=0;W<3;W++)L=b+1/3*-(W-1),L<0&&L++,L>1&&L--,6*L<1?F=g+(M-g)*6*L:2*L<1?F=M:3*L<2?F=g+(M-g)*(2/3-L)*6:F=g,k[W]=F*255;return k},O.hsl.hsv=function(p){var b=p[0],y=p[1]/100,x=p[2]/100,g=y,M=Math.max(x,.01),L,k;return x*=2,y*=x<=1?x:2-x,g*=M<=1?M:2-M,k=(x+y)/2,L=x===0?2*g/(M+g):2*y/(x+y),[b,L*100,k*100]},O.hsv.rgb=function(p){var b=p[0]/60,y=p[1]/100,x=p[2]/100,g=Math.floor(b)%6,M=b-Math.floor(b),L=255*x*(1-y),k=255*x*(1-y*M),F=255*x*(1-y*(1-M));switch(x*=255,g){case 0:return[x,F,L];case 1:return[k,x,L];case 2:return[L,x,F];case 3:return[L,k,x];case 4:return[F,L,x];case 5:return[x,L,k]}},O.hsv.hsl=function(p){var b=p[0],y=p[1]/100,x=p[2]/100,g=Math.max(x,.01),M,L,k;return k=(2-y)*x,M=(2-y)*g,L=y*g,L/=M<=1?M:2-M,L=L||0,k/=2,[b,L*100,k*100]},O.hwb.rgb=function(p){var b=p[0]/360,y=p[1]/100,x=p[2]/100,g=y+x,M,L,k,F;g>1&&(y/=g,x/=g),M=Math.floor(6*b),L=1-x,k=6*b-M,(M&1)!=0&&(k=1-k),F=y+k*(L-y);var W,$,z;switch(M){default:case 6:case 0:W=L,$=F,z=y;break;case 1:W=F,$=L,z=y;break;case 2:W=y,$=L,z=F;break;case 3:W=y,$=F,z=L;break;case 4:W=F,$=y,z=L;break;case 5:W=L,$=y,z=F;break}return[W*255,$*255,z*255]},O.cmyk.rgb=function(p){var b=p[0]/100,y=p[1]/100,x=p[2]/100,g=p[3]/100,M,L,k;return M=1-Math.min(1,b*(1-g)+g),L=1-Math.min(1,y*(1-g)+g),k=1-Math.min(1,x*(1-g)+g),[M*255,L*255,k*255]},O.xyz.rgb=function(p){var b=p[0]/100,y=p[1]/100,x=p[2]/100,g,M,L;return g=b*3.2406+y*-1.5372+x*-.4986,M=b*-.9689+y*1.8758+x*.0415,L=b*.0557+y*-.204+x*1.057,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92,M=M>.0031308?1.055*Math.pow(M,1/2.4)-.055:M*12.92,L=L>.0031308?1.055*Math.pow(L,1/2.4)-.055:L*12.92,g=Math.min(Math.max(0,g),1),M=Math.min(Math.max(0,M),1),L=Math.min(Math.max(0,L),1),[g*255,M*255,L*255]},O.xyz.lab=function(p){var b=p[0],y=p[1],x=p[2],g,M,L;return b/=95.047,y/=100,x/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,g=116*y-16,M=500*(b-y),L=200*(y-x),[g,M,L]},O.lab.xyz=function(p){var b=p[0],y=p[1],x=p[2],g,M,L;M=(b+16)/116,g=y/500+M,L=M-x/200;var k=Math.pow(M,3),F=Math.pow(g,3),W=Math.pow(L,3);return M=k>.008856?k:(M-16/116)/7.787,g=F>.008856?F:(g-16/116)/7.787,L=W>.008856?W:(L-16/116)/7.787,g*=95.047,M*=100,L*=108.883,[g,M,L]},O.lab.lch=function(p){var b=p[0],y=p[1],x=p[2],g,M,L;return g=Math.atan2(x,y),M=g*360/2/Math.PI,M<0&&(M+=360),L=Math.sqrt(y*y+x*x),[b,L,M]},O.lch.lab=function(p){var b=p[0],y=p[1],x=p[2],g,M,L;return L=x/360*2*Math.PI,g=y*Math.cos(L),M=y*Math.sin(L),[b,g,M]},O.rgb.ansi16=function(p){var b=p[0],y=p[1],x=p[2],g=1 in arguments?arguments[1]:O.rgb.hsv(p)[2];if(g=Math.round(g/50),g===0)return 30;var M=30+(Math.round(x/255)<<2|Math.round(y/255)<<1|Math.round(b/255));return g===2&&(M+=60),M},O.hsv.ansi16=function(p){return O.rgb.ansi16(O.hsv.rgb(p),p[2])},O.rgb.ansi256=function(p){var b=p[0],y=p[1],x=p[2];if(b===y&&y===x)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var g=16+36*Math.round(b/255*5)+6*Math.round(y/255*5)+Math.round(x/255*5);return g},O.ansi16.rgb=function(p){var b=p%10;if(b===0||b===7)return p>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var y=(~~(p>50)+1)*.5,x=(b&1)*y*255,g=(b>>1&1)*y*255,M=(b>>2&1)*y*255;return[x,g,M]},O.ansi256.rgb=function(p){if(p>=232){var b=(p-232)*10+8;return[b,b,b]}p-=16;var y,x=Math.floor(p/36)/5*255,g=Math.floor((y=p%36)/6)/5*255,M=y%6/5*255;return[x,g,M]},O.rgb.hex=function(p){var b=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),y=b.toString(16).toUpperCase();return"000000".substring(y.length)+y},O.hex.rgb=function(p){var b=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var y=b[0];b[0].length===3&&(y=y.split("").map(function(k){return k+k}).join(""));var x=parseInt(y,16),g=x>>16&255,M=x>>8&255,L=x&255;return[g,M,L]},O.rgb.hcg=function(p){var b=p[0]/255,y=p[1]/255,x=p[2]/255,g=Math.max(Math.max(b,y),x),M=Math.min(Math.min(b,y),x),L=g-M,k,F;return L<1?k=M/(1-L):k=0,L<=0?F=0:g===b?F=(y-x)/L%6:g===y?F=2+(x-b)/L:F=4+(b-y)/L+4,F/=6,F%=1,[F*360,L*100,k*100]},O.hsl.hcg=function(p){var b=p[1]/100,y=p[2]/100,x=1,g=0;return y<.5?x=2*b*y:x=2*b*(1-y),x<1&&(g=(y-.5*x)/(1-x)),[p[0],x*100,g*100]},O.hsv.hcg=function(p){var b=p[1]/100,y=p[2]/100,x=b*y,g=0;return x<1&&(g=(y-x)/(1-x)),[p[0],x*100,g*100]},O.hcg.rgb=function(p){var b=p[0]/360,y=p[1]/100,x=p[2]/100;if(y===0)return[x*255,x*255,x*255];var g=[0,0,0],M=b%1*6,L=M%1,k=1-L,F=0;switch(Math.floor(M)){case 0:g[0]=1,g[1]=L,g[2]=0;break;case 1:g[0]=k,g[1]=1,g[2]=0;break;case 2:g[0]=0,g[1]=1,g[2]=L;break;case 3:g[0]=0,g[1]=k,g[2]=1;break;case 4:g[0]=L,g[1]=0,g[2]=1;break;default:g[0]=1,g[1]=0,g[2]=k}return F=(1-y)*x,[(y*g[0]+F)*255,(y*g[1]+F)*255,(y*g[2]+F)*255]},O.hcg.hsv=function(p){var b=p[1]/100,y=p[2]/100,x=b+y*(1-b),g=0;return x>0&&(g=b/x),[p[0],g*100,x*100]},O.hcg.hsl=function(p){var b=p[1]/100,y=p[2]/100,x=y*(1-b)+.5*b,g=0;return x>0&&x<.5?g=b/(2*x):x>=.5&&x<1&&(g=b/(2*(1-x))),[p[0],g*100,x*100]},O.hcg.hwb=function(p){var b=p[1]/100,y=p[2]/100,x=b+y*(1-b);return[p[0],(x-b)*100,(1-x)*100]},O.hwb.hcg=function(p){var b=p[1]/100,y=p[2]/100,x=1-y,g=x-b,M=0;return g<1&&(M=(x-g)/(1-g)),[p[0],g*100,M*100]},O.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},O.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},O.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},O.gray.hsl=O.gray.hsv=function(p){return[0,0,p[0]]},O.gray.hwb=function(p){return[0,100,p[0]]},O.gray.cmyk=function(p){return[0,0,0,p[0]]},O.gray.lab=function(p){return[p[0],0,0]},O.gray.hex=function(p){var b=Math.round(p[0]/100*255)&255,y=(b<<16)+(b<<8)+b,x=y.toString(16).toUpperCase();return"000000".substring(x.length)+x},O.rgb.gray=function(p){var b=(p[0]+p[1]+p[2])/3;return[b/255*100]}},12085:function(bt,S,d){var w=d(48168),_=d(4111),I={},O=Object.keys(w);function P(E){var C=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),E(p))};return"conversion"in E&&(C.conversion=E.conversion),C}function A(E){var C=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var b=E(p);if(typeof b=="object")for(var y=b.length,x=0;x<y;x++)b[x]=Math.round(b[x]);return b};return"conversion"in E&&(C.conversion=E.conversion),C}O.forEach(function(E){I[E]={},Object.defineProperty(I[E],"channels",{value:w[E].channels}),Object.defineProperty(I[E],"labels",{value:w[E].labels});var C=_(E),p=Object.keys(C);p.forEach(function(b){var y=C[b];I[E][b]=A(y),I[E][b].raw=P(y)})}),bt.exports=I},39092:function(bt){"use strict";bt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(bt,S,d){var w=d(48168);function _(){for(var A={},E=Object.keys(w),C=E.length,p=0;p<C;p++)A[E[p]]={distance:-1,parent:null};return A}function I(A){var E=_(),C=[A];for(E[A].distance=0;C.length;)for(var p=C.pop(),b=Object.keys(w[p]),y=b.length,x=0;x<y;x++){var g=b[x],M=E[g];M.distance===-1&&(M.distance=E[p].distance+1,M.parent=p,C.unshift(g))}return E}function O(A,E){return function(C){return E(A(C))}}function P(A,E){for(var C=[E[A].parent,A],p=w[E[A].parent][A],b=E[A].parent;E[b].parent;)C.unshift(E[b].parent),p=O(w[E[b].parent][b],p),b=E[b].parent;return p.conversion=C,p}bt.exports=function(A){for(var E=I(A),C={},p=Object.keys(E),b=p.length,y=0;y<b;y++){var x=p[y],g=E[x];g.parent!==null&&(C[x]=P(x,E))}return C}},8874:function(bt){"use strict";bt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(bt,S,d){var w=d(8874),_=d(86851),I={};for(var O in w)w.hasOwnProperty(O)&&(I[w[O]]=O);var P=bt.exports={to:{},get:{}};P.get=function(C){var p=C.substring(0,3).toLowerCase(),b,y;switch(p){case"hsl":b=P.get.hsl(C),y="hsl";break;case"hwb":b=P.get.hwb(C),y="hwb";break;default:b=P.get.rgb(C),y="rgb";break}return b?{model:y,value:b}:null},P.get.rgb=function(C){if(!C)return null;var p=/^#([a-f0-9]{3,4})$/i,b=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,y=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,x=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,g=/(\D+)/,M=[0,0,0,1],L,k,F;if(L=C.match(b)){for(F=L[2],L=L[1],k=0;k<3;k++){var W=k*2;M[k]=parseInt(L.slice(W,W+2),16)}F&&(M[3]=parseInt(F,16)/255)}else if(L=C.match(p)){for(L=L[1],F=L[3],k=0;k<3;k++)M[k]=parseInt(L[k]+L[k],16);F&&(M[3]=parseInt(F+F,16)/255)}else if(L=C.match(y)){for(k=0;k<3;k++)M[k]=parseInt(L[k+1],0);L[4]&&(M[3]=parseFloat(L[4]))}else if(L=C.match(x)){for(k=0;k<3;k++)M[k]=Math.round(parseFloat(L[k+1])*2.55);L[4]&&(M[3]=parseFloat(L[4]))}else return(L=C.match(g))?L[1]==="transparent"?[0,0,0,0]:(M=w[L[1]],M?(M[3]=1,M):null):null;for(k=0;k<3;k++)M[k]=A(M[k],0,255);return M[3]=A(M[3],0,1),M},P.get.hsl=function(C){if(!C)return null;var p=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/,b=C.match(p);if(b){var y=parseFloat(b[4]),x=(parseFloat(b[1])+360)%360,g=A(parseFloat(b[2]),0,100),M=A(parseFloat(b[3]),0,100),L=A(isNaN(y)?1:y,0,1);return[x,g,M,L]}return null},P.get.hwb=function(C){if(!C)return null;var p=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,b=C.match(p);if(b){var y=parseFloat(b[4]),x=(parseFloat(b[1])%360+360)%360,g=A(parseFloat(b[2]),0,100),M=A(parseFloat(b[3]),0,100),L=A(isNaN(y)?1:y,0,1);return[x,g,M,L]}return null},P.to.hex=function(){var C=_(arguments);return"#"+E(C[0])+E(C[1])+E(C[2])+(C[3]<1?E(Math.round(C[3]*255)):"")},P.to.rgb=function(){var C=_(arguments);return C.length<4||C[3]===1?"rgb("+Math.round(C[0])+", "+Math.round(C[1])+", "+Math.round(C[2])+")":"rgba("+Math.round(C[0])+", "+Math.round(C[1])+", "+Math.round(C[2])+", "+C[3]+")"},P.to.rgb.percent=function(){var C=_(arguments),p=Math.round(C[0]/255*100),b=Math.round(C[1]/255*100),y=Math.round(C[2]/255*100);return C.length<4||C[3]===1?"rgb("+p+"%, "+b+"%, "+y+"%)":"rgba("+p+"%, "+b+"%, "+y+"%, "+C[3]+")"},P.to.hsl=function(){var C=_(arguments);return C.length<4||C[3]===1?"hsl("+C[0]+", "+C[1]+"%, "+C[2]+"%)":"hsla("+C[0]+", "+C[1]+"%, "+C[2]+"%, "+C[3]+")"},P.to.hwb=function(){var C=_(arguments),p="";return C.length>=4&&C[3]!==1&&(p=", "+C[3]),"hwb("+C[0]+", "+C[1]+"%, "+C[2]+"%"+p+")"},P.to.keyword=function(C){return I[C.slice(0,3)]};function A(C,p,b){return Math.min(Math.max(p,C),b)}function E(C){var p=C.toString(16).toUpperCase();return p.length<2?"0"+p:p}},6767:function(bt,S,d){"use strict";var w=d(19818),_=d(12085),I=[].slice,O=["keyword","gray","hex"],P={};Object.keys(_).forEach(function(M){P[I.call(_[M].labels).sort().join("")]=M});var A={};function E(M,L){if(!(this instanceof E))return new E(M,L);if(L&&L in O&&(L=null),L&&!(L in _))throw new Error("Unknown model: "+L);var k,F;if(M==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(M instanceof E)this.model=M.model,this.color=M.color.slice(),this.valpha=M.valpha;else if(typeof M=="string"){var W=w.get(M);if(W===null)throw new Error("Unable to parse color from string: "+M);this.model=W.model,F=_[this.model].channels,this.color=W.value.slice(0,F),this.valpha=typeof W.value[F]=="number"?W.value[F]:1}else if(M.length){this.model=L||"rgb",F=_[this.model].channels;var $=I.call(M,0,F);this.color=g($,F),this.valpha=typeof M[F]=="number"?M[F]:1}else if(typeof M=="number")M&=16777215,this.model="rgb",this.color=[M>>16&255,M>>8&255,M&255],this.valpha=1;else{this.valpha=1;var z=Object.keys(M);"alpha"in M&&(z.splice(z.indexOf("alpha"),1),this.valpha=typeof M.alpha=="number"?M.alpha:0);var U=z.sort().join("");if(!(U in P))throw new Error("Unable to parse color from object: "+JSON.stringify(M));this.model=P[U];var et=_[this.model].labels,q=[];for(k=0;k<et.length;k++)q.push(M[et[k]]);this.color=g(q)}if(A[this.model])for(F=_[this.model].channels,k=0;k<F;k++){var dt=A[this.model][k];dt&&(this.color[k]=dt(this.color[k]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}E.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(M){var L=this.model in w.to?this:this.rgb();L=L.round(typeof M=="number"?M:1);var k=L.valpha===1?L.color:L.color.concat(this.valpha);return w.to[L.model](k)},percentString:function(M){var L=this.rgb().round(typeof M=="number"?M:1),k=L.valpha===1?L.color:L.color.concat(this.valpha);return w.to.rgb.percent(k)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var M={},L=_[this.model].channels,k=_[this.model].labels,F=0;F<L;F++)M[k[F]]=this.color[F];return this.valpha!==1&&(M.alpha=this.valpha),M},unitArray:function(){var M=this.rgb().color;return M[0]/=255,M[1]/=255,M[2]/=255,this.valpha!==1&&M.push(this.valpha),M},unitObject:function(){var M=this.rgb().object();return M.r/=255,M.g/=255,M.b/=255,this.valpha!==1&&(M.alpha=this.valpha),M},round:function(M){return M=Math.max(M||0,0),new E(this.color.map(p(M)).concat(this.valpha),this.model)},alpha:function(M){return arguments.length?new E(this.color.concat(Math.max(0,Math.min(1,M))),this.model):this.valpha},red:b("rgb",0,y(255)),green:b("rgb",1,y(255)),blue:b("rgb",2,y(255)),hue:b(["hsl","hsv","hsl","hwb","hcg"],0,function(M){return(M%360+360)%360}),saturationl:b("hsl",1,y(100)),lightness:b("hsl",2,y(100)),saturationv:b("hsv",1,y(100)),value:b("hsv",2,y(100)),chroma:b("hcg",1,y(100)),gray:b("hcg",2,y(100)),white:b("hwb",1,y(100)),wblack:b("hwb",2,y(100)),cyan:b("cmyk",0,y(100)),magenta:b("cmyk",1,y(100)),yellow:b("cmyk",2,y(100)),black:b("cmyk",3,y(100)),x:b("xyz",0,y(100)),y:b("xyz",1,y(100)),z:b("xyz",2,y(100)),l:b("lab",0,y(100)),a:b("lab",1),b:b("lab",2),keyword:function(M){return arguments.length?new E(M):_[this.model].keyword(this.color)},hex:function(M){return arguments.length?new E(M):w.to.hex(this.rgb().round().color)},rgbNumber:function(){var M=this.rgb().color;return(M[0]&255)<<16|(M[1]&255)<<8|M[2]&255},luminosity:function(){for(var M=this.rgb().color,L=[],k=0;k<M.length;k++){var F=M[k]/255;L[k]=F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}return .2126*L[0]+.7152*L[1]+.0722*L[2]},contrast:function(M){var L=this.luminosity(),k=M.luminosity();return L>k?(L+.05)/(k+.05):(k+.05)/(L+.05)},level:function(M){var L=this.contrast(M);return L>=7.1?"AAA":L>=4.5?"AA":""},isDark:function(){var M=this.rgb().color,L=(M[0]*299+M[1]*587+M[2]*114)/1e3;return L<128},isLight:function(){return!this.isDark()},negate:function(){for(var M=this.rgb(),L=0;L<3;L++)M.color[L]=255-M.color[L];return M},lighten:function(M){var L=this.hsl();return L.color[2]+=L.color[2]*M,L},darken:function(M){var L=this.hsl();return L.color[2]-=L.color[2]*M,L},saturate:function(M){var L=this.hsl();return L.color[1]+=L.color[1]*M,L},desaturate:function(M){var L=this.hsl();return L.color[1]-=L.color[1]*M,L},whiten:function(M){var L=this.hwb();return L.color[1]+=L.color[1]*M,L},blacken:function(M){var L=this.hwb();return L.color[2]+=L.color[2]*M,L},grayscale:function(){var M=this.rgb().color,L=M[0]*.3+M[1]*.59+M[2]*.11;return E.rgb(L,L,L)},fade:function(M){return this.alpha(this.valpha-this.valpha*M)},opaquer:function(M){return this.alpha(this.valpha+this.valpha*M)},rotate:function(M){var L=this.hsl(),k=L.color[0];return k=(k+M)%360,k=k<0?360+k:k,L.color[0]=k,L},mix:function(M,L){if(!M||!M.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof M);var k=M.rgb(),F=this.rgb(),W=L===void 0?.5:L,$=2*W-1,z=k.alpha()-F.alpha(),U=(($*z==-1?$:($+z)/(1+$*z))+1)/2,et=1-U;return E.rgb(U*k.red()+et*F.red(),U*k.green()+et*F.green(),U*k.blue()+et*F.blue(),k.alpha()*W+F.alpha()*(1-W))}},Object.keys(_).forEach(function(M){if(O.indexOf(M)===-1){var L=_[M].channels;E.prototype[M]=function(){if(this.model===M)return new E(this);if(arguments.length)return new E(arguments,M);var k=typeof arguments[L]=="number"?L:this.valpha;return new E(x(_[this.model][M].raw(this.color)).concat(k),M)},E[M]=function(k){return typeof k=="number"&&(k=g(I.call(arguments),L)),new E(k,M)}}});function C(M,L){return Number(M.toFixed(L))}function p(M){return function(L){return C(L,M)}}function b(M,L,k){return M=Array.isArray(M)?M:[M],M.forEach(function(F){(A[F]||(A[F]=[]))[L]=k}),M=M[0],function(F){var W;return arguments.length?(k&&(F=k(F)),W=this[M](),W.color[L]=F,W):(W=this[M]().color[L],k&&(W=k(W)),W)}}function y(M){return function(L){return Math.max(0,Math.min(M,L))}}function x(M){return Array.isArray(M)?M:[M]}function g(M,L){for(var k=0;k<L;k++)typeof M[k]!="number"&&(M[k]=0);return M}bt.exports=E},2650:function(bt,S,d){"use strict";d.d(S,{ZP:function(){return z},B8:function(){return dt}});function w(V,H,u){V.prototype=H.prototype=u,u.constructor=V}function _(V,H){var u=Object.create(V.prototype);for(var ot in H)u[ot]=H[ot];return u}function I(){}var O=.7,P=1/O,A="\\s*([+-]?\\d+)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,b=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),y=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),x=new RegExp("^rgba\\("+[A,A,A,E]+"\\)$"),g=new RegExp("^rgba\\("+[C,C,C,E]+"\\)$"),M=new RegExp("^hsl\\("+[E,C,C]+"\\)$"),L=new RegExp("^hsla\\("+[E,C,C,E]+"\\)$"),k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w(I,z,{copy:function(V){return Object.assign(new this.constructor,this,V)},displayable:function(){return this.rgb().displayable()},hex:F,formatHex:F,formatHsl:W,formatRgb:$,toString:$});function F(){return this.rgb().formatHex()}function W(){return N(this).formatHsl()}function $(){return this.rgb().formatRgb()}function z(V){var H,u;return V=(V+"").trim().toLowerCase(),(H=p.exec(V))?(u=H[1].length,H=parseInt(H[1],16),u===6?U(H):u===3?new ct(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):u===8?et(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):u===4?et(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=b.exec(V))?new ct(H[1],H[2],H[3],1):(H=y.exec(V))?new ct(H[1]*255/100,H[2]*255/100,H[3]*255/100,1):(H=x.exec(V))?et(H[1],H[2],H[3],H[4]):(H=g.exec(V))?et(H[1]*255/100,H[2]*255/100,H[3]*255/100,H[4]):(H=M.exec(V))?X(H[1],H[2]/100,H[3]/100,1):(H=L.exec(V))?X(H[1],H[2]/100,H[3]/100,H[4]):k.hasOwnProperty(V)?U(k[V]):V==="transparent"?new ct(NaN,NaN,NaN,0):null}function U(V){return new ct(V>>16&255,V>>8&255,V&255,1)}function et(V,H,u,ot){return ot<=0&&(V=H=u=NaN),new ct(V,H,u,ot)}function q(V){return V instanceof I||(V=z(V)),V?(V=V.rgb(),new ct(V.r,V.g,V.b,V.opacity)):new ct}function dt(V,H,u,ot){return arguments.length===1?q(V):new ct(V,H,u,ot==null?1:ot)}function ct(V,H,u,ot){this.r=+V,this.g=+H,this.b=+u,this.opacity=+ot}w(ct,dt,_(I,{brighter:function(V){return V=V==null?P:Math.pow(P,V),new ct(this.r*V,this.g*V,this.b*V,this.opacity)},darker:function(V){return V=V==null?O:Math.pow(O,V),new ct(this.r*V,this.g*V,this.b*V,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mt,formatHex:Mt,formatRgb:D,toString:D}));function Mt(){return"#"+G(this.r)+G(this.g)+G(this.b)}function D(){var V=this.opacity;return V=isNaN(V)?1:Math.max(0,Math.min(1,V)),(V===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(V===1?")":", "+V+")")}function G(V){return V=Math.max(0,Math.min(255,Math.round(V)||0)),(V<16?"0":"")+V.toString(16)}function X(V,H,u,ot){return ot<=0?V=H=u=NaN:u<=0||u>=1?V=H=NaN:H<=0&&(V=NaN),new Q(V,H,u,ot)}function N(V){if(V instanceof Q)return new Q(V.h,V.s,V.l,V.opacity);if(V instanceof I||(V=z(V)),!V)return new Q;if(V instanceof Q)return V;V=V.rgb();var H=V.r/255,u=V.g/255,ot=V.b/255,pt=Math.min(H,u,ot),it=Math.max(H,u,ot),xt=NaN,gt=it-pt,wt=(it+pt)/2;return gt?(H===it?xt=(u-ot)/gt+(u<ot)*6:u===it?xt=(ot-H)/gt+2:xt=(H-u)/gt+4,gt/=wt<.5?it+pt:2-it-pt,xt*=60):gt=wt>0&&wt<1?0:xt,new Q(xt,gt,wt,V.opacity)}function tt(V,H,u,ot){return arguments.length===1?N(V):new Q(V,H,u,ot==null?1:ot)}function Q(V,H,u,ot){this.h=+V,this.s=+H,this.l=+u,this.opacity=+ot}w(Q,tt,_(I,{brighter:function(V){return V=V==null?P:Math.pow(P,V),new Q(this.h,this.s,this.l*V,this.opacity)},darker:function(V){return V=V==null?O:Math.pow(O,V),new Q(this.h,this.s,this.l*V,this.opacity)},rgb:function(){var V=this.h%360+(this.h<0)*360,H=isNaN(V)||isNaN(this.s)?0:this.s,u=this.l,ot=u+(u<.5?u:1-u)*H,pt=2*u-ot;return new ct(K(V>=240?V-240:V+120,pt,ot),K(V,pt,ot),K(V<120?V+240:V-120,pt,ot),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var V=this.opacity;return V=isNaN(V)?1:Math.max(0,Math.min(1,V)),(V===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(V===1?")":", "+V+")")}}));function K(V,H,u){return(V<60?H+(u-H)*V/60:V<180?u:V<240?H+(u-H)*(240-V)/60:H)*255}},68716:function(bt,S,d){"use strict";d.d(S,{yD:function(){return w},_e:function(){return _},tw:function(){return I}});function w(O){return O*O*O}function _(O){return--O*O*O+1}function I(O){return((O*=2)<=1?O*O*O:(O-=2)*O*O+2)/2}},13681:function(bt,S,d){"use strict";d.r(S),d.d(S,{easeBack:function(){return pt},easeBackIn:function(){return u},easeBackInOut:function(){return pt},easeBackOut:function(){return ot},easeBounce:function(){return K},easeBounceIn:function(){return Q},easeBounceInOut:function(){return V},easeBounceOut:function(){return K},easeCircle:function(){return U},easeCircleIn:function(){return $},easeCircleInOut:function(){return U},easeCircleOut:function(){return z},easeCubic:function(){return P.tw},easeCubicIn:function(){return P.yD},easeCubicInOut:function(){return P.tw},easeCubicOut:function(){return P._e},easeElastic:function(){return Dt},easeElasticIn:function(){return wt},easeElasticInOut:function(){return Nt},easeElasticOut:function(){return Dt},easeExp:function(){return W},easeExpIn:function(){return k},easeExpInOut:function(){return W},easeExpOut:function(){return F},easeLinear:function(){return w},easePoly:function(){return p},easePolyIn:function(){return E},easePolyInOut:function(){return p},easePolyOut:function(){return C},easeQuad:function(){return O},easeQuadIn:function(){return _},easeQuadInOut:function(){return O},easeQuadOut:function(){return I},easeSin:function(){return M},easeSinIn:function(){return x},easeSinInOut:function(){return M},easeSinOut:function(){return g}});function w(Ot){return+Ot}function _(Ot){return Ot*Ot}function I(Ot){return Ot*(2-Ot)}function O(Ot){return((Ot*=2)<=1?Ot*Ot:--Ot*(2-Ot)+1)/2}var P=d(68716),A=3,E=function Ot(Tt){Tt=+Tt;function at(st){return Math.pow(st,Tt)}return at.exponent=Ot,at}(A),C=function Ot(Tt){Tt=+Tt;function at(st){return 1-Math.pow(1-st,Tt)}return at.exponent=Ot,at}(A),p=function Ot(Tt){Tt=+Tt;function at(st){return((st*=2)<=1?Math.pow(st,Tt):2-Math.pow(2-st,Tt))/2}return at.exponent=Ot,at}(A),b=Math.PI,y=b/2;function x(Ot){return+Ot==1?1:1-Math.cos(Ot*y)}function g(Ot){return Math.sin(Ot*y)}function M(Ot){return(1-Math.cos(b*Ot))/2}function L(Ot){return(Math.pow(2,-10*Ot)-.0009765625)*1.0009775171065494}function k(Ot){return L(1-+Ot)}function F(Ot){return 1-L(Ot)}function W(Ot){return((Ot*=2)<=1?L(1-Ot):2-L(Ot-1))/2}function $(Ot){return 1-Math.sqrt(1-Ot*Ot)}function z(Ot){return Math.sqrt(1- --Ot*Ot)}function U(Ot){return((Ot*=2)<=1?1-Math.sqrt(1-Ot*Ot):Math.sqrt(1-(Ot-=2)*Ot)+1)/2}var et=4/11,q=6/11,dt=8/11,ct=3/4,Mt=9/11,D=10/11,G=15/16,X=21/22,N=63/64,tt=1/et/et;function Q(Ot){return 1-K(1-Ot)}function K(Ot){return(Ot=+Ot)<et?tt*Ot*Ot:Ot<dt?tt*(Ot-=q)*Ot+ct:Ot<D?tt*(Ot-=Mt)*Ot+G:tt*(Ot-=X)*Ot+N}function V(Ot){return((Ot*=2)<=1?1-K(1-Ot):K(Ot-1)+1)/2}var H=1.70158,u=function Ot(Tt){Tt=+Tt;function at(st){return(st=+st)*st*(Tt*(st-1)+st)}return at.overshoot=Ot,at}(H),ot=function Ot(Tt){Tt=+Tt;function at(st){return--st*st*((st+1)*Tt+st)+1}return at.overshoot=Ot,at}(H),pt=function Ot(Tt){Tt=+Tt;function at(st){return((st*=2)<1?st*st*((Tt+1)*st-Tt):(st-=2)*st*((Tt+1)*st+Tt)+2)/2}return at.overshoot=Ot,at}(H),it=2*Math.PI,xt=1,gt=.3,wt=function Ot(Tt,at){var st=Math.asin(1/(Tt=Math.max(1,Tt)))*(at/=it);function Ct(nt){return Tt*L(- --nt)*Math.sin((st-nt)/at)}return Ct.amplitude=function(nt){return Ot(nt,at*it)},Ct.period=function(nt){return Ot(Tt,nt)},Ct}(xt,gt),Dt=function Ot(Tt,at){var st=Math.asin(1/(Tt=Math.max(1,Tt)))*(at/=it);function Ct(nt){return 1-Tt*L(nt=+nt)*Math.sin((nt+st)/at)}return Ct.amplitude=function(nt){return Ot(nt,at*it)},Ct.period=function(nt){return Ot(Tt,nt)},Ct}(xt,gt),Nt=function Ot(Tt,at){var st=Math.asin(1/(Tt=Math.max(1,Tt)))*(at/=it);function Ct(nt){return((nt=nt*2-1)<0?Tt*L(-nt)*Math.sin((st-nt)/at):2-Tt*L(nt)*Math.sin((st+nt)/at))/2}return Ct.amplitude=function(nt){return Ot(nt,at*it)},Ct.period=function(nt){return Ot(Tt,nt)},Ct}(xt,gt)},88122:function(bt,S,d){"use strict";d.d(S,{Z:function(){return I},M:function(){return O}});var w=d(26257),_=d(67896);function I(P,A){return((0,_.v)(A)?_.Z:O)(P,A)}function O(P,A){var E=A?A.length:0,C=P?Math.min(E,P.length):0,p=new Array(C),b=new Array(E),y;for(y=0;y<C;++y)p[y]=(0,w.Z)(P[y],A[y]);for(;y<E;++y)b[y]=A[y];return function(x){for(y=0;y<C;++y)b[y]=p[y](x);return b}}},73626:function(bt,S,d){"use strict";d.d(S,{Z:function(){return w}});function w(_,I){return _=+_,I=+I,function(O){return _*(1-O)+I*O}}},67896:function(bt,S,d){"use strict";d.d(S,{Z:function(){return w},v:function(){return _}});function w(I,O){O||(O=[]);var P=I?Math.min(O.length,I.length):0,A=O.slice(),E;return function(C){for(E=0;E<P;++E)A[E]=I[E]*(1-C)+O[E]*C;return A}}function _(I){return ArrayBuffer.isView(I)&&!(I instanceof DataView)}},26257:function(bt,S,d){"use strict";d.d(S,{Z:function(){return ct}});var w=d(2650);function _(Mt,D,G,X,N){var tt=Mt*Mt,Q=tt*Mt;return((1-3*Mt+3*tt-Q)*D+(4-6*tt+3*Q)*G+(1+3*Mt+3*tt-3*Q)*X+Q*N)/6}function I(Mt){var D=Mt.length-1;return function(G){var X=G<=0?G=0:G>=1?(G=1,D-1):Math.floor(G*D),N=Mt[X],tt=Mt[X+1],Q=X>0?Mt[X-1]:2*N-tt,K=X<D-1?Mt[X+2]:2*tt-N;return _((G-X/D)*D,Q,N,tt,K)}}function O(Mt){var D=Mt.length;return function(G){var X=Math.floor(((G%=1)<0?++G:G)*D),N=Mt[(X+D-1)%D],tt=Mt[X%D],Q=Mt[(X+1)%D],K=Mt[(X+2)%D];return _((G-X/D)*D,N,tt,Q,K)}}function P(Mt){return function(){return Mt}}function A(Mt,D){return function(G){return Mt+G*D}}function E(Mt,D,G){return Mt=Math.pow(Mt,G),D=Math.pow(D,G)-Mt,G=1/G,function(X){return Math.pow(Mt+X*D,G)}}function C(Mt,D){var G=D-Mt;return G?A(Mt,G>180||G<-180?G-360*Math.round(G/360):G):constant(isNaN(Mt)?D:Mt)}function p(Mt){return(Mt=+Mt)==1?b:function(D,G){return G-D?E(D,G,Mt):P(isNaN(D)?G:D)}}function b(Mt,D){var G=D-Mt;return G?A(Mt,G):P(isNaN(Mt)?D:Mt)}var y=function Mt(D){var G=p(D);function X(N,tt){var Q=G((N=(0,w.B8)(N)).r,(tt=(0,w.B8)(tt)).r),K=G(N.g,tt.g),V=G(N.b,tt.b),H=b(N.opacity,tt.opacity);return function(u){return N.r=Q(u),N.g=K(u),N.b=V(u),N.opacity=H(u),N+""}}return X.gamma=Mt,X}(1);function x(Mt){return function(D){var G=D.length,X=new Array(G),N=new Array(G),tt=new Array(G),Q,K;for(Q=0;Q<G;++Q)K=(0,w.B8)(D[Q]),X[Q]=K.r||0,N[Q]=K.g||0,tt[Q]=K.b||0;return X=Mt(X),N=Mt(N),tt=Mt(tt),K.opacity=1,function(V){return K.r=X(V),K.g=N(V),K.b=tt(V),K+""}}}var g=x(I),M=x(O),L=d(88122);function k(Mt,D){var G=new Date;return Mt=+Mt,D=+D,function(X){return G.setTime(Mt*(1-X)+D*X),G}}var F=d(73626);function W(Mt,D){var G={},X={},N;(Mt===null||typeof Mt!="object")&&(Mt={}),(D===null||typeof D!="object")&&(D={});for(N in D)N in Mt?G[N]=ct(Mt[N],D[N]):X[N]=D[N];return function(tt){for(N in G)X[N]=G[N](tt);return X}}var $=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z=new RegExp($.source,"g");function U(Mt){return function(){return Mt}}function et(Mt){return function(D){return Mt(D)+""}}function q(Mt,D){var G=$.lastIndex=z.lastIndex=0,X,N,tt,Q=-1,K=[],V=[];for(Mt=Mt+"",D=D+"";(X=$.exec(Mt))&&(N=z.exec(D));)(tt=N.index)>G&&(tt=D.slice(G,tt),K[Q]?K[Q]+=tt:K[++Q]=tt),(X=X[0])===(N=N[0])?K[Q]?K[Q]+=N:K[++Q]=N:(K[++Q]=null,V.push({i:Q,x:(0,F.Z)(X,N)})),G=z.lastIndex;return G<D.length&&(tt=D.slice(G),K[Q]?K[Q]+=tt:K[++Q]=tt),K.length<2?V[0]?et(V[0].x):U(D):(D=V.length,function(H){for(var u=0,ot;u<D;++u)K[(ot=V[u]).i]=ot.x(H);return K.join("")})}var dt=d(67896);function ct(Mt,D){var G=typeof D,X;return D==null||G==="boolean"?P(D):(G==="number"?F.Z:G==="string"?(X=(0,w.ZP)(D))?(D=X,y):q:D instanceof w.ZP?y:D instanceof Date?k:(0,dt.v)(D)?dt.Z:Array.isArray(D)?L.M:typeof D.valueOf!="function"&&typeof D.toString!="function"||isNaN(D)?W:F.Z)(Mt,D)}},56645:function(bt,S){(function(d,w){w(S)})(this,function(d){"use strict";function w(D,G){return _(D)||I(D,G)||O()}function _(D){if(Array.isArray(D))return D}function I(D,G){var X=[],N=!0,tt=!1,Q=void 0;try{for(var K=D[Symbol.iterator](),V;!(N=(V=K.next()).done)&&(X.push(V.value),!(G&&X.length===G));N=!0);}catch(H){tt=!0,Q=H}finally{try{!N&&K.return!=null&&K.return()}finally{if(tt)throw Q}}return X}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(D,G,X,N){D=D.filter(function(gt,wt){var Dt=G(gt,wt),Nt=X(gt,wt);return Dt!=null&&isFinite(Dt)&&Nt!=null&&isFinite(Nt)}),N&&D.sort(function(gt,wt){return G(gt)-G(wt)});for(var tt=D.length,Q=new Float64Array(tt),K=new Float64Array(tt),V=0,H=0,u,ot,pt,it=0;it<tt;)pt=D[it],Q[it]=u=+G(pt,it,D),K[it]=ot=+X(pt,it,D),++it,V+=(u-V)/it,H+=(ot-H)/it;for(var xt=0;xt<tt;++xt)Q[xt]-=V,K[xt]-=H;return[Q,K,V,H]}function A(D,G,X,N){for(var tt=0,Q=0,K=D.length;Q<K;Q++){var V=D[Q],H=+G(V,Q,D),u=+X(V,Q,D);H!=null&&isFinite(H)&&u!=null&&isFinite(u)&&N(H,u,tt++)}}function E(D,G,X,N,tt){var Q=0,K=0;return A(D,G,X,function(V,H){var u=H-tt(V),ot=H-N;Q+=u*u,K+=ot*ot}),1-Q/K}function C(D){return Math.atan2(D[1][1]-D[0][1],D[1][0]-D[0][0])*180/Math.PI}function p(D){return[(D[0][0]+D[1][0])/2,(D[0][1]+D[1][1])/2]}function b(D,G,X){for(var N=Math.log(G-D)*Math.LOG10E+1|0,tt=1*Math.pow(10,-N/2-1),Q=1e4,K=[H(D),H(G)],V=0;u(K)&&V<Q;);return K;function H(ot){return[ot,X(ot)]}function u(ot){V++;for(var pt=ot.length,it=!1,xt=0;xt<pt-1;xt++){var gt=ot[xt],wt=ot[xt+1],Dt=p([gt,wt]),Nt=H(Dt[0]),Ot=C([gt,Dt]),Tt=C([gt,Nt]),at=Math.abs(Ot-Tt);at>tt&&(ot.splice(xt+1,0,Nt),it=!0)}return it}}function y(D,G,X,N){var tt=N-D*D,Q=Math.abs(tt)<1e-24?0:(X-D*G)/tt,K=G-Q*D;return[K,Q]}function x(){var D=function(Q){return Q[0]},G=function(Q){return Q[1]},X;function N(tt){var Q=0,K=0,V=0,H=0,u=0,ot=0,pt=X?+X[0]:Infinity,it=X?+X[1]:-Infinity;A(tt,D,G,function(Tt,at){var st=Math.log(at),Ct=Tt*at;++Q,K+=(at-K)/Q,H+=(Ct-H)/Q,ot+=(Tt*Ct-ot)/Q,V+=(at*st-V)/Q,u+=(Ct*st-u)/Q,X||(Tt<pt&&(pt=Tt),Tt>it&&(it=Tt))});var xt=y(H/K,V/K,u/K,ot/K),gt=w(xt,2),wt=gt[0],Dt=gt[1];wt=Math.exp(wt);var Nt=function(at){return wt*Math.exp(Dt*at)},Ot=b(pt,it,Nt);return Ot.a=wt,Ot.b=Dt,Ot.predict=Nt,Ot.rSquared=E(tt,D,G,K,Nt),Ot}return N.domain=function(tt){return arguments.length?(X=tt,N):X},N.x=function(tt){return arguments.length?(D=tt,N):D},N.y=function(tt){return arguments.length?(G=tt,N):G},N}function g(){var D=function(Q){return Q[0]},G=function(Q){return Q[1]},X;function N(tt){var Q=0,K=0,V=0,H=0,u=0,ot=X?+X[0]:Infinity,pt=X?+X[1]:-Infinity;A(tt,D,G,function(Ot,Tt){++Q,K+=(Ot-K)/Q,V+=(Tt-V)/Q,H+=(Ot*Tt-H)/Q,u+=(Ot*Ot-u)/Q,X||(Ot<ot&&(ot=Ot),Ot>pt&&(pt=Ot))});var it=y(K,V,H,u),xt=w(it,2),gt=xt[0],wt=xt[1],Dt=function(Tt){return wt*Tt+gt},Nt=[[ot,Dt(ot)],[pt,Dt(pt)]];return Nt.a=wt,Nt.b=gt,Nt.predict=Dt,Nt.rSquared=E(tt,D,G,V,Dt),Nt}return N.domain=function(tt){return arguments.length?(X=tt,N):X},N.x=function(tt){return arguments.length?(D=tt,N):D},N.y=function(tt){return arguments.length?(G=tt,N):G},N}function M(D){D.sort(function(X,N){return X-N});var G=D.length/2;return G%1==0?(D[G-1]+D[G])/2:D[Math.floor(G)]}var L=2,k=1e-12;function F(){var D=function(Q){return Q[0]},G=function(Q){return Q[1]},X=.3;function N(tt){for(var Q=P(tt,D,G,!0),K=w(Q,4),V=K[0],H=K[1],u=K[2],ot=K[3],pt=V.length,it=Math.max(2,~~(X*pt)),xt=new Float64Array(pt),gt=new Float64Array(pt),wt=new Float64Array(pt).fill(1),Dt=-1;++Dt<=L;){for(var Nt=[0,it-1],Ot=0;Ot<pt;++Ot){for(var Tt=V[Ot],at=Nt[0],st=Nt[1],Ct=Tt-V[at]>V[st]-Tt?at:st,nt=0,rt=0,mt=0,Pt=0,Yt=0,Jt=1/Math.abs(V[Ct]-Tt||1),de=at;de<=st;++de){var Ce=V[de],ye=H[de],Se=W(Math.abs(Tt-Ce)*Jt)*wt[de],Fe=Ce*Se;nt+=Se,rt+=Fe,mt+=ye*Se,Pt+=ye*Fe,Yt+=Ce*Fe}var Ze=y(rt/nt,mt/nt,Pt/nt,Yt/nt),er=w(Ze,2),qe=er[0],Pr=er[1];xt[Ot]=qe+Pr*Tt,gt[Ot]=Math.abs(H[Ot]-xt[Ot]),$(V,Ot+1,Nt)}if(Dt===L)break;var rn=M(gt);if(Math.abs(rn)<k)break;for(var Or=0,Wr,Zn;Or<pt;++Or)Wr=gt[Or]/(6*rn),wt[Or]=Wr>=1?k:(Zn=1-Wr*Wr)*Zn}return z(V,xt,u,ot)}return N.bandwidth=function(tt){return arguments.length?(X=tt,N):X},N.x=function(tt){return arguments.length?(D=tt,N):D},N.y=function(tt){return arguments.length?(G=tt,N):G},N}function W(D){return(D=1-D*D*D)*D*D}function $(D,G,X){var N=D[G],tt=X[0],Q=X[1]+1;if(!(Q>=D.length))for(;G>tt&&D[Q]-N<=N-D[tt];)X[0]=++tt,X[1]=Q,++Q}function z(D,G,X,N){for(var tt=D.length,Q=[],K=0,V=0,H=[],u;K<tt;++K)u=D[K]+X,H[0]===u?H[1]+=(G[K]-H[1])/++V:(V=0,H[1]+=N,H=[u,G[K]],Q.push(H));return H[1]+=N,Q}function U(){var D=function(K){return K[0]},G=function(K){return K[1]},X=Math.E,N;function tt(Q){var K=0,V=0,H=0,u=0,ot=0,pt=N?+N[0]:Infinity,it=N?+N[1]:-Infinity,xt=Math.log(X);A(Q,D,G,function(at,st){var Ct=Math.log(at)/xt;++K,V+=(Ct-V)/K,H+=(st-H)/K,u+=(Ct*st-u)/K,ot+=(Ct*Ct-ot)/K,N||(at<pt&&(pt=at),at>it&&(it=at))});var gt=y(V,H,u,ot),wt=w(gt,2),Dt=wt[0],Nt=wt[1],Ot=function(st){return Nt*Math.log(st)/xt+Dt},Tt=b(pt,it,Ot);return Tt.a=Nt,Tt.b=Dt,Tt.predict=Ot,Tt.rSquared=E(Q,D,G,H,Ot),Tt}return tt.domain=function(Q){return arguments.length?(N=Q,tt):N},tt.x=function(Q){return arguments.length?(D=Q,tt):D},tt.y=function(Q){return arguments.length?(G=Q,tt):G},tt.base=function(Q){return arguments.length?(X=Q,tt):X},tt}function et(){var D=function(Q){return Q[0]},G=function(Q){return Q[1]},X;function N(tt){var Q=P(tt,D,G),K=w(Q,4),V=K[0],H=K[1],u=K[2],ot=K[3],pt=V.length,it=0,xt=0,gt=0,wt=0,Dt=0,Nt,Ot,Tt,at;for(Nt=0;Nt<pt;)Ot=V[Nt],Tt=H[Nt++],at=Ot*Ot,it+=(at-it)/Nt,xt+=(at*Ot-xt)/Nt,gt+=(at*at-gt)/Nt,wt+=(Ot*Tt-wt)/Nt,Dt+=(at*Tt-Dt)/Nt;var st=0,Ct=0,nt=X?+X[0]:Infinity,rt=X?+X[1]:-Infinity;A(tt,D,G,function(Se,Fe){Ct++,st+=(Fe-st)/Ct,X||(Se<nt&&(nt=Se),Se>rt&&(rt=Se))});var mt=gt-it*it,Pt=it*mt-xt*xt,Yt=(Dt*it-wt*xt)/Pt,Jt=(wt*mt-Dt*xt)/Pt,de=-Yt*it,Ce=function(Fe){return Fe=Fe-u,Yt*Fe*Fe+Jt*Fe+de+ot},ye=b(nt,rt,Ce);return ye.a=Yt,ye.b=Jt-2*Yt*u,ye.c=de-Jt*u+Yt*u*u+ot,ye.predict=Ce,ye.rSquared=E(tt,D,G,st,Ce),ye}return N.domain=function(tt){return arguments.length?(X=tt,N):X},N.x=function(tt){return arguments.length?(D=tt,N):D},N.y=function(tt){return arguments.length?(G=tt,N):G},N}function q(){var D=function(K){return K[0]},G=function(K){return K[1]},X=3,N;function tt(Q){if(X===1){var K=g().x(D).y(G).domain(N)(Q);return K.coefficients=[K.b,K.a],delete K.a,delete K.b,K}if(X===2){var V=et().x(D).y(G).domain(N)(Q);return V.coefficients=[V.c,V.b,V.a],delete V.a,delete V.b,delete V.c,V}var H=P(Q,D,G),u=w(H,4),ot=u[0],pt=u[1],it=u[2],xt=u[3],gt=ot.length,wt=[],Dt=[],Nt=X+1,Ot=0,Tt=0,at=N?+N[0]:Infinity,st=N?+N[1]:-Infinity;A(Q,D,G,function(Ce,ye){++Tt,Ot+=(ye-Ot)/Tt,N||(Ce<at&&(at=Ce),Ce>st&&(st=Ce))});var Ct,nt,rt,mt,Pt;for(Ct=0;Ct<Nt;++Ct){for(rt=0,mt=0;rt<gt;++rt)mt+=Math.pow(ot[rt],Ct)*pt[rt];for(wt.push(mt),Pt=new Float64Array(Nt),nt=0;nt<Nt;++nt){for(rt=0,mt=0;rt<gt;++rt)mt+=Math.pow(ot[rt],Ct+nt);Pt[nt]=mt}Dt.push(Pt)}Dt.push(wt);var Yt=ct(Dt),Jt=function(ye){ye-=it;var Se=xt+Yt[0]+Yt[1]*ye+Yt[2]*ye*ye;for(Ct=3;Ct<Nt;++Ct)Se+=Yt[Ct]*Math.pow(ye,Ct);return Se},de=b(at,st,Jt);return de.coefficients=dt(Nt,Yt,-it,xt),de.predict=Jt,de.rSquared=E(Q,D,G,Ot,Jt),de}return tt.domain=function(Q){return arguments.length?(N=Q,tt):N},tt.x=function(Q){return arguments.length?(D=Q,tt):D},tt.y=function(Q){return arguments.length?(G=Q,tt):G},tt.order=function(Q){return arguments.length?(X=Q,tt):X},tt}function dt(D,G,X,N){var tt=Array(D),Q,K,V,H;for(Q=0;Q<D;++Q)tt[Q]=0;for(Q=D-1;Q>=0;--Q)for(V=G[Q],H=1,tt[Q]+=V,K=1;K<=Q;++K)H*=(Q+1-K)/K,tt[Q-K]+=V*Math.pow(X,K)*H;return tt[0]+=N,tt}function ct(D){var G=D.length-1,X=[],N,tt,Q,K,V;for(N=0;N<G;++N){for(K=N,tt=N+1;tt<G;++tt)Math.abs(D[N][tt])>Math.abs(D[N][K])&&(K=tt);for(Q=N;Q<G+1;++Q)V=D[Q][N],D[Q][N]=D[Q][K],D[Q][K]=V;for(tt=N+1;tt<G;++tt)for(Q=G;Q>=N;Q--)D[Q][tt]-=D[Q][N]*D[N][tt]/D[N][N]}for(tt=G-1;tt>=0;--tt){for(V=0,Q=tt+1;Q<G;++Q)V+=D[Q][tt]*X[Q];X[tt]=(D[G][tt]-V)/D[tt][tt]}return X}function Mt(){var D=function(Q){return Q[0]},G=function(Q){return Q[1]},X;function N(tt){var Q=0,K=0,V=0,H=0,u=0,ot=0,pt=X?+X[0]:Infinity,it=X?+X[1]:-Infinity;A(tt,D,G,function(Tt,at){var st=Math.log(Tt),Ct=Math.log(at);++Q,K+=(st-K)/Q,V+=(Ct-V)/Q,H+=(st*Ct-H)/Q,u+=(st*st-u)/Q,ot+=(at-ot)/Q,X||(Tt<pt&&(pt=Tt),Tt>it&&(it=Tt))});var xt=y(K,V,H,u),gt=w(xt,2),wt=gt[0],Dt=gt[1];wt=Math.exp(wt);var Nt=function(at){return wt*Math.pow(at,Dt)},Ot=b(pt,it,Nt);return Ot.a=wt,Ot.b=Dt,Ot.predict=Nt,Ot.rSquared=E(tt,D,G,ot,Nt),Ot}return N.domain=function(tt){return arguments.length?(X=tt,N):X},N.x=function(tt){return arguments.length?(D=tt,N):D},N.y=function(tt){return arguments.length?(G=tt,N):G},N}d.regressionExp=x,d.regressionLinear=g,d.regressionLoess=F,d.regressionLog=U,d.regressionPoly=q,d.regressionPow=Mt,d.regressionQuad=et,Object.defineProperty(d,"__esModule",{value:!0})})},35374:function(bt,S,d){"use strict";d.d(S,{HT:function(){return L}});var w=0,_=0,I=0,O=1e3,P,A,E=0,C=0,p=0,b=typeof performance=="object"&&performance.now?performance:Date,y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(U){setTimeout(U,17)};function x(){return C||(y(g),C=b.now()+p)}function g(){C=0}function M(){this._call=this._time=this._next=null}M.prototype=L.prototype={constructor:M,restart:function(U,et,q){if(typeof U!="function")throw new TypeError("callback is not a function");q=(q==null?x():+q)+(et==null?0:+et),!this._next&&A!==this&&(A?A._next=this:P=this,A=this),this._call=U,this._time=q,z()},stop:function(){this._call&&(this._call=null,this._time=Infinity,z())}};function L(U,et,q){var dt=new M;return dt.restart(U,et,q),dt}function k(){x(),++w;for(var U=P,et;U;)(et=C-U._time)>=0&&U._call.call(null,et),U=U._next;--w}function F(){C=(E=b.now())+p,w=_=0;try{k()}finally{w=0,$(),C=0}}function W(){var U=b.now(),et=U-E;et>O&&(p-=et,E=U)}function $(){for(var U,et=P,q,dt=Infinity;et;)et._call?(dt>et._time&&(dt=et._time),U=et,et=et._next):(q=et._next,et._next=null,et=U?U._next=q:P=q);A=U,z(dt)}function z(U){if(!w){_&&(_=clearTimeout(_));var et=U-C;et>24?(U<Infinity&&(_=setTimeout(F,U-b.now()-p)),I&&(I=clearInterval(I))):(I||(E=b.now(),I=setInterval(W,O)),w=1,y(F))}}},49772:function(bt,S,d){bt.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(bt,S,d){"use strict";var w=d(38436),_=d(74079);bt.exports={run:I,undo:P};function I(A){var E=A.graph().acyclicer==="greedy"?_(A,C(A)):O(A);w.forEach(E,function(p){var b=A.edge(p);A.removeEdge(p),b.forwardName=p.name,b.reversed=!0,A.setEdge(p.w,p.v,b,w.uniqueId("rev"))});function C(p){return function(b){return p.edge(b).weight}}}function O(A){var E=[],C={},p={};function b(y){w.has(p,y)||(p[y]=!0,C[y]=!0,w.forEach(A.outEdges(y),function(x){w.has(C,x.w)?E.push(x):b(x.w)}),delete C[y])}return w.forEach(A.nodes(),b),E}function P(A){w.forEach(A.edges(),function(E){var C=A.edge(E);if(C.reversed){A.removeEdge(E);var p=C.forwardName;delete C.reversed,delete C.forwardName,A.setEdge(E.w,E.v,C,p)}})}},61133:function(bt,S,d){var w=d(38436),_=d(11138);bt.exports=I;function I(P){function A(E){var C=P.children(E),p=P.node(E);if(C.length&&w.forEach(C,A),w.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var b=p.minRank,y=p.maxRank+1;b<y;++b)O(P,"borderLeft","_bl",E,p,b),O(P,"borderRight","_br",E,p,b)}}w.forEach(P.children(),A)}function O(P,A,E,C,p,b){var y={width:0,height:0,rank:b,borderType:A},x=p[A][b-1],g=_.addDummyNode(P,"border",y,E);p[A][b]=g,P.setParent(g,C),x&&P.setEdge(x,g,{weight:1})}},53258:function(bt,S,d){"use strict";var w=d(38436);bt.exports={adjust:_,undo:I};function _(b){var y=b.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&O(b)}function I(b){var y=b.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&A(b),(y==="lr"||y==="rl")&&(C(b),O(b))}function O(b){w.forEach(b.nodes(),function(y){P(b.node(y))}),w.forEach(b.edges(),function(y){P(b.edge(y))})}function P(b){var y=b.width;b.width=b.height,b.height=y}function A(b){w.forEach(b.nodes(),function(y){E(b.node(y))}),w.forEach(b.edges(),function(y){var x=b.edge(y);w.forEach(x.points,E),w.has(x,"y")&&E(x)})}function E(b){b.y=-b.y}function C(b){w.forEach(b.nodes(),function(y){p(b.node(y))}),w.forEach(b.edges(),function(y){var x=b.edge(y);w.forEach(x.points,p),w.has(x,"x")&&p(x)})}function p(b){var y=b.x;b.x=b.y,b.y=y}},77822:function(bt){bt.exports=S;function S(){var _={};_._next=_._prev=_,this._sentinel=_}S.prototype.dequeue=function(){var _=this._sentinel,I=_._prev;if(I!==_)return d(I),I},S.prototype.enqueue=function(_){var I=this._sentinel;_._prev&&_._next&&d(_),_._next=I._next,I._next._prev=_,I._next=_,_._prev=I},S.prototype.toString=function(){for(var _=[],I=this._sentinel,O=I._prev;O!==I;)_.push(JSON.stringify(O,w)),O=O._prev;return"["+_.join(", ")+"]"};function d(_){_._prev._next=_._next,_._next._prev=_._prev,delete _._next,delete _._prev}function w(_,I){if(_!=="_next"&&_!=="_prev")return I}},27570:function(bt,S,d){var w=d(38436),_=d(11138),I=d(70574).Graph;bt.exports={debugOrdering:O};function O(P){var A=_.buildLayerMatrix(P),E=new I({compound:!0,multigraph:!0}).setGraph({});return w.forEach(P.nodes(),function(C){E.setNode(C,{label:C}),E.setParent(C,"layer"+P.node(C).rank)}),w.forEach(P.edges(),function(C){E.setEdge(C.v,C.w,{},C.name)}),w.forEach(A,function(C,p){var b="layer"+p;E.setNode(b,{rank:"same"}),w.reduce(C,function(y,x){return E.setEdge(y,x,{style:"invis"}),x})}),E}},70574:function(bt,S,d){var w;try{w=d(28282)}catch(_){}w||(w=window.graphlib),bt.exports=w},74079:function(bt,S,d){var w=d(38436),_=d(70574).Graph,I=d(77822);bt.exports=P;var O=w.constant(1);function P(b,y){if(b.nodeCount()<=1)return[];var x=C(b,y||O),g=A(x.graph,x.buckets,x.zeroIdx);return w.flatten(w.map(g,function(M){return b.outEdges(M.v,M.w)}),!0)}function A(b,y,x){for(var g=[],M=y[y.length-1],L=y[0],k;b.nodeCount();){for(;k=L.dequeue();)E(b,y,x,k);for(;k=M.dequeue();)E(b,y,x,k);if(b.nodeCount()){for(var F=y.length-2;F>0;--F)if(k=y[F].dequeue(),k){g=g.concat(E(b,y,x,k,!0));break}}}return g}function E(b,y,x,g,M){var L=M?[]:void 0;return w.forEach(b.inEdges(g.v),function(k){var F=b.edge(k),W=b.node(k.v);M&&L.push({v:k.v,w:k.w}),W.out-=F,p(y,x,W)}),w.forEach(b.outEdges(g.v),function(k){var F=b.edge(k),W=k.w,$=b.node(W);$.in-=F,p(y,x,$)}),b.removeNode(g.v),L}function C(b,y){var x=new _,g=0,M=0;w.forEach(b.nodes(),function(F){x.setNode(F,{v:F,in:0,out:0})}),w.forEach(b.edges(),function(F){var W=x.edge(F.v,F.w)||0,$=y(F),z=W+$;x.setEdge(F.v,F.w,z),M=Math.max(M,x.node(F.v).out+=$),g=Math.max(g,x.node(F.w).in+=$)});var L=w.range(M+g+3).map(function(){return new I}),k=g+1;return w.forEach(x.nodes(),function(F){p(L,k,x.node(F))}),{graph:x,buckets:L,zeroIdx:k}}function p(b,y,x){x.out?x.in?b[x.out-x.in+y].enqueue(x):b[b.length-1].enqueue(x):b[0].enqueue(x)}},98123:function(bt,S,d){"use strict";var w=d(38436),_=d(92188),I=d(45995),O=d(78093),P=d(11138).normalizeRanks,A=d(24219),E=d(11138).removeEmptyRanks,C=d(72981),p=d(61133),b=d(53258),y=d(53408),x=d(17873),g=d(11138),M=d(70574).Graph;bt.exports=L;function L(gt,wt){var Dt=wt&&wt.debugTiming?g.time:g.notime;Dt("layout",function(){var Nt=Dt("  buildLayoutGraph",function(){return Mt(gt)});Dt("  runLayout",function(){k(Nt,Dt)}),Dt("  updateInputGraph",function(){F(gt,Nt)})})}function k(gt,wt){wt("    makeSpaceForEdgeLabels",function(){D(gt)}),wt("    removeSelfEdges",function(){u(gt)}),wt("    acyclic",function(){_.run(gt)}),wt("    nestingGraph.run",function(){C.run(gt)}),wt("    rank",function(){O(g.asNonCompoundGraph(gt))}),wt("    injectEdgeLabelProxies",function(){G(gt)}),wt("    removeEmptyRanks",function(){E(gt)}),wt("    nestingGraph.cleanup",function(){C.cleanup(gt)}),wt("    normalizeRanks",function(){P(gt)}),wt("    assignRankMinMax",function(){X(gt)}),wt("    removeEdgeLabelProxies",function(){N(gt)}),wt("    normalize.run",function(){I.run(gt)}),wt("    parentDummyChains",function(){A(gt)}),wt("    addBorderSegments",function(){p(gt)}),wt("    order",function(){y(gt)}),wt("    insertSelfEdges",function(){ot(gt)}),wt("    adjustCoordinateSystem",function(){b.adjust(gt)}),wt("    position",function(){x(gt)}),wt("    positionSelfEdges",function(){pt(gt)}),wt("    removeBorderNodes",function(){H(gt)}),wt("    normalize.undo",function(){I.undo(gt)}),wt("    fixupEdgeLabelCoords",function(){K(gt)}),wt("    undoCoordinateSystem",function(){b.undo(gt)}),wt("    translateGraph",function(){tt(gt)}),wt("    assignNodeIntersects",function(){Q(gt)}),wt("    reversePoints",function(){V(gt)}),wt("    acyclic.undo",function(){_.undo(gt)})}function F(gt,wt){w.forEach(gt.nodes(),function(Dt){var Nt=gt.node(Dt),Ot=wt.node(Dt);Nt&&(Nt.x=Ot.x,Nt.y=Ot.y,wt.children(Dt).length&&(Nt.width=Ot.width,Nt.height=Ot.height))}),w.forEach(gt.edges(),function(Dt){var Nt=gt.edge(Dt),Ot=wt.edge(Dt);Nt.points=Ot.points,w.has(Ot,"x")&&(Nt.x=Ot.x,Nt.y=Ot.y)}),gt.graph().width=wt.graph().width,gt.graph().height=wt.graph().height}var W=["nodesep","edgesep","ranksep","marginx","marginy"],$={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},z=["acyclicer","ranker","rankdir","align"],U=["width","height"],et={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],dt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ct=["labelpos"];function Mt(gt){var wt=new M({multigraph:!0,compound:!0}),Dt=xt(gt.graph());return wt.setGraph(w.merge({},$,it(Dt,W),w.pick(Dt,z))),w.forEach(gt.nodes(),function(Nt){var Ot=xt(gt.node(Nt));wt.setNode(Nt,w.defaults(it(Ot,U),et)),wt.setParent(Nt,gt.parent(Nt))}),w.forEach(gt.edges(),function(Nt){var Ot=xt(gt.edge(Nt));wt.setEdge(Nt,w.merge({},dt,it(Ot,q),w.pick(Ot,ct)))}),wt}function D(gt){var wt=gt.graph();wt.ranksep/=2,w.forEach(gt.edges(),function(Dt){var Nt=gt.edge(Dt);Nt.minlen*=2,Nt.labelpos.toLowerCase()!=="c"&&(wt.rankdir==="TB"||wt.rankdir==="BT"?Nt.width+=Nt.labeloffset:Nt.height+=Nt.labeloffset)})}function G(gt){w.forEach(gt.edges(),function(wt){var Dt=gt.edge(wt);if(Dt.width&&Dt.height){var Nt=gt.node(wt.v),Ot=gt.node(wt.w),Tt={rank:(Ot.rank-Nt.rank)/2+Nt.rank,e:wt};g.addDummyNode(gt,"edge-proxy",Tt,"_ep")}})}function X(gt){var wt=0;w.forEach(gt.nodes(),function(Dt){var Nt=gt.node(Dt);Nt.borderTop&&(Nt.minRank=gt.node(Nt.borderTop).rank,Nt.maxRank=gt.node(Nt.borderBottom).rank,wt=w.max(wt,Nt.maxRank))}),gt.graph().maxRank=wt}function N(gt){w.forEach(gt.nodes(),function(wt){var Dt=gt.node(wt);Dt.dummy==="edge-proxy"&&(gt.edge(Dt.e).labelRank=Dt.rank,gt.removeNode(wt))})}function tt(gt){var wt=Number.POSITIVE_INFINITY,Dt=0,Nt=Number.POSITIVE_INFINITY,Ot=0,Tt=gt.graph(),at=Tt.marginx||0,st=Tt.marginy||0;function Ct(nt){var rt=nt.x,mt=nt.y,Pt=nt.width,Yt=nt.height;wt=Math.min(wt,rt-Pt/2),Dt=Math.max(Dt,rt+Pt/2),Nt=Math.min(Nt,mt-Yt/2),Ot=Math.max(Ot,mt+Yt/2)}w.forEach(gt.nodes(),function(nt){Ct(gt.node(nt))}),w.forEach(gt.edges(),function(nt){var rt=gt.edge(nt);w.has(rt,"x")&&Ct(rt)}),wt-=at,Nt-=st,w.forEach(gt.nodes(),function(nt){var rt=gt.node(nt);rt.x-=wt,rt.y-=Nt}),w.forEach(gt.edges(),function(nt){var rt=gt.edge(nt);w.forEach(rt.points,function(mt){mt.x-=wt,mt.y-=Nt}),w.has(rt,"x")&&(rt.x-=wt),w.has(rt,"y")&&(rt.y-=Nt)}),Tt.width=Dt-wt+at,Tt.height=Ot-Nt+st}function Q(gt){w.forEach(gt.edges(),function(wt){var Dt=gt.edge(wt),Nt=gt.node(wt.v),Ot=gt.node(wt.w),Tt,at;Dt.points?(Tt=Dt.points[0],at=Dt.points[Dt.points.length-1]):(Dt.points=[],Tt=Ot,at=Nt),Dt.points.unshift(g.intersectRect(Nt,Tt)),Dt.points.push(g.intersectRect(Ot,at))})}function K(gt){w.forEach(gt.edges(),function(wt){var Dt=gt.edge(wt);if(w.has(Dt,"x"))switch((Dt.labelpos==="l"||Dt.labelpos==="r")&&(Dt.width-=Dt.labeloffset),Dt.labelpos){case"l":Dt.x-=Dt.width/2+Dt.labeloffset;break;case"r":Dt.x+=Dt.width/2+Dt.labeloffset;break}})}function V(gt){w.forEach(gt.edges(),function(wt){var Dt=gt.edge(wt);Dt.reversed&&Dt.points.reverse()})}function H(gt){w.forEach(gt.nodes(),function(wt){if(gt.children(wt).length){var Dt=gt.node(wt),Nt=gt.node(Dt.borderTop),Ot=gt.node(Dt.borderBottom),Tt=gt.node(w.last(Dt.borderLeft)),at=gt.node(w.last(Dt.borderRight));Dt.width=Math.abs(at.x-Tt.x),Dt.height=Math.abs(Ot.y-Nt.y),Dt.x=Tt.x+Dt.width/2,Dt.y=Nt.y+Dt.height/2}}),w.forEach(gt.nodes(),function(wt){gt.node(wt).dummy==="border"&&gt.removeNode(wt)})}function u(gt){w.forEach(gt.edges(),function(wt){if(wt.v===wt.w){var Dt=gt.node(wt.v);Dt.selfEdges||(Dt.selfEdges=[]),Dt.selfEdges.push({e:wt,label:gt.edge(wt)}),gt.removeEdge(wt)}})}function ot(gt){var wt=g.buildLayerMatrix(gt);w.forEach(wt,function(Dt){var Nt=0;w.forEach(Dt,function(Ot,Tt){var at=gt.node(Ot);at.order=Tt+Nt,w.forEach(at.selfEdges,function(st){g.addDummyNode(gt,"selfedge",{width:st.label.width,height:st.label.height,rank:at.rank,order:Tt+ ++Nt,e:st.e,label:st.label},"_se")}),delete at.selfEdges})})}function pt(gt){w.forEach(gt.nodes(),function(wt){var Dt=gt.node(wt);if(Dt.dummy==="selfedge"){var Nt=gt.node(Dt.e.v),Ot=Nt.x+Nt.width/2,Tt=Nt.y,at=Dt.x-Ot,st=Nt.height/2;gt.setEdge(Dt.e,Dt.label),gt.removeNode(wt),Dt.label.points=[{x:Ot+2*at/3,y:Tt-st},{x:Ot+5*at/6,y:Tt-st},{x:Ot+at,y:Tt},{x:Ot+5*at/6,y:Tt+st},{x:Ot+2*at/3,y:Tt+st}],Dt.label.x=Dt.x,Dt.label.y=Dt.y}})}function it(gt,wt){return w.mapValues(w.pick(gt,wt),Number)}function xt(gt){var wt={};return w.forEach(gt,function(Dt,Nt){wt[Nt.toLowerCase()]=Dt}),wt}},38436:function(bt,S,d){var w;try{w={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(_){}w||(w=window._),bt.exports=w},72981:function(bt,S,d){var w=d(38436),_=d(11138);bt.exports={run:I,cleanup:E};function I(C){var p=_.addDummyNode(C,"root",{},"_root"),b=P(C),y=w.max(w.values(b))-1,x=2*y+1;C.graph().nestingRoot=p,w.forEach(C.edges(),function(M){C.edge(M).minlen*=x});var g=A(C)+1;w.forEach(C.children(),function(M){O(C,p,x,g,y,b,M)}),C.graph().nodeRankFactor=x}function O(C,p,b,y,x,g,M){var L=C.children(M);if(!L.length){M!==p&&C.setEdge(p,M,{weight:0,minlen:b});return}var k=_.addBorderNode(C,"_bt"),F=_.addBorderNode(C,"_bb"),W=C.node(M);C.setParent(k,M),W.borderTop=k,C.setParent(F,M),W.borderBottom=F,w.forEach(L,function($){O(C,p,b,y,x,g,$);var z=C.node($),U=z.borderTop?z.borderTop:$,et=z.borderBottom?z.borderBottom:$,q=z.borderTop?y:2*y,dt=U!==et?1:x-g[M]+1;C.setEdge(k,U,{weight:q,minlen:dt,nestingEdge:!0}),C.setEdge(et,F,{weight:q,minlen:dt,nestingEdge:!0})}),C.parent(M)||C.setEdge(p,k,{weight:0,minlen:x+g[M]})}function P(C){var p={};function b(y,x){var g=C.children(y);g&&g.length&&w.forEach(g,function(M){b(M,x+1)}),p[y]=x}return w.forEach(C.children(),function(y){b(y,1)}),p}function A(C){return w.reduce(C.edges(),function(p,b){return p+C.edge(b).weight},0)}function E(C){var p=C.graph();C.removeNode(p.nestingRoot),delete p.nestingRoot,w.forEach(C.edges(),function(b){var y=C.edge(b);y.nestingEdge&&C.removeEdge(b)})}},45995:function(bt,S,d){"use strict";var w=d(38436),_=d(11138);bt.exports={run:I,undo:P};function I(A){A.graph().dummyChains=[],w.forEach(A.edges(),function(E){O(A,E)})}function O(A,E){var C=E.v,p=A.node(C).rank,b=E.w,y=A.node(b).rank,x=E.name,g=A.edge(E),M=g.labelRank;if(y!==p+1){A.removeEdge(E);var L,k,F;for(F=0,++p;p<y;++F,++p)g.points=[],k={width:0,height:0,edgeLabel:g,edgeObj:E,rank:p},L=_.addDummyNode(A,"edge",k,"_d"),p===M&&(k.width=g.width,k.height=g.height,k.dummy="edge-label",k.labelpos=g.labelpos),A.setEdge(C,L,{weight:g.weight},x),F===0&&A.graph().dummyChains.push(L),C=L;A.setEdge(C,b,{weight:g.weight},x)}}function P(A){w.forEach(A.graph().dummyChains,function(E){var C=A.node(E),p=C.edgeLabel,b;for(A.setEdge(C.edgeObj,p);C.dummy;)b=A.successors(E)[0],A.removeNode(E),p.points.push({x:C.x,y:C.y}),C.dummy==="edge-label"&&(p.x=C.x,p.y=C.y,p.width=C.width,p.height=C.height),E=b,C=A.node(E)})}},55093:function(bt,S,d){var w=d(38436);bt.exports=_;function _(I,O,P){var A={},E;w.forEach(P,function(C){for(var p=I.parent(C),b,y;p;){if(b=I.parent(p),b?(y=A[b],A[b]=p):(y=E,E=p),y&&y!==p){O.setEdge(y,p);return}p=b}})}},35439:function(bt,S,d){var w=d(38436);bt.exports=_;function _(I,O){return w.map(O,function(P){var A=I.inEdges(P);if(A.length){var E=w.reduce(A,function(C,p){var b=I.edge(p),y=I.node(p.v);return{sum:C.sum+b.weight*y.order,weight:C.weight+b.weight}},{sum:0,weight:0});return{v:P,barycenter:E.sum/E.weight,weight:E.weight}}else return{v:P}})}},23128:function(bt,S,d){var w=d(38436),_=d(70574).Graph;bt.exports=I;function I(P,A,E){var C=O(P),p=new _({compound:!0}).setGraph({root:C}).setDefaultNodeLabel(function(b){return P.node(b)});return w.forEach(P.nodes(),function(b){var y=P.node(b),x=P.parent(b);(y.rank===A||y.minRank<=A&&A<=y.maxRank)&&(p.setNode(b),p.setParent(b,x||C),w.forEach(P[E](b),function(g){var M=g.v===b?g.w:g.v,L=p.edge(M,b),k=w.isUndefined(L)?0:L.weight;p.setEdge(M,b,{weight:P.edge(g).weight+k})}),w.has(y,"minRank")&&p.setNode(b,{borderLeft:y.borderLeft[A],borderRight:y.borderRight[A]}))}),p}function O(P){for(var A;P.hasNode(A=w.uniqueId("_root")););return A}},56630:function(bt,S,d){"use strict";var w=d(38436);bt.exports=_;function _(O,P){for(var A=0,E=1;E<P.length;++E)A+=I(O,P[E-1],P[E]);return A}function I(O,P,A){for(var E=w.zipObject(A,w.map(A,function(g,M){return M})),C=w.flatten(w.map(P,function(g){return w.sortBy(w.map(O.outEdges(g),function(M){return{pos:E[M.w],weight:O.edge(M).weight}}),"pos")}),!0),p=1;p<A.length;)p<<=1;var b=2*p-1;p-=1;var y=w.map(new Array(b),function(){return 0}),x=0;return w.forEach(C.forEach(function(g){var M=g.pos+p;y[M]+=g.weight;for(var L=0;M>0;)M%2&&(L+=y[M+1]),M=M-1>>1,y[M]+=g.weight;x+=g.weight*L})),x}},53408:function(bt,S,d){"use strict";var w=d(38436),_=d(2588),I=d(56630),O=d(61026),P=d(23128),A=d(55093),E=d(70574).Graph,C=d(11138);bt.exports=p;function p(g){var M=C.maxRank(g),L=b(g,w.range(1,M+1),"inEdges"),k=b(g,w.range(M-1,-1,-1),"outEdges"),F=_(g);x(g,F);for(var W=Number.POSITIVE_INFINITY,$,z=0,U=0;U<4;++z,++U){y(z%2?L:k,z%4>=2),F=C.buildLayerMatrix(g);var et=I(g,F);et<W&&(U=0,$=w.cloneDeep(F),W=et)}x(g,$)}function b(g,M,L){return w.map(M,function(k){return P(g,k,L)})}function y(g,M){var L=new E;w.forEach(g,function(k){var F=k.graph().root,W=O(k,F,L,M);w.forEach(W.vs,function($,z){k.node($).order=z}),A(k,L,W.vs)})}function x(g,M){w.forEach(M,function(L){w.forEach(L,function(k,F){g.node(k).order=F})})}},2588:function(bt,S,d){"use strict";var w=d(38436);bt.exports=_;function _(I){var O={},P=w.filter(I.nodes(),function(b){return!I.children(b).length}),A=w.max(w.map(P,function(b){return I.node(b).rank})),E=w.map(w.range(A+1),function(){return[]});function C(b){if(!w.has(O,b)){O[b]=!0;var y=I.node(b);E[y.rank].push(b),w.forEach(I.successors(b),C)}}var p=w.sortBy(P,function(b){return I.node(b).rank});return w.forEach(p,C),E}},83678:function(bt,S,d){"use strict";var w=d(38436);bt.exports=_;function _(P,A){var E={};w.forEach(P,function(p,b){var y=E[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:b};w.isUndefined(p.barycenter)||(y.barycenter=p.barycenter,y.weight=p.weight)}),w.forEach(A.edges(),function(p){var b=E[p.v],y=E[p.w];!w.isUndefined(b)&&!w.isUndefined(y)&&(y.indegree++,b.out.push(E[p.w]))});var C=w.filter(E,function(p){return!p.indegree});return I(C)}function I(P){var A=[];function E(b){return function(y){y.merged||(w.isUndefined(y.barycenter)||w.isUndefined(b.barycenter)||y.barycenter>=b.barycenter)&&O(b,y)}}function C(b){return function(y){y.in.push(b),--y.indegree==0&&P.push(y)}}for(;P.length;){var p=P.pop();A.push(p),w.forEach(p.in.reverse(),E(p)),w.forEach(p.out,C(p))}return w.map(w.filter(A,function(b){return!b.merged}),function(b){return w.pick(b,["vs","i","barycenter","weight"])})}function O(P,A){var E=0,C=0;P.weight&&(E+=P.barycenter*P.weight,C+=P.weight),A.weight&&(E+=A.barycenter*A.weight,C+=A.weight),P.vs=A.vs.concat(P.vs),P.barycenter=E/C,P.weight=C,P.i=Math.min(A.i,P.i),A.merged=!0}},61026:function(bt,S,d){var w=d(38436),_=d(35439),I=d(83678),O=d(87304);bt.exports=P;function P(C,p,b,y){var x=C.children(p),g=C.node(p),M=g?g.borderLeft:void 0,L=g?g.borderRight:void 0,k={};M&&(x=w.filter(x,function(et){return et!==M&&et!==L}));var F=_(C,x);w.forEach(F,function(et){if(C.children(et.v).length){var q=P(C,et.v,b,y);k[et.v]=q,w.has(q,"barycenter")&&E(et,q)}});var W=I(F,b);A(W,k);var $=O(W,y);if(M&&($.vs=w.flatten([M,$.vs,L],!0),C.predecessors(M).length)){var z=C.node(C.predecessors(M)[0]),U=C.node(C.predecessors(L)[0]);w.has($,"barycenter")||($.barycenter=0,$.weight=0),$.barycenter=($.barycenter*$.weight+z.order+U.order)/($.weight+2),$.weight+=2}return $}function A(C,p){w.forEach(C,function(b){b.vs=w.flatten(b.vs.map(function(y){return p[y]?p[y].vs:y}),!0)})}function E(C,p){w.isUndefined(C.barycenter)?(C.barycenter=p.barycenter,C.weight=p.weight):(C.barycenter=(C.barycenter*C.weight+p.barycenter*p.weight)/(C.weight+p.weight),C.weight+=p.weight)}},87304:function(bt,S,d){var w=d(38436),_=d(11138);bt.exports=I;function I(A,E){var C=_.partition(A,function(k){return w.has(k,"barycenter")}),p=C.lhs,b=w.sortBy(C.rhs,function(k){return-k.i}),y=[],x=0,g=0,M=0;p.sort(P(!!E)),M=O(y,b,M),w.forEach(p,function(k){M+=k.vs.length,y.push(k.vs),x+=k.barycenter*k.weight,g+=k.weight,M=O(y,b,M)});var L={vs:w.flatten(y,!0)};return g&&(L.barycenter=x/g,L.weight=g),L}function O(A,E,C){for(var p;E.length&&(p=w.last(E)).i<=C;)E.pop(),A.push(p.vs),C++;return C}function P(A){return function(E,C){return E.barycenter<C.barycenter?-1:E.barycenter>C.barycenter?1:A?C.i-E.i:E.i-C.i}}},24219:function(bt,S,d){var w=d(38436);bt.exports=_;function _(P){var A=O(P);w.forEach(P.graph().dummyChains,function(E){for(var C=P.node(E),p=C.edgeObj,b=I(P,A,p.v,p.w),y=b.path,x=b.lca,g=0,M=y[g],L=!0;E!==p.w;){if(C=P.node(E),L){for(;(M=y[g])!==x&&P.node(M).maxRank<C.rank;)g++;M===x&&(L=!1)}if(!L){for(;g<y.length-1&&P.node(M=y[g+1]).minRank<=C.rank;)g++;M=y[g]}P.setParent(E,M),E=P.successors(E)[0]}})}function I(P,A,E,C){var p=[],b=[],y=Math.min(A[E].low,A[C].low),x=Math.max(A[E].lim,A[C].lim),g,M;g=E;do g=P.parent(g),p.push(g);while(g&&(A[g].low>y||x>A[g].lim));for(M=g,g=C;(g=P.parent(g))!==M;)b.push(g);return{path:p.concat(b.reverse()),lca:M}}function O(P){var A={},E=0;function C(p){var b=E;w.forEach(P.children(p),C),A[p]={low:b,lim:E++}}return w.forEach(P.children(),C),A}},3573:function(bt,S,d){"use strict";var w=d(38436),_=d(70574).Graph,I=d(11138);bt.exports={positionX:L,findType1Conflicts:O,findType2Conflicts:P,addConflict:E,hasConflict:C,verticalAlignment:p,horizontalCompaction:b,alignCoordinates:g,findSmallestWidthAlignment:x,balance:M};function O(W,$){var z={};function U(et,q){var dt=0,ct=0,Mt=et.length,D=w.last(q);return w.forEach(q,function(G,X){var N=A(W,G),tt=N?W.node(N).order:Mt;(N||G===D)&&(w.forEach(q.slice(ct,X+1),function(Q){w.forEach(W.predecessors(Q),function(K){var V=W.node(K),H=V.order;(H<dt||tt<H)&&!(V.dummy&&W.node(Q).dummy)&&E(z,K,Q)})}),ct=X+1,dt=tt)}),q}return w.reduce($,U),z}function P(W,$){var z={};function U(q,dt,ct,Mt,D){var G;w.forEach(w.range(dt,ct),function(X){G=q[X],W.node(G).dummy&&w.forEach(W.predecessors(G),function(N){var tt=W.node(N);tt.dummy&&(tt.order<Mt||tt.order>D)&&E(z,N,G)})})}function et(q,dt){var ct=-1,Mt,D=0;return w.forEach(dt,function(G,X){if(W.node(G).dummy==="border"){var N=W.predecessors(G);N.length&&(Mt=W.node(N[0]).order,U(dt,D,X,ct,Mt),D=X,ct=Mt)}U(dt,D,dt.length,Mt,q.length)}),dt}return w.reduce($,et),z}function A(W,$){if(W.node($).dummy)return w.find(W.predecessors($),function(z){return W.node(z).dummy})}function E(W,$,z){if($>z){var U=$;$=z,z=U}var et=W[$];et||(W[$]=et={}),et[z]=!0}function C(W,$,z){if($>z){var U=$;$=z,z=U}return w.has(W[$],z)}function p(W,$,z,U){var et={},q={},dt={};return w.forEach($,function(ct){w.forEach(ct,function(Mt,D){et[Mt]=Mt,q[Mt]=Mt,dt[Mt]=D})}),w.forEach($,function(ct){var Mt=-1;w.forEach(ct,function(D){var G=U(D);if(G.length){G=w.sortBy(G,function(K){return dt[K]});for(var X=(G.length-1)/2,N=Math.floor(X),tt=Math.ceil(X);N<=tt;++N){var Q=G[N];q[D]===D&&Mt<dt[Q]&&!C(z,D,Q)&&(q[Q]=D,q[D]=et[D]=et[Q],Mt=dt[Q])}}})}),{root:et,align:q}}function b(W,$,z,U,et){var q={},dt=y(W,$,z,et),ct=et?"borderLeft":"borderRight";function Mt(X,N){for(var tt=dt.nodes(),Q=tt.pop(),K={};Q;)K[Q]?X(Q):(K[Q]=!0,tt.push(Q),tt=tt.concat(N(Q))),Q=tt.pop()}function D(X){q[X]=dt.inEdges(X).reduce(function(N,tt){return Math.max(N,q[tt.v]+dt.edge(tt))},0)}function G(X){var N=dt.outEdges(X).reduce(function(Q,K){return Math.min(Q,q[K.w]-dt.edge(K))},Number.POSITIVE_INFINITY),tt=W.node(X);N!==Number.POSITIVE_INFINITY&&tt.borderType!==ct&&(q[X]=Math.max(q[X],N))}return Mt(D,dt.predecessors.bind(dt)),Mt(G,dt.successors.bind(dt)),w.forEach(U,function(X){q[X]=q[z[X]]}),q}function y(W,$,z,U){var et=new _,q=W.graph(),dt=k(q.nodesep,q.edgesep,U);return w.forEach($,function(ct){var Mt;w.forEach(ct,function(D){var G=z[D];if(et.setNode(G),Mt){var X=z[Mt],N=et.edge(X,G);et.setEdge(X,G,Math.max(dt(W,D,Mt),N||0))}Mt=D})}),et}function x(W,$){return w.minBy(w.values($),function(z){var U=Number.NEGATIVE_INFINITY,et=Number.POSITIVE_INFINITY;return w.forIn(z,function(q,dt){var ct=F(W,dt)/2;U=Math.max(q+ct,U),et=Math.min(q-ct,et)}),U-et})}function g(W,$){var z=w.values($),U=w.min(z),et=w.max(z);w.forEach(["u","d"],function(q){w.forEach(["l","r"],function(dt){var ct=q+dt,Mt=W[ct],D;if(Mt!==$){var G=w.values(Mt);D=dt==="l"?U-w.min(G):et-w.max(G),D&&(W[ct]=w.mapValues(Mt,function(X){return X+D}))}})})}function M(W,$){return w.mapValues(W.ul,function(z,U){if($)return W[$.toLowerCase()][U];var et=w.sortBy(w.map(W,U));return(et[1]+et[2])/2})}function L(W){var $=I.buildLayerMatrix(W),z=w.merge(O(W,$),P(W,$)),U={},et;w.forEach(["u","d"],function(dt){et=dt==="u"?$:w.values($).reverse(),w.forEach(["l","r"],function(ct){ct==="r"&&(et=w.map(et,function(X){return w.values(X).reverse()}));var Mt=(dt==="u"?W.predecessors:W.successors).bind(W),D=p(W,et,z,Mt),G=b(W,et,D.root,D.align,ct==="r");ct==="r"&&(G=w.mapValues(G,function(X){return-X})),U[dt+ct]=G})});var q=x(W,U);return g(U,q),M(U,W.graph().align)}function k(W,$,z){return function(U,et,q){var dt=U.node(et),ct=U.node(q),Mt=0,D;if(Mt+=dt.width/2,w.has(dt,"labelpos"))switch(dt.labelpos.toLowerCase()){case"l":D=-dt.width/2;break;case"r":D=dt.width/2;break}if(D&&(Mt+=z?D:-D),D=0,Mt+=(dt.dummy?$:W)/2,Mt+=(ct.dummy?$:W)/2,Mt+=ct.width/2,w.has(ct,"labelpos"))switch(ct.labelpos.toLowerCase()){case"l":D=ct.width/2;break;case"r":D=-ct.width/2;break}return D&&(Mt+=z?D:-D),D=0,Mt}}function F(W,$){return W.node($).width}},17873:function(bt,S,d){"use strict";var w=d(38436),_=d(11138),I=d(3573).positionX;bt.exports=O;function O(A){A=_.asNonCompoundGraph(A),P(A),w.forEach(I(A),function(E,C){A.node(C).x=E})}function P(A){var E=_.buildLayerMatrix(A),C=A.graph().ranksep,p=0;w.forEach(E,function(b){var y=w.max(w.map(b,function(x){return A.node(x).height}));w.forEach(b,function(x){A.node(x).y=p+y/2}),p+=y+C})}},20300:function(bt,S,d){"use strict";var w=d(38436),_=d(70574).Graph,I=d(76681).slack;bt.exports=O;function O(C){var p=new _({directed:!1}),b=C.nodes()[0],y=C.nodeCount();p.setNode(b,{});for(var x,g;P(p,C)<y;)x=A(p,C),g=p.hasNode(x.v)?I(C,x):-I(C,x),E(p,C,g);return p}function P(C,p){function b(y){w.forEach(p.nodeEdges(y),function(x){var g=x.v,M=y===g?x.w:g;!C.hasNode(M)&&!I(p,x)&&(C.setNode(M,{}),C.setEdge(y,M,{}),b(M))})}return w.forEach(C.nodes(),b),C.nodeCount()}function A(C,p){return w.minBy(p.edges(),function(b){if(C.hasNode(b.v)!==C.hasNode(b.w))return I(p,b)})}function E(C,p,b){w.forEach(C.nodes(),function(y){p.node(y).rank+=b})}},78093:function(bt,S,d){"use strict";var w=d(76681),_=w.longestPath,I=d(20300),O=d(42472);bt.exports=P;function P(p){switch(p.graph().ranker){case"network-simplex":C(p);break;case"tight-tree":E(p);break;case"longest-path":A(p);break;default:C(p)}}var A=_;function E(p){_(p),I(p)}function C(p){O(p)}},42472:function(bt,S,d){"use strict";var w=d(38436),_=d(20300),I=d(76681).slack,O=d(76681).longestPath,P=d(70574).alg.preorder,A=d(70574).alg.postorder,E=d(11138).simplify;bt.exports=C,C.initLowLimValues=x,C.initCutValues=p,C.calcCutValue=y,C.leaveEdge=M,C.enterEdge=L,C.exchangeEdges=k;function C(z){z=E(z),O(z);var U=_(z);x(U),p(U,z);for(var et,q;et=M(U);)q=L(U,z,et),k(U,z,et,q)}function p(z,U){var et=A(z,z.nodes());et=et.slice(0,et.length-1),w.forEach(et,function(q){b(z,U,q)})}function b(z,U,et){var q=z.node(et),dt=q.parent;z.edge(et,dt).cutvalue=y(z,U,et)}function y(z,U,et){var q=z.node(et),dt=q.parent,ct=!0,Mt=U.edge(et,dt),D=0;return Mt||(ct=!1,Mt=U.edge(dt,et)),D=Mt.weight,w.forEach(U.nodeEdges(et),function(G){var X=G.v===et,N=X?G.w:G.v;if(N!==dt){var tt=X===ct,Q=U.edge(G).weight;if(D+=tt?Q:-Q,W(z,et,N)){var K=z.edge(et,N).cutvalue;D+=tt?-K:K}}}),D}function x(z,U){arguments.length<2&&(U=z.nodes()[0]),g(z,{},1,U)}function g(z,U,et,q,dt){var ct=et,Mt=z.node(q);return U[q]=!0,w.forEach(z.neighbors(q),function(D){w.has(U,D)||(et=g(z,U,et,D,q))}),Mt.low=ct,Mt.lim=et++,dt?Mt.parent=dt:delete Mt.parent,et}function M(z){return w.find(z.edges(),function(U){return z.edge(U).cutvalue<0})}function L(z,U,et){var q=et.v,dt=et.w;U.hasEdge(q,dt)||(q=et.w,dt=et.v);var ct=z.node(q),Mt=z.node(dt),D=ct,G=!1;ct.lim>Mt.lim&&(D=Mt,G=!0);var X=w.filter(U.edges(),function(N){return G===$(z,z.node(N.v),D)&&G!==$(z,z.node(N.w),D)});return w.minBy(X,function(N){return I(U,N)})}function k(z,U,et,q){var dt=et.v,ct=et.w;z.removeEdge(dt,ct),z.setEdge(q.v,q.w,{}),x(z),p(z,U),F(z,U)}function F(z,U){var et=w.find(z.nodes(),function(dt){return!U.node(dt).parent}),q=P(z,et);q=q.slice(1),w.forEach(q,function(dt){var ct=z.node(dt).parent,Mt=U.edge(dt,ct),D=!1;Mt||(Mt=U.edge(ct,dt),D=!0),U.node(dt).rank=U.node(ct).rank+(D?Mt.minlen:-Mt.minlen)})}function W(z,U,et){return z.hasEdge(U,et)}function $(z,U,et){return et.low<=U.lim&&U.lim<=et.lim}},76681:function(bt,S,d){"use strict";var w=d(38436);bt.exports={longestPath:_,slack:I};function _(O){var P={};function A(E){var C=O.node(E);if(w.has(P,E))return C.rank;P[E]=!0;var p=w.min(w.map(O.outEdges(E),function(b){return A(b.w)-O.edge(b).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),C.rank=p}w.forEach(O.sources(),A)}function I(O,P){return O.node(P.w).rank-O.node(P.v).rank-O.edge(P).minlen}},11138:function(bt,S,d){"use strict";var w=d(38436),_=d(70574).Graph;bt.exports={addDummyNode:I,simplify:O,asNonCompoundGraph:P,successorWeights:A,predecessorWeights:E,intersectRect:C,buildLayerMatrix:p,normalizeRanks:b,removeEmptyRanks:y,addBorderNode:x,maxRank:g,partition:M,time:L,notime:k};function I(F,W,$,z){var U;do U=w.uniqueId(z);while(F.hasNode(U));return $.dummy=W,F.setNode(U,$),U}function O(F){var W=new _().setGraph(F.graph());return w.forEach(F.nodes(),function($){W.setNode($,F.node($))}),w.forEach(F.edges(),function($){var z=W.edge($.v,$.w)||{weight:0,minlen:1},U=F.edge($);W.setEdge($.v,$.w,{weight:z.weight+U.weight,minlen:Math.max(z.minlen,U.minlen)})}),W}function P(F){var W=new _({multigraph:F.isMultigraph()}).setGraph(F.graph());return w.forEach(F.nodes(),function($){F.children($).length||W.setNode($,F.node($))}),w.forEach(F.edges(),function($){W.setEdge($,F.edge($))}),W}function A(F){var W=w.map(F.nodes(),function($){var z={};return w.forEach(F.outEdges($),function(U){z[U.w]=(z[U.w]||0)+F.edge(U).weight}),z});return w.zipObject(F.nodes(),W)}function E(F){var W=w.map(F.nodes(),function($){var z={};return w.forEach(F.inEdges($),function(U){z[U.v]=(z[U.v]||0)+F.edge(U).weight}),z});return w.zipObject(F.nodes(),W)}function C(F,W){var $=F.x,z=F.y,U=W.x-$,et=W.y-z,q=F.width/2,dt=F.height/2;if(!U&&!et)throw new Error("Not possible to find intersection inside of the rectangle");var ct,Mt;return Math.abs(et)*q>Math.abs(U)*dt?(et<0&&(dt=-dt),ct=dt*U/et,Mt=dt):(U<0&&(q=-q),ct=q,Mt=q*et/U),{x:$+ct,y:z+Mt}}function p(F){var W=w.map(w.range(g(F)+1),function(){return[]});return w.forEach(F.nodes(),function($){var z=F.node($),U=z.rank;w.isUndefined(U)||(W[U][z.order]=$)}),W}function b(F){var W=w.min(w.map(F.nodes(),function($){return F.node($).rank}));w.forEach(F.nodes(),function($){var z=F.node($);w.has(z,"rank")&&(z.rank-=W)})}function y(F){var W=w.min(w.map(F.nodes(),function(et){return F.node(et).rank})),$=[];w.forEach(F.nodes(),function(et){var q=F.node(et).rank-W;$[q]||($[q]=[]),$[q].push(et)});var z=0,U=F.graph().nodeRankFactor;w.forEach($,function(et,q){w.isUndefined(et)&&q%U!=0?--z:z&&w.forEach(et,function(dt){F.node(dt).rank+=z})})}function x(F,W,$,z){var U={width:0,height:0};return arguments.length>=4&&(U.rank=$,U.order=z),I(F,"border",U,W)}function g(F){return w.max(w.map(F.nodes(),function(W){var $=F.node(W).rank;if(!w.isUndefined($))return $}))}function M(F,W){var $={lhs:[],rhs:[]};return w.forEach(F,function(z){W(z)?$.lhs.push(z):$.rhs.push(z)}),$}function L(F,W){var $=w.now();try{return W()}finally{console.log(F+" time: "+(w.now()-$)+"ms")}}function k(F,W){return W()}},88177:function(bt){bt.exports="0.8.5"},43631:function(bt,S,d){"use strict";d.r(S),d.d(S,{BrowserInfo:function(){return I},NodeInfo:function(){return O},SearchBotDeviceInfo:function(){return P},BotInfo:function(){return A},ReactNativeInfo:function(){return E},detect:function(){return g},browserName:function(){return L},parseUserAgent:function(){return k},detectOS:function(){return F},getNodeVersion:function(){return W}});var w=d(34155),_=function(z,U,et){if(et||arguments.length===2)for(var q=0,dt=U.length,ct;q<dt;q++)(ct||!(q in U))&&(ct||(ct=Array.prototype.slice.call(U,0,q)),ct[q]=U[q]);return z.concat(ct||Array.prototype.slice.call(U))},I=function(){function z(U,et,q){this.name=U,this.version=et,this.os=q,this.type="browser"}return z}(),O=function(){function z(U){this.version=U,this.type="node",this.name="node",this.os=w.platform}return z}(),P=function(){function z(U,et,q,dt){this.name=U,this.version=et,this.os=q,this.bot=dt,this.type="bot-device"}return z}(),A=function(){function z(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return z}(),E=function(){function z(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return z}(),C=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",C]],x=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function g(z){return z?k(z):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new E:typeof navigator!="undefined"?k(navigator.userAgent):W()}function M(z){return z!==""&&y.reduce(function(U,et){var q=et[0],dt=et[1];if(U)return U;var ct=dt.exec(z);return!!ct&&[q,ct]},!1)}function L(z){var U=M(z);return U?U[0]:null}function k(z){var U=M(z);if(!U)return null;var et=U[0],q=U[1];if(et==="searchbot")return new A;var dt=q[1]&&q[1].split(".").join("_").split("_").slice(0,3);dt?dt.length<b&&(dt=_(_([],dt,!0),$(b-dt.length),!0)):dt=[];var ct=dt.join("."),Mt=F(z),D=p.exec(z);return D&&D[1]?new P(et,ct,Mt,D[1]):new I(et,ct,Mt)}function F(z){for(var U=0,et=x.length;U<et;U++){var q=x[U],dt=q[0],ct=q[1],Mt=ct.exec(z);if(Mt)return dt}return null}function W(){var z=typeof w!="undefined"&&w.version;return z?new O(w.version.slice(1)):null}function $(z){for(var U=[],et=0;et<z;et++)U.push("0");return U}},82097:function(bt,S,d){var w;(function(_){"use strict";var I={},O=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,P=/\d\d?/,A=/\d{3}/,E=/\d{4}/,C=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,p=/\[([^]*?)\]/gm,b=function(){};function y(z,U){for(var et=[],q=0,dt=z.length;q<dt;q++)et.push(z[q].substr(0,U));return et}function x(z){return function(U,et,q){var dt=q[z].indexOf(et.charAt(0).toUpperCase()+et.substr(1).toLowerCase());~dt&&(U.month=dt)}}function g(z,U){for(z=String(z),U=U||2;z.length<U;)z="0"+z;return z}var M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],L=["January","February","March","April","May","June","July","August","September","October","November","December"],k=y(L,3),F=y(M,3);I.i18n={dayNamesShort:F,dayNames:M,monthNamesShort:k,monthNames:L,amPm:["am","pm"],DoFn:function(U){return U+["th","st","nd","rd"][U%10>3?0:(U-U%10!=10)*U%10]}};var W={D:function(z){return z.getDate()},DD:function(z){return g(z.getDate())},Do:function(z,U){return U.DoFn(z.getDate())},d:function(z){return z.getDay()},dd:function(z){return g(z.getDay())},ddd:function(z,U){return U.dayNamesShort[z.getDay()]},dddd:function(z,U){return U.dayNames[z.getDay()]},M:function(z){return z.getMonth()+1},MM:function(z){return g(z.getMonth()+1)},MMM:function(z,U){return U.monthNamesShort[z.getMonth()]},MMMM:function(z,U){return U.monthNames[z.getMonth()]},YY:function(z){return String(z.getFullYear()).substr(2)},YYYY:function(z){return g(z.getFullYear(),4)},h:function(z){return z.getHours()%12||12},hh:function(z){return g(z.getHours()%12||12)},H:function(z){return z.getHours()},HH:function(z){return g(z.getHours())},m:function(z){return z.getMinutes()},mm:function(z){return g(z.getMinutes())},s:function(z){return z.getSeconds()},ss:function(z){return g(z.getSeconds())},S:function(z){return Math.round(z.getMilliseconds()/100)},SS:function(z){return g(Math.round(z.getMilliseconds()/10),2)},SSS:function(z){return g(z.getMilliseconds(),3)},a:function(z,U){return z.getHours()<12?U.amPm[0]:U.amPm[1]},A:function(z,U){return z.getHours()<12?U.amPm[0].toUpperCase():U.amPm[1].toUpperCase()},ZZ:function(z){var U=z.getTimezoneOffset();return(U>0?"-":"+")+g(Math.floor(Math.abs(U)/60)*100+Math.abs(U)%60,4)}},$={D:[P,function(z,U){z.day=U}],Do:[new RegExp(P.source+C.source),function(z,U){z.day=parseInt(U,10)}],M:[P,function(z,U){z.month=U-1}],YY:[P,function(z,U){var et=new Date,q=+(""+et.getFullYear()).substr(0,2);z.year=""+(U>68?q-1:q)+U}],h:[P,function(z,U){z.hour=U}],m:[P,function(z,U){z.minute=U}],s:[P,function(z,U){z.second=U}],YYYY:[E,function(z,U){z.year=U}],S:[/\d/,function(z,U){z.millisecond=U*100}],SS:[/\d{2}/,function(z,U){z.millisecond=U*10}],SSS:[A,function(z,U){z.millisecond=U}],d:[P,b],ddd:[C,b],MMM:[C,x("monthNamesShort")],MMMM:[C,x("monthNames")],a:[C,function(z,U,et){var q=U.toLowerCase();q===et.amPm[0]?z.isPm=!1:q===et.amPm[1]&&(z.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(z,U){U==="Z"&&(U="+00:00");var et=(U+"").match(/([\+\-]|\d\d)/gi),q;et&&(q=+(et[1]*60)+parseInt(et[2],10),z.timezoneOffset=et[0]==="+"?q:-q)}]};$.dd=$.d,$.dddd=$.ddd,$.DD=$.D,$.mm=$.m,$.hh=$.H=$.HH=$.h,$.MM=$.M,$.ss=$.s,$.A=$.a,I.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},I.format=function(z,U,et){var q=et||I.i18n;if(typeof z=="number"&&(z=new Date(z)),Object.prototype.toString.call(z)!=="[object Date]"||isNaN(z.getTime()))throw new Error("Invalid Date in fecha.format");U=I.masks[U]||U||I.masks.default;var dt=[];return U=U.replace(p,function(ct,Mt){return dt.push(Mt),"??"}),U=U.replace(O,function(ct){return ct in W?W[ct](z,q):ct.slice(1,ct.length-1)}),U.replace(/\?\?/g,function(){return dt.shift()})},I.parse=function(z,U,et){var q=et||I.i18n;if(typeof U!="string")throw new Error("Invalid format in fecha.parse");if(U=I.masks[U]||U,z.length>1e3)return!1;var dt=!0,ct={};if(U.replace(O,function(G){if($[G]){var X=$[G],N=z.search(X[0]);~N?z.replace(X[0],function(tt){return X[1](ct,tt,q),z=z.substr(N+tt.length),tt}):dt=!1}return $[G]?"":G.slice(1,G.length-1)}),!dt)return!1;var Mt=new Date;ct.isPm===!0&&ct.hour!=null&&+ct.hour!=12?ct.hour=+ct.hour+12:ct.isPm===!1&&+ct.hour==12&&(ct.hour=0);var D;return ct.timezoneOffset!=null?(ct.minute=+(ct.minute||0)-+ct.timezoneOffset,D=new Date(Date.UTC(ct.year||Mt.getFullYear(),ct.month||0,ct.day||1,ct.hour||0,ct.minute||0,ct.second||0,ct.millisecond||0))):D=new Date(ct.year||Mt.getFullYear(),ct.month||0,ct.day||1,ct.hour||0,ct.minute||0,ct.second||0,ct.millisecond||0),D},bt.exports?bt.exports=I:(w=function(){return I}.call(S,d,S,bt),w!==void 0&&(bt.exports=w))})(this)},49685:function(bt,S,d){"use strict";d.d(S,{Ib:function(){return w},WT:function(){return _},FD:function(){return I}});var w=1e-6,_=typeof Float32Array!="undefined"?Float32Array:Array,I=Math.random;function O(C){_=C}var P=Math.PI/180;function A(C){return C*P}function E(C,p){return Math.abs(C-p)<=w*Math.max(1,Math.abs(C),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var C=0,p=arguments.length;p--;)C+=arguments[p]*arguments[p];return Math.sqrt(C)})},35600:function(bt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return _},fromMat4:function(){return I},clone:function(){return O},copy:function(){return P},fromValues:function(){return A},set:function(){return E},identity:function(){return C},transpose:function(){return p},invert:function(){return b},adjoint:function(){return y},determinant:function(){return x},multiply:function(){return g},translate:function(){return M},rotate:function(){return L},scale:function(){return k},fromTranslation:function(){return F},fromRotation:function(){return W},fromScaling:function(){return $},fromMat2d:function(){return z},fromQuat:function(){return U},normalFromMat4:function(){return et},projection:function(){return q},str:function(){return dt},frob:function(){return ct},add:function(){return Mt},subtract:function(){return D},multiplyScalar:function(){return G},multiplyScalarAndAdd:function(){return X},exactEquals:function(){return N},equals:function(){return tt},mul:function(){return Q},sub:function(){return K}});var w=d(49685);function _(){var V=new w.WT(9);return w.WT!=Float32Array&&(V[1]=0,V[2]=0,V[3]=0,V[5]=0,V[6]=0,V[7]=0),V[0]=1,V[4]=1,V[8]=1,V}function I(V,H){return V[0]=H[0],V[1]=H[1],V[2]=H[2],V[3]=H[4],V[4]=H[5],V[5]=H[6],V[6]=H[8],V[7]=H[9],V[8]=H[10],V}function O(V){var H=new w.WT(9);return H[0]=V[0],H[1]=V[1],H[2]=V[2],H[3]=V[3],H[4]=V[4],H[5]=V[5],H[6]=V[6],H[7]=V[7],H[8]=V[8],H}function P(V,H){return V[0]=H[0],V[1]=H[1],V[2]=H[2],V[3]=H[3],V[4]=H[4],V[5]=H[5],V[6]=H[6],V[7]=H[7],V[8]=H[8],V}function A(V,H,u,ot,pt,it,xt,gt,wt){var Dt=new w.WT(9);return Dt[0]=V,Dt[1]=H,Dt[2]=u,Dt[3]=ot,Dt[4]=pt,Dt[5]=it,Dt[6]=xt,Dt[7]=gt,Dt[8]=wt,Dt}function E(V,H,u,ot,pt,it,xt,gt,wt,Dt){return V[0]=H,V[1]=u,V[2]=ot,V[3]=pt,V[4]=it,V[5]=xt,V[6]=gt,V[7]=wt,V[8]=Dt,V}function C(V){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=1,V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function p(V,H){if(V===H){var u=H[1],ot=H[2],pt=H[5];V[1]=H[3],V[2]=H[6],V[3]=u,V[5]=H[7],V[6]=ot,V[7]=pt}else V[0]=H[0],V[1]=H[3],V[2]=H[6],V[3]=H[1],V[4]=H[4],V[5]=H[7],V[6]=H[2],V[7]=H[5],V[8]=H[8];return V}function b(V,H){var u=H[0],ot=H[1],pt=H[2],it=H[3],xt=H[4],gt=H[5],wt=H[6],Dt=H[7],Nt=H[8],Ot=Nt*xt-gt*Dt,Tt=-Nt*it+gt*wt,at=Dt*it-xt*wt,st=u*Ot+ot*Tt+pt*at;return st?(st=1/st,V[0]=Ot*st,V[1]=(-Nt*ot+pt*Dt)*st,V[2]=(gt*ot-pt*xt)*st,V[3]=Tt*st,V[4]=(Nt*u-pt*wt)*st,V[5]=(-gt*u+pt*it)*st,V[6]=at*st,V[7]=(-Dt*u+ot*wt)*st,V[8]=(xt*u-ot*it)*st,V):null}function y(V,H){var u=H[0],ot=H[1],pt=H[2],it=H[3],xt=H[4],gt=H[5],wt=H[6],Dt=H[7],Nt=H[8];return V[0]=xt*Nt-gt*Dt,V[1]=pt*Dt-ot*Nt,V[2]=ot*gt-pt*xt,V[3]=gt*wt-it*Nt,V[4]=u*Nt-pt*wt,V[5]=pt*it-u*gt,V[6]=it*Dt-xt*wt,V[7]=ot*wt-u*Dt,V[8]=u*xt-ot*it,V}function x(V){var H=V[0],u=V[1],ot=V[2],pt=V[3],it=V[4],xt=V[5],gt=V[6],wt=V[7],Dt=V[8];return H*(Dt*it-xt*wt)+u*(-Dt*pt+xt*gt)+ot*(wt*pt-it*gt)}function g(V,H,u){var ot=H[0],pt=H[1],it=H[2],xt=H[3],gt=H[4],wt=H[5],Dt=H[6],Nt=H[7],Ot=H[8],Tt=u[0],at=u[1],st=u[2],Ct=u[3],nt=u[4],rt=u[5],mt=u[6],Pt=u[7],Yt=u[8];return V[0]=Tt*ot+at*xt+st*Dt,V[1]=Tt*pt+at*gt+st*Nt,V[2]=Tt*it+at*wt+st*Ot,V[3]=Ct*ot+nt*xt+rt*Dt,V[4]=Ct*pt+nt*gt+rt*Nt,V[5]=Ct*it+nt*wt+rt*Ot,V[6]=mt*ot+Pt*xt+Yt*Dt,V[7]=mt*pt+Pt*gt+Yt*Nt,V[8]=mt*it+Pt*wt+Yt*Ot,V}function M(V,H,u){var ot=H[0],pt=H[1],it=H[2],xt=H[3],gt=H[4],wt=H[5],Dt=H[6],Nt=H[7],Ot=H[8],Tt=u[0],at=u[1];return V[0]=ot,V[1]=pt,V[2]=it,V[3]=xt,V[4]=gt,V[5]=wt,V[6]=Tt*ot+at*xt+Dt,V[7]=Tt*pt+at*gt+Nt,V[8]=Tt*it+at*wt+Ot,V}function L(V,H,u){var ot=H[0],pt=H[1],it=H[2],xt=H[3],gt=H[4],wt=H[5],Dt=H[6],Nt=H[7],Ot=H[8],Tt=Math.sin(u),at=Math.cos(u);return V[0]=at*ot+Tt*xt,V[1]=at*pt+Tt*gt,V[2]=at*it+Tt*wt,V[3]=at*xt-Tt*ot,V[4]=at*gt-Tt*pt,V[5]=at*wt-Tt*it,V[6]=Dt,V[7]=Nt,V[8]=Ot,V}function k(V,H,u){var ot=u[0],pt=u[1];return V[0]=ot*H[0],V[1]=ot*H[1],V[2]=ot*H[2],V[3]=pt*H[3],V[4]=pt*H[4],V[5]=pt*H[5],V[6]=H[6],V[7]=H[7],V[8]=H[8],V}function F(V,H){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=1,V[5]=0,V[6]=H[0],V[7]=H[1],V[8]=1,V}function W(V,H){var u=Math.sin(H),ot=Math.cos(H);return V[0]=ot,V[1]=u,V[2]=0,V[3]=-u,V[4]=ot,V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function $(V,H){return V[0]=H[0],V[1]=0,V[2]=0,V[3]=0,V[4]=H[1],V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function z(V,H){return V[0]=H[0],V[1]=H[1],V[2]=0,V[3]=H[2],V[4]=H[3],V[5]=0,V[6]=H[4],V[7]=H[5],V[8]=1,V}function U(V,H){var u=H[0],ot=H[1],pt=H[2],it=H[3],xt=u+u,gt=ot+ot,wt=pt+pt,Dt=u*xt,Nt=ot*xt,Ot=ot*gt,Tt=pt*xt,at=pt*gt,st=pt*wt,Ct=it*xt,nt=it*gt,rt=it*wt;return V[0]=1-Ot-st,V[3]=Nt-rt,V[6]=Tt+nt,V[1]=Nt+rt,V[4]=1-Dt-st,V[7]=at-Ct,V[2]=Tt-nt,V[5]=at+Ct,V[8]=1-Dt-Ot,V}function et(V,H){var u=H[0],ot=H[1],pt=H[2],it=H[3],xt=H[4],gt=H[5],wt=H[6],Dt=H[7],Nt=H[8],Ot=H[9],Tt=H[10],at=H[11],st=H[12],Ct=H[13],nt=H[14],rt=H[15],mt=u*gt-ot*xt,Pt=u*wt-pt*xt,Yt=u*Dt-it*xt,Jt=ot*wt-pt*gt,de=ot*Dt-it*gt,Ce=pt*Dt-it*wt,ye=Nt*Ct-Ot*st,Se=Nt*nt-Tt*st,Fe=Nt*rt-at*st,Ze=Ot*nt-Tt*Ct,er=Ot*rt-at*Ct,qe=Tt*rt-at*nt,Pr=mt*qe-Pt*er+Yt*Ze+Jt*Fe-de*Se+Ce*ye;return Pr?(Pr=1/Pr,V[0]=(gt*qe-wt*er+Dt*Ze)*Pr,V[1]=(wt*Fe-xt*qe-Dt*Se)*Pr,V[2]=(xt*er-gt*Fe+Dt*ye)*Pr,V[3]=(pt*er-ot*qe-it*Ze)*Pr,V[4]=(u*qe-pt*Fe+it*Se)*Pr,V[5]=(ot*Fe-u*er-it*ye)*Pr,V[6]=(Ct*Ce-nt*de+rt*Jt)*Pr,V[7]=(nt*Yt-st*Ce-rt*Pt)*Pr,V[8]=(st*de-Ct*Yt+rt*mt)*Pr,V):null}function q(V,H,u){return V[0]=2/H,V[1]=0,V[2]=0,V[3]=0,V[4]=-2/u,V[5]=0,V[6]=-1,V[7]=1,V[8]=1,V}function dt(V){return"mat3("+V[0]+", "+V[1]+", "+V[2]+", "+V[3]+", "+V[4]+", "+V[5]+", "+V[6]+", "+V[7]+", "+V[8]+")"}function ct(V){return Math.hypot(V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],V[8])}function Mt(V,H,u){return V[0]=H[0]+u[0],V[1]=H[1]+u[1],V[2]=H[2]+u[2],V[3]=H[3]+u[3],V[4]=H[4]+u[4],V[5]=H[5]+u[5],V[6]=H[6]+u[6],V[7]=H[7]+u[7],V[8]=H[8]+u[8],V}function D(V,H,u){return V[0]=H[0]-u[0],V[1]=H[1]-u[1],V[2]=H[2]-u[2],V[3]=H[3]-u[3],V[4]=H[4]-u[4],V[5]=H[5]-u[5],V[6]=H[6]-u[6],V[7]=H[7]-u[7],V[8]=H[8]-u[8],V}function G(V,H,u){return V[0]=H[0]*u,V[1]=H[1]*u,V[2]=H[2]*u,V[3]=H[3]*u,V[4]=H[4]*u,V[5]=H[5]*u,V[6]=H[6]*u,V[7]=H[7]*u,V[8]=H[8]*u,V}function X(V,H,u,ot){return V[0]=H[0]+u[0]*ot,V[1]=H[1]+u[1]*ot,V[2]=H[2]+u[2]*ot,V[3]=H[3]+u[3]*ot,V[4]=H[4]+u[4]*ot,V[5]=H[5]+u[5]*ot,V[6]=H[6]+u[6]*ot,V[7]=H[7]+u[7]*ot,V[8]=H[8]+u[8]*ot,V}function N(V,H){return V[0]===H[0]&&V[1]===H[1]&&V[2]===H[2]&&V[3]===H[3]&&V[4]===H[4]&&V[5]===H[5]&&V[6]===H[6]&&V[7]===H[7]&&V[8]===H[8]}function tt(V,H){var u=V[0],ot=V[1],pt=V[2],it=V[3],xt=V[4],gt=V[5],wt=V[6],Dt=V[7],Nt=V[8],Ot=H[0],Tt=H[1],at=H[2],st=H[3],Ct=H[4],nt=H[5],rt=H[6],mt=H[7],Pt=H[8];return Math.abs(u-Ot)<=w.Ib*Math.max(1,Math.abs(u),Math.abs(Ot))&&Math.abs(ot-Tt)<=w.Ib*Math.max(1,Math.abs(ot),Math.abs(Tt))&&Math.abs(pt-at)<=w.Ib*Math.max(1,Math.abs(pt),Math.abs(at))&&Math.abs(it-st)<=w.Ib*Math.max(1,Math.abs(it),Math.abs(st))&&Math.abs(xt-Ct)<=w.Ib*Math.max(1,Math.abs(xt),Math.abs(Ct))&&Math.abs(gt-nt)<=w.Ib*Math.max(1,Math.abs(gt),Math.abs(nt))&&Math.abs(wt-rt)<=w.Ib*Math.max(1,Math.abs(wt),Math.abs(rt))&&Math.abs(Dt-mt)<=w.Ib*Math.max(1,Math.abs(Dt),Math.abs(mt))&&Math.abs(Nt-Pt)<=w.Ib*Math.max(1,Math.abs(Nt),Math.abs(Pt))}var Q=g,K=D},31437:function(bt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return _},clone:function(){return I},fromValues:function(){return O},copy:function(){return P},set:function(){return A},add:function(){return E},subtract:function(){return C},multiply:function(){return p},divide:function(){return b},ceil:function(){return y},floor:function(){return x},min:function(){return g},max:function(){return M},round:function(){return L},scale:function(){return k},scaleAndAdd:function(){return F},distance:function(){return W},squaredDistance:function(){return $},length:function(){return z},squaredLength:function(){return U},negate:function(){return et},inverse:function(){return q},normalize:function(){return dt},dot:function(){return ct},cross:function(){return Mt},lerp:function(){return D},random:function(){return G},transformMat2:function(){return X},transformMat2d:function(){return N},transformMat3:function(){return tt},transformMat4:function(){return Q},rotate:function(){return K},angle:function(){return V},zero:function(){return H},str:function(){return u},exactEquals:function(){return ot},equals:function(){return pt},len:function(){return it},sub:function(){return xt},mul:function(){return gt},div:function(){return wt},dist:function(){return Dt},sqrDist:function(){return Nt},sqrLen:function(){return Ot},forEach:function(){return Tt}});var w=d(49685);function _(){var at=new w.WT(2);return w.WT!=Float32Array&&(at[0]=0,at[1]=0),at}function I(at){var st=new w.WT(2);return st[0]=at[0],st[1]=at[1],st}function O(at,st){var Ct=new w.WT(2);return Ct[0]=at,Ct[1]=st,Ct}function P(at,st){return at[0]=st[0],at[1]=st[1],at}function A(at,st,Ct){return at[0]=st,at[1]=Ct,at}function E(at,st,Ct){return at[0]=st[0]+Ct[0],at[1]=st[1]+Ct[1],at}function C(at,st,Ct){return at[0]=st[0]-Ct[0],at[1]=st[1]-Ct[1],at}function p(at,st,Ct){return at[0]=st[0]*Ct[0],at[1]=st[1]*Ct[1],at}function b(at,st,Ct){return at[0]=st[0]/Ct[0],at[1]=st[1]/Ct[1],at}function y(at,st){return at[0]=Math.ceil(st[0]),at[1]=Math.ceil(st[1]),at}function x(at,st){return at[0]=Math.floor(st[0]),at[1]=Math.floor(st[1]),at}function g(at,st,Ct){return at[0]=Math.min(st[0],Ct[0]),at[1]=Math.min(st[1],Ct[1]),at}function M(at,st,Ct){return at[0]=Math.max(st[0],Ct[0]),at[1]=Math.max(st[1],Ct[1]),at}function L(at,st){return at[0]=Math.round(st[0]),at[1]=Math.round(st[1]),at}function k(at,st,Ct){return at[0]=st[0]*Ct,at[1]=st[1]*Ct,at}function F(at,st,Ct,nt){return at[0]=st[0]+Ct[0]*nt,at[1]=st[1]+Ct[1]*nt,at}function W(at,st){var Ct=st[0]-at[0],nt=st[1]-at[1];return Math.hypot(Ct,nt)}function $(at,st){var Ct=st[0]-at[0],nt=st[1]-at[1];return Ct*Ct+nt*nt}function z(at){var st=at[0],Ct=at[1];return Math.hypot(st,Ct)}function U(at){var st=at[0],Ct=at[1];return st*st+Ct*Ct}function et(at,st){return at[0]=-st[0],at[1]=-st[1],at}function q(at,st){return at[0]=1/st[0],at[1]=1/st[1],at}function dt(at,st){var Ct=st[0],nt=st[1],rt=Ct*Ct+nt*nt;return rt>0&&(rt=1/Math.sqrt(rt)),at[0]=st[0]*rt,at[1]=st[1]*rt,at}function ct(at,st){return at[0]*st[0]+at[1]*st[1]}function Mt(at,st,Ct){var nt=st[0]*Ct[1]-st[1]*Ct[0];return at[0]=at[1]=0,at[2]=nt,at}function D(at,st,Ct,nt){var rt=st[0],mt=st[1];return at[0]=rt+nt*(Ct[0]-rt),at[1]=mt+nt*(Ct[1]-mt),at}function G(at,st){st=st||1;var Ct=w.FD()*2*Math.PI;return at[0]=Math.cos(Ct)*st,at[1]=Math.sin(Ct)*st,at}function X(at,st,Ct){var nt=st[0],rt=st[1];return at[0]=Ct[0]*nt+Ct[2]*rt,at[1]=Ct[1]*nt+Ct[3]*rt,at}function N(at,st,Ct){var nt=st[0],rt=st[1];return at[0]=Ct[0]*nt+Ct[2]*rt+Ct[4],at[1]=Ct[1]*nt+Ct[3]*rt+Ct[5],at}function tt(at,st,Ct){var nt=st[0],rt=st[1];return at[0]=Ct[0]*nt+Ct[3]*rt+Ct[6],at[1]=Ct[1]*nt+Ct[4]*rt+Ct[7],at}function Q(at,st,Ct){var nt=st[0],rt=st[1];return at[0]=Ct[0]*nt+Ct[4]*rt+Ct[12],at[1]=Ct[1]*nt+Ct[5]*rt+Ct[13],at}function K(at,st,Ct,nt){var rt=st[0]-Ct[0],mt=st[1]-Ct[1],Pt=Math.sin(nt),Yt=Math.cos(nt);return at[0]=rt*Yt-mt*Pt+Ct[0],at[1]=rt*Pt+mt*Yt+Ct[1],at}function V(at,st){var Ct=at[0],nt=at[1],rt=st[0],mt=st[1],Pt=Math.sqrt(Ct*Ct+nt*nt)*Math.sqrt(rt*rt+mt*mt),Yt=Pt&&(Ct*rt+nt*mt)/Pt;return Math.acos(Math.min(Math.max(Yt,-1),1))}function H(at){return at[0]=0,at[1]=0,at}function u(at){return"vec2("+at[0]+", "+at[1]+")"}function ot(at,st){return at[0]===st[0]&&at[1]===st[1]}function pt(at,st){var Ct=at[0],nt=at[1],rt=st[0],mt=st[1];return Math.abs(Ct-rt)<=w.Ib*Math.max(1,Math.abs(Ct),Math.abs(rt))&&Math.abs(nt-mt)<=w.Ib*Math.max(1,Math.abs(nt),Math.abs(mt))}var it=z,xt=C,gt=p,wt=b,Dt=W,Nt=$,Ot=U,Tt=function(){var at=_();return function(st,Ct,nt,rt,mt,Pt){var Yt,Jt;for(Ct||(Ct=2),nt||(nt=0),rt?Jt=Math.min(rt*Ct+nt,st.length):Jt=st.length,Yt=nt;Yt<Jt;Yt+=Ct)at[0]=st[Yt],at[1]=st[Yt+1],mt(at,at,Pt),st[Yt]=at[0],st[Yt+1]=at[1];return st}}()},77160:function(bt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return _},clone:function(){return I},length:function(){return O},fromValues:function(){return P},copy:function(){return A},set:function(){return E},add:function(){return C},subtract:function(){return p},multiply:function(){return b},divide:function(){return y},ceil:function(){return x},floor:function(){return g},min:function(){return M},max:function(){return L},round:function(){return k},scale:function(){return F},scaleAndAdd:function(){return W},distance:function(){return $},squaredDistance:function(){return z},squaredLength:function(){return U},negate:function(){return et},inverse:function(){return q},normalize:function(){return dt},dot:function(){return ct},cross:function(){return Mt},lerp:function(){return D},hermite:function(){return G},bezier:function(){return X},random:function(){return N},transformMat4:function(){return tt},transformMat3:function(){return Q},transformQuat:function(){return K},rotateX:function(){return V},rotateY:function(){return H},rotateZ:function(){return u},angle:function(){return ot},zero:function(){return pt},str:function(){return it},exactEquals:function(){return xt},equals:function(){return gt},sub:function(){return wt},mul:function(){return Dt},div:function(){return Nt},dist:function(){return Ot},sqrDist:function(){return Tt},len:function(){return at},sqrLen:function(){return st},forEach:function(){return Ct}});var w=d(49685);function _(){var nt=new w.WT(3);return w.WT!=Float32Array&&(nt[0]=0,nt[1]=0,nt[2]=0),nt}function I(nt){var rt=new w.WT(3);return rt[0]=nt[0],rt[1]=nt[1],rt[2]=nt[2],rt}function O(nt){var rt=nt[0],mt=nt[1],Pt=nt[2];return Math.hypot(rt,mt,Pt)}function P(nt,rt,mt){var Pt=new w.WT(3);return Pt[0]=nt,Pt[1]=rt,Pt[2]=mt,Pt}function A(nt,rt){return nt[0]=rt[0],nt[1]=rt[1],nt[2]=rt[2],nt}function E(nt,rt,mt,Pt){return nt[0]=rt,nt[1]=mt,nt[2]=Pt,nt}function C(nt,rt,mt){return nt[0]=rt[0]+mt[0],nt[1]=rt[1]+mt[1],nt[2]=rt[2]+mt[2],nt}function p(nt,rt,mt){return nt[0]=rt[0]-mt[0],nt[1]=rt[1]-mt[1],nt[2]=rt[2]-mt[2],nt}function b(nt,rt,mt){return nt[0]=rt[0]*mt[0],nt[1]=rt[1]*mt[1],nt[2]=rt[2]*mt[2],nt}function y(nt,rt,mt){return nt[0]=rt[0]/mt[0],nt[1]=rt[1]/mt[1],nt[2]=rt[2]/mt[2],nt}function x(nt,rt){return nt[0]=Math.ceil(rt[0]),nt[1]=Math.ceil(rt[1]),nt[2]=Math.ceil(rt[2]),nt}function g(nt,rt){return nt[0]=Math.floor(rt[0]),nt[1]=Math.floor(rt[1]),nt[2]=Math.floor(rt[2]),nt}function M(nt,rt,mt){return nt[0]=Math.min(rt[0],mt[0]),nt[1]=Math.min(rt[1],mt[1]),nt[2]=Math.min(rt[2],mt[2]),nt}function L(nt,rt,mt){return nt[0]=Math.max(rt[0],mt[0]),nt[1]=Math.max(rt[1],mt[1]),nt[2]=Math.max(rt[2],mt[2]),nt}function k(nt,rt){return nt[0]=Math.round(rt[0]),nt[1]=Math.round(rt[1]),nt[2]=Math.round(rt[2]),nt}function F(nt,rt,mt){return nt[0]=rt[0]*mt,nt[1]=rt[1]*mt,nt[2]=rt[2]*mt,nt}function W(nt,rt,mt,Pt){return nt[0]=rt[0]+mt[0]*Pt,nt[1]=rt[1]+mt[1]*Pt,nt[2]=rt[2]+mt[2]*Pt,nt}function $(nt,rt){var mt=rt[0]-nt[0],Pt=rt[1]-nt[1],Yt=rt[2]-nt[2];return Math.hypot(mt,Pt,Yt)}function z(nt,rt){var mt=rt[0]-nt[0],Pt=rt[1]-nt[1],Yt=rt[2]-nt[2];return mt*mt+Pt*Pt+Yt*Yt}function U(nt){var rt=nt[0],mt=nt[1],Pt=nt[2];return rt*rt+mt*mt+Pt*Pt}function et(nt,rt){return nt[0]=-rt[0],nt[1]=-rt[1],nt[2]=-rt[2],nt}function q(nt,rt){return nt[0]=1/rt[0],nt[1]=1/rt[1],nt[2]=1/rt[2],nt}function dt(nt,rt){var mt=rt[0],Pt=rt[1],Yt=rt[2],Jt=mt*mt+Pt*Pt+Yt*Yt;return Jt>0&&(Jt=1/Math.sqrt(Jt)),nt[0]=rt[0]*Jt,nt[1]=rt[1]*Jt,nt[2]=rt[2]*Jt,nt}function ct(nt,rt){return nt[0]*rt[0]+nt[1]*rt[1]+nt[2]*rt[2]}function Mt(nt,rt,mt){var Pt=rt[0],Yt=rt[1],Jt=rt[2],de=mt[0],Ce=mt[1],ye=mt[2];return nt[0]=Yt*ye-Jt*Ce,nt[1]=Jt*de-Pt*ye,nt[2]=Pt*Ce-Yt*de,nt}function D(nt,rt,mt,Pt){var Yt=rt[0],Jt=rt[1],de=rt[2];return nt[0]=Yt+Pt*(mt[0]-Yt),nt[1]=Jt+Pt*(mt[1]-Jt),nt[2]=de+Pt*(mt[2]-de),nt}function G(nt,rt,mt,Pt,Yt,Jt){var de=Jt*Jt,Ce=de*(2*Jt-3)+1,ye=de*(Jt-2)+Jt,Se=de*(Jt-1),Fe=de*(3-2*Jt);return nt[0]=rt[0]*Ce+mt[0]*ye+Pt[0]*Se+Yt[0]*Fe,nt[1]=rt[1]*Ce+mt[1]*ye+Pt[1]*Se+Yt[1]*Fe,nt[2]=rt[2]*Ce+mt[2]*ye+Pt[2]*Se+Yt[2]*Fe,nt}function X(nt,rt,mt,Pt,Yt,Jt){var de=1-Jt,Ce=de*de,ye=Jt*Jt,Se=Ce*de,Fe=3*Jt*Ce,Ze=3*ye*de,er=ye*Jt;return nt[0]=rt[0]*Se+mt[0]*Fe+Pt[0]*Ze+Yt[0]*er,nt[1]=rt[1]*Se+mt[1]*Fe+Pt[1]*Ze+Yt[1]*er,nt[2]=rt[2]*Se+mt[2]*Fe+Pt[2]*Ze+Yt[2]*er,nt}function N(nt,rt){rt=rt||1;var mt=w.FD()*2*Math.PI,Pt=w.FD()*2-1,Yt=Math.sqrt(1-Pt*Pt)*rt;return nt[0]=Math.cos(mt)*Yt,nt[1]=Math.sin(mt)*Yt,nt[2]=Pt*rt,nt}function tt(nt,rt,mt){var Pt=rt[0],Yt=rt[1],Jt=rt[2],de=mt[3]*Pt+mt[7]*Yt+mt[11]*Jt+mt[15];return de=de||1,nt[0]=(mt[0]*Pt+mt[4]*Yt+mt[8]*Jt+mt[12])/de,nt[1]=(mt[1]*Pt+mt[5]*Yt+mt[9]*Jt+mt[13])/de,nt[2]=(mt[2]*Pt+mt[6]*Yt+mt[10]*Jt+mt[14])/de,nt}function Q(nt,rt,mt){var Pt=rt[0],Yt=rt[1],Jt=rt[2];return nt[0]=Pt*mt[0]+Yt*mt[3]+Jt*mt[6],nt[1]=Pt*mt[1]+Yt*mt[4]+Jt*mt[7],nt[2]=Pt*mt[2]+Yt*mt[5]+Jt*mt[8],nt}function K(nt,rt,mt){var Pt=mt[0],Yt=mt[1],Jt=mt[2],de=mt[3],Ce=rt[0],ye=rt[1],Se=rt[2],Fe=Yt*Se-Jt*ye,Ze=Jt*Ce-Pt*Se,er=Pt*ye-Yt*Ce,qe=Yt*er-Jt*Ze,Pr=Jt*Fe-Pt*er,rn=Pt*Ze-Yt*Fe,Or=de*2;return Fe*=Or,Ze*=Or,er*=Or,qe*=2,Pr*=2,rn*=2,nt[0]=Ce+Fe+qe,nt[1]=ye+Ze+Pr,nt[2]=Se+er+rn,nt}function V(nt,rt,mt,Pt){var Yt=[],Jt=[];return Yt[0]=rt[0]-mt[0],Yt[1]=rt[1]-mt[1],Yt[2]=rt[2]-mt[2],Jt[0]=Yt[0],Jt[1]=Yt[1]*Math.cos(Pt)-Yt[2]*Math.sin(Pt),Jt[2]=Yt[1]*Math.sin(Pt)+Yt[2]*Math.cos(Pt),nt[0]=Jt[0]+mt[0],nt[1]=Jt[1]+mt[1],nt[2]=Jt[2]+mt[2],nt}function H(nt,rt,mt,Pt){var Yt=[],Jt=[];return Yt[0]=rt[0]-mt[0],Yt[1]=rt[1]-mt[1],Yt[2]=rt[2]-mt[2],Jt[0]=Yt[2]*Math.sin(Pt)+Yt[0]*Math.cos(Pt),Jt[1]=Yt[1],Jt[2]=Yt[2]*Math.cos(Pt)-Yt[0]*Math.sin(Pt),nt[0]=Jt[0]+mt[0],nt[1]=Jt[1]+mt[1],nt[2]=Jt[2]+mt[2],nt}function u(nt,rt,mt,Pt){var Yt=[],Jt=[];return Yt[0]=rt[0]-mt[0],Yt[1]=rt[1]-mt[1],Yt[2]=rt[2]-mt[2],Jt[0]=Yt[0]*Math.cos(Pt)-Yt[1]*Math.sin(Pt),Jt[1]=Yt[0]*Math.sin(Pt)+Yt[1]*Math.cos(Pt),Jt[2]=Yt[2],nt[0]=Jt[0]+mt[0],nt[1]=Jt[1]+mt[1],nt[2]=Jt[2]+mt[2],nt}function ot(nt,rt){var mt=nt[0],Pt=nt[1],Yt=nt[2],Jt=rt[0],de=rt[1],Ce=rt[2],ye=Math.sqrt(mt*mt+Pt*Pt+Yt*Yt),Se=Math.sqrt(Jt*Jt+de*de+Ce*Ce),Fe=ye*Se,Ze=Fe&&ct(nt,rt)/Fe;return Math.acos(Math.min(Math.max(Ze,-1),1))}function pt(nt){return nt[0]=0,nt[1]=0,nt[2]=0,nt}function it(nt){return"vec3("+nt[0]+", "+nt[1]+", "+nt[2]+")"}function xt(nt,rt){return nt[0]===rt[0]&&nt[1]===rt[1]&&nt[2]===rt[2]}function gt(nt,rt){var mt=nt[0],Pt=nt[1],Yt=nt[2],Jt=rt[0],de=rt[1],Ce=rt[2];return Math.abs(mt-Jt)<=w.Ib*Math.max(1,Math.abs(mt),Math.abs(Jt))&&Math.abs(Pt-de)<=w.Ib*Math.max(1,Math.abs(Pt),Math.abs(de))&&Math.abs(Yt-Ce)<=w.Ib*Math.max(1,Math.abs(Yt),Math.abs(Ce))}var wt=p,Dt=b,Nt=y,Ot=$,Tt=z,at=O,st=U,Ct=function(){var nt=_();return function(rt,mt,Pt,Yt,Jt,de){var Ce,ye;for(mt||(mt=3),Pt||(Pt=0),Yt?ye=Math.min(Yt*mt+Pt,rt.length):ye=rt.length,Ce=Pt;Ce<ye;Ce+=mt)nt[0]=rt[Ce],nt[1]=rt[Ce+1],nt[2]=rt[Ce+2],Jt(nt,nt,de),rt[Ce]=nt[0],rt[Ce+1]=nt[1],rt[Ce+2]=nt[2];return rt}}()},28282:function(bt,S,d){var w=d(82354);bt.exports={Graph:w.Graph,json:d(28974),alg:d(12440),version:w.version}},2842:function(bt,S,d){var w=d(89126);bt.exports=_;function _(I){var O={},P=[],A;function E(C){w.has(O,C)||(O[C]=!0,A.push(C),w.each(I.successors(C),E),w.each(I.predecessors(C),E))}return w.each(I.nodes(),function(C){A=[],E(C),A.length&&P.push(A)}),P}},53984:function(bt,S,d){var w=d(89126);bt.exports=_;function _(O,P,A){w.isArray(P)||(P=[P]);var E=(O.isDirected()?O.successors:O.neighbors).bind(O),C=[],p={};return w.each(P,function(b){if(!O.hasNode(b))throw new Error("Graph does not have node: "+b);I(O,b,A==="post",p,E,C)}),C}function I(O,P,A,E,C,p){w.has(E,P)||(E[P]=!0,A||p.push(P),w.each(C(P),function(b){I(O,b,A,E,C,p)}),A&&p.push(P))}},84847:function(bt,S,d){var w=d(63763),_=d(89126);bt.exports=I;function I(O,P,A){return _.transform(O.nodes(),function(E,C){E[C]=w(O,C,P,A)},{})}},63763:function(bt,S,d){var w=d(89126),_=d(75639);bt.exports=O;var I=w.constant(1);function O(A,E,C,p){return P(A,String(E),C||I,p||function(b){return A.outEdges(b)})}function P(A,E,C,p){var b={},y=new _,x,g,M=function(L){var k=L.v!==x?L.v:L.w,F=b[k],W=C(L),$=g.distance+W;if(W<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+L+" Weight: "+W);$<F.distance&&(F.distance=$,F.predecessor=x,y.decrease(k,$))};for(A.nodes().forEach(function(L){var k=L===E?0:Number.POSITIVE_INFINITY;b[L]={distance:k},y.add(L,k)});y.size()>0&&(x=y.removeMin(),g=b[x],g.distance!==Number.POSITIVE_INFINITY);)p(x).forEach(M);return b}},9096:function(bt,S,d){var w=d(89126),_=d(5023);bt.exports=I;function I(O){return w.filter(_(O),function(P){return P.length>1||P.length===1&&O.hasEdge(P[0],P[0])})}},38924:function(bt,S,d){var w=d(89126);bt.exports=I;var _=w.constant(1);function I(P,A,E){return O(P,A||_,E||function(C){return P.outEdges(C)})}function O(P,A,E){var C={},p=P.nodes();return p.forEach(function(b){C[b]={},C[b][b]={distance:0},p.forEach(function(y){b!==y&&(C[b][y]={distance:Number.POSITIVE_INFINITY})}),E(b).forEach(function(y){var x=y.v===b?y.w:y.v,g=A(y);C[b][x]={distance:g,predecessor:b}})}),p.forEach(function(b){var y=C[b];p.forEach(function(x){var g=C[x];p.forEach(function(M){var L=g[b],k=y[M],F=g[M],W=L.distance+k.distance;W<F.distance&&(F.distance=W,F.predecessor=k.predecessor)})})}),C}},12440:function(bt,S,d){bt.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(bt,S,d){var w=d(2166);bt.exports=_;function _(I){try{w(I)}catch(O){if(O instanceof w.CycleException)return!1;throw O}return!0}},58828:function(bt,S,d){var w=d(53984);bt.exports=_;function _(I,O){return w(I,O,"post")}},92648:function(bt,S,d){var w=d(53984);bt.exports=_;function _(I,O){return w(I,O,"pre")}},80514:function(bt,S,d){var w=d(89126),_=d(30771),I=d(75639);bt.exports=O;function O(P,A){var E=new _,C={},p=new I,b;function y(g){var M=g.v===b?g.w:g.v,L=p.priority(M);if(L!==void 0){var k=A(g);k<L&&(C[M]=b,p.decrease(M,k))}}if(P.nodeCount()===0)return E;w.each(P.nodes(),function(g){p.add(g,Number.POSITIVE_INFINITY),E.setNode(g)}),p.decrease(P.nodes()[0],0);for(var x=!1;p.size()>0;){if(b=p.removeMin(),w.has(C,b))E.setEdge(b,C[b]);else{if(x)throw new Error("Input graph is not connected: "+P);x=!0}P.nodeEdges(b).forEach(y)}return E}},5023:function(bt,S,d){var w=d(89126);bt.exports=_;function _(I){var O=0,P=[],A={},E=[];function C(p){var b=A[p]={onStack:!0,lowlink:O,index:O++};if(P.push(p),I.successors(p).forEach(function(g){w.has(A,g)?A[g].onStack&&(b.lowlink=Math.min(b.lowlink,A[g].index)):(C(g),b.lowlink=Math.min(b.lowlink,A[g].lowlink))}),b.lowlink===b.index){var y=[],x;do x=P.pop(),A[x].onStack=!1,y.push(x);while(p!==x);E.push(y)}}return I.nodes().forEach(function(p){w.has(A,p)||C(p)}),E}},2166:function(bt,S,d){var w=d(89126);bt.exports=_,_.CycleException=I;function _(O){var P={},A={},E=[];function C(p){if(w.has(A,p))throw new I;w.has(P,p)||(A[p]=!0,P[p]=!0,w.each(O.predecessors(p),C),delete A[p],E.push(p))}if(w.each(O.sinks(),C),w.size(P)!==O.nodeCount())throw new I;return E}function I(){}I.prototype=new Error},75639:function(bt,S,d){var w=d(89126);bt.exports=_;function _(){this._arr=[],this._keyIndices={}}_.prototype.size=function(){return this._arr.length},_.prototype.keys=function(){return this._arr.map(function(I){return I.key})},_.prototype.has=function(I){return w.has(this._keyIndices,I)},_.prototype.priority=function(I){var O=this._keyIndices[I];if(O!==void 0)return this._arr[O].priority},_.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},_.prototype.add=function(I,O){var P=this._keyIndices;if(I=String(I),!w.has(P,I)){var A=this._arr,E=A.length;return P[I]=E,A.push({key:I,priority:O}),this._decrease(E),!0}return!1},_.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var I=this._arr.pop();return delete this._keyIndices[I.key],this._heapify(0),I.key},_.prototype.decrease=function(I,O){var P=this._keyIndices[I];if(O>this._arr[P].priority)throw new Error("New priority is greater than current priority. Key: "+I+" Old: "+this._arr[P].priority+" New: "+O);this._arr[P].priority=O,this._decrease(P)},_.prototype._heapify=function(I){var O=this._arr,P=2*I,A=P+1,E=I;P<O.length&&(E=O[P].priority<O[E].priority?P:E,A<O.length&&(E=O[A].priority<O[E].priority?A:E),E!==I&&(this._swap(I,E),this._heapify(E)))},_.prototype._decrease=function(I){for(var O=this._arr,P=O[I].priority,A;I!==0&&(A=I>>1,!(O[A].priority<P));)this._swap(I,A),I=A},_.prototype._swap=function(I,O){var P=this._arr,A=this._keyIndices,E=P[I],C=P[O];P[I]=C,P[O]=E,A[C.key]=I,A[E.key]=O}},30771:function(bt,S,d){"use strict";var w=d(89126);bt.exports=P;var _="\0",I="\0",O="";function P(y){this._isDirected=w.has(y,"directed")?y.directed:!0,this._isMultigraph=w.has(y,"multigraph")?y.multigraph:!1,this._isCompound=w.has(y,"compound")?y.compound:!1,this._label=void 0,this._defaultNodeLabelFn=w.constant(void 0),this._defaultEdgeLabelFn=w.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[I]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}P.prototype._nodeCount=0,P.prototype._edgeCount=0,P.prototype.isDirected=function(){return this._isDirected},P.prototype.isMultigraph=function(){return this._isMultigraph},P.prototype.isCompound=function(){return this._isCompound},P.prototype.setGraph=function(y){return this._label=y,this},P.prototype.graph=function(){return this._label},P.prototype.setDefaultNodeLabel=function(y){return w.isFunction(y)||(y=w.constant(y)),this._defaultNodeLabelFn=y,this},P.prototype.nodeCount=function(){return this._nodeCount},P.prototype.nodes=function(){return w.keys(this._nodes)},P.prototype.sources=function(){var y=this;return w.filter(this.nodes(),function(x){return w.isEmpty(y._in[x])})},P.prototype.sinks=function(){var y=this;return w.filter(this.nodes(),function(x){return w.isEmpty(y._out[x])})},P.prototype.setNodes=function(y,x){var g=arguments,M=this;return w.each(y,function(L){g.length>1?M.setNode(L,x):M.setNode(L)}),this},P.prototype.setNode=function(y,x){return w.has(this._nodes,y)?(arguments.length>1&&(this._nodes[y]=x),this):(this._nodes[y]=arguments.length>1?x:this._defaultNodeLabelFn(y),this._isCompound&&(this._parent[y]=I,this._children[y]={},this._children[I][y]=!0),this._in[y]={},this._preds[y]={},this._out[y]={},this._sucs[y]={},++this._nodeCount,this)},P.prototype.node=function(y){return this._nodes[y]},P.prototype.hasNode=function(y){return w.has(this._nodes,y)},P.prototype.removeNode=function(y){var x=this;if(w.has(this._nodes,y)){var g=function(M){x.removeEdge(x._edgeObjs[M])};delete this._nodes[y],this._isCompound&&(this._removeFromParentsChildList(y),delete this._parent[y],w.each(this.children(y),function(M){x.setParent(M)}),delete this._children[y]),w.each(w.keys(this._in[y]),g),delete this._in[y],delete this._preds[y],w.each(w.keys(this._out[y]),g),delete this._out[y],delete this._sucs[y],--this._nodeCount}return this},P.prototype.setParent=function(y,x){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(w.isUndefined(x))x=I;else{x+="";for(var g=x;!w.isUndefined(g);g=this.parent(g))if(g===y)throw new Error("Setting "+x+" as parent of "+y+" would create a cycle");this.setNode(x)}return this.setNode(y),this._removeFromParentsChildList(y),this._parent[y]=x,this._children[x][y]=!0,this},P.prototype._removeFromParentsChildList=function(y){delete this._children[this._parent[y]][y]},P.prototype.parent=function(y){if(this._isCompound){var x=this._parent[y];if(x!==I)return x}},P.prototype.children=function(y){if(w.isUndefined(y)&&(y=I),this._isCompound){var x=this._children[y];if(x)return w.keys(x)}else{if(y===I)return this.nodes();if(this.hasNode(y))return[]}},P.prototype.predecessors=function(y){var x=this._preds[y];if(x)return w.keys(x)},P.prototype.successors=function(y){var x=this._sucs[y];if(x)return w.keys(x)},P.prototype.neighbors=function(y){var x=this.predecessors(y);if(x)return w.union(x,this.successors(y))},P.prototype.isLeaf=function(y){var x;return this.isDirected()?x=this.successors(y):x=this.neighbors(y),x.length===0},P.prototype.filterNodes=function(y){var x=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});x.setGraph(this.graph());var g=this;w.each(this._nodes,function(k,F){y(F)&&x.setNode(F,k)}),w.each(this._edgeObjs,function(k){x.hasNode(k.v)&&x.hasNode(k.w)&&x.setEdge(k,g.edge(k))});var M={};function L(k){var F=g.parent(k);return F===void 0||x.hasNode(F)?(M[k]=F,F):F in M?M[F]:L(F)}return this._isCompound&&w.each(x.nodes(),function(k){x.setParent(k,L(k))}),x},P.prototype.setDefaultEdgeLabel=function(y){return w.isFunction(y)||(y=w.constant(y)),this._defaultEdgeLabelFn=y,this},P.prototype.edgeCount=function(){return this._edgeCount},P.prototype.edges=function(){return w.values(this._edgeObjs)},P.prototype.setPath=function(y,x){var g=this,M=arguments;return w.reduce(y,function(L,k){return M.length>1?g.setEdge(L,k,x):g.setEdge(L,k),k}),this},P.prototype.setEdge=function(){var y,x,g,M,L=!1,k=arguments[0];typeof k=="object"&&k!==null&&"v"in k?(y=k.v,x=k.w,g=k.name,arguments.length===2&&(M=arguments[1],L=!0)):(y=k,x=arguments[1],g=arguments[3],arguments.length>2&&(M=arguments[2],L=!0)),y=""+y,x=""+x,w.isUndefined(g)||(g=""+g);var F=C(this._isDirected,y,x,g);if(w.has(this._edgeLabels,F))return L&&(this._edgeLabels[F]=M),this;if(!w.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(y),this.setNode(x),this._edgeLabels[F]=L?M:this._defaultEdgeLabelFn(y,x,g);var W=p(this._isDirected,y,x,g);return y=W.v,x=W.w,Object.freeze(W),this._edgeObjs[F]=W,A(this._preds[x],y),A(this._sucs[y],x),this._in[x][F]=W,this._out[y][F]=W,this._edgeCount++,this},P.prototype.edge=function(y,x,g){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,y,x,g);return this._edgeLabels[M]},P.prototype.hasEdge=function(y,x,g){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,y,x,g);return w.has(this._edgeLabels,M)},P.prototype.removeEdge=function(y,x,g){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,y,x,g),L=this._edgeObjs[M];return L&&(y=L.v,x=L.w,delete this._edgeLabels[M],delete this._edgeObjs[M],E(this._preds[x],y),E(this._sucs[y],x),delete this._in[x][M],delete this._out[y][M],this._edgeCount--),this},P.prototype.inEdges=function(y,x){var g=this._in[y];if(g){var M=w.values(g);return x?w.filter(M,function(L){return L.v===x}):M}},P.prototype.outEdges=function(y,x){var g=this._out[y];if(g){var M=w.values(g);return x?w.filter(M,function(L){return L.w===x}):M}},P.prototype.nodeEdges=function(y,x){var g=this.inEdges(y,x);if(g)return g.concat(this.outEdges(y,x))};function A(y,x){y[x]?y[x]++:y[x]=1}function E(y,x){--y[x]||delete y[x]}function C(y,x,g,M){var L=""+x,k=""+g;if(!y&&L>k){var F=L;L=k,k=F}return L+O+k+O+(w.isUndefined(M)?_:M)}function p(y,x,g,M){var L=""+x,k=""+g;if(!y&&L>k){var F=L;L=k,k=F}var W={v:L,w:k};return M&&(W.name=M),W}function b(y,x){return C(y,x.v,x.w,x.name)}},82354:function(bt,S,d){bt.exports={Graph:d(30771),version:d(49631)}},28974:function(bt,S,d){var w=d(89126),_=d(30771);bt.exports={write:I,read:A};function I(E){var C={options:{directed:E.isDirected(),multigraph:E.isMultigraph(),compound:E.isCompound()},nodes:O(E),edges:P(E)};return w.isUndefined(E.graph())||(C.value=w.clone(E.graph())),C}function O(E){return w.map(E.nodes(),function(C){var p=E.node(C),b=E.parent(C),y={v:C};return w.isUndefined(p)||(y.value=p),w.isUndefined(b)||(y.parent=b),y})}function P(E){return w.map(E.edges(),function(C){var p=E.edge(C),b={v:C.v,w:C.w};return w.isUndefined(C.name)||(b.name=C.name),w.isUndefined(p)||(b.value=p),b})}function A(E){var C=new _(E.options).setGraph(E.value);return w.each(E.nodes,function(p){C.setNode(p.v,p.value),p.parent&&C.setParent(p.v,p.parent)}),w.each(E.edges,function(p){C.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),C}},89126:function(bt,S,d){var w;try{w={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(_){}w||(w=window._),bt.exports=w},49631:function(bt){bt.exports="2.1.8"},38186:function(bt){var S=[],d=[],w="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function _(O,P){if(P=P||{},O===void 0)throw new Error(w);var A=P.prepend===!0?"prepend":"append",E=P.container!==void 0?P.container:document.querySelector("head"),C=S.indexOf(E);C===-1&&(C=S.push(E)-1,d[C]={});var p;return d[C]!==void 0&&d[C][A]!==void 0?p=d[C][A]:(p=d[C][A]=I(),A==="prepend"?E.insertBefore(p,E.childNodes[0]):E.appendChild(p)),O.charCodeAt(0)===65279&&(O=O.substr(1,O.length)),p.styleSheet?p.styleSheet.cssText+=O:p.textContent+=O,p}function I(){var O=document.createElement("style");return O.setAttribute("type","text/css"),O}bt.exports=_,bt.exports.insertCss=_},47443:function(bt,S,d){var w=d(42118);function _(I,O){var P=I==null?0:I.length;return!!P&&w(I,O,0)>-1}bt.exports=_},1196:function(bt){function S(d,w,_){for(var I=-1,O=d==null?0:d.length;++I<O;)if(_(w,d[I]))return!0;return!1}bt.exports=S},62663:function(bt){function S(d,w,_,I){var O=-1,P=d==null?0:d.length;for(I&&P&&(_=d[++O]);++O<P;)_=w(_,d[O],O,d);return _}bt.exports=S},56029:function(bt,S,d){var w=d(33448);function _(I,O,P){for(var A=-1,E=I.length;++A<E;){var C=I[A],p=O(C);if(p!=null&&(b===void 0?p===p&&!w(p):P(p,b)))var b=p,y=C}return y}bt.exports=_},80760:function(bt,S,d){var w=d(89881);function _(I,O){var P=[];return w(I,function(A,E,C){O(A,E,C)&&P.push(A)}),P}bt.exports=_},41848:function(bt){function S(d,w,_,I){for(var O=d.length,P=_+(I?1:-1);I?P--:++P<O;)if(w(d[P],P,d))return P;return-1}bt.exports=S},53325:function(bt){function S(d,w){return d>w}bt.exports=S},78565:function(bt){var S=Object.prototype,d=S.hasOwnProperty;function w(_,I){return _!=null&&d.call(_,I)}bt.exports=w},42118:function(bt,S,d){var w=d(41848),_=d(62722),I=d(42351);function O(P,A,E){return A===A?I(P,A,E):w(P,_,E)}bt.exports=O},62722:function(bt){function S(d){return d!==d}bt.exports=S},70433:function(bt){function S(d,w){return d<w}bt.exports=S},82689:function(bt,S,d){var w=d(29932),_=d(97786),I=d(67206),O=d(69199),P=d(71131),A=d(7518),E=d(85022),C=d(6557),p=d(1469);function b(y,x,g){x.length?x=w(x,function(k){return p(k)?function(F){return _(F,k.length===1?k[0]:k)}:k}):x=[C];var M=-1;x=w(x,A(I));var L=O(y,function(k,F,W){var $=w(x,function(z){return z(k)});return{criteria:$,index:++M,value:k}});return P(L,function(k,F){return E(k,F,g)})}bt.exports=b},40098:function(bt){var S=Math.ceil,d=Math.max;function w(_,I,O,P){for(var A=-1,E=d(S((I-_)/(O||1)),0),C=Array(E);E--;)C[P?E:++A]=_,_+=O;return C}bt.exports=w},10107:function(bt){function S(d,w,_,I,O){return O(d,function(P,A,E){_=I?(I=!1,P):w(_,P,A,E)}),_}bt.exports=S},71131:function(bt){function S(d,w){var _=d.length;for(d.sort(w);_--;)d[_]=d[_].value;return d}bt.exports=S},45652:function(bt,S,d){var w=d(88668),_=d(47443),I=d(1196),O=d(74757),P=d(23593),A=d(21814),E=200;function C(p,b,y){var x=-1,g=_,M=p.length,L=!0,k=[],F=k;if(y)L=!1,g=I;else if(M>=E){var W=b?null:P(p);if(W)return A(W);L=!1,g=O,F=new w}else F=b?[]:k;t:for(;++x<M;){var $=p[x],z=b?b($):$;if($=y||$!==0?$:0,L&&z===z){for(var U=F.length;U--;)if(F[U]===z)continue t;b&&F.push(z),k.push($)}else g(F,z,y)||(F!==k&&F.push(z),k.push($))}return k}bt.exports=C},47415:function(bt,S,d){var w=d(29932);function _(I,O){return w(O,function(P){return I[P]})}bt.exports=_},1757:function(bt){function S(d,w,_){for(var I=-1,O=d.length,P=w.length,A={};++I<O;){var E=I<P?w[I]:void 0;_(A,d[I],E)}return A}bt.exports=S},26393:function(bt,S,d){var w=d(33448);function _(I,O){if(I!==O){var P=I!==void 0,A=I===null,E=I===I,C=w(I),p=O!==void 0,b=O===null,y=O===O,x=w(O);if(!b&&!x&&!C&&I>O||C&&p&&y&&!b&&!x||A&&p&&y||!P&&y||!E)return 1;if(!A&&!C&&!x&&I<O||x&&P&&E&&!A&&!C||b&&P&&E||!p&&E||!y)return-1}return 0}bt.exports=_},85022:function(bt,S,d){var w=d(26393);function _(I,O,P){for(var A=-1,E=I.criteria,C=O.criteria,p=E.length,b=P.length;++A<p;){var y=w(E[A],C[A]);if(y){if(A>=b)return y;var x=P[A];return y*(x=="desc"?-1:1)}}return I.index-O.index}bt.exports=_},67740:function(bt,S,d){var w=d(67206),_=d(98612),I=d(3674);function O(P){return function(A,E,C){var p=Object(A);if(!_(A)){var b=w(E,3);A=I(A),E=function(x){return b(p[x],x,p)}}var y=P(A,E,C);return y>-1?p[b?A[y]:y]:void 0}}bt.exports=O},47445:function(bt,S,d){var w=d(40098),_=d(16612),I=d(18601);function O(P){return function(A,E,C){return C&&typeof C!="number"&&_(A,E,C)&&(E=C=void 0),A=I(A),E===void 0?(E=A,A=0):E=I(E),C=C===void 0?A<E?1:-1:I(C),w(A,E,C,P)}}bt.exports=O},23593:function(bt,S,d){var w=d(58525),_=d(50308),I=d(21814),O=1/0,P=w&&1/I(new w([,-0]))[1]==O?function(A){return new w(A)}:_;bt.exports=P},42351:function(bt){function S(d,w,_){for(var I=_-1,O=d.length;++I<O;)if(d[I]===w)return I;return-1}bt.exports=S},66678:function(bt,S,d){var w=d(85990),_=4;function I(O){return w(O,_)}bt.exports=I},91747:function(bt,S,d){var w=d(5976),_=d(77813),I=d(16612),O=d(81704),P=Object.prototype,A=P.hasOwnProperty,E=w(function(C,p){C=Object(C);var b=-1,y=p.length,x=y>2?p[2]:void 0;for(x&&I(p[0],p[1],x)&&(y=1);++b<y;)for(var g=p[b],M=O(g),L=-1,k=M.length;++L<k;){var F=M[L],W=C[F];(W===void 0||_(W,P[F])&&!A.call(C,F))&&(C[F]=g[F])}return C});bt.exports=E},66073:function(bt,S,d){bt.exports=d(84486)},63105:function(bt,S,d){var w=d(34963),_=d(80760),I=d(67206),O=d(1469);function P(A,E){var C=O(A)?w:_;return C(A,I(E,3))}bt.exports=P},13311:function(bt,S,d){var w=d(67740),_=d(30998),I=w(_);bt.exports=I},30998:function(bt,S,d){var w=d(41848),_=d(67206),I=d(40554),O=Math.max;function P(A,E,C){var p=A==null?0:A.length;if(!p)return-1;var b=C==null?0:I(C);return b<0&&(b=O(p+b,0)),w(A,_(E,3),b)}bt.exports=P},84486:function(bt,S,d){var w=d(77412),_=d(89881),I=d(54290),O=d(1469);function P(A,E){var C=O(A)?w:_;return C(A,I(E))}bt.exports=P},62620:function(bt,S,d){var w=d(28483),_=d(54290),I=d(81704);function O(P,A){return P==null?P:w(P,_(A),I)}bt.exports=O},18721:function(bt,S,d){var w=d(78565),_=d(222);function I(O,P){return O!=null&&_(O,P,w)}bt.exports=I},41609:function(bt,S,d){var w=d(280),_=d(64160),I=d(35694),O=d(1469),P=d(98612),A=d(44144),E=d(25726),C=d(36719),p="[object Map]",b="[object Set]",y=Object.prototype,x=y.hasOwnProperty;function g(M){if(M==null)return!0;if(P(M)&&(O(M)||typeof M=="string"||typeof M.splice=="function"||A(M)||C(M)||I(M)))return!M.length;var L=_(M);if(L==p||L==b)return!M.size;if(E(M))return!w(M).length;for(var k in M)if(x.call(M,k))return!1;return!0}bt.exports=g},52353:function(bt){function S(d){return d===void 0}bt.exports=S},10928:function(bt){function S(d){var w=d==null?0:d.length;return w?d[w-1]:void 0}bt.exports=S},66604:function(bt,S,d){var w=d(89465),_=d(47816),I=d(67206);function O(P,A){var E={};return A=I(A,3),_(P,function(C,p,b){w(E,p,A(C,p,b))}),E}bt.exports=O},6162:function(bt,S,d){var w=d(56029),_=d(53325),I=d(6557);function O(P){return P&&P.length?w(P,I,_):void 0}bt.exports=O},53632:function(bt,S,d){var w=d(56029),_=d(70433),I=d(6557);function O(P){return P&&P.length?w(P,I,_):void 0}bt.exports=O},22762:function(bt,S,d){var w=d(56029),_=d(67206),I=d(70433);function O(P,A){return P&&P.length?w(P,_(A,2),I):void 0}bt.exports=O},50308:function(bt){function S(){}bt.exports=S},96026:function(bt,S,d){var w=d(47445),_=w();bt.exports=_},54061:function(bt,S,d){var w=d(62663),_=d(89881),I=d(67206),O=d(10107),P=d(1469);function A(E,C,p){var b=P(E)?w:O,y=arguments.length<3;return b(E,I(C,4),p,y,_)}bt.exports=A},84238:function(bt,S,d){var w=d(280),_=d(64160),I=d(98612),O=d(47037),P=d(88016),A="[object Map]",E="[object Set]";function C(p){if(p==null)return 0;if(I(p))return O(p)?P(p):p.length;var b=_(p);return b==A||b==E?p.size:w(p).length}bt.exports=C},89734:function(bt,S,d){var w=d(21078),_=d(82689),I=d(5976),O=d(16612),P=I(function(A,E){if(A==null)return[];var C=E.length;return C>1&&O(A,E[0],E[1])?E=[]:C>2&&O(E[0],E[1],E[2])&&(E=[E[0]]),_(A,w(E,1),[])});bt.exports=P},68718:function(bt,S,d){var w=d(77412),_=d(3118),I=d(47816),O=d(67206),P=d(85924),A=d(1469),E=d(44144),C=d(23560),p=d(13218),b=d(36719);function y(x,g,M){var L=A(x),k=L||E(x)||b(x);if(g=O(g,4),M==null){var F=x&&x.constructor;k?M=L?new F:[]:p(x)?M=C(F)?_(P(x)):{}:M={}}return(k?w:I)(x,function(W,$,z){return g(M,W,$,z)}),M}bt.exports=y},93386:function(bt,S,d){var w=d(21078),_=d(5976),I=d(45652),O=d(29246),P=_(function(A){return I(w(A,1,O,!0))});bt.exports=P},52628:function(bt,S,d){var w=d(47415),_=d(3674);function I(O){return O==null?[]:w(O,_(O))}bt.exports=I},7287:function(bt,S,d){var w=d(34865),_=d(1757);function I(O,P){return _(O||[],P||[],w)}bt.exports=I},86851:function(bt,S,d){"use strict";var w=d(89594),_=Array.prototype.concat,I=Array.prototype.slice,O=bt.exports=function(A){for(var E=[],C=0,p=A.length;C<p;C++){var b=A[C];w(b)?E=_.call(E,I.call(b)):E.push(b)}return E};O.wrap=function(P){return function(){return P(O(arguments))}}},89594:function(bt){bt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},70655:function(bt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return _},__assign:function(){return I},__rest:function(){return O},__decorate:function(){return P},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return x},__read:function(){return g},__spread:function(){return M},__spreadArrays:function(){return L},__spreadArray:function(){return k},__await:function(){return F},__asyncGenerator:function(){return W},__asyncDelegator:function(){return $},__asyncValues:function(){return z},__makeTemplateObject:function(){return U},__importStar:function(){return q},__importDefault:function(){return dt},__classPrivateFieldGet:function(){return ct},__classPrivateFieldSet:function(){return Mt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(D,G){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,N){X.__proto__=N}||function(X,N){for(var tt in N)Object.prototype.hasOwnProperty.call(N,tt)&&(X[tt]=N[tt])},w(D,G)};function _(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");w(D,G);function X(){this.constructor=D}D.prototype=G===null?Object.create(G):(X.prototype=G.prototype,new X)}var I=function(){return I=Object.assign||function(G){for(var X,N=1,tt=arguments.length;N<tt;N++){X=arguments[N];for(var Q in X)Object.prototype.hasOwnProperty.call(X,Q)&&(G[Q]=X[Q])}return G},I.apply(this,arguments)};function O(D,G){var X={};for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&G.indexOf(N)<0&&(X[N]=D[N]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,N=Object.getOwnPropertySymbols(D);tt<N.length;tt++)G.indexOf(N[tt])<0&&Object.prototype.propertyIsEnumerable.call(D,N[tt])&&(X[N[tt]]=D[N[tt]]);return X}function P(D,G,X,N){var tt=arguments.length,Q=tt<3?G:N===null?N=Object.getOwnPropertyDescriptor(G,X):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(D,G,X,N);else for(var V=D.length-1;V>=0;V--)(K=D[V])&&(Q=(tt<3?K(Q):tt>3?K(G,X,Q):K(G,X))||Q);return tt>3&&Q&&Object.defineProperty(G,X,Q),Q}function A(D,G){return function(X,N){G(X,N,D)}}function E(D,G){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(D,G)}function C(D,G,X,N){function tt(Q){return Q instanceof X?Q:new X(function(K){K(Q)})}return new(X||(X=Promise))(function(Q,K){function V(ot){try{u(N.next(ot))}catch(pt){K(pt)}}function H(ot){try{u(N.throw(ot))}catch(pt){K(pt)}}function u(ot){ot.done?Q(ot.value):tt(ot.value).then(V,H)}u((N=N.apply(D,G||[])).next())})}function p(D,G){var X={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},N,tt,Q,K;return K={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function V(u){return function(ot){return H([u,ot])}}function H(u){if(N)throw new TypeError("Generator is already executing.");for(;X;)try{if(N=1,tt&&(Q=u[0]&2?tt.return:u[0]?tt.throw||((Q=tt.return)&&Q.call(tt),0):tt.next)&&!(Q=Q.call(tt,u[1])).done)return Q;switch(tt=0,Q&&(u=[u[0]&2,Q.value]),u[0]){case 0:case 1:Q=u;break;case 4:return X.label++,{value:u[1],done:!1};case 5:X.label++,tt=u[1],u=[0];continue;case 7:u=X.ops.pop(),X.trys.pop();continue;default:if(Q=X.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(u[0]===6||u[0]===2)){X=0;continue}if(u[0]===3&&(!Q||u[1]>Q[0]&&u[1]<Q[3])){X.label=u[1];break}if(u[0]===6&&X.label<Q[1]){X.label=Q[1],Q=u;break}if(Q&&X.label<Q[2]){X.label=Q[2],X.ops.push(u);break}Q[2]&&X.ops.pop(),X.trys.pop();continue}u=G.call(D,X)}catch(ot){u=[6,ot],tt=0}finally{N=Q=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var b=Object.create?function(D,G,X,N){N===void 0&&(N=X),Object.defineProperty(D,N,{enumerable:!0,get:function(){return G[X]}})}:function(D,G,X,N){N===void 0&&(N=X),D[N]=G[X]};function y(D,G){for(var X in D)X!=="default"&&!Object.prototype.hasOwnProperty.call(G,X)&&b(G,D,X)}function x(D){var G=typeof Symbol=="function"&&Symbol.iterator,X=G&&D[G],N=0;if(X)return X.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&N>=D.length&&(D=void 0),{value:D&&D[N++],done:!D}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(D,G){var X=typeof Symbol=="function"&&D[Symbol.iterator];if(!X)return D;var N=X.call(D),tt,Q=[],K;try{for(;(G===void 0||G-- >0)&&!(tt=N.next()).done;)Q.push(tt.value)}catch(V){K={error:V}}finally{try{tt&&!tt.done&&(X=N.return)&&X.call(N)}finally{if(K)throw K.error}}return Q}function M(){for(var D=[],G=0;G<arguments.length;G++)D=D.concat(g(arguments[G]));return D}function L(){for(var D=0,G=0,X=arguments.length;G<X;G++)D+=arguments[G].length;for(var N=Array(D),tt=0,G=0;G<X;G++)for(var Q=arguments[G],K=0,V=Q.length;K<V;K++,tt++)N[tt]=Q[K];return N}function k(D,G,X){if(X||arguments.length===2)for(var N=0,tt=G.length,Q;N<tt;N++)(Q||!(N in G))&&(Q||(Q=Array.prototype.slice.call(G,0,N)),Q[N]=G[N]);return D.concat(Q||Array.prototype.slice.call(G))}function F(D){return this instanceof F?(this.v=D,this):new F(D)}function W(D,G,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=X.apply(D,G||[]),tt,Q=[];return tt={},K("next"),K("throw"),K("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function K(it){N[it]&&(tt[it]=function(xt){return new Promise(function(gt,wt){Q.push([it,xt,gt,wt])>1||V(it,xt)})})}function V(it,xt){try{H(N[it](xt))}catch(gt){pt(Q[0][3],gt)}}function H(it){it.value instanceof F?Promise.resolve(it.value.v).then(u,ot):pt(Q[0][2],it)}function u(it){V("next",it)}function ot(it){V("throw",it)}function pt(it,xt){it(xt),Q.shift(),Q.length&&V(Q[0][0],Q[0][1])}}function $(D){var G,X;return G={},N("next"),N("throw",function(tt){throw tt}),N("return"),G[Symbol.iterator]=function(){return this},G;function N(tt,Q){G[tt]=D[tt]?function(K){return(X=!X)?{value:F(D[tt](K)),done:tt==="return"}:Q?Q(K):K}:Q}}function z(D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=D[Symbol.asyncIterator],X;return G?G.call(D):(D=typeof x=="function"?x(D):D[Symbol.iterator](),X={},N("next"),N("throw"),N("return"),X[Symbol.asyncIterator]=function(){return this},X);function N(Q){X[Q]=D[Q]&&function(K){return new Promise(function(V,H){K=D[Q](K),tt(V,H,K.done,K.value)})}}function tt(Q,K,V,H){Promise.resolve(H).then(function(u){Q({value:u,done:V})},K)}}function U(D,G){return Object.defineProperty?Object.defineProperty(D,"raw",{value:G}):D.raw=G,D}var et=Object.create?function(D,G){Object.defineProperty(D,"default",{enumerable:!0,value:G})}:function(D,G){D.default=G};function q(D){if(D&&D.__esModule)return D;var G={};if(D!=null)for(var X in D)X!=="default"&&Object.prototype.hasOwnProperty.call(D,X)&&b(G,D,X);return et(G,D),G}function dt(D){return D&&D.__esModule?D:{default:D}}function ct(D,G,X,N){if(X==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?D!==G||!N:!G.has(D))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?N:X==="a"?N.call(D):N?N.value:G.get(D)}function Mt(D,G,X,N,tt){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!tt)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?D!==G||!tt:!G.has(D))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?tt.call(D,X):tt?tt.value=X:G.set(D,X),X}},91496:function(bt){typeof Object.create=="function"?bt.exports=function(d,w){d.super_=w,d.prototype=Object.create(w.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:bt.exports=function(d,w){d.super_=w;var _=function(){};_.prototype=w.prototype,d.prototype=new _,d.prototype.constructor=d}},20384:function(bt){bt.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(bt,S,d){var w=d(34155),_=Object.getOwnPropertyDescriptors||function(it){for(var xt=Object.keys(it),gt={},wt=0;wt<xt.length;wt++)gt[xt[wt]]=Object.getOwnPropertyDescriptor(it,xt[wt]);return gt},I=/%[sdj%]/g;S.format=function(pt){if(!U(pt)){for(var it=[],xt=0;xt<arguments.length;xt++)it.push(A(arguments[xt]));return it.join(" ")}for(var xt=1,gt=arguments,wt=gt.length,Dt=String(pt).replace(I,function(Ot){if(Ot==="%%")return"%";if(xt>=wt)return Ot;switch(Ot){case"%s":return String(gt[xt++]);case"%d":return Number(gt[xt++]);case"%j":try{return JSON.stringify(gt[xt++])}catch(Tt){return"[Circular]"}default:return Ot}}),Nt=gt[xt];xt<wt;Nt=gt[++xt])W(Nt)||!ct(Nt)?Dt+=" "+Nt:Dt+=" "+A(Nt);return Dt},S.deprecate=function(pt,it){if(typeof w!="undefined"&&w.noDeprecation===!0)return pt;if(typeof w=="undefined")return function(){return S.deprecate(pt,it).apply(this,arguments)};var xt=!1;function gt(){if(!xt){if(w.throwDeprecation)throw new Error(it);w.traceDeprecation?console.trace(it):console.error(it),xt=!0}return pt.apply(this,arguments)}return gt};var O={},P;S.debuglog=function(pt){if(q(P)&&(P={NODE_ENV:"production"}.NODE_DEBUG||""),pt=pt.toUpperCase(),!O[pt])if(new RegExp("\\b"+pt+"\\b","i").test(P)){var it=w.pid;O[pt]=function(){var xt=S.format.apply(S,arguments);console.error("%s %d: %s",pt,it,xt)}}else O[pt]=function(){};return O[pt]};function A(pt,it){var xt={seen:[],stylize:C};return arguments.length>=3&&(xt.depth=arguments[2]),arguments.length>=4&&(xt.colors=arguments[3]),F(it)?xt.showHidden=it:it&&S._extend(xt,it),q(xt.showHidden)&&(xt.showHidden=!1),q(xt.depth)&&(xt.depth=2),q(xt.colors)&&(xt.colors=!1),q(xt.customInspect)&&(xt.customInspect=!0),xt.colors&&(xt.stylize=E),b(xt,pt,xt.depth)}S.inspect=A,A.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},A.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function E(pt,it){var xt=A.styles[it];return xt?"["+A.colors[xt][0]+"m"+pt+"["+A.colors[xt][1]+"m":pt}function C(pt,it){return pt}function p(pt){var it={};return pt.forEach(function(xt,gt){it[xt]=!0}),it}function b(pt,it,xt){if(pt.customInspect&&it&&G(it.inspect)&&it.inspect!==S.inspect&&!(it.constructor&&it.constructor.prototype===it)){var gt=it.inspect(xt,pt);return U(gt)||(gt=b(pt,gt,xt)),gt}var wt=y(pt,it);if(wt)return wt;var Dt=Object.keys(it),Nt=p(Dt);if(pt.showHidden&&(Dt=Object.getOwnPropertyNames(it)),D(it)&&(Dt.indexOf("message")>=0||Dt.indexOf("description")>=0))return x(it);if(Dt.length===0){if(G(it)){var Ot=it.name?": "+it.name:"";return pt.stylize("[Function"+Ot+"]","special")}if(dt(it))return pt.stylize(RegExp.prototype.toString.call(it),"regexp");if(Mt(it))return pt.stylize(Date.prototype.toString.call(it),"date");if(D(it))return x(it)}var Tt="",at=!1,st=["{","}"];if(k(it)&&(at=!0,st=["[","]"]),G(it)){var Ct=it.name?": "+it.name:"";Tt=" [Function"+Ct+"]"}if(dt(it)&&(Tt=" "+RegExp.prototype.toString.call(it)),Mt(it)&&(Tt=" "+Date.prototype.toUTCString.call(it)),D(it)&&(Tt=" "+x(it)),Dt.length===0&&(!at||it.length==0))return st[0]+Tt+st[1];if(xt<0)return dt(it)?pt.stylize(RegExp.prototype.toString.call(it),"regexp"):pt.stylize("[Object]","special");pt.seen.push(it);var nt;return at?nt=g(pt,it,xt,Nt,Dt):nt=Dt.map(function(rt){return M(pt,it,xt,Nt,rt,at)}),pt.seen.pop(),L(nt,Tt,st)}function y(pt,it){if(q(it))return pt.stylize("undefined","undefined");if(U(it)){var xt="'"+JSON.stringify(it).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return pt.stylize(xt,"string")}if(z(it))return pt.stylize(""+it,"number");if(F(it))return pt.stylize(""+it,"boolean");if(W(it))return pt.stylize("null","null")}function x(pt){return"["+Error.prototype.toString.call(pt)+"]"}function g(pt,it,xt,gt,wt){for(var Dt=[],Nt=0,Ot=it.length;Nt<Ot;++Nt)V(it,String(Nt))?Dt.push(M(pt,it,xt,gt,String(Nt),!0)):Dt.push("");return wt.forEach(function(Tt){Tt.match(/^\d+$/)||Dt.push(M(pt,it,xt,gt,Tt,!0))}),Dt}function M(pt,it,xt,gt,wt,Dt){var Nt,Ot,Tt;if(Tt=Object.getOwnPropertyDescriptor(it,wt)||{value:it[wt]},Tt.get?Tt.set?Ot=pt.stylize("[Getter/Setter]","special"):Ot=pt.stylize("[Getter]","special"):Tt.set&&(Ot=pt.stylize("[Setter]","special")),V(gt,wt)||(Nt="["+wt+"]"),Ot||(pt.seen.indexOf(Tt.value)<0?(W(xt)?Ot=b(pt,Tt.value,null):Ot=b(pt,Tt.value,xt-1),Ot.indexOf(`
`)>-1&&(Dt?Ot=Ot.split(`
`).map(function(at){return"  "+at}).join(`
`).substr(2):Ot=`
`+Ot.split(`
`).map(function(at){return"   "+at}).join(`
`))):Ot=pt.stylize("[Circular]","special")),q(Nt)){if(Dt&&wt.match(/^\d+$/))return Ot;Nt=JSON.stringify(""+wt),Nt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Nt=Nt.substr(1,Nt.length-2),Nt=pt.stylize(Nt,"name")):(Nt=Nt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Nt=pt.stylize(Nt,"string"))}return Nt+": "+Ot}function L(pt,it,xt){var gt=0,wt=pt.reduce(function(Dt,Nt){return gt++,Nt.indexOf(`
`)>=0&&gt++,Dt+Nt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return wt>60?xt[0]+(it===""?"":it+`
 `)+" "+pt.join(`,
  `)+" "+xt[1]:xt[0]+it+" "+pt.join(", ")+" "+xt[1]}function k(pt){return Array.isArray(pt)}S.isArray=k;function F(pt){return typeof pt=="boolean"}S.isBoolean=F;function W(pt){return pt===null}S.isNull=W;function $(pt){return pt==null}S.isNullOrUndefined=$;function z(pt){return typeof pt=="number"}S.isNumber=z;function U(pt){return typeof pt=="string"}S.isString=U;function et(pt){return typeof pt=="symbol"}S.isSymbol=et;function q(pt){return pt===void 0}S.isUndefined=q;function dt(pt){return ct(pt)&&N(pt)==="[object RegExp]"}S.isRegExp=dt;function ct(pt){return typeof pt=="object"&&pt!==null}S.isObject=ct;function Mt(pt){return ct(pt)&&N(pt)==="[object Date]"}S.isDate=Mt;function D(pt){return ct(pt)&&(N(pt)==="[object Error]"||pt instanceof Error)}S.isError=D;function G(pt){return typeof pt=="function"}S.isFunction=G;function X(pt){return pt===null||typeof pt=="boolean"||typeof pt=="number"||typeof pt=="string"||typeof pt=="symbol"||typeof pt=="undefined"}S.isPrimitive=X,S.isBuffer=d(20384);function N(pt){return Object.prototype.toString.call(pt)}function tt(pt){return pt<10?"0"+pt.toString(10):pt.toString(10)}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K(){var pt=new Date,it=[tt(pt.getHours()),tt(pt.getMinutes()),tt(pt.getSeconds())].join(":");return[pt.getDate(),Q[pt.getMonth()],it].join(" ")}S.log=function(){console.log("%s - %s",K(),S.format.apply(S,arguments))},S.inherits=d(91496),S._extend=function(pt,it){if(!it||!ct(it))return pt;for(var xt=Object.keys(it),gt=xt.length;gt--;)pt[xt[gt]]=it[xt[gt]];return pt};function V(pt,it){return Object.prototype.hasOwnProperty.call(pt,it)}var H=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(it){if(typeof it!="function")throw new TypeError('The "original" argument must be of type Function');if(H&&it[H]){var xt=it[H];if(typeof xt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(xt,H,{value:xt,enumerable:!1,writable:!1,configurable:!0}),xt}function xt(){for(var gt,wt,Dt=new Promise(function(Tt,at){gt=Tt,wt=at}),Nt=[],Ot=0;Ot<arguments.length;Ot++)Nt.push(arguments[Ot]);Nt.push(function(Tt,at){Tt?wt(Tt):gt(at)});try{it.apply(this,Nt)}catch(Tt){wt(Tt)}return Dt}return Object.setPrototypeOf(xt,Object.getPrototypeOf(it)),H&&Object.defineProperty(xt,H,{value:xt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(xt,_(it))},S.promisify.custom=H;function u(pt,it){if(!pt){var xt=new Error("Promise was rejected with a falsy value");xt.reason=pt,pt=xt}return it(pt)}function ot(pt){if(typeof pt!="function")throw new TypeError('The "original" argument must be of type Function');function it(){for(var xt=[],gt=0;gt<arguments.length;gt++)xt.push(arguments[gt]);var wt=xt.pop();if(typeof wt!="function")throw new TypeError("The last argument must be of type Function");var Dt=this,Nt=function(){return wt.apply(Dt,arguments)};pt.apply(this,xt).then(function(Ot){w.nextTick(Nt,null,Ot)},function(Ot){w.nextTick(u,Ot,Nt)})}return Object.setPrototypeOf(it,Object.getPrototypeOf(pt)),Object.defineProperties(it,_(pt)),it}S.callbackify=ot}}]);
